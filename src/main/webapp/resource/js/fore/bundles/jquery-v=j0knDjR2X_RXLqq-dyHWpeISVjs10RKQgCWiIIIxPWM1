function updateScrollBtnCls(){var n=containers.reduce(function(n,t){return n+t.scrollTop},0);$scrollBtn.toggleClass("hidden",n<100)}function dropdownOpen(){var n=$("li.dropdown");n.mouseover(function(){$(this).addClass("open")}).mouseout(function(){$(this).hasClass("open")&&$(this).removeClass("open")});$(".dropdown-menu").on("click",function(n){this!=n.target&&n.stopPropagation()})}var containers,$scrollBtn,SBS;if(function(n,t){function yt(n){return i.isWindow(n)?n:n.nodeType===9?n.defaultView||n.parentWindow:!1}function pt(n){if(!at[n]){var e=r.body,t=i("<"+n+">").appendTo(e),u=t.css("display");t.remove();(u==="none"||u==="")&&(f||(f=r.createElement("iframe"),f.frameBorder=f.width=f.height=0),e.appendChild(f),y&&f.createElement||(y=(f.contentWindow||f.contentDocument).document,y.write((i.support.boxModel?"<!doctype html>":"")+"<html><body>"),y.close()),t=y.createElement(n),y.body.appendChild(t),u=i.css(t,"display"),e.removeChild(f));at[n]=u}return at[n]}function c(n,t){var r={};return i.each(it.concat.apply([],it.slice(0,t)),function(){r[this]=n}),r}function dr(){rt=t}function wt(){return setTimeout(dr,0),rt=i.now()}function gr(){try{return new n.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function bt(){try{return new n.XMLHttpRequest}catch(t){}}function nu(n,r){n.dataFilter&&(r=n.dataFilter(r,n.dataType));for(var v=n.dataTypes,s={},l,p=v.length,a,u=v[0],h,y,f,e,o,c=1;c<p;c++){if(c===1)for(l in n.converters)typeof l=="string"&&(s[l.toLowerCase()]=n.converters[l]);if(h=u,u=v[c],u==="*")u=h;else if(h!=="*"&&h!==u){if(y=h+" "+u,f=s[y]||s["* "+u],!f){o=t;for(e in s)if(a=e.split(" "),(a[0]===h||a[0]==="*")&&(o=s[a[1]+" "+u],o)){e=s[e];e===!0?f=o:o===!0&&(f=e);break}}f||o||i.error("No conversion from "+y.replace(" "," to "));f!==!0&&(r=f?f(r):o(e(r)))}}return r}function tu(n,i,r){var s=n.contents,f=n.dataTypes,c=n.responseFields,o,u,e,h;for(u in c)u in r&&(i[c[u]]=r[u]);while(f[0]==="*")f.shift(),o===t&&(o=n.mimeType||i.getResponseHeader("content-type"));if(o)for(u in s)if(s[u]&&s[u].test(o)){f.unshift(u);break}if(f[0]in r)e=f[0];else{for(u in r){if(!f[0]||n.converters[u+" "+f[0]]){e=u;break}h||(h=u)}e=e||h}if(e)return e!==f[0]&&f.unshift(e),r[e]}function ut(n,t,r,u){if(i.isArray(t))i.each(t,function(t,i){r||wf.test(n)?u(n,i):ut(n+"["+(typeof i=="object"?t:"")+"]",i,r,u)});else if(r||i.type(t)!=="object")u(n,t);else for(var f in t)ut(n+"["+f+"]",t[f],r,u)}function kt(n,r){var u,f,e=i.ajaxSettings.flatOptions||{};for(u in r)r[u]!==t&&((e[u]?n:f||(f={}))[u]=r[u]);f&&i.extend(!0,n,f)}function w(n,i,r,u,f,e){f=f||i.dataTypes[0];e=e||{};e[f]=!0;for(var s=n[f],h=0,l=s?s.length:0,c=n===lt,o;h<l&&(c||!o);h++)o=s[h](i,r,u),typeof o=="string"&&(!c||e[o]?o=t:(i.dataTypes.unshift(o),o=w(n,i,r,u,o,e)));return!c&&o||e["*"]||(o=w(n,i,r,u,"*",e)),o}function dt(n){return function(t,r){if(typeof t!="string"&&(r=t,t="*"),i.isFunction(r))for(var o=t.toLowerCase().split(cr),f=0,h=o.length,u,s,e;f<h;f++)u=o[f],e=/^\+/.test(u),e&&(u=u.substr(1)||"*"),s=n[u]=n[u]||[],s[e?"unshift":"push"](r)}}function gt(n,t,r){var u=t==="width"?n.offsetWidth:n.offsetHeight,f=t==="width"?1:0,e=4;if(u>0){if(r!=="border")for(;f<e;f+=2)r||(u-=parseFloat(i.css(n,"padding"+o[f]))||0),r==="margin"?u+=parseFloat(i.css(n,r+o[f]))||0:u-=parseFloat(i.css(n,"border"+o[f]+"Width"))||0;return u+"px"}if(u=a(n,t),(u<0||u==null)&&(u=n.style[t]),ct.test(u))return u;if(u=parseFloat(u)||0,r)for(;f<e;f+=2)u+=parseFloat(i.css(n,"padding"+o[f]))||0,r!=="padding"&&(u+=parseFloat(i.css(n,"border"+o[f]+"Width"))||0),r==="margin"&&(u+=parseFloat(i.css(n,r+o[f]))||0);return u+"px"}function iu(n){var t=r.createElement("div");return st.appendChild(t),t.innerHTML=n.outerHTML,t.firstChild}function ni(n){var t=(n.nodeName||"").toLowerCase();t==="input"?ti(n):t!=="script"&&typeof n.getElementsByTagName!="undefined"&&i.grep(n.getElementsByTagName("input"),ti)}function ti(n){(n.type==="checkbox"||n.type==="radio")&&(n.defaultChecked=n.checked)}function b(n){return typeof n.getElementsByTagName!="undefined"?n.getElementsByTagName("*"):typeof n.querySelectorAll!="undefined"?n.querySelectorAll("*"):[]}function ii(n,t){var r;t.nodeType===1&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(n),r=t.nodeName.toLowerCase(),r==="object"?t.outerHTML=n.outerHTML:r!=="input"||n.type!=="checkbox"&&n.type!=="radio"?r==="option"?t.selected=n.defaultSelected:r==="input"||r==="textarea"?t.defaultValue=n.defaultValue:r==="script"&&t.text!==n.text&&(t.text=n.text):(n.checked&&(t.defaultChecked=t.checked=n.checked),t.value!==n.value&&(t.value=n.value)),t.removeAttribute(i.expando),t.removeAttribute("_submit_attached"),t.removeAttribute("_change_attached"))}function ri(n,t){if(t.nodeType===1&&!!i.hasData(n)){var u,f,o,s=i._data(n),r=i._data(t,s),e=s.events;if(e){delete r.handle;r.events={};for(u in e)for(f=0,o=e[u].length;f<o;f++)i.event.add(t,u,e[u][f])}r.data&&(r.data=i.extend({},r.data))}}function ru(n){return i.nodeName(n,"table")?n.getElementsByTagName("tbody")[0]||n.appendChild(n.ownerDocument.createElement("tbody")):n}function ui(n){var i=nr.split("|"),t=n.createDocumentFragment();if(t.createElement)while(i.length)t.createElement(i.pop());return t}function fi(n,t,r){if(t=t||0,i.isFunction(t))return i.grep(n,function(n,i){var u=!!t.call(n,i,n);return u===r});if(t.nodeType)return i.grep(n,function(n){return n===t===r});if(typeof t=="string"){var u=i.grep(n,function(n){return n.nodeType===1});if(gu.test(t))return i.filter(t,u,!r);t=i.filter(t,u)}return i.grep(n,function(n){return i.inArray(n,t)>=0===r})}function ei(n){return!n||!n.parentNode||n.parentNode.nodeType===11}function k(){return!0}function l(){return!1}function oi(n,t,r){var u=t+"defer",f=t+"queue",e=t+"mark",o=i._data(n,u);!o||r!=="queue"&&i._data(n,f)||r!=="mark"&&i._data(n,e)||setTimeout(function(){i._data(n,f)||i._data(n,e)||(i.removeData(n,u,!0),o.fire())},0)}function ft(n){for(var t in n)if((t!=="data"||!i.isEmptyObject(n[t]))&&t!=="toJSON")return!1;return!0}function si(n,r,u){if(u===t&&n.nodeType===1){var f="data-"+r.replace(li,"-$1").toLowerCase();if(u=n.getAttribute(f),typeof u=="string"){try{u=u==="true"?!0:u==="false"?!1:u==="null"?null:i.isNumeric(u)?+u:ci.test(u)?i.parseJSON(u):u}catch(e){}i.data(n,r,u)}else u=t}return u}function uu(n){var i=hi[n]={},t,r;for(n=n.split(/\s+/),t=0,r=n.length;t<r;t++)i[n[t]]=!0;return i}var r=n.document,fu=n.navigator,eu=n.location,i=function(){function c(){if(!i.isReady){try{r.documentElement.doScroll("left")}catch(n){setTimeout(c,1);return}i.ready()}}var i=function(n,t){return new i.fn.init(n,t,l)},k=n.jQuery,d=n.$,l,g=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,a=/\S/,v=/^\s+/,y=/\s+$/,nt=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,tt=/^[\],:{}\s]*$/,it=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rt=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,ut=/(?:^|:|,)(?:\s*\[)+/g,ft=/(webkit)[ \/]([\w.]+)/,et=/(opera)(?:.*version)?[ \/]([\w.]+)/,ot=/(msie) ([\w.]+)/,st=/(mozilla)(?:.*? rv:([\w.]+))?/,ht=/-([a-z]|[0-9])/ig,ct=/^-ms-/,lt=function(n,t){return(t+"").toUpperCase()},at=fu.userAgent,e,o,u,vt=Object.prototype.toString,s=Object.prototype.hasOwnProperty,h=Array.prototype.push,f=Array.prototype.slice,p=String.prototype.trim,w=Array.prototype.indexOf,b={};return i.fn=i.prototype={constructor:i,init:function(n,u,f){var o,s,e,h;if(!n)return this;if(n.nodeType)return this.context=this[0]=n,this.length=1,this;if(n==="body"&&!u&&r.body)return this.context=r,this[0]=r.body,this.selector=n,this.length=1,this;if(typeof n=="string"){if(o=n.charAt(0)!=="<"||n.charAt(n.length-1)!==">"||n.length<3?g.exec(n):[null,n,null],o&&(o[1]||!u)){if(o[1])return u=u instanceof i?u[0]:u,h=u?u.ownerDocument||u:r,e=nt.exec(n),e?i.isPlainObject(u)?(n=[r.createElement(e[1])],i.fn.attr.call(n,u,!0)):n=[h.createElement(e[1])]:(e=i.buildFragment([o[1]],[h]),n=(e.cacheable?i.clone(e.fragment):e.fragment).childNodes),i.merge(this,n);if(s=r.getElementById(o[2]),s&&s.parentNode){if(s.id!==o[2])return f.find(n);this.length=1;this[0]=s}return this.context=r,this.selector=n,this}return!u||u.jquery?(u||f).find(n):this.constructor(u).find(n)}return i.isFunction(n)?f.ready(n):(n.selector!==t&&(this.selector=n.selector,this.context=n.context),i.makeArray(n,this))},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return f.call(this,0)},get:function(n){return n==null?this.toArray():n<0?this[this.length+n]:this[n]},pushStack:function(n,t,r){var u=this.constructor();return i.isArray(n)?h.apply(u,n):i.merge(u,n),u.prevObject=this,u.context=this.context,t==="find"?u.selector=this.selector+(this.selector?" ":"")+r:t&&(u.selector=this.selector+"."+t+"("+r+")"),u},each:function(n,t){return i.each(this,n,t)},ready:function(n){return i.bindReady(),o.add(n),this},eq:function(n){return n=+n,n===-1?this.slice(n):this.slice(n,n+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(f.apply(this,arguments),"slice",f.call(arguments).join(","))},map:function(n){return this.pushStack(i.map(this,function(t,i){return n.call(t,i,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:h,sort:[].sort,splice:[].splice},i.fn.init.prototype=i.fn,i.extend=i.fn.extend=function(){var o,e,u,r,s,h,n=arguments[0]||{},f=1,l=arguments.length,c=!1;for(typeof n=="boolean"&&(c=n,n=arguments[1]||{},f=2),typeof n!="object"&&!i.isFunction(n)&&(n={}),l===f&&(n=this,--f);f<l;f++)if((o=arguments[f])!=null)for(e in o)(u=n[e],r=o[e],n!==r)&&(c&&r&&(i.isPlainObject(r)||(s=i.isArray(r)))?(s?(s=!1,h=u&&i.isArray(u)?u:[]):h=u&&i.isPlainObject(u)?u:{},n[e]=i.extend(c,h,r)):r!==t&&(n[e]=r));return n},i.extend({noConflict:function(t){return n.$===i&&(n.$=d),t&&n.jQuery===i&&(n.jQuery=k),i},isReady:!1,readyWait:1,holdReady:function(n){n?i.readyWait++:i.ready(!0)},ready:function(n){if(n===!0&&!--i.readyWait||n!==!0&&!i.isReady){if(!r.body)return setTimeout(i.ready,1);if(i.isReady=!0,n!==!0&&--i.readyWait>0)return;o.fireWith(r,[i]);i.fn.trigger&&i(r).trigger("ready").off("ready")}},bindReady:function(){if(!o){if(o=i.Callbacks("once memory"),r.readyState==="complete")return setTimeout(i.ready,1);if(r.addEventListener)r.addEventListener("DOMContentLoaded",u,!1),n.addEventListener("load",i.ready,!1);else if(r.attachEvent){r.attachEvent("onreadystatechange",u);n.attachEvent("onload",i.ready);var t=!1;try{t=n.frameElement==null}catch(f){}r.documentElement.doScroll&&t&&c()}}},isFunction:function(n){return i.type(n)==="function"},isArray:Array.isArray||function(n){return i.type(n)==="array"},isWindow:function(n){return n!=null&&n==n.window},isNumeric:function(n){return!isNaN(parseFloat(n))&&isFinite(n)},type:function(n){return n==null?String(n):b[vt.call(n)]||"object"},isPlainObject:function(n){if(!n||i.type(n)!=="object"||n.nodeType||i.isWindow(n))return!1;try{if(n.constructor&&!s.call(n,"constructor")&&!s.call(n.constructor.prototype,"isPrototypeOf"))return!1}catch(u){return!1}var r;for(r in n);return r===t||s.call(n,r)},isEmptyObject:function(n){for(var t in n)return!1;return!0},error:function(n){throw new Error(n);},parseJSON:function(t){if(typeof t!="string"||!t)return null;if(t=i.trim(t),n.JSON&&n.JSON.parse)return n.JSON.parse(t);if(tt.test(t.replace(it,"@").replace(rt,"]").replace(ut,"")))return new Function("return "+t)();i.error("Invalid JSON: "+t)},parseXML:function(r){if(typeof r!="string"||!r)return null;var u,f;try{n.DOMParser?(f=new DOMParser,u=f.parseFromString(r,"text/xml")):(u=new ActiveXObject("Microsoft.XMLDOM"),u.async="false",u.loadXML(r))}catch(e){u=t}return u&&u.documentElement&&!u.getElementsByTagName("parsererror").length||i.error("Invalid XML: "+r),u},noop:function(){},globalEval:function(t){t&&a.test(t)&&(n.execScript||function(t){n.eval.call(n,t)})(t)},camelCase:function(n){return n.replace(ct,"ms-").replace(ht,lt)},nodeName:function(n,t){return n.nodeName&&n.nodeName.toUpperCase()===t.toUpperCase()},each:function(n,r,u){var f,e=0,o=n.length,s=o===t||i.isFunction(n);if(u){if(s){for(f in n)if(r.apply(n[f],u)===!1)break}else for(;e<o;)if(r.apply(n[e++],u)===!1)break}else if(s){for(f in n)if(r.call(n[f],f,n[f])===!1)break}else for(;e<o;)if(r.call(n[e],e,n[e++])===!1)break;return n},trim:p?function(n){return n==null?"":p.call(n)}:function(n){return n==null?"":(n+"").replace(v,"").replace(y,"")},makeArray:function(n,t){var u=t||[],r;return n!=null&&(r=i.type(n),n.length==null||r==="string"||r==="function"||r==="regexp"||i.isWindow(n)?h.call(u,n):i.merge(u,n)),u},inArray:function(n,t,i){var r;if(t){if(w)return w.call(t,n,i);for(r=t.length,i=i?i<0?Math.max(0,r+i):i:0;i<r;i++)if(i in t&&t[i]===n)return i}return-1},merge:function(n,i){var u=n.length,r=0,f;if(typeof i.length=="number")for(f=i.length;r<f;r++)n[u++]=i[r];else while(i[r]!==t)n[u++]=i[r++];return n.length=u,n},grep:function(n,t,i){var u=[],f,r,e;for(i=!!i,r=0,e=n.length;r<e;r++)f=!!t(n[r],r),i!==f&&u.push(n[r]);return u},map:function(n,r,u){var f,h,e=[],s=0,o=n.length,c=n instanceof i||o!==t&&typeof o=="number"&&(o>0&&n[0]&&n[o-1]||o===0||i.isArray(n));if(c)for(;s<o;s++)f=r(n[s],s,u),f!=null&&(e[e.length]=f);else for(h in n)f=r(n[h],h,u),f!=null&&(e[e.length]=f);return e.concat.apply([],e)},guid:1,proxy:function(n,r){var e,o,u;return(typeof r=="string"&&(e=n[r],r=n,n=e),!i.isFunction(n))?t:(o=f.call(arguments,2),u=function(){return n.apply(r,o.concat(f.call(arguments)))},u.guid=n.guid=n.guid||u.guid||i.guid++,u)},access:function(n,r,u,f,e,o,s){var c,l=u==null,h=0,a=n.length;if(u&&typeof u=="object"){for(h in u)i.access(n,r,h,u[h],1,o,f);e=1}else if(f!==t){if(c=s===t&&i.isFunction(f),l&&(c?(c=r,r=function(n,t,r){return c.call(i(n),r)}):(r.call(n,f),r=null)),r)for(;h<a;h++)r(n[h],u,c?f.call(n[h],h,r(n[h],u)):f,s);e=1}return e?n:l?r.call(n):a?r(n[0],u):o},now:function(){return(new Date).getTime()},uaMatch:function(n){n=n.toLowerCase();var t=ft.exec(n)||et.exec(n)||ot.exec(n)||n.indexOf("compatible")<0&&st.exec(n)||[];return{browser:t[1]||"",version:t[2]||"0"}},sub:function(){function n(t,i){return new n.fn.init(t,i)}i.extend(!0,n,this);n.superclass=this;n.fn=n.prototype=this();n.fn.constructor=n;n.sub=this.sub;n.fn.init=function(r,u){return u&&u instanceof i&&!(u instanceof n)&&(u=n(u)),i.fn.init.call(this,r,u,t)};n.fn.init.prototype=n.fn;var t=n(r);return n},browser:{}}),i.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(n,t){b["[object "+t+"]"]=t.toLowerCase()}),e=i.uaMatch(at),e.browser&&(i.browser[e.browser]=!0,i.browser.version=e.version),i.browser.webkit&&(i.browser.safari=!0),a.test("Â ")&&(v=/^[\s\xA0]+/,y=/[\s\xA0]+$/),l=i(r),r.addEventListener?u=function(){r.removeEventListener("DOMContentLoaded",u,!1);i.ready()}:r.attachEvent&&(u=function(){r.readyState==="complete"&&(r.detachEvent("onreadystatechange",u),i.ready())}),i}(),hi={},d,ci,li,pr,p,nt,wr,v,br,kr,vt;i.Callbacks=function(n){n=n?hi[n]||uu(n):{};var r=[],f=[],u,l,s,c,h,e,a=function(t){for(var u,e,f=0,s=t.length;f<s;f++)u=t[f],e=i.type(u),e==="array"?a(u):e==="function"&&(!n.unique||!o.has(u))&&r.push(u)},v=function(t,i){for(i=i||[],u=!n.memory||[t,i],l=!0,s=!0,e=c||0,c=0,h=r.length;r&&e<h;e++)if(r[e].apply(t,i)===!1&&n.stopOnFalse){u=!0;break}s=!1;r&&(n.once?u===!0?o.disable():r=[]:f&&f.length&&(u=f.shift(),o.fireWith(u[0],u[1])))},o={add:function(){if(r){var n=r.length;a(arguments);s?h=r.length:u&&u!==!0&&(c=n,v(u[0],u[1]))}return this},remove:function(){var t;if(r)for(var u=arguments,i=0,f=u.length;i<f;i++)for(t=0;t<r.length;t++)if(u[i]===r[t]&&(s&&t<=h&&(h--,t<=e&&e--),r.splice(t--,1),n.unique))break;return this},has:function(n){if(r)for(var t=0,i=r.length;t<i;t++)if(n===r[t])return!0;return!1},empty:function(){return r=[],this},disable:function(){return r=f=u=t,this},disabled:function(){return!r},lock:function(){return f=t,u&&u!==!0||o.disable(),this},locked:function(){return!f},fireWith:function(t,i){return f&&(s?n.once||f.push([t,i]):(!n.once||!u)&&v(t,i)),this},fire:function(){return o.fireWith(this,arguments),this},fired:function(){return!!l}};return o};d=[].slice;i.extend({Deferred:function(n){var u=i.Callbacks("once memory"),f=i.Callbacks("once memory"),e=i.Callbacks("memory"),s="pending",h={resolve:u,reject:f,notify:e},o={done:u.add,fail:f.add,progress:e.add,state:function(){return s},isResolved:u.fired,isRejected:f.fired,then:function(n,i,r){return t.done(n).fail(i).progress(r),this},always:function(){return t.done.apply(t,arguments).fail.apply(t,arguments),this},pipe:function(n,r,u){return i.Deferred(function(f){i.each({done:[n,"resolve"],fail:[r,"reject"],progress:[u,"notify"]},function(n,r){var e=r[0],o=r[1],u;i.isFunction(e)?t[n](function(){u=e.apply(this,arguments);u&&i.isFunction(u.promise)?u.promise().then(f.resolve,f.reject,f.notify):f[o+"With"](this===t?f:this,[u])}):t[n](f[o])})}).promise()},promise:function(n){if(n==null)n=o;else for(var t in o)n[t]=o[t];return n}},t=o.promise({}),r;for(r in h)t[r]=h[r].fire,t[r+"With"]=h[r].fireWith;return t.done(function(){s="resolved"},f.disable,e.lock).fail(function(){s="rejected"},u.disable,e.lock),n&&n.call(t,t),t},when:function(n){function h(n){return function(i){o[n]=arguments.length>1?d.call(arguments,0):i;t.notifyWith(s,o)}}function c(n){return function(i){r[n]=arguments.length>1?d.call(arguments,0):i;--e||t.resolveWith(t,r)}}var r=d.call(arguments,0),u=0,f=r.length,o=Array(f),e=f,l=f,t=f<=1&&n&&i.isFunction(n.promise)?n:i.Deferred(),s=t.promise();if(f>1){for(;u<f;u++)r[u]&&r[u].promise&&i.isFunction(r[u].promise)?r[u].promise().then(c(u),t.reject,h(u)):--e;e||t.resolveWith(t,r)}else t!==n&&t.resolveWith(t,f?[n]:[]);return s}});i.support=function(){var u,v,o,c,l,f,e,h,a,y,s,t=r.createElement("div"),p=r.documentElement;if(t.setAttribute("className","t"),t.innerHTML="   <link/><table><\/table><a href='/a' style='top:1px;float:left;opacity:.55;'>a<\/a><input type='checkbox'/>",v=t.getElementsByTagName("*"),o=t.getElementsByTagName("a")[0],!v||!v.length||!o)return{};c=r.createElement("select");l=c.appendChild(r.createElement("option"));f=t.getElementsByTagName("input")[0];u={leadingWhitespace:t.firstChild.nodeType===3,tbody:!t.getElementsByTagName("tbody").length,htmlSerialize:!!t.getElementsByTagName("link").length,style:/top/.test(o.getAttribute("style")),hrefNormalized:o.getAttribute("href")==="/a",opacity:/^0.55/.test(o.style.opacity),cssFloat:!!o.style.cssFloat,checkOn:f.value==="on",optSelected:l.selected,getSetAttribute:t.className!=="t",enctype:!!r.createElement("form").enctype,html5Clone:r.createElement("nav").cloneNode(!0).outerHTML!=="<:nav><\/:nav>",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,pixelMargin:!0};i.boxModel=u.boxModel=r.compatMode==="CSS1Compat";f.checked=!0;u.noCloneChecked=f.cloneNode(!0).checked;c.disabled=!0;u.optDisabled=!l.disabled;try{delete t.test}catch(w){u.deleteExpando=!1}if(!t.addEventListener&&t.attachEvent&&t.fireEvent&&(t.attachEvent("onclick",function(){u.noCloneEvent=!1}),t.cloneNode(!0).fireEvent("onclick")),f=r.createElement("input"),f.value="t",f.setAttribute("type","radio"),u.radioValue=f.value==="t",f.setAttribute("checked","checked"),f.setAttribute("name","t"),t.appendChild(f),e=r.createDocumentFragment(),e.appendChild(t.lastChild),u.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,u.appendChecked=f.checked,e.removeChild(f),e.appendChild(t),t.attachEvent)for(y in{submit:1,change:1,focusin:1})a="on"+y,s=a in t,s||(t.setAttribute(a,"return;"),s=typeof t[a]=="function"),u[y+"Bubbles"]=s;return e.removeChild(t),e=c=l=t=f=null,i(function(){var e,c,f,k,l,o,y,p,d,w,b,a,v=r.getElementsByTagName("body")[0];v&&(y=1,a="padding:0;margin:0;border:",w="position:absolute;top:0;left:0;width:1px;height:1px;",b=a+"0;visibility:hidden;",p="style='"+w+a+"5px solid #000;",d="<div "+p+"display:block;'><div style='"+a+"0;display:block;overflow:hidden;'><\/div><\/div><table "+p+"' cellpadding='0' cellspacing='0'><tr><td><\/td><\/tr><\/table>",e=r.createElement("div"),e.style.cssText=b+"width:0;height:0;position:static;top:0;margin-top:"+y+"px",v.insertBefore(e,v.firstChild),t=r.createElement("div"),e.appendChild(t),t.innerHTML="<table><tr><td style='"+a+"0;display:none'><\/td><td>t<\/td><\/tr><\/table>",h=t.getElementsByTagName("td"),s=h[0].offsetHeight===0,h[0].style.display="",h[1].style.display="none",u.reliableHiddenOffsets=s&&h[0].offsetHeight===0,n.getComputedStyle&&(t.innerHTML="",o=r.createElement("div"),o.style.width="0",o.style.marginRight="0",t.style.width="2px",t.appendChild(o),u.reliableMarginRight=(parseInt((n.getComputedStyle(o,null)||{marginRight:0}).marginRight,10)||0)===0),typeof t.style.zoom!="undefined"&&(t.innerHTML="",t.style.width=t.style.padding="1px",t.style.border=0,t.style.overflow="hidden",t.style.display="inline",t.style.zoom=1,u.inlineBlockNeedsLayout=t.offsetWidth===3,t.style.display="block",t.style.overflow="visible",t.innerHTML="<div style='width:5px;'><\/div>",u.shrinkWrapBlocks=t.offsetWidth!==3),t.style.cssText=w+b,t.innerHTML=d,c=t.firstChild,f=c.firstChild,k=c.nextSibling.firstChild.firstChild,l={doesNotAddBorder:f.offsetTop!==5,doesAddBorderForTableAndCells:k.offsetTop===5},f.style.position="fixed",f.style.top="20px",l.fixedPosition=f.offsetTop===20||f.offsetTop===15,f.style.position=f.style.top="",c.style.overflow="hidden",c.style.position="relative",l.subtractsBorderForOverflowNotVisible=f.offsetTop===-5,l.doesNotIncludeMarginInBodyOffset=v.offsetTop!==y,n.getComputedStyle&&(t.style.marginTop="1%",u.pixelMargin=(n.getComputedStyle(t,null)||{marginTop:0}).marginTop!=="1%"),typeof e.style.zoom!="undefined"&&(e.style.zoom=1),v.removeChild(e),o=t=e=null,i.extend(u,l))}),u}();ci=/^(?:\{.*\}|\[.*\])$/;li=/([A-Z])/g;i.extend({cache:{},uuid:0,expando:"jQuery"+(i.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(n){return n=n.nodeType?i.cache[n[i.expando]]:n[i.expando],!!n&&!ft(n)},data:function(n,r,u,f){if(!!i.acceptData(n)){var a,o,h,c=i.expando,v=typeof r=="string",l=n.nodeType,s=l?i.cache:n,e=l?n[c]:n[c]&&c,y=r==="events";return(!e||!s[e]||!y&&!f&&!s[e].data)&&v&&u===t?void 0:(e||(l?n[c]=e=++i.uuid:e=c),s[e]||(s[e]={},l||(s[e].toJSON=i.noop)),(typeof r=="object"||typeof r=="function")&&(f?s[e]=i.extend(s[e],r):s[e].data=i.extend(s[e].data,r)),a=o=s[e],f||(o.data||(o.data={}),o=o.data),u!==t&&(o[i.camelCase(r)]=u),y&&!o[r])?a.events:(v?(h=o[r],h==null&&(h=o[i.camelCase(r)])):h=o,h)}},removeData:function(n,t,r){if(!!i.acceptData(n)){var e,s,c,o=i.expando,h=n.nodeType,u=h?i.cache:n,f=h?n[o]:o;if(!u[f])return;if(t&&(e=r?u[f]:u[f].data,e)){for(i.isArray(t)||((t in e)?t=[t]:(t=i.camelCase(t),t=(t in e)?[t]:t.split(" "))),s=0,c=t.length;s<c;s++)delete e[t[s]];if(!(r?ft:i.isEmptyObject)(e))return}if(!r&&(delete u[f].data,!ft(u[f])))return;i.support.deleteExpando||!u.setInterval?delete u[f]:u[f]=null;h&&(i.support.deleteExpando?delete n[o]:n.removeAttribute?n.removeAttribute(o):n[o]=null)}},_data:function(n,t,r){return i.data(n,t,r,!0)},acceptData:function(n){if(n.nodeName){var t=i.noData[n.nodeName.toLowerCase()];if(t)return t!==!0&&n.getAttribute("classid")===t}return!0}});i.fn.extend({data:function(n,r){var u,s,h,o,l,e=this[0],c=0,f=null;if(n===t){if(this.length&&(f=i.data(e),e.nodeType===1&&!i._data(e,"parsedAttrs"))){for(h=e.attributes,l=h.length;c<l;c++)o=h[c].name,o.indexOf("data-")===0&&(o=i.camelCase(o.substring(5)),si(e,o,f[o]));i._data(e,"parsedAttrs",!0)}return f}return typeof n=="object"?this.each(function(){i.data(this,n)}):(u=n.split(".",2),u[1]=u[1]?"."+u[1]:"",s=u[1]+"!",i.access(this,function(r){if(r===t)return f=this.triggerHandler("getData"+s,[u[0]]),f===t&&e&&(f=i.data(e,n),f=si(e,n,f)),f===t&&u[1]?this.data(u[0]):f;u[1]=r;this.each(function(){var t=i(this);t.triggerHandler("setData"+s,u);i.data(this,n,r);t.triggerHandler("changeData"+s,u)})},null,r,arguments.length>1,null,!1))},removeData:function(n){return this.each(function(){i.removeData(this,n)})}});i.extend({_mark:function(n,t){n&&(t=(t||"fx")+"mark",i._data(n,t,(i._data(n,t)||0)+1))},_unmark:function(n,t,r){if(n!==!0&&(r=t,t=n,n=!1),t){r=r||"fx";var u=r+"mark",f=n?0:(i._data(t,u)||1)-1;f?i._data(t,u,f):(i.removeData(t,u,!0),oi(t,r,"mark"))}},queue:function(n,t,r){var u;if(n)return t=(t||"fx")+"queue",u=i._data(n,t),r&&(!u||i.isArray(r)?u=i._data(n,t,i.makeArray(r)):u.push(r)),u||[]},dequeue:function(n,t){t=t||"fx";var r=i.queue(n,t),u=r.shift(),f={};u==="inprogress"&&(u=r.shift());u&&(t==="fx"&&r.unshift("inprogress"),i._data(n,t+".run",f),u.call(n,function(){i.dequeue(n,t)},f));r.length||(i.removeData(n,t+"queue "+t+".run",!0),oi(n,t,"queue"))}});i.fn.extend({queue:function(n,r){var u=2;return(typeof n!="string"&&(r=n,n="fx",u--),arguments.length<u)?i.queue(this[0],n):r===t?this:this.each(function(){var t=i.queue(this,n,r);n==="fx"&&t[0]!=="inprogress"&&i.dequeue(this,n)})},dequeue:function(n){return this.each(function(){i.dequeue(this,n)})},delay:function(n,t){return n=i.fx?i.fx.speeds[n]||n:n,t=t||"fx",this.queue(t,function(t,i){var r=setTimeout(t,n);i.stop=function(){clearTimeout(r)}})},clearQueue:function(n){return this.queue(n||"fx",[])},promise:function(n,r){function e(){--s||o.resolveWith(u,[u])}typeof n!="string"&&(r=n,n=t);n=n||"fx";for(var o=i.Deferred(),u=this,f=u.length,s=1,h=n+"defer",l=n+"queue",a=n+"mark",c;f--;)(c=i.data(u[f],h,t,!0)||(i.data(u[f],l,t,!0)||i.data(u[f],a,t,!0))&&i.data(u[f],h,i.Callbacks("once memory"),!0))&&(s++,c.add(e));return e(),o.promise(r)}});var ai=/[\n\t\r]/g,g=/\s+/,ou=/\r/g,su=/^(?:button|input)$/i,hu=/^(?:button|input|object|select|textarea)$/i,cu=/^a(?:rea)?$/i,vi=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,yi=i.support.getSetAttribute,e,pi,wi;i.fn.extend({attr:function(n,t){return i.access(this,i.attr,n,t,arguments.length>1)},removeAttr:function(n){return this.each(function(){i.removeAttr(this,n)})},prop:function(n,t){return i.access(this,i.prop,n,t,arguments.length>1)},removeProp:function(n){return n=i.propFix[n]||n,this.each(function(){try{this[n]=t;delete this[n]}catch(i){}})},addClass:function(n){var r,f,o,t,e,u,s;if(i.isFunction(n))return this.each(function(t){i(this).addClass(n.call(this,t,this.className))});if(n&&typeof n=="string")for(r=n.split(g),f=0,o=this.length;f<o;f++)if(t=this[f],t.nodeType===1)if(t.className||r.length!==1){for(e=" "+t.className+" ",u=0,s=r.length;u<s;u++)~e.indexOf(" "+r[u]+" ")||(e+=r[u]+" ");t.className=i.trim(e)}else t.className=n;return this},removeClass:function(n){var o,u,s,r,f,e,h;if(i.isFunction(n))return this.each(function(t){i(this).removeClass(n.call(this,t,this.className))});if(n&&typeof n=="string"||n===t)for(o=(n||"").split(g),u=0,s=this.length;u<s;u++)if(r=this[u],r.nodeType===1&&r.className)if(n){for(f=(" "+r.className+" ").replace(ai," "),e=0,h=o.length;e<h;e++)f=f.replace(" "+o[e]+" "," ");r.className=i.trim(f)}else r.className="";return this},toggleClass:function(n,t){var r=typeof n,u=typeof t=="boolean";return i.isFunction(n)?this.each(function(r){i(this).toggleClass(n.call(this,r,this.className,t),t)}):this.each(function(){if(r==="string")for(var f,s=0,o=i(this),e=t,h=n.split(g);f=h[s++];)e=u?e:!o.hasClass(f),o[e?"addClass":"removeClass"](f);else(r==="undefined"||r==="boolean")&&(this.className&&i._data(this,"__className__",this.className),this.className=this.className||n===!1?"":i._data(this,"__className__")||"")})},hasClass:function(n){for(var i=" "+n+" ",t=0,r=this.length;t<r;t++)if(this[t].nodeType===1&&(" "+this[t].className+" ").replace(ai," ").indexOf(i)>-1)return!0;return!1},val:function(n){var r,u,e,f=this[0];return!arguments.length?f?(r=i.valHooks[f.type]||i.valHooks[f.nodeName.toLowerCase()],r&&"get"in r&&(u=r.get(f,"value"))!==t)?u:(u=f.value,typeof u=="string"?u.replace(ou,""):u==null?"":u):void 0:(e=i.isFunction(n),this.each(function(u){var o=i(this),f;this.nodeType===1&&(f=e?n.call(this,u,o.val()):n,f==null?f="":typeof f=="number"?f+="":i.isArray(f)&&(f=i.map(f,function(n){return n==null?"":n+""})),r=i.valHooks[this.type]||i.valHooks[this.nodeName.toLowerCase()],r&&"set"in r&&r.set(this,f,"value")!==t||(this.value=f))}))}});i.extend({valHooks:{option:{get:function(n){var t=n.attributes.value;return!t||t.specified?n.value:n.text}},select:{get:function(n){var o,r,h,t,u=n.selectedIndex,s=[],f=n.options,e=n.type==="select-one";if(u<0)return null;for(r=e?u:0,h=e?u+1:f.length;r<h;r++)if(t=f[r],t.selected&&(i.support.optDisabled?!t.disabled:t.getAttribute("disabled")===null)&&(!t.parentNode.disabled||!i.nodeName(t.parentNode,"optgroup"))){if(o=i(t).val(),e)return o;s.push(o)}return e&&!s.length&&f.length?i(f[u]).val():s},set:function(n,t){var r=i.makeArray(t);return i(n).find("option").each(function(){this.selected=i.inArray(i(this).val(),r)>=0}),r.length||(n.selectedIndex=-1),r}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(n,r,u,f){var o,s,h,c=n.nodeType;if(!!n&&c!==3&&c!==8&&c!==2){if(f&&r in i.attrFn)return i(n)[r](u);if(typeof n.getAttribute=="undefined")return i.prop(n,r,u);if(h=c!==1||!i.isXMLDoc(n),h&&(r=r.toLowerCase(),s=i.attrHooks[r]||(vi.test(r)?pi:e)),u!==t){if(u===null){i.removeAttr(n,r);return}return s&&"set"in s&&h&&(o=s.set(n,u,r))!==t?o:(n.setAttribute(r,""+u),u)}return s&&"get"in s&&h&&(o=s.get(n,r))!==null?o:(o=n.getAttribute(r),o===null?t:o)}},removeAttr:function(n,t){var u,f,r,s,e,o=0;if(t&&n.nodeType===1)for(f=t.toLowerCase().split(g),s=f.length;o<s;o++)r=f[o],r&&(u=i.propFix[r]||r,e=vi.test(r),e||i.attr(n,r,""),n.removeAttribute(yi?r:u),e&&u in n&&(n[u]=!1))},attrHooks:{type:{set:function(n,t){if(su.test(n.nodeName)&&n.parentNode)i.error("type property can't be changed");else if(!i.support.radioValue&&t==="radio"&&i.nodeName(n,"input")){var r=n.value;return n.setAttribute("type",t),r&&(n.value=r),t}}},value:{get:function(n,t){return e&&i.nodeName(n,"button")?e.get(n,t):t in n?n.value:null},set:function(n,t,r){if(e&&i.nodeName(n,"button"))return e.set(n,t,r);n.value=t}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(n,r,u){var e,f,s,o=n.nodeType;if(!!n&&o!==3&&o!==8&&o!==2)return s=o!==1||!i.isXMLDoc(n),s&&(r=i.propFix[r]||r,f=i.propHooks[r]),u!==t?f&&"set"in f&&(e=f.set(n,u,r))!==t?e:n[r]=u:f&&"get"in f&&(e=f.get(n,r))!==null?e:n[r]},propHooks:{tabIndex:{get:function(n){var i=n.getAttributeNode("tabindex");return i&&i.specified?parseInt(i.value,10):hu.test(n.nodeName)||cu.test(n.nodeName)&&n.href?0:t}}}});i.attrHooks.tabindex=i.propHooks.tabIndex;pi={get:function(n,r){var u,f=i.prop(n,r);return f===!0||typeof f!="boolean"&&(u=n.getAttributeNode(r))&&u.nodeValue!==!1?r.toLowerCase():t},set:function(n,t,r){var u;return t===!1?i.removeAttr(n,r):(u=i.propFix[r]||r,u in n&&(n[u]=!0),n.setAttribute(r,r.toLowerCase())),r}};yi||(wi={name:!0,id:!0,coords:!0},e=i.valHooks.button={get:function(n,i){var r;return r=n.getAttributeNode(i),r&&(wi[i]?r.nodeValue!=="":r.specified)?r.nodeValue:t},set:function(n,t,i){var u=n.getAttributeNode(i);return u||(u=r.createAttribute(i),n.setAttributeNode(u)),u.nodeValue=t+""}},i.attrHooks.tabindex.set=e.set,i.each(["width","height"],function(n,t){i.attrHooks[t]=i.extend(i.attrHooks[t],{set:function(n,i){if(i==="")return n.setAttribute(t,"auto"),i}})}),i.attrHooks.contenteditable={get:e.get,set:function(n,t,i){t===""&&(t="false");e.set(n,t,i)}});i.support.hrefNormalized||i.each(["href","src","width","height"],function(n,r){i.attrHooks[r]=i.extend(i.attrHooks[r],{get:function(n){var i=n.getAttribute(r,2);return i===null?t:i}})});i.support.style||(i.attrHooks.style={get:function(n){return n.style.cssText.toLowerCase()||t},set:function(n,t){return n.style.cssText=""+t}});i.support.optSelected||(i.propHooks.selected=i.extend(i.propHooks.selected,{get:function(n){var t=n.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}));i.support.enctype||(i.propFix.enctype="encoding");i.support.checkOn||i.each(["radio","checkbox"],function(){i.valHooks[this]={get:function(n){return n.getAttribute("value")===null?"on":n.value}}});i.each(["radio","checkbox"],function(){i.valHooks[this]=i.extend(i.valHooks[this],{set:function(n,t){if(i.isArray(t))return n.checked=i.inArray(i(n).val(),t)>=0}})});var et=/^(?:textarea|input|select)$/i,bi=/^([^\.]*)?(?:\.(.+))?$/,lu=/(?:^|\s)hover(\.\S+)?\b/,au=/^key/,vu=/^(?:mouse|contextmenu)|click/,ki=/^(?:focusinfocus|focusoutblur)$/,yu=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,pu=function(n){var t=yu.exec(n);return t&&(t[1]=(t[1]||"").toLowerCase(),t[3]=t[3]&&new RegExp("(?:^|\\s)"+t[3]+"(?:\\s|$)")),t},wu=function(n,t){var i=n.attributes||{};return(!t[1]||n.nodeName.toLowerCase()===t[1])&&(!t[2]||(i.id||{}).value===t[2])&&(!t[3]||t[3].test((i["class"]||{}).value))},di=function(n){return i.event.special.hover?n:n.replace(lu,"mouseenter$1 mouseleave$1")};i.event={add:function(n,r,u,f,e){var a,s,v,y,p,o,b,l,w,c,h;if(!(n.nodeType===3||n.nodeType===8||!r||!u||!(a=i._data(n)))){for(u.handler&&(w=u,u=w.handler,e=w.selector),u.guid||(u.guid=i.guid++),v=a.events,v||(a.events=v={}),s=a.handle,s||(a.handle=s=function(n){return typeof i!="undefined"&&(!n||i.event.triggered!==n.type)?i.event.dispatch.apply(s.elem,arguments):t},s.elem=n),r=i.trim(di(r)).split(" "),y=0;y<r.length;y++)p=bi.exec(r[y])||[],o=p[1],b=(p[2]||"").split(".").sort(),h=i.event.special[o]||{},o=(e?h.delegateType:h.bindType)||o,h=i.event.special[o]||{},l=i.extend({type:o,origType:p[1],data:f,handler:u,guid:u.guid,selector:e,quick:e&&pu(e),namespace:b.join(".")},w),c=v[o],c||(c=v[o]=[],c.delegateCount=0,h.setup&&h.setup.call(n,f,b,s)!==!1||(n.addEventListener?n.addEventListener(o,s,!1):n.attachEvent&&n.attachEvent("on"+o,s))),h.add&&(h.add.call(n,l),l.handler.guid||(l.handler.guid=u.guid)),e?c.splice(c.delegateCount++,0,l):c.push(l),i.event.global[o]=!0;n=null}},global:{},remove:function(n,t,r,u,f){var y=i.hasData(n)&&i._data(n),l,p,e,b,h,k,a,v,c,w,o,s;if(!!y&&!!(v=y.events)){for(t=i.trim(di(t||"")).split(" "),l=0;l<t.length;l++){if(p=bi.exec(t[l])||[],e=b=p[1],h=p[2],!e){for(e in v)i.event.remove(n,e+t[l],r,u,!0);continue}for(c=i.event.special[e]||{},e=(u?c.delegateType:c.bindType)||e,o=v[e]||[],k=o.length,h=h?new RegExp("(^|\\.)"+h.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null,a=0;a<o.length;a++)s=o[a],(f||b===s.origType)&&(!r||r.guid===s.guid)&&(!h||h.test(s.namespace))&&(!u||u===s.selector||u==="**"&&s.selector)&&(o.splice(a--,1),s.selector&&o.delegateCount--,c.remove&&c.remove.call(n,s));o.length===0&&k!==o.length&&((!c.teardown||c.teardown.call(n,h)===!1)&&i.removeEvent(n,e,y.handle),delete v[e])}i.isEmptyObject(v)&&(w=y.handle,w&&(w.elem=null),i.removeData(n,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(r,u,f,e){if(!f||f.nodeType!==3&&f.nodeType!==8){var o=r.type||r,p=[],w,k,c,s,h,a,l,v,y,b;if(ki.test(o+i.event.triggered))return;if(o.indexOf("!")>=0&&(o=o.slice(0,-1),k=!0),o.indexOf(".")>=0&&(p=o.split("."),o=p.shift(),p.sort()),(!f||i.event.customEvent[o])&&!i.event.global[o])return;if(r=typeof r=="object"?r[i.expando]?r:new i.Event(o,r):new i.Event(o),r.type=o,r.isTrigger=!0,r.exclusive=k,r.namespace=p.join("."),r.namespace_re=r.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,a=o.indexOf(":")<0?"on"+o:"",!f){w=i.cache;for(c in w)w[c].events&&w[c].events[o]&&i.event.trigger(r,u,w[c].handle.elem,!0);return}if(r.result=t,r.target||(r.target=f),u=u!=null?i.makeArray(u):[],u.unshift(r),l=i.event.special[o]||{},l.trigger&&l.trigger.apply(f,u)===!1)return;if(y=[[f,l.bindType||o]],!e&&!l.noBubble&&!i.isWindow(f)){for(b=l.delegateType||o,s=ki.test(b+o)?f:f.parentNode,h=null;s;s=s.parentNode)y.push([s,b]),h=s;h&&h===f.ownerDocument&&y.push([h.defaultView||h.parentWindow||n,b])}for(c=0;c<y.length&&!r.isPropagationStopped();c++)s=y[c][0],r.type=y[c][1],v=(i._data(s,"events")||{})[r.type]&&i._data(s,"handle"),v&&v.apply(s,u),v=a&&s[a],v&&i.acceptData(s)&&v.apply(s,u)===!1&&r.preventDefault();return r.type=o,e||r.isDefaultPrevented()||l._default&&l._default.apply(f.ownerDocument,u)!==!1||o==="click"&&i.nodeName(f,"a")||!i.acceptData(f)||!a||!f[o]||(o==="focus"||o==="blur")&&r.target.offsetWidth===0||i.isWindow(f)||(h=f[a],h&&(f[a]=null),i.event.triggered=o,f[o](),i.event.triggered=t,h&&(f[a]=h)),r.result}},dispatch:function(r){r=i.event.fix(r||n.event);var h=(i._data(this,"events")||{})[r.type]||[],c=h.delegateCount,k=[].slice.call(arguments,0),d=!r.exclusive&&!r.namespace,l=i.event.special[r.type]||{},a=[],f,v,e,y,p,w,o,b,u,s;if(k[0]=r,r.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,r)!==!1){if(c&&(!r.button||r.type!=="click"))for(y=i(this),y.context=this.ownerDocument||this,e=r.target;e!=this;e=e.parentNode||this)if(e.disabled!==!0){for(w={},b=[],y[0]=e,f=0;f<c;f++)u=h[f],s=u.selector,w[s]===t&&(w[s]=u.quick?wu(e,u.quick):y.is(s)),w[s]&&b.push(u);b.length&&a.push({elem:e,matches:b})}for(h.length>c&&a.push({elem:this,matches:h.slice(c)}),f=0;f<a.length&&!r.isPropagationStopped();f++)for(o=a[f],r.currentTarget=o.elem,v=0;v<o.matches.length&&!r.isImmediatePropagationStopped();v++)u=o.matches[v],(d||!r.namespace&&!u.namespace||r.namespace_re&&r.namespace_re.test(u.namespace))&&(r.data=u.data,r.handleObj=u,p=((i.event.special[u.origType]||{}).handle||u.handler).apply(o.elem,k),p!==t&&(r.result=p,p===!1&&(r.preventDefault(),r.stopPropagation())));return l.postDispatch&&l.postDispatch.call(this,r),r.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(n,t){return n.which==null&&(n.which=t.charCode!=null?t.charCode:t.keyCode),n}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(n,i){var o,u,f,e=i.button,s=i.fromElement;return n.pageX==null&&i.clientX!=null&&(o=n.target.ownerDocument||r,u=o.documentElement,f=o.body,n.pageX=i.clientX+(u&&u.scrollLeft||f&&f.scrollLeft||0)-(u&&u.clientLeft||f&&f.clientLeft||0),n.pageY=i.clientY+(u&&u.scrollTop||f&&f.scrollTop||0)-(u&&u.clientTop||f&&f.clientTop||0)),!n.relatedTarget&&s&&(n.relatedTarget=s===n.target?i.toElement:s),!n.which&&e!==t&&(n.which=e&1?1:e&2?3:e&4?2:0),n}},fix:function(n){if(n[i.expando])return n;var e,o,u=n,f=i.event.fixHooks[n.type]||{},s=f.props?this.props.concat(f.props):this.props;for(n=i.Event(u),e=s.length;e;)o=s[--e],n[o]=u[o];return n.target||(n.target=u.srcElement||r),n.target.nodeType===3&&(n.target=n.target.parentNode),n.metaKey===t&&(n.metaKey=n.ctrlKey),f.filter?f.filter(n,u):n},special:{ready:{setup:i.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(n,t,r){i.isWindow(this)&&(this.onbeforeunload=r)},teardown:function(n,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(n,t,r,u){var f=i.extend(new i.Event,r,{type:n,isSimulated:!0,originalEvent:{}});u?i.event.trigger(f,null,t):i.event.dispatch.call(t,f);f.isDefaultPrevented()&&r.preventDefault()}};i.event.handle=i.event.dispatch;i.removeEvent=r.removeEventListener?function(n,t,i){n.removeEventListener&&n.removeEventListener(t,i,!1)}:function(n,t,i){n.detachEvent&&n.detachEvent("on"+t,i)};i.Event=function(n,t){if(!(this instanceof i.Event))return new i.Event(n,t);n&&n.type?(this.originalEvent=n,this.type=n.type,this.isDefaultPrevented=n.defaultPrevented||n.returnValue===!1||n.getPreventDefault&&n.getPreventDefault()?k:l):this.type=n;t&&i.extend(this,t);this.timeStamp=n&&n.timeStamp||i.now();this[i.expando]=!0};i.Event.prototype={preventDefault:function(){this.isDefaultPrevented=k;var n=this.originalEvent;n&&(n.preventDefault?n.preventDefault():n.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=k;var n=this.originalEvent;n&&(n.stopPropagation&&n.stopPropagation(),n.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=k;this.stopPropagation()},isDefaultPrevented:l,isPropagationStopped:l,isImmediatePropagationStopped:l};i.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(n,t){i.event.special[n]={delegateType:t,bindType:t,handle:function(n){var f=this,r=n.relatedTarget,u=n.handleObj,o=u.selector,e;return r&&(r===f||i.contains(f,r))||(n.type=u.origType,e=u.handler.apply(this,arguments),n.type=t),e}}});i.support.submitBubbles||(i.event.special.submit={setup:function(){if(i.nodeName(this,"form"))return!1;i.event.add(this,"click._submit keypress._submit",function(n){var u=n.target,r=i.nodeName(u,"input")||i.nodeName(u,"button")?u.form:t;r&&!r._submit_attached&&(i.event.add(r,"submit._submit",function(n){n._submit_bubble=!0}),r._submit_attached=!0)})},postDispatch:function(n){n._submit_bubble&&(delete n._submit_bubble,this.parentNode&&!n.isTrigger&&i.event.simulate("submit",this.parentNode,n,!0))},teardown:function(){if(i.nodeName(this,"form"))return!1;i.event.remove(this,"._submit")}});i.support.changeBubbles||(i.event.special.change={setup:function(){if(et.test(this.nodeName))return(this.type==="checkbox"||this.type==="radio")&&(i.event.add(this,"propertychange._change",function(n){n.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),i.event.add(this,"click._change",function(n){this._just_changed&&!n.isTrigger&&(this._just_changed=!1,i.event.simulate("change",this,n,!0))})),!1;i.event.add(this,"beforeactivate._change",function(n){var t=n.target;et.test(t.nodeName)&&!t._change_attached&&(i.event.add(t,"change._change",function(n){!this.parentNode||n.isSimulated||n.isTrigger||i.event.simulate("change",this.parentNode,n,!0)}),t._change_attached=!0)})},handle:function(n){var t=n.target;if(this!==t||n.isSimulated||n.isTrigger||t.type!=="radio"&&t.type!=="checkbox")return n.handleObj.handler.apply(this,arguments)},teardown:function(){return i.event.remove(this,"._change"),et.test(this.nodeName)}});i.support.focusinBubbles||i.each({focus:"focusin",blur:"focusout"},function(n,t){var u=0,f=function(n){i.event.simulate(t,n.target,i.event.fix(n),!0)};i.event.special[t]={setup:function(){u++==0&&r.addEventListener(n,f,!0)},teardown:function(){--u==0&&r.removeEventListener(n,f,!0)}}});i.fn.extend({on:function(n,r,u,f,e){var o,s;if(typeof n=="object"){typeof r!="string"&&(u=u||r,r=t);for(s in n)this.on(s,r,u,n[s],e);return this}if(u==null&&f==null?(f=r,u=r=t):f==null&&(typeof r=="string"?(f=u,u=t):(f=u,u=r,r=t)),f===!1)f=l;else if(!f)return this;return e===1&&(o=f,f=function(n){return i().off(n),o.apply(this,arguments)},f.guid=o.guid||(o.guid=i.guid++)),this.each(function(){i.event.add(this,n,f,u,r)})},one:function(n,t,i,r){return this.on(n,t,i,r,1)},off:function(n,r,u){var f,e;if(n&&n.preventDefault&&n.handleObj)return f=n.handleObj,i(n.delegateTarget).off(f.namespace?f.origType+"."+f.namespace:f.origType,f.selector,f.handler),this;if(typeof n=="object"){for(e in n)this.off(e,r,n[e]);return this}return(r===!1||typeof r=="function")&&(u=r,r=t),u===!1&&(u=l),this.each(function(){i.event.remove(this,n,u,r)})},bind:function(n,t,i){return this.on(n,null,t,i)},unbind:function(n,t){return this.off(n,null,t)},live:function(n,t,r){i(this.context).on(n,this.selector,t,r);return this},die:function(n,t){return i(this.context).off(n,this.selector||"**",t),this},delegate:function(n,t,i,r){return this.on(t,n,i,r)},undelegate:function(n,t,i){return arguments.length==1?this.off(n,"**"):this.off(t,n,i)},trigger:function(n,t){return this.each(function(){i.event.trigger(n,t,this)})},triggerHandler:function(n,t){if(this[0])return i.event.trigger(n,t,this[0],!0)},toggle:function(n){var t=arguments,u=n.guid||i.guid++,r=0,f=function(u){var f=(i._data(this,"lastToggle"+n.guid)||0)%r;return i._data(this,"lastToggle"+n.guid,f+1),u.preventDefault(),t[f].apply(this,arguments)||!1};for(f.guid=u;r<t.length;)t[r++].guid=u;return this.click(f)},hover:function(n,t){return this.mouseenter(n).mouseleave(t||n)}});i.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(n,t){i.fn[t]=function(n,i){return i==null&&(i=n,n=null),arguments.length>0?this.on(t,null,n,i):this.trigger(t)};i.attrFn&&(i.attrFn[t]=!0);au.test(t)&&(i.event.fixHooks[t]=i.event.keyHooks);vu.test(t)&&(i.event.fixHooks[t]=i.event.mouseHooks)}),function(){function b(t,i,r,u,f,o){for(var s,c,h=0,l=u.length;h<l;h++)if(s=u[h],s){for(c=!1,s=s[t];s;){if(s[e]===r){c=u[s.sizset];break}if(s.nodeType===1)if(o||(s[e]=r,s.sizset=h),typeof i!="string"){if(s===i){c=!0;break}}else if(n.filter(i,[s]).length>0){c=s;break}s=s[t]}u[h]=c}}function k(n,t,i,r,u,f){for(var o,h,s=0,c=r.length;s<c;s++)if(o=r[s],o){for(h=!1,o=o[n];o;){if(o[e]===i){h=r[o.sizset];break}if(o.nodeType!==1||f||(o[e]=i,o.sizset=s),o.nodeName.toLowerCase()===t){h=o;break}o=o[n]}r[s]=h}}var v=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,e="sizcache"+(Math.random()+"").replace(".",""),y=0,d=Object.prototype.toString,c=!1,g=!0,o=/\\/g,tt=/\r\n/g,l=/\W/,n,s,f,a,h,w;[0,0].sort(function(){return g=!1,0});n=function(t,i,e,o){var tt;if(e=e||[],i=i||r,tt=i,i.nodeType!==1&&i.nodeType!==9)return[];if(!t||typeof t!="string")return e;var y,a,h,g,l,p,b,c,it=!0,k=n.isXML(i),s=[],rt=t;do if(v.exec(""),y=v.exec(rt),y&&(rt=y[3],s.push(y[1]),y[2])){g=y[3];break}while(y);if(s.length>1&&nt.exec(t))if(s.length===2&&u.relative[s[0]])a=w(s[0]+s[1],i,o);else for(a=u.relative[s[0]]?[i]:n(s.shift(),i);s.length;)t=s.shift(),u.relative[t]&&(t+=s.shift()),a=w(t,a,o);else if(!o&&s.length>1&&i.nodeType===9&&!k&&u.match.ID.test(s[0])&&!u.match.ID.test(s[s.length-1])&&(l=n.find(s.shift(),i,k),i=l.expr?n.filter(l.expr,l.set)[0]:l.set[0]),i)for(l=o?{expr:s.pop(),set:f(o)}:n.find(s.pop(),s.length===1&&(s[0]==="~"||s[0]==="+")&&i.parentNode?i.parentNode:i,k),a=l.expr?n.filter(l.expr,l.set):l.set,s.length>0?h=f(a):it=!1;s.length;)p=s.pop(),b=p,u.relative[p]?b=s.pop():p="",b==null&&(b=i),u.relative[p](h,b,k);else h=s=[];if(h||(h=a),h||n.error(p||t),d.call(h)==="[object Array]")if(it)if(i&&i.nodeType===1)for(c=0;h[c]!=null;c++)h[c]&&(h[c]===!0||h[c].nodeType===1&&n.contains(i,h[c]))&&e.push(a[c]);else for(c=0;h[c]!=null;c++)h[c]&&h[c].nodeType===1&&e.push(a[c]);else e.push.apply(e,h);else f(h,e);return g&&(n(g,tt,e,o),n.uniqueSort(e)),e};n.uniqueSort=function(n){if(a&&(c=g,n.sort(a),c))for(var t=1;t<n.length;t++)n[t]===n[t-1]&&n.splice(t--,1);return n};n.matches=function(t,i){return n(t,null,null,i)};n.matchesSelector=function(t,i){return n(i,null,null,[t]).length>0};n.find=function(n,t,i){var f,e,c,r,s,h;if(!n)return[];for(e=0,c=u.order.length;e<c;e++)if(s=u.order[e],(r=u.leftMatch[s].exec(n))&&(h=r[1],r.splice(1,1),h.substr(h.length-1)!=="\\"&&(r[1]=(r[1]||"").replace(o,""),f=u.find[s](r,t,i),f!=null))){n=n.replace(u.match[s],"");break}return f||(f=typeof t.getElementsByTagName!="undefined"?t.getElementsByTagName("*"):[]),{set:f,expr:n}};n.filter=function(i,r,f,e){for(var o,h,c,l,y,b,p,a,w,k=i,v=[],s=r,d=r&&r[0]&&n.isXML(r[0]);i&&r.length;){for(c in u.filter)if((o=u.leftMatch[c].exec(i))!=null&&o[2]){if(b=u.filter[c],p=o[1],h=!1,o.splice(1,1),p.substr(p.length-1)==="\\")continue;if(s===v&&(v=[]),u.preFilter[c])if(o=u.preFilter[c](o,s,f,v,e,d),o){if(o===!0)continue}else h=l=!0;if(o)for(a=0;(y=s[a])!=null;a++)y&&(l=b(y,o,a,s),w=e^l,f&&l!=null?w?h=!0:s[a]=!1:w&&(v.push(y),h=!0));if(l!==t){if(f||(s=v),i=i.replace(u.match[c],""),!h)return[];break}}if(i===k)if(h==null)n.error(i);else break;k=i}return s};n.error=function(n){throw new Error("Syntax error, unrecognized expression: "+n);};var p=n.getText=function(n){var i,r,t=n.nodeType,u="";if(t){if(t===1||t===9||t===11){if(typeof n.textContent=="string")return n.textContent;if(typeof n.innerText=="string")return n.innerText.replace(tt,"");for(n=n.firstChild;n;n=n.nextSibling)u+=p(n)}else if(t===3||t===4)return n.nodeValue}else for(i=0;r=n[i];i++)r.nodeType!==8&&(u+=p(r));return u},u=n.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(n){return n.getAttribute("href")},type:function(n){return n.getAttribute("type")}},relative:{"+":function(t,i){var f=typeof i=="string",e=f&&!l.test(i),o=f&&!e,u,s,r;for(e&&(i=i.toLowerCase()),u=0,s=t.length;u<s;u++)if(r=t[u]){while((r=r.previousSibling)&&r.nodeType!==1);t[u]=o||r&&r.nodeName.toLowerCase()===i?r||!1:r===i}o&&n.filter(i,t,!0)},">":function(t,i){var u,f=typeof i=="string",r=0,o=t.length,e;if(f&&!l.test(i))for(i=i.toLowerCase();r<o;r++)u=t[r],u&&(e=u.parentNode,t[r]=e.nodeName.toLowerCase()===i?e:!1);else{for(;r<o;r++)u=t[r],u&&(t[r]=f?u.parentNode:u.parentNode===i);f&&n.filter(i,t,!0)}},"":function(n,t,i){var r,f=y++,u=b;typeof t!="string"||l.test(t)||(t=t.toLowerCase(),r=t,u=k);u("parentNode",t,f,n,r,i)},"~":function(n,t,i){var r,f=y++,u=b;typeof t!="string"||l.test(t)||(t=t.toLowerCase(),r=t,u=k);u("previousSibling",t,f,n,r,i)}},find:{ID:function(n,t,i){if(typeof t.getElementById!="undefined"&&!i){var r=t.getElementById(n[1]);return r&&r.parentNode?[r]:[]}},NAME:function(n,t){var r,u,i,f;if(typeof t.getElementsByName!="undefined"){for(r=[],u=t.getElementsByName(n[1]),i=0,f=u.length;i<f;i++)u[i].getAttribute("name")===n[1]&&r.push(u[i]);return r.length===0?null:r}},TAG:function(n,t){if(typeof t.getElementsByTagName!="undefined")return t.getElementsByTagName(n[1])}},preFilter:{CLASS:function(n,t,i,r,u,f){if(n=" "+n[1].replace(o,"")+" ",f)return n;for(var s=0,e;(e=t[s])!=null;s++)e&&(u^(e.className&&(" "+e.className+" ").replace(/[\t\n\r]/g," ").indexOf(n)>=0)?i||r.push(e):i&&(t[s]=!1));return!1},ID:function(n){return n[1].replace(o,"")},TAG:function(n){return n[1].replace(o,"").toLowerCase()},CHILD:function(t){if(t[1]==="nth"){t[2]||n.error(t[0]);t[2]=t[2].replace(/^\+|\s*/g,"");var i=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(t[2]==="even"&&"2n"||t[2]==="odd"&&"2n+1"||!/\D/.test(t[2])&&"0n+"+t[2]||t[2]);t[2]=i[1]+(i[2]||1)-0;t[3]=i[3]-0}else t[2]&&n.error(t[0]);return t[0]=y++,t},ATTR:function(n,t,i,r,f,e){var s=n[1]=n[1].replace(o,"");return!e&&u.attrMap[s]&&(n[1]=u.attrMap[s]),n[4]=(n[4]||n[5]||"").replace(o,""),n[2]==="~="&&(n[4]=" "+n[4]+" "),n},PSEUDO:function(t,i,r,f,e){if(t[1]==="not")if((v.exec(t[3])||"").length>1||/^\w/.test(t[3]))t[3]=n(t[3],null,null,i);else{var o=n.filter(t[3],i,r,!0^e);return r||f.push.apply(f,o),!1}else if(u.match.POS.test(t[0])||u.match.CHILD.test(t[0]))return!0;return t},POS:function(n){return n.unshift(!0),n}},filters:{enabled:function(n){return n.disabled===!1&&n.type!=="hidden"},disabled:function(n){return n.disabled===!0},checked:function(n){return n.checked===!0},selected:function(n){return n.parentNode&&n.parentNode.selectedIndex,n.selected===!0},parent:function(n){return!!n.firstChild},empty:function(n){return!n.firstChild},has:function(t,i,r){return!!n(r[3],t).length},header:function(n){return/h\d/i.test(n.nodeName)},text:function(n){var t=n.getAttribute("type"),i=n.type;return n.nodeName.toLowerCase()==="input"&&"text"===i&&(t===i||t===null)},radio:function(n){return n.nodeName.toLowerCase()==="input"&&"radio"===n.type},checkbox:function(n){return n.nodeName.toLowerCase()==="input"&&"checkbox"===n.type},file:function(n){return n.nodeName.toLowerCase()==="input"&&"file"===n.type},password:function(n){return n.nodeName.toLowerCase()==="input"&&"password"===n.type},submit:function(n){var t=n.nodeName.toLowerCase();return(t==="input"||t==="button")&&"submit"===n.type},image:function(n){return n.nodeName.toLowerCase()==="input"&&"image"===n.type},reset:function(n){var t=n.nodeName.toLowerCase();return(t==="input"||t==="button")&&"reset"===n.type},button:function(n){var t=n.nodeName.toLowerCase();return t==="input"&&"button"===n.type||t==="button"},input:function(n){return/input|select|textarea|button/i.test(n.nodeName)},focus:function(n){return n===n.ownerDocument.activeElement}},setFilters:{first:function(n,t){return t===0},last:function(n,t,i,r){return t===r.length-1},even:function(n,t){return t%2==0},odd:function(n,t){return t%2==1},lt:function(n,t,i){return t<i[3]-0},gt:function(n,t,i){return t>i[3]-0},nth:function(n,t,i){return i[3]-0===t},eq:function(n,t,i){return i[3]-0===t}},filter:{PSEUDO:function(t,i,r,f){var e=i[1],h=u.filters[e],s,o,c;if(h)return h(t,r,i,f);if(e==="contains")return(t.textContent||t.innerText||p([t])||"").indexOf(i[3])>=0;if(e==="not"){for(s=i[3],o=0,c=s.length;o<c;o++)if(s[o]===t)return!1;return!0}n.error(e)},CHILD:function(n,t){var r,o,s,u,h,f,c=t[1],i=n;switch(c){case"only":case"first":while(i=i.previousSibling)if(i.nodeType===1)return!1;if(c==="first")return!0;i=n;case"last":while(i=i.nextSibling)if(i.nodeType===1)return!1;return!0;case"nth":if(r=t[2],o=t[3],r===1&&o===0)return!0;if(s=t[0],u=n.parentNode,u&&(u[e]!==s||!n.nodeIndex)){for(h=0,i=u.firstChild;i;i=i.nextSibling)i.nodeType===1&&(i.nodeIndex=++h);u[e]=s}return f=n.nodeIndex-o,r===0?f===0:f%r==0&&f/r>=0}},ID:function(n,t){return n.nodeType===1&&n.getAttribute("id")===t},TAG:function(n,t){return t==="*"&&n.nodeType===1||!!n.nodeName&&n.nodeName.toLowerCase()===t},CLASS:function(n,t){return(" "+(n.className||n.getAttribute("class"))+" ").indexOf(t)>-1},ATTR:function(t,i){var o=i[1],s=n.attr?n.attr(t,o):u.attrHandle[o]?u.attrHandle[o](t):t[o]!=null?t[o]:t.getAttribute(o),f=s+"",e=i[2],r=i[4];return s==null?e==="!=":!e&&n.attr?s!=null:e==="="?f===r:e==="*="?f.indexOf(r)>=0:e==="~="?(" "+f+" ").indexOf(r)>=0:r?e==="!="?f!==r:e==="^="?f.indexOf(r)===0:e==="$="?f.substr(f.length-r.length)===r:e==="|="?f===r||f.substr(0,r.length+1)===r+"-":!1:f&&s!==!1},POS:function(n,t,i,r){var e=t[2],f=u.setFilters[e];if(f)return f(n,i,t,r)}}},nt=u.match.POS,it=function(n,t){return"\\"+(+t+1)};for(s in u.match)u.match[s]=new RegExp(u.match[s].source+/(?![^\[]*\])(?![^\(]*\))/.source),u.leftMatch[s]=new RegExp(/(^(?:.|\r|\n)*?)/.source+u.match[s].source.replace(/\\(\d+)/g,it));u.match.globalPOS=nt;f=function(n,t){return(n=Array.prototype.slice.call(n,0),t)?(t.push.apply(t,n),t):n};try{Array.prototype.slice.call(r.documentElement.childNodes,0)[0].nodeType}catch(rt){f=function(n,t){var i=0,r=t||[],u;if(d.call(n)==="[object Array]")Array.prototype.push.apply(r,n);else if(typeof n.length=="number")for(u=n.length;i<u;i++)r.push(n[i]);else for(;n[i];i++)r.push(n[i]);return r}}r.documentElement.compareDocumentPosition?a=function(n,t){return n===t?(c=!0,0):!n.compareDocumentPosition||!t.compareDocumentPosition?n.compareDocumentPosition?-1:1:n.compareDocumentPosition(t)&4?-1:1}:(a=function(n,t){var i;if(n===t)return c=!0,0;if(n.sourceIndex&&t.sourceIndex)return n.sourceIndex-t.sourceIndex;var e,l,u=[],f=[],o=n.parentNode,s=t.parentNode,r=o;if(o===s)return h(n,t);if(!o)return-1;if(!s)return 1;while(r)u.unshift(r),r=r.parentNode;for(r=s;r;)f.unshift(r),r=r.parentNode;for(e=u.length,l=f.length,i=0;i<e&&i<l;i++)if(u[i]!==f[i])return h(u[i],f[i]);return i===e?h(n,f[i],-1):h(u[i],t,1)},h=function(n,t,i){if(n===t)return i;for(var r=n.nextSibling;r;){if(r===t)return-1;r=r.nextSibling}return 1}),function(){var n=r.createElement("div"),f="script"+(new Date).getTime(),i=r.documentElement;n.innerHTML="<a name='"+f+"'/>";i.insertBefore(n,i.firstChild);r.getElementById(f)&&(u.find.ID=function(n,i,r){if(typeof i.getElementById!="undefined"&&!r){var u=i.getElementById(n[1]);return u?u.id===n[1]||typeof u.getAttributeNode!="undefined"&&u.getAttributeNode("id").nodeValue===n[1]?[u]:t:[]}},u.filter.ID=function(n,t){var i=typeof n.getAttributeNode!="undefined"&&n.getAttributeNode("id");return n.nodeType===1&&i&&i.nodeValue===t});i.removeChild(n);i=n=null}(),function(){var n=r.createElement("div");n.appendChild(r.createComment(""));n.getElementsByTagName("*").length>0&&(u.find.TAG=function(n,t){var i=t.getElementsByTagName(n[1]),u,r;if(n[1]==="*"){for(u=[],r=0;i[r];r++)i[r].nodeType===1&&u.push(i[r]);i=u}return i});n.innerHTML="<a href='#'><\/a>";n.firstChild&&typeof n.firstChild.getAttribute!="undefined"&&n.firstChild.getAttribute("href")!=="#"&&(u.attrHandle.href=function(n){return n.getAttribute("href",2)});n=null}();r.querySelectorAll&&function(){var i=n,t=r.createElement("div"),o="__sizzle__",e;if(t.innerHTML="<p class='TEST'><\/p>",!t.querySelectorAll||t.querySelectorAll(".TEST").length!==0){n=function(t,e,s,h){var c,l;if(e=e||r,!h&&!n.isXML(e)){if(c=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(t),c&&(e.nodeType===1||e.nodeType===9)){if(c[1])return f(e.getElementsByTagName(t),s);if(c[2]&&u.find.CLASS&&e.getElementsByClassName)return f(e.getElementsByClassName(c[2]),s)}if(e.nodeType===9){if(t==="body"&&e.body)return f([e.body],s);if(c&&c[3]){if(l=e.getElementById(c[3]),!l||!l.parentNode)return f([],s);if(l.id===c[3])return f([l],s)}try{return f(e.querySelectorAll(t),s)}catch(b){}}else if(e.nodeType===1&&e.nodeName.toLowerCase()!=="object"){var w=e,v=e.getAttribute("id"),a=v||o,y=e.parentNode,p=/^\s*[+~]/.test(t);v?a=a.replace(/'/g,"\\$&"):e.setAttribute("id",a);p&&y&&(e=e.parentNode);try{if(!p||y)return f(e.querySelectorAll("[id='"+a+"'] "+t),s)}catch(k){}finally{v||w.removeAttribute("id")}}}return i(t,e,s,h)};for(e in i)n[e]=i[e];t=null}}(),function(){var t=r.documentElement,i=t.matchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.msMatchesSelector,e,f;if(i){e=!i.call(r.createElement("div"),"div");f=!1;try{i.call(r.documentElement,"[test!='']:sizzle")}catch(o){f=!0}n.matchesSelector=function(t,r){if(r=r.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']"),!n.isXML(t))try{if(f||!u.match.PSEUDO.test(r)&&!/!=/.test(r)){var o=i.call(t,r);if(o||!e||t.document&&t.document.nodeType!==11)return o}}catch(s){}return n(r,null,null,[t]).length>0}}}(),function(){var n=r.createElement("div");if(n.innerHTML="<div class='test e'><\/div><div class='test'><\/div>",!!n.getElementsByClassName&&n.getElementsByClassName("e").length!==0){if(n.lastChild.className="e",n.getElementsByClassName("e").length===1)return;u.order.splice(1,0,"CLASS");u.find.CLASS=function(n,t,i){if(typeof t.getElementsByClassName!="undefined"&&!i)return t.getElementsByClassName(n[1])};n=null}}();n.contains=r.documentElement.contains?function(n,t){return n!==t&&(n.contains?n.contains(t):!0)}:r.documentElement.compareDocumentPosition?function(n,t){return!!(n.compareDocumentPosition(t)&16)}:function(){return!1};n.isXML=function(n){var t=(n?n.ownerDocument||n:0).documentElement;return t?t.nodeName!=="HTML":!1};w=function(t,i,r){for(var e,o=[],s="",h=i.nodeType?[i]:i,f,c;e=u.match.PSEUDO.exec(t);)s+=e[0],t=t.replace(u.match.PSEUDO,"");for(t=u.relative[t]?t+"*":t,f=0,c=h.length;f<c;f++)n(t,h[f],o,r);return n.filter(s,o)};n.attr=i.attr;n.selectors.attrMap={};i.find=n;i.expr=n.selectors;i.expr[":"]=i.expr.filters;i.unique=n.uniqueSort;i.text=n.getText;i.isXMLDoc=n.isXML;i.contains=n.contains}();var bu=/Until$/,ku=/^(?:parents|prevUntil|prevAll)/,du=/,/,gu=/^.[^:#\[\.,]*$/,nf=Array.prototype.slice,gi=i.expr.match.globalPOS,tf={children:!0,contents:!0,next:!0,prev:!0};i.fn.extend({find:function(n){var s=this,t,f,r,o,u,e;if(typeof n!="string")return i(n).filter(function(){for(t=0,f=s.length;t<f;t++)if(i.contains(s[t],this))return!0});for(r=this.pushStack("","find",n),t=0,f=this.length;t<f;t++)if(o=r.length,i.find(n,this[t],r),t>0)for(u=o;u<r.length;u++)for(e=0;e<o;e++)if(r[e]===r[u]){r.splice(u--,1);break}return r},has:function(n){var t=i(n);return this.filter(function(){for(var n=0,r=t.length;n<r;n++)if(i.contains(this,t[n]))return!0})},not:function(n){return this.pushStack(fi(this,n,!1),"not",n)},filter:function(n){return this.pushStack(fi(this,n,!0),"filter",n)},is:function(n){return!!n&&(typeof n=="string"?gi.test(n)?i(n,this.context).index(this[0])>=0:i.filter(n,this).length>0:this.filter(n).length>0)},closest:function(n,t){var f=[],u,s,r=this[0],e,o;if(i.isArray(n)){for(e=1;r&&r.ownerDocument&&r!==t;){for(u=0;u<n.length;u++)i(r).is(n[u])&&f.push({selector:n[u],elem:r,level:e});r=r.parentNode;e++}return f}for(o=gi.test(n)||typeof n!="string"?i(n,t||this.context):0,u=0,s=this.length;u<s;u++)for(r=this[u];r;){if(o?o.index(r)>-1:i.find.matchesSelector(r,n)){f.push(r);break}if(r=r.parentNode,!r||!r.ownerDocument||r===t||r.nodeType===11)break}return f=f.length>1?i.unique(f):f,this.pushStack(f,"closest",n)},index:function(n){return n?typeof n=="string"?i.inArray(this[0],i(n)):i.inArray(n.jquery?n[0]:n,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(n,t){var u=typeof n=="string"?i(n,t):i.makeArray(n&&n.nodeType?[n]:n),r=i.merge(this.get(),u);return this.pushStack(ei(u[0])||ei(r[0])?r:i.unique(r))},andSelf:function(){return this.add(this.prevObject)}});i.each({parent:function(n){var t=n.parentNode;return t&&t.nodeType!==11?t:null},parents:function(n){return i.dir(n,"parentNode")},parentsUntil:function(n,t,r){return i.dir(n,"parentNode",r)},next:function(n){return i.nth(n,2,"nextSibling")},prev:function(n){return i.nth(n,2,"previousSibling")},nextAll:function(n){return i.dir(n,"nextSibling")},prevAll:function(n){return i.dir(n,"previousSibling")},nextUntil:function(n,t,r){return i.dir(n,"nextSibling",r)},prevUntil:function(n,t,r){return i.dir(n,"previousSibling",r)},siblings:function(n){return i.sibling((n.parentNode||{}).firstChild,n)},children:function(n){return i.sibling(n.firstChild)},contents:function(n){return i.nodeName(n,"iframe")?n.contentDocument||n.contentWindow.document:i.makeArray(n.childNodes)}},function(n,t){i.fn[n]=function(r,u){var f=i.map(this,t,r);return bu.test(n)||(u=r),u&&typeof u=="string"&&(f=i.filter(u,f)),f=this.length>1&&!tf[n]?i.unique(f):f,(this.length>1||du.test(u))&&ku.test(n)&&(f=f.reverse()),this.pushStack(f,n,nf.call(arguments).join(","))}});i.extend({filter:function(n,t,r){return r&&(n=":not("+n+")"),t.length===1?i.find.matchesSelector(t[0],n)?[t[0]]:[]:i.find.matches(n,t)},dir:function(n,r,u){for(var e=[],f=n[r];f&&f.nodeType!==9&&(u===t||f.nodeType!==1||!i(f).is(u));)f.nodeType===1&&e.push(f),f=f[r];return e},nth:function(n,t,i){t=t||1;for(var r=0;n;n=n[i])if(n.nodeType===1&&++r===t)break;return n},sibling:function(n,t){for(var i=[];n;n=n.nextSibling)n.nodeType===1&&n!==t&&i.push(n);return i}});var nr="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",rf=/ jQuery\d+="(?:\d+|null)"/g,ot=/^\s+/,tr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,ir=/<([\w:]+)/,uf=/<tbody/i,ff=/<|&#?\w+;/,ef=/<(?:script|style)/i,of=/<(?:script|object|embed|option|style)/i,rr=new RegExp("<(?:"+nr+")[\\s/>]","i"),ur=/checked\s*(?:[^=]|=\s*.checked.)/i,fr=/\/(java|ecma)script/i,sf=/^\s*<!(?:\[CDATA\[|\-\-)/,u={option:[1,"<select multiple='multiple'>","<\/select>"],legend:[1,"<fieldset>","<\/fieldset>"],thead:[1,"<table>","<\/table>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],td:[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],col:[2,"<table><tbody><\/tbody><colgroup>","<\/colgroup><\/table>"],area:[1,"<map>","<\/map>"],_default:[0,"",""]},st=ui(r);u.optgroup=u.option;u.tbody=u.tfoot=u.colgroup=u.caption=u.thead;u.th=u.td;i.support.htmlSerialize||(u._default=[1,"div<div>","<\/div>"]);i.fn.extend({text:function(n){return i.access(this,function(n){return n===t?i.text(this):this.empty().append((this[0]&&this[0].ownerDocument||r).createTextNode(n))},null,n,arguments.length)},wrapAll:function(n){if(i.isFunction(n))return this.each(function(t){i(this).wrapAll(n.call(this,t))});if(this[0]){var t=i(n,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]);t.map(function(){for(var n=this;n.firstChild&&n.firstChild.nodeType===1;)n=n.firstChild;return n}).append(this)}return this},wrapInner:function(n){return i.isFunction(n)?this.each(function(t){i(this).wrapInner(n.call(this,t))}):this.each(function(){var t=i(this),r=t.contents();r.length?r.wrapAll(n):t.append(n)})},wrap:function(n){var t=i.isFunction(n);return this.each(function(r){i(this).wrapAll(t?n.call(this,r):n)})},unwrap:function(){return this.parent().each(function(){i.nodeName(this,"body")||i(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(n){this.nodeType===1&&this.appendChild(n)})},prepend:function(){return this.domManip(arguments,!0,function(n){this.nodeType===1&&this.insertBefore(n,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(n){this.parentNode.insertBefore(n,this)});if(arguments.length){var n=i.clean(arguments);return n.push.apply(n,this.toArray()),this.pushStack(n,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(n){this.parentNode.insertBefore(n,this.nextSibling)});if(arguments.length){var n=this.pushStack(this,"after",arguments);return n.push.apply(n,i.clean(arguments)),n}},remove:function(n,t){for(var u=0,r;(r=this[u])!=null;u++)(!n||i.filter(n,[r]).length)&&(t||r.nodeType!==1||(i.cleanData(r.getElementsByTagName("*")),i.cleanData([r])),r.parentNode&&r.parentNode.removeChild(r));return this},empty:function(){for(var t=0,n;(n=this[t])!=null;t++)for(n.nodeType===1&&i.cleanData(n.getElementsByTagName("*"));n.firstChild;)n.removeChild(n.firstChild);return this},clone:function(n,t){return n=n==null?!1:n,t=t==null?n:t,this.map(function(){return i.clone(this,n,t)})},html:function(n){return i.access(this,function(n){var r=this[0]||{},f=0,e=this.length;if(n===t)return r.nodeType===1?r.innerHTML.replace(rf,""):null;if(typeof n=="string"&&!ef.test(n)&&(i.support.leadingWhitespace||!ot.test(n))&&!u[(ir.exec(n)||["",""])[1].toLowerCase()]){n=n.replace(tr,"<$1><\/$2>");try{for(;f<e;f++)r=this[f]||{},r.nodeType===1&&(i.cleanData(r.getElementsByTagName("*")),r.innerHTML=n);r=0}catch(o){}}r&&this.empty().append(n)},null,n,arguments.length)},replaceWith:function(n){return this[0]&&this[0].parentNode?i.isFunction(n)?this.each(function(t){var r=i(this),u=r.html();r.replaceWith(n.call(this,t,u))}):(typeof n!="string"&&(n=i(n).detach()),this.each(function(){var t=this.nextSibling,r=this.parentNode;i(this).remove();t?i(t).before(n):i(r).append(n)})):this.length?this.pushStack(i(i.isFunction(n)?n():n),"replaceWith",n):this},detach:function(n){return this.remove(n,!0)},domManip:function(n,r,u){var c,h,f,o,e=n[0],l=[];if(!i.support.checkClone&&arguments.length===3&&typeof e=="string"&&ur.test(e))return this.each(function(){i(this).domManip(n,r,u,!0)});if(i.isFunction(e))return this.each(function(f){var o=i(this);n[0]=e.call(this,f,r?o.html():t);o.domManip(n,r,u)});if(this[0]){if(o=e&&e.parentNode,c=i.support.parentNode&&o&&o.nodeType===11&&o.childNodes.length===this.length?{fragment:o}:i.buildFragment(n,this,l),f=c.fragment,h=f.childNodes.length===1?f=f.firstChild:f.firstChild,h){r=r&&i.nodeName(h,"tr");for(var s=0,a=this.length,v=a-1;s<a;s++)u.call(r?ru(this[s],h):this[s],c.cacheable||a>1&&s<v?i.clone(f,!0,!0):f)}l.length&&i.each(l,function(n,t){t.src?i.ajax({type:"GET",global:!1,url:t.src,async:!1,dataType:"script"}):i.globalEval((t.text||t.textContent||t.innerHTML||"").replace(sf,"/*$0*/"));t.parentNode&&t.parentNode.removeChild(t)})}return this}});i.buildFragment=function(n,t,u){var e,h,s,o,f=n[0];return t&&t[0]&&(o=t[0].ownerDocument||t[0]),o.createDocumentFragment||(o=r),n.length===1&&typeof f=="string"&&f.length<512&&o===r&&f.charAt(0)==="<"&&!of.test(f)&&(i.support.checkClone||!ur.test(f))&&(i.support.html5Clone||!rr.test(f))&&(h=!0,s=i.fragments[f],s&&s!==1&&(e=s)),e||(e=o.createDocumentFragment(),i.clean(n,o,e,u)),h&&(i.fragments[f]=s?e:1),{fragment:e,cacheable:h}};i.fragments={};i.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(n,t){i.fn[n]=function(r){var e=[],u=i(r),o=this.length===1&&this[0].parentNode,f,h,s;if(o&&o.nodeType===11&&o.childNodes.length===1&&u.length===1)return u[t](this[0]),this;for(f=0,h=u.length;f<h;f++)s=(f>0?this.clone(!0):this).get(),i(u[f])[t](s),e=e.concat(s);return this.pushStack(e,n,u.selector)}});i.extend({clone:function(n,t,r){var f,e,u,o=i.support.html5Clone||i.isXMLDoc(n)||!rr.test("<"+n.nodeName+">")?n.cloneNode(!0):iu(n);if((!i.support.noCloneEvent||!i.support.noCloneChecked)&&(n.nodeType===1||n.nodeType===11)&&!i.isXMLDoc(n))for(ii(n,o),f=b(n),e=b(o),u=0;f[u];++u)e[u]&&ii(f[u],e[u]);if(t&&(ri(n,o),r))for(f=b(n),e=b(o),u=0;f[u];++u)ri(f[u],e[u]);return f=e=null,o},clean:function(n,t,f,e){var k,h,c,l=[],a,o,b,v,g,nt;for(t=t||r,typeof t.createElement=="undefined"&&(t=t.ownerDocument||t[0]&&t[0].ownerDocument||r),a=0;(o=n[a])!=null;a++)if(typeof o=="number"&&(o+=""),o){if(typeof o=="string")if(ff.test(o)){o=o.replace(tr,"<$1><\/$2>");var d=(ir.exec(o)||["",""])[1].toLowerCase(),p=u[d]||u._default,tt=p[0],s=t.createElement("div"),w=st.childNodes,y;for(t===r?st.appendChild(s):ui(t).appendChild(s),s.innerHTML=p[1]+o+p[2];tt--;)s=s.lastChild;if(!i.support.tbody)for(b=uf.test(o),v=d==="table"&&!b?s.firstChild&&s.firstChild.childNodes:p[1]==="<table>"&&!b?s.childNodes:[],c=v.length-1;c>=0;--c)i.nodeName(v[c],"tbody")&&!v[c].childNodes.length&&v[c].parentNode.removeChild(v[c]);!i.support.leadingWhitespace&&ot.test(o)&&s.insertBefore(t.createTextNode(ot.exec(o)[0]),s.firstChild);o=s.childNodes;s&&(s.parentNode.removeChild(s),w.length>0&&(y=w[w.length-1],y&&y.parentNode&&y.parentNode.removeChild(y)))}else o=t.createTextNode(o);if(!i.support.appendChecked)if(o[0]&&typeof(g=o.length)=="number")for(c=0;c<g;c++)ni(o[c]);else ni(o);o.nodeType?l.push(o):l=i.merge(l,o)}if(f)for(k=function(n){return!n.type||fr.test(n.type)},a=0;l[a];a++)h=l[a],e&&i.nodeName(h,"script")&&(!h.type||fr.test(h.type))?e.push(h.parentNode?h.parentNode.removeChild(h):h):(h.nodeType===1&&(nt=i.grep(h.getElementsByTagName("script"),k),l.splice.apply(l,[a+1,0].concat(nt))),f.appendChild(h));return l},cleanData:function(n){for(var r,u,o=i.cache,s=i.event.special,h=i.support.deleteExpando,t,f,e=0;(t=n[e])!=null;e++)if((!t.nodeName||!i.noData[t.nodeName.toLowerCase()])&&(u=t[i.expando],u)){if(r=o[u],r&&r.events){for(f in r.events)s[f]?i.event.remove(t,f):i.removeEvent(t,f,r.handle);r.handle&&(r.handle.elem=null)}h?delete t[i.expando]:t.removeAttribute&&t.removeAttribute(i.expando);delete o[u]}}});var ht=/alpha\([^)]*\)/i,hf=/opacity=([^)]*)/,cf=/([A-Z]|^ms)/g,lf=/^[\-+]?(?:\d*\.)?\d+$/i,ct=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,af=/^([\-+])=([\-+.\de]+)/,vf=/^margin/,yf={position:"absolute",visibility:"hidden",display:"block"},o=["Top","Right","Bottom","Left"],a,er,or;i.fn.css=function(n,r){return i.access(this,function(n,r,u){return u!==t?i.style(n,r,u):i.css(n,r)},n,r,arguments.length>1)};i.extend({cssHooks:{opacity:{get:function(n,t){if(t){var i=a(n,"opacity");return i===""?"1":i}return n.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:i.support.cssFloat?"cssFloat":"styleFloat"},style:function(n,r,u,f){if(!!n&&n.nodeType!==3&&n.nodeType!==8&&!!n.style){var o,s,h=i.camelCase(r),c=n.style,e=i.cssHooks[h];if(r=i.cssProps[h]||h,u===t)return e&&"get"in e&&(o=e.get(n,!1,f))!==t?o:c[r];if(s=typeof u,s==="string"&&(o=af.exec(u))&&(u=+(o[1]+1)*+o[2]+parseFloat(i.css(n,r)),s="number"),u==null||s==="number"&&isNaN(u))return;if(s!=="number"||i.cssNumber[h]||(u+="px"),!e||!("set"in e)||(u=e.set(n,u))!==t)try{c[r]=u}catch(l){}}},css:function(n,r,u){var e,f;return(r=i.camelCase(r),f=i.cssHooks[r],r=i.cssProps[r]||r,r==="cssFloat"&&(r="float"),f&&"get"in f&&(e=f.get(n,!0,u))!==t)?e:a?a(n,r):void 0},swap:function(n,t,i){var u={},f,r;for(r in t)u[r]=n.style[r],n.style[r]=t[r];f=i.call(n);for(r in t)n.style[r]=u[r];return f}});i.curCSS=i.css;r.defaultView&&r.defaultView.getComputedStyle&&(er=function(n,t){var r,e,u,o,f=n.style;return t=t.replace(cf,"-$1").toLowerCase(),(e=n.ownerDocument.defaultView)&&(u=e.getComputedStyle(n,null))&&(r=u.getPropertyValue(t),r===""&&!i.contains(n.ownerDocument.documentElement,n)&&(r=i.style(n,t))),!i.support.pixelMargin&&u&&vf.test(t)&&ct.test(r)&&(o=f.width,f.width=r,r=u.width,f.width=o),r});r.documentElement.currentStyle&&(or=function(n,t){var f,u,e,i=n.currentStyle&&n.currentStyle[t],r=n.style;return i==null&&r&&(e=r[t])&&(i=e),ct.test(i)&&(f=r.left,u=n.runtimeStyle&&n.runtimeStyle.left,u&&(n.runtimeStyle.left=n.currentStyle.left),r.left=t==="fontSize"?"1em":i,i=r.pixelLeft+"px",r.left=f,u&&(n.runtimeStyle.left=u)),i===""?"auto":i});a=er||or;i.each(["height","width"],function(n,t){i.cssHooks[t]={get:function(n,r,u){if(r)return n.offsetWidth!==0?gt(n,t,u):i.swap(n,yf,function(){return gt(n,t,u)})},set:function(n,t){return lf.test(t)?t+"px":t}}});i.support.opacity||(i.cssHooks.opacity={get:function(n,t){return hf.test((t&&n.currentStyle?n.currentStyle.filter:n.style.filter)||"")?parseFloat(RegExp.$1)/100+"":t?"1":""},set:function(n,t){var r=n.style,u=n.currentStyle,e=i.isNumeric(t)?"alpha(opacity="+t*100+")":"",f=u&&u.filter||r.filter||"";(r.zoom=1,t>=1&&i.trim(f.replace(ht,""))===""&&(r.removeAttribute("filter"),u&&!u.filter))||(r.filter=ht.test(f)?f.replace(ht,e):f+" "+e)}});i(function(){i.support.reliableMarginRight||(i.cssHooks.marginRight={get:function(n,t){return i.swap(n,{display:"inline-block"},function(){return t?a(n,"margin-right"):n.style.marginRight})}})});i.expr&&i.expr.filters&&(i.expr.filters.hidden=function(n){var t=n.offsetWidth,r=n.offsetHeight;return t===0&&r===0||!i.support.reliableHiddenOffsets&&(n.style&&n.style.display||i.css(n,"display"))==="none"},i.expr.filters.visible=function(n){return!i.expr.filters.hidden(n)});i.each({margin:"",padding:"",border:"Width"},function(n,t){i.cssHooks[n+t]={expand:function(i){for(var u=typeof i=="string"?i.split(" "):[i],f={},r=0;r<4;r++)f[n+o[r]+t]=u[r]||u[r-2]||u[0];return f}}});var pf=/%20/g,wf=/\[\]$/,sr=/\r?\n/g,bf=/#.*$/,kf=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,df=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,gf=/^(?:GET|HEAD)$/,ne=/^\/\//,hr=/\?/,te=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,ie=/^(?:select|textarea)/i,cr=/\s+/,re=/([?&])_=[^&]*/,lr=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,ar=i.fn.load,lt={},vr={},s,h,yr=["*/"]+["*"];try{s=eu.href}catch(ee){s=r.createElement("a");s.href="";s=s.href}h=lr.exec(s.toLowerCase())||[];i.fn.extend({load:function(n,r,u){var f,e,o,s;return typeof n!="string"&&ar?ar.apply(this,arguments):this.length?(f=n.indexOf(" "),f>=0&&(e=n.slice(f,n.length),n=n.slice(0,f)),o="GET",r&&(i.isFunction(r)?(u=r,r=t):typeof r=="object"&&(r=i.param(r,i.ajaxSettings.traditional),o="POST")),s=this,i.ajax({url:n,type:o,dataType:"html",data:r,complete:function(n,t,r){r=n.responseText;n.isResolved()&&(n.done(function(n){r=n}),s.html(e?i("<div>").append(r.replace(te,"")).find(e):r));u&&s.each(u,[r,t,n])}}),this):this},serialize:function(){return i.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?i.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||ie.test(this.nodeName)||df.test(this.type))}).map(function(n,t){var r=i(this).val();return r==null?null:i.isArray(r)?i.map(r,function(n){return{name:t.name,value:n.replace(sr,"\r\n")}}):{name:t.name,value:r.replace(sr,"\r\n")}}).get()}});i.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(n,t){i.fn[t]=function(n){return this.on(t,n)}});i.each(["get","post"],function(n,r){i[r]=function(n,u,f,e){return i.isFunction(u)&&(e=e||f,f=u,u=t),i.ajax({type:r,url:n,data:u,success:f,dataType:e})}});i.extend({getScript:function(n,r){return i.get(n,t,r,"script")},getJSON:function(n,t,r){return i.get(n,t,r,"json")},ajaxSetup:function(n,t){return t?kt(n,i.ajaxSettings):(t=n,n=i.ajaxSettings),kt(n,t),n},ajaxSettings:{url:s,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(h[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":yr},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":n.String,"text html":!0,"text json":i.parseJSON,"text xml":i.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:dt(lt),ajaxTransport:dt(vr),ajax:function(n,r){function y(n,r,h,l){if(e!==2){e=2;nt&&clearTimeout(nt);c=t;g=l||"";f.readyState=n>0?4:0;var y,b,w,a=r,ut=h?tu(u,f,h):t,tt,it;if(n>=200&&n<300||n===304)if(u.ifModified&&((tt=f.getResponseHeader("Last-Modified"))&&(i.lastModified[o]=tt),(it=f.getResponseHeader("Etag"))&&(i.etag[o]=it)),n===304)a="notmodified",y=!0;else try{b=nu(u,ut);a="success";y=!0}catch(ft){a="parsererror";w=ft}else w=a,(!a||n)&&(a="error",n<0&&(n=0));f.status=n;f.statusText=""+(r||a);y?d.resolveWith(s,[b,a,f]):d.rejectWith(s,[f,a,w]);f.statusCode(p);p=t;v&&k.trigger("ajax"+(y?"Success":"Error"),[f,u,y?b:w]);rt.fireWith(s,[f,a]);v&&(k.trigger("ajaxComplete",[f,u]),--i.active||i.event.trigger("ajaxStop"))}}var tt,it;typeof n=="object"&&(r=n,n=t);r=r||{};var u=i.ajaxSetup({},r),s=u.context||u,k=s!==u&&(s.nodeType||s instanceof i)?i(s):i.event,d=i.Deferred(),rt=i.Callbacks("once memory"),p=u.statusCode||{},o,ut={},ft={},g,b,c,nt,l,e=0,v,a,f={readyState:0,setRequestHeader:function(n,t){if(!e){var i=n.toLowerCase();n=ft[i]=ft[i]||n;ut[n]=t}return this},getAllResponseHeaders:function(){return e===2?g:null},getResponseHeader:function(n){var i;if(e===2){if(!b)for(b={};i=kf.exec(g);)b[i[1].toLowerCase()]=i[2];i=b[n.toLowerCase()]}return i===t?null:i},overrideMimeType:function(n){return e||(u.mimeType=n),this},abort:function(n){return n=n||"abort",c&&c.abort(n),y(0,n),this}};if(d.promise(f),f.success=f.done,f.error=f.fail,f.complete=rt.add,f.statusCode=function(n){if(n){var t;if(e<2)for(t in n)p[t]=[p[t],n[t]];else t=n[f.status],f.then(t,t)}return this},u.url=((n||u.url)+"").replace(bf,"").replace(ne,h[1]+"//"),u.dataTypes=i.trim(u.dataType||"*").toLowerCase().split(cr),u.crossDomain==null&&(l=lr.exec(u.url.toLowerCase()),u.crossDomain=!(!l||l[1]==h[1]&&l[2]==h[2]&&(l[3]||(l[1]==="http:"?80:443))==(h[3]||(h[1]==="http:"?80:443)))),u.data&&u.processData&&typeof u.data!="string"&&(u.data=i.param(u.data,u.traditional)),w(lt,u,r,f),e===2)return!1;v=u.global;u.type=u.type.toUpperCase();u.hasContent=!gf.test(u.type);v&&i.active++==0&&i.event.trigger("ajaxStart");u.hasContent||(u.data&&(u.url+=(hr.test(u.url)?"&":"?")+u.data,delete u.data),o=u.url,u.cache===!1&&(tt=i.now(),it=u.url.replace(re,"$1_="+tt),u.url=it+(it===u.url?(hr.test(u.url)?"&":"?")+"_="+tt:"")));(u.data&&u.hasContent&&u.contentType!==!1||r.contentType)&&f.setRequestHeader("Content-Type",u.contentType);u.ifModified&&(o=o||u.url,i.lastModified[o]&&f.setRequestHeader("If-Modified-Since",i.lastModified[o]),i.etag[o]&&f.setRequestHeader("If-None-Match",i.etag[o]));f.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+(u.dataTypes[0]!=="*"?", "+yr+"; q=0.01":""):u.accepts["*"]);for(a in u.headers)f.setRequestHeader(a,u.headers[a]);if(u.beforeSend&&(u.beforeSend.call(s,f,u)===!1||e===2))return f.abort(),!1;for(a in{success:1,error:1,complete:1})f[a](u[a]);if(c=w(vr,u,r,f),c){f.readyState=1;v&&k.trigger("ajaxSend",[f,u]);u.async&&u.timeout>0&&(nt=setTimeout(function(){f.abort("timeout")},u.timeout));try{e=1;c.send(ut,y)}catch(et){if(e<2)y(-1,et);else throw et;}}else y(-1,"No Transport");return f},param:function(n,r){var u=[],e=function(n,t){t=i.isFunction(t)?t():t;u[u.length]=encodeURIComponent(n)+"="+encodeURIComponent(t)},f;if(r===t&&(r=i.ajaxSettings.traditional),i.isArray(n)||n.jquery&&!i.isPlainObject(n))i.each(n,function(){e(this.name,this.value)});else for(f in n)ut(f,n[f],r,e);return u.join("&").replace(pf,"+")}});i.extend({active:0,lastModified:{},etag:{}});pr=i.now();p=/(\=)\?(&|$)|\?\?/i;i.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return i.expando+"_"+pr++}});i.ajaxPrefilter("json jsonp",function(t,r,u){var h=typeof t.data=="string"&&/^application\/x\-www\-form\-urlencoded/.test(t.contentType);if(t.dataTypes[0]==="jsonp"||t.jsonp!==!1&&(p.test(t.url)||h&&p.test(t.data))){var o,f=t.jsonpCallback=i.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,c=n[f],e=t.url,s=t.data,l="$1"+f+"$2";return t.jsonp!==!1&&(e=e.replace(p,l),t.url===e&&(h&&(s=s.replace(p,l)),t.data===s&&(e+=(/\?/.test(e)?"&":"?")+t.jsonp+"="+f))),t.url=e,t.data=s,n[f]=function(n){o=[n]},u.always(function(){n[f]=c;o&&i.isFunction(c)&&n[f](o[0])}),t.converters["script json"]=function(){return o||i.error(f+" was not called"),o[0]},t.dataTypes[0]="json","script"}});i.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(n){return i.globalEval(n),n}}});i.ajaxPrefilter("script",function(n){n.cache===t&&(n.cache=!1);n.crossDomain&&(n.type="GET",n.global=!1)});i.ajaxTransport("script",function(n){if(n.crossDomain){var i,u=r.head||r.getElementsByTagName("head")[0]||r.documentElement;return{send:function(f,e){i=r.createElement("script");i.async="async";n.scriptCharset&&(i.charset=n.scriptCharset);i.src=n.url;i.onload=i.onreadystatechange=function(n,r){(r||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,u&&i.parentNode&&u.removeChild(i),i=t,r||e(200,"success"))};u.insertBefore(i,u.firstChild)},abort:function(){i&&i.onload(0,1)}}}});nt=n.ActiveXObject?function(){for(var n in v)v[n](0,1)}:!1;wr=0;i.ajaxSettings.xhr=n.ActiveXObject?function(){return!this.isLocal&&bt()||gr()}:bt,function(n){i.extend(i.support,{ajax:!!n,cors:!!n&&"withCredentials"in n})}(i.ajaxSettings.xhr());i.support.ajax&&i.ajaxTransport(function(r){if(!r.crossDomain||i.support.cors){var u;return{send:function(f,e){var o=r.xhr(),h,s;if(r.username?o.open(r.type,r.url,r.async,r.username,r.password):o.open(r.type,r.url,r.async),r.xhrFields)for(s in r.xhrFields)o[s]=r.xhrFields[s];r.mimeType&&o.overrideMimeType&&o.overrideMimeType(r.mimeType);r.crossDomain||f["X-Requested-With"]||(f["X-Requested-With"]="XMLHttpRequest");try{for(s in f)o.setRequestHeader(s,f[s])}catch(c){}o.send(r.hasContent&&r.data||null);u=function(n,f){var s,a,y,c,l;try{if(u&&(f||o.readyState===4))if(u=t,h&&(o.onreadystatechange=i.noop,nt&&delete v[h]),f)o.readyState!==4&&o.abort();else{s=o.status;y=o.getAllResponseHeaders();c={};l=o.responseXML;l&&l.documentElement&&(c.xml=l);try{c.text=o.responseText}catch(n){}try{a=o.statusText}catch(w){a=""}!s&&r.isLocal&&!r.crossDomain?s=c.text?200:404:s===1223&&(s=204)}}catch(p){f||e(-1,p)}c&&e(s,a,c,y)};!r.async||o.readyState===4?u():(h=++wr,nt&&(v||(v={},i(n).unload(nt)),v[h]=u),o.onreadystatechange=u)},abort:function(){u&&u(0,1)}}}});var at={},f,y,ue=/^(?:toggle|show|hide)$/,fe=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,tt,it=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],rt;i.fn.extend({show:function(n,t,r){var u,e,f,o;if(n||n===0)return this.animate(c("show",3),n,t,r);for(f=0,o=this.length;f<o;f++)u=this[f],u.style&&(e=u.style.display,!i._data(u,"olddisplay")&&e==="none"&&(e=u.style.display=""),(e===""&&i.css(u,"display")==="none"||!i.contains(u.ownerDocument.documentElement,u))&&i._data(u,"olddisplay",pt(u.nodeName)));for(f=0;f<o;f++)u=this[f],u.style&&(e=u.style.display,(e===""||e==="none")&&(u.style.display=i._data(u,"olddisplay")||""));return this},hide:function(n,t,r){if(n||n===0)return this.animate(c("hide",3),n,t,r);for(var f,e,u=0,o=this.length;u<o;u++)f=this[u],f.style&&(e=i.css(f,"display"),e!=="none"&&!i._data(f,"olddisplay")&&i._data(f,"olddisplay",e));for(u=0;u<o;u++)this[u].style&&(this[u].style.display="none");return this},_toggle:i.fn.toggle,toggle:function(n,t,r){var u=typeof n=="boolean";return i.isFunction(n)&&i.isFunction(t)?this._toggle.apply(this,arguments):n==null||u?this.each(function(){var t=u?n:i(this).is(":hidden");i(this)[t?"show":"hide"]()}):this.animate(c("toggle",3),n,t,r),this},fadeTo:function(n,t,i,r){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:t},n,i,r)},animate:function(n,t,r,u){function e(){f.queue===!1&&i._mark(this);var e=i.extend({},f),w=this.nodeType===1,v=w&&i(this).is(":hidden"),r,u,t,o,y,p,h,s,c,l,a;e.animatedProperties={};for(t in n)if(r=i.camelCase(t),t!==r&&(n[r]=n[t],delete n[t]),(y=i.cssHooks[r])&&"expand"in y){p=y.expand(n[r]);delete n[r];for(t in p)t in n||(n[t]=p[t])}for(r in n){if(u=n[r],i.isArray(u)?(e.animatedProperties[r]=u[1],u=n[r]=u[0]):e.animatedProperties[r]=e.specialEasing&&e.specialEasing[r]||e.easing||"swing",u==="hide"&&v||u==="show"&&!v)return e.complete.call(this);w&&(r==="height"||r==="width")&&(e.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],i.css(this,"display")==="inline"&&i.css(this,"float")==="none"&&(!i.support.inlineBlockNeedsLayout||pt(this.nodeName)==="inline"?this.style.display="inline-block":this.style.zoom=1))}e.overflow!=null&&(this.style.overflow="hidden");for(t in n)o=new i.fx(this,e,t),u=n[t],ue.test(u)?(a=i._data(this,"toggle"+t)||(u==="toggle"?v?"show":"hide":0),a?(i._data(this,"toggle"+t,a==="show"?"hide":"show"),o[a]()):o[u]()):(h=fe.exec(u),s=o.cur(),h?(c=parseFloat(h[2]),l=h[3]||(i.cssNumber[t]?"":"px"),l!=="px"&&(i.style(this,t,(c||1)+l),s=(c||1)/o.cur()*s,i.style(this,t,s+l)),h[1]&&(c=(h[1]==="-="?-1:1)*c+s),o.custom(s,c,l)):o.custom(s,u,""));return!0}var f=i.speed(t,r,u);return i.isEmptyObject(n)?this.each(f.complete,[!1]):(n=i.extend({},n),f.queue===!1?this.each(e):this.queue(f.queue,e))},stop:function(n,r,u){return typeof n!="string"&&(u=r,r=n,n=t),r&&n!==!1&&this.queue(n||"fx",[]),this.each(function(){function e(n,t,r){var f=t[r];i.removeData(n,r,!0);f.stop(u)}var t,o=!1,f=i.timers,r=i._data(this);if(u||i._unmark(!0,this),n==null)for(t in r)r[t]&&r[t].stop&&t.indexOf(".run")===t.length-4&&e(this,r,t);else r[t=n+".run"]&&r[t].stop&&e(this,r,t);for(t=f.length;t--;)f[t].elem===this&&(n==null||f[t].queue===n)&&(u?f[t](!0):f[t].saveState(),o=!0,f.splice(t,1));u&&o||i.dequeue(this,n)})}});i.each({slideDown:c("show",1),slideUp:c("hide",1),slideToggle:c("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(n,t){i.fn[n]=function(n,i,r){return this.animate(t,n,i,r)}});i.extend({speed:function(n,t,r){var u=n&&typeof n=="object"?i.extend({},n):{complete:r||!r&&t||i.isFunction(n)&&n,duration:n,easing:r&&t||t&&!i.isFunction(t)&&t};return u.duration=i.fx.off?0:typeof u.duration=="number"?u.duration:u.duration in i.fx.speeds?i.fx.speeds[u.duration]:i.fx.speeds._default,(u.queue==null||u.queue===!0)&&(u.queue="fx"),u.old=u.complete,u.complete=function(n){i.isFunction(u.old)&&u.old.call(this);u.queue?i.dequeue(this,u.queue):n!==!1&&i._unmark(this)},u},easing:{linear:function(n){return n},swing:function(n){return-Math.cos(n*Math.PI)/2+.5}},timers:[],fx:function(n,t,i){this.options=t;this.elem=n;this.prop=i;t.orig=t.orig||{}}});i.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(i.fx.step[this.prop]||i.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var t,n=i.css(this.elem,this.prop);return isNaN(t=parseFloat(n))?!n||n==="auto"?0:n:t},custom:function(n,r,u){function e(n){return f.step(n)}var f=this,o=i.fx;this.startTime=rt||wt();this.end=r;this.now=this.start=n;this.pos=this.state=0;this.unit=u||this.unit||(i.cssNumber[this.prop]?"":"px");e.queue=this.options.queue;e.elem=this.elem;e.saveState=function(){i._data(f.elem,"fxshow"+f.prop)===t&&(f.options.hide?i._data(f.elem,"fxshow"+f.prop,f.start):f.options.show&&i._data(f.elem,"fxshow"+f.prop,f.end))};e()&&i.timers.push(e)&&!tt&&(tt=setInterval(o.tick,o.interval))},show:function(){var n=i._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=n||i.style(this.elem,this.prop);this.options.show=!0;n!==t?this.custom(this.cur(),n):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());i(this.elem).show()},hide:function(){this.options.orig[this.prop]=i._data(this.elem,"fxshow"+this.prop)||i.style(this.elem,this.prop);this.options.hide=!0;this.custom(this.cur(),0)},step:function(n){var r,f,e,o=rt||wt(),s=!0,u=this.elem,t=this.options;if(n||o>=t.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();t.animatedProperties[this.prop]=!0;for(r in t.animatedProperties)t.animatedProperties[r]!==!0&&(s=!1);if(s){if(t.overflow==null||i.support.shrinkWrapBlocks||i.each(["","X","Y"],function(n,i){u.style["overflow"+i]=t.overflow[n]}),t.hide&&i(u).hide(),t.hide||t.show)for(r in t.animatedProperties)i.style(u,r,t.orig[r]),i.removeData(u,"fxshow"+r,!0),i.removeData(u,"toggle"+r,!0);e=t.complete;e&&(t.complete=!1,e.call(u))}return!1}return t.duration==Infinity?this.now=o:(f=o-this.startTime,this.state=f/t.duration,this.pos=i.easing[t.animatedProperties[this.prop]](this.state,f,0,1,t.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}};i.extend(i.fx,{tick:function(){for(var r,n=i.timers,t=0;t<n.length;t++)r=n[t],r()||n[t]!==r||n.splice(t--,1);n.length||i.fx.stop()},interval:13,stop:function(){clearInterval(tt);tt=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(n){i.style(n.elem,"opacity",n.now)},_default:function(n){n.elem.style&&n.elem.style[n.prop]!=null?n.elem.style[n.prop]=n.now+n.unit:n.elem[n.prop]=n.now}}});i.each(it.concat.apply([],it),function(n,t){t.indexOf("margin")&&(i.fx.step[t]=function(n){i.style(n.elem,t,Math.max(0,n.now)+n.unit)})});i.expr&&i.expr.filters&&(i.expr.filters.animated=function(n){return i.grep(i.timers,function(t){return n===t.elem}).length});kr=/^t(?:able|d|h)$/i;vt=/^(?:body|html)$/i;br="getBoundingClientRect"in r.documentElement?function(n,t,r,u){try{u=n.getBoundingClientRect()}catch(v){}if(!u||!i.contains(r,n))return u?{top:u.top,left:u.left}:{top:0,left:0};var f=t.body,e=yt(t),o=r.clientTop||f.clientTop||0,s=r.clientLeft||f.clientLeft||0,h=e.pageYOffset||i.support.boxModel&&r.scrollTop||f.scrollTop,c=e.pageXOffset||i.support.boxModel&&r.scrollLeft||f.scrollLeft,l=u.top+h-o,a=u.left+c-s;return{top:l,left:a}}:function(n,t,r){for(var u,c=n.offsetParent,l=n,o=t.body,h=t.defaultView,s=h?h.getComputedStyle(n,null):n.currentStyle,f=n.offsetTop,e=n.offsetLeft;(n=n.parentNode)&&n!==o&&n!==r;){if(i.support.fixedPosition&&s.position==="fixed")break;u=h?h.getComputedStyle(n,null):n.currentStyle;f-=n.scrollTop;e-=n.scrollLeft;n===c&&(f+=n.offsetTop,e+=n.offsetLeft,i.support.doesNotAddBorder&&(!i.support.doesAddBorderForTableAndCells||!kr.test(n.nodeName))&&(f+=parseFloat(u.borderTopWidth)||0,e+=parseFloat(u.borderLeftWidth)||0),l=c,c=n.offsetParent);i.support.subtractsBorderForOverflowNotVisible&&u.overflow!=="visible"&&(f+=parseFloat(u.borderTopWidth)||0,e+=parseFloat(u.borderLeftWidth)||0);s=u}return(s.position==="relative"||s.position==="static")&&(f+=o.offsetTop,e+=o.offsetLeft),i.support.fixedPosition&&s.position==="fixed"&&(f+=Math.max(r.scrollTop,o.scrollTop),e+=Math.max(r.scrollLeft,o.scrollLeft)),{top:f,left:e}};i.fn.offset=function(n){if(arguments.length)return n===t?this:this.each(function(t){i.offset.setOffset(this,n,t)});var r=this[0],u=r&&r.ownerDocument;return u?r===u.body?i.offset.bodyOffset(r):br(r,u,u.documentElement):null};i.offset={bodyOffset:function(n){var t=n.offsetTop,r=n.offsetLeft;return i.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(i.css(n,"marginTop"))||0,r+=parseFloat(i.css(n,"marginLeft"))||0),{top:t,left:r}},setOffset:function(n,t,r){var f=i.css(n,"position");f==="static"&&(n.style.position="relative");var e=i(n),o=e.offset(),l=i.css(n,"top"),a=i.css(n,"left"),v=(f==="absolute"||f==="fixed")&&i.inArray("auto",[l,a])>-1,u={},s={},h,c;v?(s=e.position(),h=s.top,c=s.left):(h=parseFloat(l)||0,c=parseFloat(a)||0);i.isFunction(t)&&(t=t.call(n,r,o));t.top!=null&&(u.top=t.top-o.top+h);t.left!=null&&(u.left=t.left-o.left+c);"using"in t?t.using.call(n,u):e.css(u)}};i.fn.extend({position:function(){if(!this[0])return null;var u=this[0],n=this.offsetParent(),t=this.offset(),r=vt.test(n[0].nodeName)?{top:0,left:0}:n.offset();return t.top-=parseFloat(i.css(u,"marginTop"))||0,t.left-=parseFloat(i.css(u,"marginLeft"))||0,r.top+=parseFloat(i.css(n[0],"borderTopWidth"))||0,r.left+=parseFloat(i.css(n[0],"borderLeftWidth"))||0,{top:t.top-r.top,left:t.left-r.left}},offsetParent:function(){return this.map(function(){for(var n=this.offsetParent||r.body;n&&!vt.test(n.nodeName)&&i.css(n,"position")==="static";)n=n.offsetParent;return n})}});i.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,r){var u=/Y/.test(r);i.fn[n]=function(f){return i.access(this,function(n,f,e){var o=yt(n);if(e===t)return o?r in o?o[r]:i.support.boxModel&&o.document.documentElement[f]||o.document.body[f]:n[f];o?o.scrollTo(u?i(o).scrollLeft():e,u?e:i(o).scrollTop()):n[f]=e},n,f,arguments.length,null)}});i.each({Height:"height",Width:"width"},function(n,r){var u="client"+n,f="scroll"+n,e="offset"+n;i.fn["inner"+n]=function(){var n=this[0];return n?n.style?parseFloat(i.css(n,r,"padding")):this[r]():null};i.fn["outer"+n]=function(n){var t=this[0];return t?t.style?parseFloat(i.css(t,r,n?"margin":"border")):this[r]():null};i.fn[r]=function(n){return i.access(this,function(n,r,o){var s,h,c,l;if(i.isWindow(n))return s=n.document,h=s.documentElement[u],i.support.boxModel&&h||s.body&&s.body[u]||h;if(n.nodeType===9)return(s=n.documentElement,s[u]>=s[f])?s[u]:Math.max(n.body[f],s[f],n.body[e],s[e]);if(o===t)return c=i.css(n,r),l=parseFloat(c),i.isNumeric(l)?l:c;i(n).css(r,o)},r,n,arguments.length,null)}});n.jQuery=n.$=i;typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return i})}(window),function(n,t){function yu(n){var t=wt[n]={};return i.each(n.split(h),function(n,i){t[i]=!0}),t}function ui(n,r,u){if(u===t&&n.nodeType===1){var f="data-"+r.replace(sr,"-$1").toLowerCase();if(u=n.getAttribute(f),typeof u=="string"){try{u=u==="true"?!0:u==="false"?!1:u==="null"?null:+u+""===u?+u:or.test(u)?i.parseJSON(u):u}catch(e){}i.data(n,r,u)}else u=t}return u}function at(n){var t;for(t in n)if((t!=="data"||!i.isEmptyObject(n[t]))&&t!=="toJSON")return!1;return!0}function a(){return!1}function d(){return!0}function b(n){return!n||!n.parentNode||n.parentNode.nodeType===11}function fi(n,t){do n=n[t];while(n&&n.nodeType!==1);return n}function ei(n,t,r){if(t=t||0,i.isFunction(t))return i.grep(n,function(n,i){var u=!!t.call(n,i,n);return u===r});if(t.nodeType)return i.grep(n,function(n){return n===t===r});if(typeof t=="string"){var u=i.grep(n,function(n){return n.nodeType===1});if(fe.test(t))return i.filter(t,u,!r);t=i.filter(t,u)}return i.grep(n,function(n){return i.inArray(n,t)>=0===r})}function oi(n){var i=kr.split("|"),t=n.createDocumentFragment();if(t.createElement)while(i.length)t.createElement(i.pop());return t}function pu(n,t){return n.getElementsByTagName(t)[0]||n.appendChild(n.ownerDocument.createElement(t))}function si(n,t){if(t.nodeType===1&&i.hasData(n)){var u,f,o,s=i._data(n),r=i._data(t,s),e=s.events;if(e){delete r.handle;r.events={};for(u in e)for(f=0,o=e[u].length;f<o;f++)i.event.add(t,u,e[u][f])}r.data&&(r.data=i.extend({},r.data))}}function hi(n,t){var r;t.nodeType===1&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(n),r=t.nodeName.toLowerCase(),r==="object"?(t.parentNode&&(t.outerHTML=n.outerHTML),i.support.html5Clone&&n.innerHTML&&!i.trim(t.innerHTML)&&(t.innerHTML=n.innerHTML)):r==="input"&&nu.test(n.type)?(t.defaultChecked=t.checked=n.checked,t.value!==n.value&&(t.value=n.value)):r==="option"?t.selected=n.defaultSelected:r==="input"||r==="textarea"?t.defaultValue=n.defaultValue:r==="script"&&t.text!==n.text&&(t.text=n.text),t.removeAttribute(i.expando))}function g(n){return typeof n.getElementsByTagName!="undefined"?n.getElementsByTagName("*"):typeof n.querySelectorAll!="undefined"?n.querySelectorAll("*"):[]}function ci(n){nu.test(n.type)&&(n.defaultChecked=n.checked)}function li(n,t){if(t in n)return t;for(var r=t.charAt(0).toUpperCase()+t.slice(1),u=t,i=fu.length;i--;)if(t=fu[i]+r,t in n)return t;return u}function nt(n,t){return n=t||n,i.css(n,"display")==="none"||!i.contains(n.ownerDocument,n)}function ai(n,t){for(var r,o,e=[],f=0,s=n.length;f<s;f++)(r=n[f],r.style)&&(e[f]=i._data(r,"olddisplay"),t?(!e[f]&&r.style.display==="none"&&(r.style.display=""),r.style.display===""&&nt(r)&&(e[f]=i._data(r,"olddisplay",wi(r.nodeName)))):(o=u(r,"display"),!e[f]&&o!=="none"&&i._data(r,"olddisplay",o)));for(f=0;f<s;f++)(r=n[f],r.style)&&(t&&r.style.display!=="none"&&r.style.display!==""||(r.style.display=t?e[f]||"":"none"));return n}function vi(n,t,i){var r=be.exec(t);return r?Math.max(0,r[1]-(i||0))+(r[2]||"px"):t}function yi(n,t,r,f){for(var e=r===(f?"border":"content")?4:t==="width"?1:0,o=0;e<4;e+=2)r==="margin"&&(o+=i.css(n,r+c[e],!0)),f?(r==="content"&&(o-=parseFloat(u(n,"padding"+c[e]))||0),r!=="margin"&&(o-=parseFloat(u(n,"border"+c[e]+"Width"))||0)):(o+=parseFloat(u(n,"padding"+c[e]))||0,r!=="padding"&&(o+=parseFloat(u(n,"border"+c[e]+"Width"))||0));return o}function pi(n,t,r){var f=t==="width"?n.offsetWidth:n.offsetHeight,e=!0,o=i.support.boxSizing&&i.css(n,"boxSizing")==="border-box";if(f<=0||f==null){if(f=u(n,t),(f<0||f==null)&&(f=n.style[t]),et.test(f))return f;e=o&&(i.support.boxSizingReliable||f===n.style[t]);f=parseFloat(f)||0}return f+yi(n,t,r||(o?"border":"content"),e)+"px"}function wi(n){if(ti[n])return ti[n];var f=i("<"+n+">").appendTo(r.body),t=f.css("display");return f.remove(),(t==="none"||t==="")&&(v=r.body.appendChild(v||i.extend(r.createElement("iframe"),{frameBorder:0,width:0,height:0})),y&&v.createElement||(y=(v.contentWindow||v.contentDocument).document,y.write("<!doctype html><html><body>"),y.close()),f=y.body.appendChild(y.createElement(n)),t=u(f,"display"),r.body.removeChild(v)),ti[n]=t,t}function vt(n,t,r,u){var f;if(i.isArray(t))i.each(t,function(t,i){r||to.test(n)?u(n,i):vt(n+"["+(typeof i=="object"?t:"")+"]",i,r,u)});else if(r||i.type(t)!=="object")u(n,t);else for(f in t)vt(n+"["+f+"]",t[f],r,u)}function bi(n){return function(t,r){typeof t!="string"&&(r=t,t="*");var u,o,f,s=t.toLowerCase().split(h),e=0,c=s.length;if(i.isFunction(r))for(;e<c;e++)u=s[e],f=/^\+/.test(u),f&&(u=u.substr(1)||"*"),o=n[u]=n[u]||[],o[f?"unshift":"push"](r)}}function tt(n,i,r,u,f,e){f=f||i.dataTypes[0];e=e||{};e[f]=!0;for(var o,s=n[f],h=0,l=s?s.length:0,c=n===ii;h<l&&(c||!o);h++)o=s[h](i,r,u),typeof o=="string"&&(!c||e[o]?o=t:(i.dataTypes.unshift(o),o=tt(n,i,r,u,o,e)));return(c||!o)&&!e["*"]&&(o=tt(n,i,r,u,"*",e)),o}function ki(n,r){var u,f,e=i.ajaxSettings.flatOptions||{};for(u in r)r[u]!==t&&((e[u]?n:f||(f={}))[u]=r[u]);f&&i.extend(!0,n,f)}function wu(n,i,r){var o,u,e,s,h=n.contents,f=n.dataTypes,c=n.responseFields;for(u in c)u in r&&(i[c[u]]=r[u]);while(f[0]==="*")f.shift(),o===t&&(o=n.mimeType||i.getResponseHeader("content-type"));if(o)for(u in h)if(h[u]&&h[u].test(o)){f.unshift(u);break}if(f[0]in r)e=f[0];else{for(u in r){if(!f[0]||n.converters[u+" "+f[0]]){e=u;break}s||(s=u)}e=e||s}if(e)return e!==f[0]&&f.unshift(e),r[e]}function bu(n,t){var i,o,r,e,s=n.dataTypes.slice(),f=s[0],u={},h=0;if(n.dataFilter&&(t=n.dataFilter(t,n.dataType)),s[1])for(i in n.converters)u[i.toLowerCase()]=n.converters[i];for(;r=s[++h];)if(r!=="*"){if(f!=="*"&&f!==r){if(i=u[f+" "+r]||u["* "+r],!i)for(o in u)if(e=o.split(" "),e[1]===r&&(i=u[f+" "+e[0]]||u["* "+e[0]],i)){i===!0?i=u[o]:u[o]!==!0&&(r=e[0],s.splice(h--,0,r));break}if(i!==!0)if(i&&n.throws)t=i(t);else try{t=i(t)}catch(c){return{state:"parsererror",error:i?c:"No conversion from "+f+" to "+r}}}f=r}return{state:"success",data:t}}function di(){try{return new n.XMLHttpRequest}catch(t){}}function ku(){try{return new n.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function gi(){return setTimeout(function(){ht=t},0),ht=i.now()}function du(n,t){i.each(t,function(t,i){for(var u=(k[t]||[]).concat(k["*"]),r=0,f=u.length;r<f;r++)if(u[r].call(n,t,i))return})}function nr(n,t,r){var e,o=0,c=lt.length,f=i.Deferred().always(function(){delete h.elem}),h=function(){for(var o=ht||gi(),t=Math.max(0,u.startTime+u.duration-o),i=1-(t/u.duration||0),r=0,e=u.tweens.length;r<e;r++)u.tweens[r].run(i);return f.notifyWith(n,[u,i,t]),i<1&&e?t:(f.resolveWith(n,[u]),!1)},u=f.promise({elem:n,props:i.extend({},t),opts:i.extend(!0,{specialEasing:{}},r),originalProperties:t,originalOptions:r,startTime:ht||gi(),duration:r.duration,tweens:[],createTween:function(t,r){var f=i.Tween(n,u.opts,t,r,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(f),f},stop:function(t){for(var i=0,r=t?u.tweens.length:0;i<r;i++)u.tweens[i].run(1);return t?f.resolveWith(n,[u,t]):f.rejectWith(n,[u,t]),this}}),s=u.props;for(gu(s,u.opts.specialEasing);o<c;o++)if(e=lt[o].call(u,n,s,u.opts),e)return e;return du(u,s),i.isFunction(u.opts.start)&&u.opts.start.call(n,u),i.fx.timer(i.extend(h,{anim:u,queue:u.opts.queue,elem:n})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function gu(n,t){var r,f,e,u,o;for(r in n)if(f=i.camelCase(r),e=t[f],u=n[r],i.isArray(u)&&(e=u[1],u=n[r]=u[0]),r!==f&&(n[f]=u,delete n[r]),o=i.cssHooks[f],o&&"expand"in o){u=o.expand(u);delete n[f];for(r in u)r in n||(n[r]=u[r],t[r]=e)}else t[f]=e}function nf(n,t,r){var o,u,a,v,h,c,f,w,s=this,e=n.style,y={},p=[],l=n.nodeType&&nt(n);r.queue||(f=i._queueHooks(n,"fx"),f.unqueued==null&&(f.unqueued=0,w=f.empty.fire,f.empty.fire=function(){f.unqueued||w()}),f.unqueued++,s.always(function(){s.always(function(){f.unqueued--;i.queue(n,"fx").length||f.empty.fire()})}));n.nodeType===1&&("height"in t||"width"in t)&&(r.overflow=[e.overflow,e.overflowX,e.overflowY],i.css(n,"display")==="inline"&&i.css(n,"float")==="none"&&(!i.support.inlineBlockNeedsLayout||wi(n.nodeName)==="inline"?e.display="inline-block":e.zoom=1));r.overflow&&(e.overflow="hidden",i.support.shrinkWrapBlocks||s.done(function(){e.overflow=r.overflow[0];e.overflowX=r.overflow[1];e.overflowY=r.overflow[2]}));for(o in t)if(a=t[o],ao.exec(a)){if(delete t[o],a===(l?"hide":"show"))continue;p.push(o)}if(v=p.length,v)for(h=i._data(n,"fxshow")||i._data(n,"fxshow",{}),l?i(n).show():s.done(function(){i(n).hide()}),s.done(function(){var t;i.removeData(n,"fxshow",!0);for(t in y)i.style(n,t,y[t])}),o=0;o<v;o++)u=p[o],c=s.createTween(u,l?h[u]:0),y[u]=h[u]||i.style(n,u),u in h||(h[u]=c.start,l&&(c.end=c.start,c.start=u==="width"||u==="height"?1:0))}function f(n,t,i,r,u){return new f.prototype.init(n,t,i,r,u)}function it(n,t){var r,i={height:n},u=0;for(t=t?1:0;u<4;u+=2-t)r=c[u],i["margin"+r]=i["padding"+r]=n;return t&&(i.opacity=i.width=n),i}function tr(n){return i.isWindow(n)?n:n.nodeType===9?n.defaultView||n.parentWindow:!1}var ir,rt,r=n.document,tf=n.location,rf=n.navigator,uf=n.jQuery,ff=n.$,rr=Array.prototype.push,o=Array.prototype.slice,ur=Array.prototype.indexOf,ef=Object.prototype.toString,yt=Object.prototype.hasOwnProperty,pt=String.prototype.trim,i=function(n,t){return new i.fn.init(n,t,ir)},ut=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,of=/\S/,h=/\s+/,sf=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,hf=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,fr=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,cf=/^[\],:{}\s]*$/,lf=/(?:^|:|,)(?:\s*\[)+/g,af=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,vf=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,yf=/^-ms-/,pf=/-([\da-z])/gi,wf=function(n,t){return(t+"").toUpperCase()},ft=function(){r.addEventListener?(r.removeEventListener("DOMContentLoaded",ft,!1),i.ready()):r.readyState==="complete"&&(r.detachEvent("onreadystatechange",ft),i.ready())},er={},wt,or,sr,w,st,vu,ri;i.fn=i.prototype={constructor:i,init:function(n,u,f){var e,o,s;if(!n)return this;if(n.nodeType)return this.context=this[0]=n,this.length=1,this;if(typeof n=="string"){if(e=n.charAt(0)==="<"&&n.charAt(n.length-1)===">"&&n.length>=3?[null,n,null]:hf.exec(n),e&&(e[1]||!u)){if(e[1])return u=u instanceof i?u[0]:u,s=u&&u.nodeType?u.ownerDocument||u:r,n=i.parseHTML(e[1],s,!0),fr.test(e[1])&&i.isPlainObject(u)&&this.attr.call(n,u,!0),i.merge(this,n);if(o=r.getElementById(e[2]),o&&o.parentNode){if(o.id!==e[2])return f.find(n);this.length=1;this[0]=o}return this.context=r,this.selector=n,this}return!u||u.jquery?(u||f).find(n):this.constructor(u).find(n)}return i.isFunction(n)?f.ready(n):(n.selector!==t&&(this.selector=n.selector,this.context=n.context),i.makeArray(n,this))},selector:"",jquery:"1.8.2",length:0,size:function(){return this.length},toArray:function(){return o.call(this)},get:function(n){return n==null?this.toArray():n<0?this[this.length+n]:this[n]},pushStack:function(n,t,r){var u=i.merge(this.constructor(),n);return u.prevObject=this,u.context=this.context,t==="find"?u.selector=this.selector+(this.selector?" ":"")+r:t&&(u.selector=this.selector+"."+t+"("+r+")"),u},each:function(n,t){return i.each(this,n,t)},ready:function(n){return i.ready.promise().done(n),this},eq:function(n){return n=+n,n===-1?this.slice(n):this.slice(n,n+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(o.apply(this,arguments),"slice",o.call(arguments).join(","))},map:function(n){return this.pushStack(i.map(this,function(t,i){return n.call(t,i,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:rr,sort:[].sort,splice:[].splice};i.fn.init.prototype=i.fn;i.extend=i.fn.extend=function(){var o,e,u,r,s,h,n=arguments[0]||{},f=1,l=arguments.length,c=!1;for(typeof n=="boolean"&&(c=n,n=arguments[1]||{},f=2),typeof n!="object"&&!i.isFunction(n)&&(n={}),l===f&&(n=this,--f);f<l;f++)if((o=arguments[f])!=null)for(e in o)(u=n[e],r=o[e],n!==r)&&(c&&r&&(i.isPlainObject(r)||(s=i.isArray(r)))?(s?(s=!1,h=u&&i.isArray(u)?u:[]):h=u&&i.isPlainObject(u)?u:{},n[e]=i.extend(c,h,r)):r!==t&&(n[e]=r));return n};i.extend({noConflict:function(t){return n.$===i&&(n.$=ff),t&&n.jQuery===i&&(n.jQuery=uf),i},isReady:!1,readyWait:1,holdReady:function(n){n?i.readyWait++:i.ready(!0)},ready:function(n){if(n===!0?!--i.readyWait:!i.isReady){if(!r.body)return setTimeout(i.ready,1);(i.isReady=!0,n!==!0&&--i.readyWait>0)||(rt.resolveWith(r,[i]),i.fn.trigger&&i(r).trigger("ready").off("ready"))}},isFunction:function(n){return i.type(n)==="function"},isArray:Array.isArray||function(n){return i.type(n)==="array"},isWindow:function(n){return n!=null&&n==n.window},isNumeric:function(n){return!isNaN(parseFloat(n))&&isFinite(n)},type:function(n){return n==null?String(n):er[ef.call(n)]||"object"},isPlainObject:function(n){if(!n||i.type(n)!=="object"||n.nodeType||i.isWindow(n))return!1;try{if(n.constructor&&!yt.call(n,"constructor")&&!yt.call(n.constructor.prototype,"isPrototypeOf"))return!1}catch(u){return!1}var r;for(r in n);return r===t||yt.call(n,r)},isEmptyObject:function(n){var t;for(t in n)return!1;return!0},error:function(n){throw new Error(n);},parseHTML:function(n,t,u){var f;return!n||typeof n!="string"?null:(typeof t=="boolean"&&(u=t,t=0),t=t||r,(f=fr.exec(n))?[t.createElement(f[1])]:(f=i.buildFragment([n],t,u?null:[]),i.merge([],(f.cacheable?i.clone(f.fragment):f.fragment).childNodes)))},parseJSON:function(t){if(!t||typeof t!="string")return null;if(t=i.trim(t),n.JSON&&n.JSON.parse)return n.JSON.parse(t);if(cf.test(t.replace(af,"@").replace(vf,"]").replace(lf,"")))return new Function("return "+t)();i.error("Invalid JSON: "+t)},parseXML:function(r){var u,f;if(!r||typeof r!="string")return null;try{n.DOMParser?(f=new DOMParser,u=f.parseFromString(r,"text/xml")):(u=new ActiveXObject("Microsoft.XMLDOM"),u.async="false",u.loadXML(r))}catch(e){u=t}return(!u||!u.documentElement||u.getElementsByTagName("parsererror").length)&&i.error("Invalid XML: "+r),u},noop:function(){},globalEval:function(t){t&&of.test(t)&&(n.execScript||function(t){n.eval.call(n,t)})(t)},camelCase:function(n){return n.replace(yf,"ms-").replace(pf,wf)},nodeName:function(n,t){return n.nodeName&&n.nodeName.toLowerCase()===t.toLowerCase()},each:function(n,r,u){var f,e=0,o=n.length,s=o===t||i.isFunction(n);if(u){if(s){for(f in n)if(r.apply(n[f],u)===!1)break}else for(;e<o;)if(r.apply(n[e++],u)===!1)break}else if(s){for(f in n)if(r.call(n[f],f,n[f])===!1)break}else for(;e<o;)if(r.call(n[e],e,n[e++])===!1)break;return n},trim:pt&&!pt.call("ï»¿Â ")?function(n){return n==null?"":pt.call(n)}:function(n){return n==null?"":(n+"").replace(sf,"")},makeArray:function(n,t){var r,u=t||[];return n!=null&&(r=i.type(n),n.length==null||r==="string"||r==="function"||r==="regexp"||i.isWindow(n)?rr.call(u,n):i.merge(u,n)),u},inArray:function(n,t,i){var r;if(t){if(ur)return ur.call(t,n,i);for(r=t.length,i=i?i<0?Math.max(0,r+i):i:0;i<r;i++)if(i in t&&t[i]===n)return i}return-1},merge:function(n,i){var f=i.length,u=n.length,r=0;if(typeof f=="number")for(;r<f;r++)n[u++]=i[r];else while(i[r]!==t)n[u++]=i[r++];return n.length=u,n},grep:function(n,t,i){var u,f=[],r=0,e=n.length;for(i=!!i;r<e;r++)u=!!t(n[r],r),i!==u&&f.push(n[r]);return f},map:function(n,r,u){var f,h,e=[],s=0,o=n.length,c=n instanceof i||o!==t&&typeof o=="number"&&(o>0&&n[0]&&n[o-1]||o===0||i.isArray(n));if(c)for(;s<o;s++)f=r(n[s],s,u),f!=null&&(e[e.length]=f);else for(h in n)f=r(n[h],h,u),f!=null&&(e[e.length]=f);return e.concat.apply([],e)},guid:1,proxy:function(n,r){var f,e,u;return typeof r=="string"&&(f=n[r],r=n,n=f),i.isFunction(n)?(e=o.call(arguments,2),u=function(){return n.apply(r,e.concat(o.call(arguments)))},u.guid=n.guid=n.guid||i.guid++,u):t},access:function(n,r,u,f,e,o,s){var c,l=u==null,h=0,a=n.length;if(u&&typeof u=="object"){for(h in u)i.access(n,r,h,u[h],1,o,f);e=1}else if(f!==t){if(c=s===t&&i.isFunction(f),l&&(c?(c=r,r=function(n,t,r){return c.call(i(n),r)}):(r.call(n,f),r=null)),r)for(;h<a;h++)r(n[h],u,c?f.call(n[h],h,r(n[h],u)):f,s);e=1}return e?n:l?r.call(n):a?r(n[0],u):o},now:function(){return(new Date).getTime()}});i.ready.promise=function(t){if(!rt)if(rt=i.Deferred(),r.readyState==="complete")setTimeout(i.ready,1);else if(r.addEventListener)r.addEventListener("DOMContentLoaded",ft,!1),n.addEventListener("load",i.ready,!1);else{r.attachEvent("onreadystatechange",ft);n.attachEvent("onload",i.ready);var u=!1;try{u=n.frameElement==null&&r.documentElement}catch(e){}u&&u.doScroll&&function f(){if(!i.isReady){try{u.doScroll("left")}catch(n){return setTimeout(f,50)}i.ready()}}()}return rt.promise(t)};i.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(n,t){er["[object "+t+"]"]=t.toLowerCase()});ir=i(r);wt={};i.Callbacks=function(n){n=typeof n=="string"?wt[n]||yu(n):i.extend({},n);var f,c,o,l,s,e,r=[],u=!n.once&&[],a=function(t){for(f=n.memory&&t,c=!0,e=l||0,l=0,s=r.length,o=!0;r&&e<s;e++)if(r[e].apply(t[0],t[1])===!1&&n.stopOnFalse){f=!1;break}o=!1;r&&(u?u.length&&a(u.shift()):f?r=[]:h.disable())},h={add:function(){if(r){var t=r.length;(function u(t){i.each(t,function(t,f){var e=i.type(f);e==="function"&&(!n.unique||!h.has(f))?r.push(f):f&&f.length&&e!=="string"&&u(f)})})(arguments);o?s=r.length:f&&(l=t,a(f))}return this},remove:function(){return r&&i.each(arguments,function(n,t){for(var u;(u=i.inArray(t,r,u))>-1;)r.splice(u,1),o&&(u<=s&&s--,u<=e&&e--)}),this},has:function(n){return i.inArray(n,r)>-1},empty:function(){return r=[],this},disable:function(){return r=u=f=t,this},disabled:function(){return!r},lock:function(){return u=t,f||h.disable(),this},locked:function(){return!u},fireWith:function(n,t){return t=t||[],t=[n,t.slice?t.slice():t],r&&(!c||u)&&(o?u.push(t):a(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!c}};return h};i.extend({Deferred:function(n){var u=[["resolve","done",i.Callbacks("once memory"),"resolved"],["reject","fail",i.Callbacks("once memory"),"rejected"],["notify","progress",i.Callbacks("memory")]],f="pending",r={state:function(){return f},always:function(){return t.done(arguments).fail(arguments),this},then:function(){var n=arguments;return i.Deferred(function(r){i.each(u,function(u,f){var e=f[0],o=n[u];t[f[1]](i.isFunction(o)?function(){var n=o.apply(this,arguments);n&&i.isFunction(n.promise)?n.promise().done(r.resolve).fail(r.reject).progress(r.notify):r[e+"With"](this===t?r:this,[n])}:r[e])});n=null}).promise()},promise:function(n){return n!=null?i.extend(n,r):r}},t={};return r.pipe=r.then,i.each(u,function(n,i){var e=i[2],o=i[3];r[i[1]]=e.add;o&&e.add(function(){f=o},u[n^1][2].disable,u[2][2].lock);t[i[0]]=e.fire;t[i[0]+"With"]=e.fireWith}),r.promise(t),n&&n.call(t,t),t},when:function(n){var t=0,u=o.call(arguments),r=u.length,e=r!==1||n&&i.isFunction(n.promise)?r:0,f=e===1?n:i.Deferred(),c=function(n,t,i){return function(r){t[n]=this;i[n]=arguments.length>1?o.call(arguments):r;i===s?f.notifyWith(t,i):--e||f.resolveWith(t,i)}},s,l,h;if(r>1)for(s=new Array(r),l=new Array(r),h=new Array(r);t<r;t++)u[t]&&i.isFunction(u[t].promise)?u[t].promise().done(c(t,h,u)).fail(f.reject).progress(c(t,l,s)):--e;return e||f.resolveWith(h,u),f.promise()}});i.support=function(){var u,h,e,c,l,f,o,a,v,s,y,t=r.createElement("div");if(t.setAttribute("className","t"),t.innerHTML="  <link/><table><\/table><a href='/a'>a<\/a><input type='checkbox'/>",h=t.getElementsByTagName("*"),e=t.getElementsByTagName("a")[0],e.style.cssText="top:1px;float:left;opacity:.5",!h||!h.length)return{};c=r.createElement("select");l=c.appendChild(r.createElement("option"));f=t.getElementsByTagName("input")[0];u={leadingWhitespace:t.firstChild.nodeType===3,tbody:!t.getElementsByTagName("tbody").length,htmlSerialize:!!t.getElementsByTagName("link").length,style:/top/.test(e.getAttribute("style")),hrefNormalized:e.getAttribute("href")==="/a",opacity:/^0.5/.test(e.style.opacity),cssFloat:!!e.style.cssFloat,checkOn:f.value==="on",optSelected:l.selected,getSetAttribute:t.className!=="t",enctype:!!r.createElement("form").enctype,html5Clone:r.createElement("nav").cloneNode(!0).outerHTML!=="<:nav><\/:nav>",boxModel:r.compatMode==="CSS1Compat",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1};f.checked=!0;u.noCloneChecked=f.cloneNode(!0).checked;c.disabled=!0;u.optDisabled=!l.disabled;try{delete t.test}catch(p){u.deleteExpando=!1}if(!t.addEventListener&&t.attachEvent&&t.fireEvent&&(t.attachEvent("onclick",y=function(){u.noCloneEvent=!1}),t.cloneNode(!0).fireEvent("onclick"),t.detachEvent("onclick",y)),f=r.createElement("input"),f.value="t",f.setAttribute("type","radio"),u.radioValue=f.value==="t",f.setAttribute("checked","checked"),f.setAttribute("name","t"),t.appendChild(f),o=r.createDocumentFragment(),o.appendChild(t.lastChild),u.checkClone=o.cloneNode(!0).cloneNode(!0).lastChild.checked,u.appendChecked=f.checked,o.removeChild(f),o.appendChild(t),t.attachEvent)for(v in{submit:!0,change:!0,focusin:!0})a="on"+v,s=a in t,s||(t.setAttribute(a,"return;"),s=typeof t[a]=="function"),u[v+"Bubbles"]=s;return i(function(){var i,t,f,e,h="padding:0;margin:0;border:0;display:block;overflow:hidden;",o=r.getElementsByTagName("body")[0];o&&(i=r.createElement("div"),i.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",o.insertBefore(i,o.firstChild),t=r.createElement("div"),i.appendChild(t),t.innerHTML="<table><tr><td><\/td><td>t<\/td><\/tr><\/table>",f=t.getElementsByTagName("td"),f[0].style.cssText="padding:0;margin:0;border:0;display:none",s=f[0].offsetHeight===0,f[0].style.display="",f[1].style.display="none",u.reliableHiddenOffsets=s&&f[0].offsetHeight===0,t.innerHTML="",t.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",u.boxSizing=t.offsetWidth===4,u.doesNotIncludeMarginInBodyOffset=o.offsetTop!==1,n.getComputedStyle&&(u.pixelPosition=(n.getComputedStyle(t,null)||{}).top!=="1%",u.boxSizingReliable=(n.getComputedStyle(t,null)||{width:"4px"}).width==="4px",e=r.createElement("div"),e.style.cssText=t.style.cssText=h,e.style.marginRight=e.style.width="0",t.style.width="1px",t.appendChild(e),u.reliableMarginRight=!parseFloat((n.getComputedStyle(e,null)||{}).marginRight)),typeof t.style.zoom!="undefined"&&(t.innerHTML="",t.style.cssText=h+"width:1px;padding:1px;display:inline;zoom:1",u.inlineBlockNeedsLayout=t.offsetWidth===3,t.style.display="block",t.style.overflow="visible",t.innerHTML="<div><\/div>",t.firstChild.style.width="5px",u.shrinkWrapBlocks=t.offsetWidth!==3,i.style.zoom=1),o.removeChild(i),i=t=f=e=null)}),o.removeChild(t),h=e=c=l=f=o=t=null,u}();or=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/;sr=/([A-Z])/g;i.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(i.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(n){return n=n.nodeType?i.cache[n[i.expando]]:n[i.expando],!!n&&!at(n)},data:function(n,r,u,f){if(i.acceptData(n)){var s,h,c=i.expando,a=typeof r=="string",l=n.nodeType,o=l?i.cache:n,e=l?n[c]:n[c]&&c;if(e&&o[e]&&(f||o[e].data)||!a||u!==t)return e||(l?n[c]=e=i.deletedIds.pop()||i.guid++:e=c),o[e]||(o[e]={},l||(o[e].toJSON=i.noop)),(typeof r=="object"||typeof r=="function")&&(f?o[e]=i.extend(o[e],r):o[e].data=i.extend(o[e].data,r)),s=o[e],f||(s.data||(s.data={}),s=s.data),u!==t&&(s[i.camelCase(r)]=u),a?(h=s[r],h==null&&(h=s[i.camelCase(r)])):h=s,h}},removeData:function(n,t,r){if(i.acceptData(n)){var e,o,h,s=n.nodeType,u=s?i.cache:n,f=s?n[i.expando]:i.expando;if(u[f]){if(t&&(e=r?u[f]:u[f].data,e)){for(i.isArray(t)||((t in e)?t=[t]:(t=i.camelCase(t),t=(t in e)?[t]:t.split(" "))),o=0,h=t.length;o<h;o++)delete e[t[o]];if(!(r?at:i.isEmptyObject)(e))return}(r||(delete u[f].data,at(u[f])))&&(s?i.cleanData([n],!0):i.support.deleteExpando||u!=u.window?delete u[f]:u[f]=null)}}},_data:function(n,t,r){return i.data(n,t,r,!0)},acceptData:function(n){var t=n.nodeName&&i.noData[n.nodeName.toLowerCase()];return!t||t!==!0&&n.getAttribute("classid")===t}});i.fn.extend({data:function(n,r){var u,s,h,o,l,e=this[0],c=0,f=null;if(n===t){if(this.length&&(f=i.data(e),e.nodeType===1&&!i._data(e,"parsedAttrs"))){for(h=e.attributes,l=h.length;c<l;c++)o=h[c].name,o.indexOf("data-")||(o=i.camelCase(o.substring(5)),ui(e,o,f[o]));i._data(e,"parsedAttrs",!0)}return f}return typeof n=="object"?this.each(function(){i.data(this,n)}):(u=n.split(".",2),u[1]=u[1]?"."+u[1]:"",s=u[1]+"!",i.access(this,function(r){if(r===t)return f=this.triggerHandler("getData"+s,[u[0]]),f===t&&e&&(f=i.data(e,n),f=ui(e,n,f)),f===t&&u[1]?this.data(u[0]):f;u[1]=r;this.each(function(){var t=i(this);t.triggerHandler("setData"+s,u);i.data(this,n,r);t.triggerHandler("changeData"+s,u)})},null,r,arguments.length>1,null,!1))},removeData:function(n){return this.each(function(){i.removeData(this,n)})}});i.extend({queue:function(n,t,r){var u;if(n)return t=(t||"fx")+"queue",u=i._data(n,t),r&&(!u||i.isArray(r)?u=i._data(n,t,i.makeArray(r)):u.push(r)),u||[]},dequeue:function(n,t){t=t||"fx";var r=i.queue(n,t),e=r.length,u=r.shift(),f=i._queueHooks(n,t),o=function(){i.dequeue(n,t)};u==="inprogress"&&(u=r.shift(),e--);u&&(t==="fx"&&r.unshift("inprogress"),delete f.stop,u.call(n,o,f));!e&&f&&f.empty.fire()},_queueHooks:function(n,t){var r=t+"queueHooks";return i._data(n,r)||i._data(n,r,{empty:i.Callbacks("once memory").add(function(){i.removeData(n,t+"queue",!0);i.removeData(n,r,!0)})})}});i.fn.extend({queue:function(n,r){var u=2;return typeof n!="string"&&(r=n,n="fx",u--),arguments.length<u?i.queue(this[0],n):r===t?this:this.each(function(){var t=i.queue(this,n,r);i._queueHooks(this,n);n==="fx"&&t[0]!=="inprogress"&&i.dequeue(this,n)})},dequeue:function(n){return this.each(function(){i.dequeue(this,n)})},delay:function(n,t){return n=i.fx?i.fx.speeds[n]||n:n,t=t||"fx",this.queue(t,function(t,i){var r=setTimeout(t,n);i.stop=function(){clearTimeout(r)}})},clearQueue:function(n){return this.queue(n||"fx",[])},promise:function(n,r){var u,e=1,o=i.Deferred(),f=this,s=this.length,h=function(){--e||o.resolveWith(f,[f])};for(typeof n!="string"&&(r=n,n=t),n=n||"fx";s--;)u=i._data(f[s],n+"queueHooks"),u&&u.empty&&(e++,u.empty.add(h));return h(),o.promise(r)}});var s,hr,cr,lr=/[\t\r\n]/g,bf=/\r/g,kf=/^(?:button|input)$/i,df=/^(?:button|input|object|select|textarea)$/i,gf=/^a(?:rea|)$/i,ar=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,vr=i.support.getSetAttribute;i.fn.extend({attr:function(n,t){return i.access(this,i.attr,n,t,arguments.length>1)},removeAttr:function(n){return this.each(function(){i.removeAttr(this,n)})},prop:function(n,t){return i.access(this,i.prop,n,t,arguments.length>1)},removeProp:function(n){return n=i.propFix[n]||n,this.each(function(){try{this[n]=t;delete this[n]}catch(i){}})},addClass:function(n){var r,f,o,t,e,u,s;if(i.isFunction(n))return this.each(function(t){i(this).addClass(n.call(this,t,this.className))});if(n&&typeof n=="string")for(r=n.split(h),f=0,o=this.length;f<o;f++)if(t=this[f],t.nodeType===1)if(t.className||r.length!==1){for(e=" "+t.className+" ",u=0,s=r.length;u<s;u++)e.indexOf(" "+r[u]+" ")<0&&(e+=r[u]+" ");t.className=i.trim(e)}else t.className=n;return this},removeClass:function(n){var e,r,u,f,s,o,c;if(i.isFunction(n))return this.each(function(t){i(this).removeClass(n.call(this,t,this.className))});if(n&&typeof n=="string"||n===t)for(e=(n||"").split(h),o=0,c=this.length;o<c;o++)if(u=this[o],u.nodeType===1&&u.className){for(r=(" "+u.className+" ").replace(lr," "),f=0,s=e.length;f<s;f++)while(r.indexOf(" "+e[f]+" ")>=0)r=r.replace(" "+e[f]+" "," ");u.className=n?i.trim(r):""}return this},toggleClass:function(n,t){var r=typeof n,u=typeof t=="boolean";return i.isFunction(n)?this.each(function(r){i(this).toggleClass(n.call(this,r,this.className,t),t)}):this.each(function(){if(r==="string")for(var f,s=0,o=i(this),e=t,c=n.split(h);f=c[s++];)e=u?e:!o.hasClass(f),o[e?"addClass":"removeClass"](f);else(r==="undefined"||r==="boolean")&&(this.className&&i._data(this,"__className__",this.className),this.className=this.className||n===!1?"":i._data(this,"__className__")||"")})},hasClass:function(n){for(var i=" "+n+" ",t=0,r=this.length;t<r;t++)if(this[t].nodeType===1&&(" "+this[t].className+" ").replace(lr," ").indexOf(i)>=0)return!0;return!1},val:function(n){var r,u,e,f=this[0];return arguments.length?(e=i.isFunction(n),this.each(function(u){var f,o=i(this);this.nodeType===1&&(f=e?n.call(this,u,o.val()):n,f==null?f="":typeof f=="number"?f+="":i.isArray(f)&&(f=i.map(f,function(n){return n==null?"":n+""})),r=i.valHooks[this.type]||i.valHooks[this.nodeName.toLowerCase()],r&&"set"in r&&r.set(this,f,"value")!==t||(this.value=f))})):f?(r=i.valHooks[f.type]||i.valHooks[f.nodeName.toLowerCase()],r&&"get"in r&&(u=r.get(f,"value"))!==t?u:(u=f.value,typeof u=="string"?u.replace(bf,""):u==null?"":u)):void 0}});i.extend({valHooks:{option:{get:function(n){var t=n.attributes.value;return!t||t.specified?n.value:n.text}},select:{get:function(n){var o,r,h,t,u=n.selectedIndex,s=[],f=n.options,e=n.type==="select-one";if(u<0)return null;for(r=e?u:0,h=e?u+1:f.length;r<h;r++)if(t=f[r],t.selected&&(i.support.optDisabled?!t.disabled:t.getAttribute("disabled")===null)&&(!t.parentNode.disabled||!i.nodeName(t.parentNode,"optgroup"))){if(o=i(t).val(),e)return o;s.push(o)}return e&&!s.length&&f.length?i(f[u]).val():s},set:function(n,t){var r=i.makeArray(t);return i(n).find("option").each(function(){this.selected=i.inArray(i(this).val(),r)>=0}),r.length||(n.selectedIndex=-1),r}}},attrFn:{},attr:function(n,r,u,f){var e,o,h,c=n.nodeType;if(n&&c!==3&&c!==8&&c!==2){if(f&&i.isFunction(i.fn[r]))return i(n)[r](u);if(typeof n.getAttribute=="undefined")return i.prop(n,r,u);if(h=c!==1||!i.isXMLDoc(n),h&&(r=r.toLowerCase(),o=i.attrHooks[r]||(ar.test(r)?hr:s)),u!==t){if(u===null){i.removeAttr(n,r);return}return o&&"set"in o&&h&&(e=o.set(n,u,r))!==t?e:(n.setAttribute(r,u+""),u)}return o&&"get"in o&&h&&(e=o.get(n,r))!==null?e:(e=n.getAttribute(r),e===null?t:e)}},removeAttr:function(n,t){var u,f,r,e,o=0;if(t&&n.nodeType===1)for(f=t.split(h);o<f.length;o++)r=f[o],r&&(u=i.propFix[r]||r,e=ar.test(r),e||i.attr(n,r,""),n.removeAttribute(vr?r:u),e&&u in n&&(n[u]=!1))},attrHooks:{type:{set:function(n,t){if(kf.test(n.nodeName)&&n.parentNode)i.error("type property can't be changed");else if(!i.support.radioValue&&t==="radio"&&i.nodeName(n,"input")){var r=n.value;return n.setAttribute("type",t),r&&(n.value=r),t}}},value:{get:function(n,t){return s&&i.nodeName(n,"button")?s.get(n,t):t in n?n.value:null},set:function(n,t,r){if(s&&i.nodeName(n,"button"))return s.set(n,t,r);n.value=t}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(n,r,u){var e,f,s,o=n.nodeType;if(n&&o!==3&&o!==8&&o!==2)return s=o!==1||!i.isXMLDoc(n),s&&(r=i.propFix[r]||r,f=i.propHooks[r]),u!==t?f&&"set"in f&&(e=f.set(n,u,r))!==t?e:n[r]=u:f&&"get"in f&&(e=f.get(n,r))!==null?e:n[r]},propHooks:{tabIndex:{get:function(n){var i=n.getAttributeNode("tabindex");return i&&i.specified?parseInt(i.value,10):df.test(n.nodeName)||gf.test(n.nodeName)&&n.href?0:t}}}});hr={get:function(n,r){var u,f=i.prop(n,r);return f===!0||typeof f!="boolean"&&(u=n.getAttributeNode(r))&&u.nodeValue!==!1?r.toLowerCase():t},set:function(n,t,r){var u;return t===!1?i.removeAttr(n,r):(u=i.propFix[r]||r,u in n&&(n[u]=!0),n.setAttribute(r,r.toLowerCase())),r}};vr||(cr={name:!0,id:!0,coords:!0},s=i.valHooks.button={get:function(n,i){var r;return r=n.getAttributeNode(i),r&&(cr[i]?r.value!=="":r.specified)?r.value:t},set:function(n,t,i){var u=n.getAttributeNode(i);return u||(u=r.createAttribute(i),n.setAttributeNode(u)),u.value=t+""}},i.each(["width","height"],function(n,t){i.attrHooks[t]=i.extend(i.attrHooks[t],{set:function(n,i){if(i==="")return n.setAttribute(t,"auto"),i}})}),i.attrHooks.contenteditable={get:s.get,set:function(n,t,i){t===""&&(t="false");s.set(n,t,i)}});i.support.hrefNormalized||i.each(["href","src","width","height"],function(n,r){i.attrHooks[r]=i.extend(i.attrHooks[r],{get:function(n){var i=n.getAttribute(r,2);return i===null?t:i}})});i.support.style||(i.attrHooks.style={get:function(n){return n.style.cssText.toLowerCase()||t},set:function(n,t){return n.style.cssText=t+""}});i.support.optSelected||(i.propHooks.selected=i.extend(i.propHooks.selected,{get:function(n){var t=n.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}));i.support.enctype||(i.propFix.enctype="encoding");i.support.checkOn||i.each(["radio","checkbox"],function(){i.valHooks[this]={get:function(n){return n.getAttribute("value")===null?"on":n.value}}});i.each(["radio","checkbox"],function(){i.valHooks[this]=i.extend(i.valHooks[this],{set:function(n,t){if(i.isArray(t))return n.checked=i.inArray(i(n).val(),t)>=0}})});var bt=/^(?:textarea|input|select)$/i,yr=/^([^\.]*|)(?:\.(.+)|)$/,ne=/(?:^|\s)hover(\.\S+|)\b/,te=/^key/,ie=/^(?:mouse|contextmenu)|click/,pr=/^(?:focusinfocus|focusoutblur)$/,wr=function(n){return i.event.special.hover?n:n.replace(ne,"mouseenter$1 mouseleave$1")};i.event={add:function(n,r,u,f,e){var a,s,v,y,p,o,b,l,w,c,h;if(n.nodeType!==3&&n.nodeType!==8&&r&&u&&(a=i._data(n))){for(u.handler&&(w=u,u=w.handler,e=w.selector),u.guid||(u.guid=i.guid++),v=a.events,v||(a.events=v={}),s=a.handle,s||(a.handle=s=function(n){return typeof i!="undefined"&&(!n||i.event.triggered!==n.type)?i.event.dispatch.apply(s.elem,arguments):t},s.elem=n),r=i.trim(wr(r)).split(" "),y=0;y<r.length;y++)p=yr.exec(r[y])||[],o=p[1],b=(p[2]||"").split(".").sort(),h=i.event.special[o]||{},o=(e?h.delegateType:h.bindType)||o,h=i.event.special[o]||{},l=i.extend({type:o,origType:p[1],data:f,handler:u,guid:u.guid,selector:e,needsContext:e&&i.expr.match.needsContext.test(e),namespace:b.join(".")},w),c=v[o],c||(c=v[o]=[],c.delegateCount=0,h.setup&&h.setup.call(n,f,b,s)!==!1||(n.addEventListener?n.addEventListener(o,s,!1):n.attachEvent&&n.attachEvent("on"+o,s))),h.add&&(h.add.call(n,l),l.handler.guid||(l.handler.guid=u.guid)),e?c.splice(c.delegateCount++,0,l):c.push(l),i.event.global[o]=!0;n=null}},global:{},remove:function(n,t,r,u,f){var l,p,e,w,h,b,a,v,c,o,s,y=i.hasData(n)&&i._data(n);if(y&&(v=y.events)){for(t=i.trim(wr(t||"")).split(" "),l=0;l<t.length;l++){if(p=yr.exec(t[l])||[],e=w=p[1],h=p[2],!e){for(e in v)i.event.remove(n,e+t[l],r,u,!0);continue}for(c=i.event.special[e]||{},e=(u?c.delegateType:c.bindType)||e,o=v[e]||[],b=o.length,h=h?new RegExp("(^|\\.)"+h.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,a=0;a<o.length;a++)s=o[a],(f||w===s.origType)&&(!r||r.guid===s.guid)&&(!h||h.test(s.namespace))&&(!u||u===s.selector||u==="**"&&s.selector)&&(o.splice(a--,1),s.selector&&o.delegateCount--,c.remove&&c.remove.call(n,s));o.length===0&&b!==o.length&&((!c.teardown||c.teardown.call(n,h,y.handle)===!1)&&i.removeEvent(n,e,y.handle),delete v[e])}i.isEmptyObject(v)&&(delete y.handle,i.removeData(n,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(u,f,e,o){if(!e||e.nodeType!==3&&e.nodeType!==8){var w,d,c,h,l,v,a,y,p,k,s=u.type||u,b=[];if(pr.test(s+i.event.triggered))return;if(s.indexOf("!")>=0&&(s=s.slice(0,-1),d=!0),s.indexOf(".")>=0&&(b=s.split("."),s=b.shift(),b.sort()),(!e||i.event.customEvent[s])&&!i.event.global[s])return;if(u=typeof u=="object"?u[i.expando]?u:new i.Event(s,u):new i.Event(s),u.type=s,u.isTrigger=!0,u.exclusive=d,u.namespace=b.join("."),u.namespace_re=u.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,v=s.indexOf(":")<0?"on"+s:"",!e){w=i.cache;for(c in w)w[c].events&&w[c].events[s]&&i.event.trigger(u,f,w[c].handle.elem,!0);return}if(u.result=t,u.target||(u.target=e),f=f!=null?i.makeArray(f):[],f.unshift(u),a=i.event.special[s]||{},a.trigger&&a.trigger.apply(e,f)===!1)return;if(p=[[e,a.bindType||s]],!o&&!a.noBubble&&!i.isWindow(e)){for(k=a.delegateType||s,h=pr.test(k+s)?e:e.parentNode,l=e;h;h=h.parentNode)p.push([h,k]),l=h;l===(e.ownerDocument||r)&&p.push([l.defaultView||l.parentWindow||n,k])}for(c=0;c<p.length&&!u.isPropagationStopped();c++)h=p[c][0],u.type=p[c][1],y=(i._data(h,"events")||{})[u.type]&&i._data(h,"handle"),y&&y.apply(h,f),y=v&&h[v],y&&i.acceptData(h)&&y.apply&&y.apply(h,f)===!1&&u.preventDefault();return u.type=s,!o&&!u.isDefaultPrevented()&&(!a._default||a._default.apply(e.ownerDocument,f)===!1)&&(s!=="click"||!i.nodeName(e,"a"))&&i.acceptData(e)&&v&&e[s]&&(s!=="focus"&&s!=="blur"||u.target.offsetWidth!==0)&&!i.isWindow(e)&&(l=e[v],l&&(e[v]=null),i.event.triggered=s,e[s](),i.event.triggered=t,l&&(e[v]=l)),u.result}return},dispatch:function(r){r=i.event.fix(r||n.event);var f,c,e,l,a,h,v,u,s,y=(i._data(this,"events")||{})[r.type]||[],p=y.delegateCount,k=o.call(arguments),d=!r.exclusive&&!r.namespace,w=i.event.special[r.type]||{},b=[];if(k[0]=r,r.delegateTarget=this,!w.preDispatch||w.preDispatch.call(this,r)!==!1){if(p&&(!r.button||r.type!=="click"))for(e=r.target;e!=this;e=e.parentNode||this)if(e.disabled!==!0||r.type!=="click"){for(a={},v=[],f=0;f<p;f++)u=y[f],s=u.selector,a[s]===t&&(a[s]=u.needsContext?i(s,this).index(e)>=0:i.find(s,this,null,[e]).length),a[s]&&v.push(u);v.length&&b.push({elem:e,matches:v})}for(y.length>p&&b.push({elem:this,matches:y.slice(p)}),f=0;f<b.length&&!r.isPropagationStopped();f++)for(h=b[f],r.currentTarget=h.elem,c=0;c<h.matches.length&&!r.isImmediatePropagationStopped();c++)u=h.matches[c],(d||!r.namespace&&!u.namespace||r.namespace_re&&r.namespace_re.test(u.namespace))&&(r.data=u.data,r.handleObj=u,l=((i.event.special[u.origType]||{}).handle||u.handler).apply(h.elem,k),l!==t&&(r.result=l,l===!1&&(r.preventDefault(),r.stopPropagation())));return w.postDispatch&&w.postDispatch.call(this,r),r.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(n,t){return n.which==null&&(n.which=t.charCode!=null?t.charCode:t.keyCode),n}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(n,i){var o,u,f,e=i.button,s=i.fromElement;return n.pageX==null&&i.clientX!=null&&(o=n.target.ownerDocument||r,u=o.documentElement,f=o.body,n.pageX=i.clientX+(u&&u.scrollLeft||f&&f.scrollLeft||0)-(u&&u.clientLeft||f&&f.clientLeft||0),n.pageY=i.clientY+(u&&u.scrollTop||f&&f.scrollTop||0)-(u&&u.clientTop||f&&f.clientTop||0)),!n.relatedTarget&&s&&(n.relatedTarget=s===n.target?i.toElement:s),!n.which&&e!==t&&(n.which=e&1?1:e&2?3:e&4?2:0),n}},fix:function(n){if(n[i.expando])return n;var f,e,t=n,u=i.event.fixHooks[n.type]||{},o=u.props?this.props.concat(u.props):this.props;for(n=i.Event(t),f=o.length;f;)e=o[--f],n[e]=t[e];return n.target||(n.target=t.srcElement||r),n.target.nodeType===3&&(n.target=n.target.parentNode),n.metaKey=!!n.metaKey,u.filter?u.filter(n,t):n},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(n,t,r){i.isWindow(this)&&(this.onbeforeunload=r)},teardown:function(n,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(n,t,r,u){var f=i.extend(new i.Event,r,{type:n,isSimulated:!0,originalEvent:{}});u?i.event.trigger(f,null,t):i.event.dispatch.call(t,f);f.isDefaultPrevented()&&r.preventDefault()}};i.event.handle=i.event.dispatch;i.removeEvent=r.removeEventListener?function(n,t,i){n.removeEventListener&&n.removeEventListener(t,i,!1)}:function(n,t,i){var r="on"+t;n.detachEvent&&(typeof n[r]=="undefined"&&(n[r]=null),n.detachEvent(r,i))};i.Event=function(n,t){if(this instanceof i.Event)n&&n.type?(this.originalEvent=n,this.type=n.type,this.isDefaultPrevented=n.defaultPrevented||n.returnValue===!1||n.getPreventDefault&&n.getPreventDefault()?d:a):this.type=n,t&&i.extend(this,t),this.timeStamp=n&&n.timeStamp||i.now(),this[i.expando]=!0;else return new i.Event(n,t)};i.Event.prototype={preventDefault:function(){this.isDefaultPrevented=d;var n=this.originalEvent;n&&(n.preventDefault?n.preventDefault():n.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=d;var n=this.originalEvent;n&&(n.stopPropagation&&n.stopPropagation(),n.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=d;this.stopPropagation()},isDefaultPrevented:a,isPropagationStopped:a,isImmediatePropagationStopped:a};i.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(n,t){i.event.special[n]={delegateType:t,bindType:t,handle:function(n){var f,e=this,r=n.relatedTarget,u=n.handleObj,o=u.selector;return r&&(r===e||i.contains(e,r))||(n.type=u.origType,f=u.handler.apply(this,arguments),n.type=t),f}}});i.support.submitBubbles||(i.event.special.submit={setup:function(){if(i.nodeName(this,"form"))return!1;i.event.add(this,"click._submit keypress._submit",function(n){var u=n.target,r=i.nodeName(u,"input")||i.nodeName(u,"button")?u.form:t;r&&!i._data(r,"_submit_attached")&&(i.event.add(r,"submit._submit",function(n){n._submit_bubble=!0}),i._data(r,"_submit_attached",!0))})},postDispatch:function(n){n._submit_bubble&&(delete n._submit_bubble,this.parentNode&&!n.isTrigger&&i.event.simulate("submit",this.parentNode,n,!0))},teardown:function(){if(i.nodeName(this,"form"))return!1;i.event.remove(this,"._submit")}});i.support.changeBubbles||(i.event.special.change={setup:function(){if(bt.test(this.nodeName))return(this.type==="checkbox"||this.type==="radio")&&(i.event.add(this,"propertychange._change",function(n){n.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),i.event.add(this,"click._change",function(n){this._just_changed&&!n.isTrigger&&(this._just_changed=!1);i.event.simulate("change",this,n,!0)})),!1;i.event.add(this,"beforeactivate._change",function(n){var t=n.target;bt.test(t.nodeName)&&!i._data(t,"_change_attached")&&(i.event.add(t,"change._change",function(n){!this.parentNode||n.isSimulated||n.isTrigger||i.event.simulate("change",this.parentNode,n,!0)}),i._data(t,"_change_attached",!0))})},handle:function(n){var t=n.target;if(this!==t||n.isSimulated||n.isTrigger||t.type!=="radio"&&t.type!=="checkbox")return n.handleObj.handler.apply(this,arguments)},teardown:function(){return i.event.remove(this,"._change"),!bt.test(this.nodeName)}});i.support.focusinBubbles||i.each({focus:"focusin",blur:"focusout"},function(n,t){var u=0,f=function(n){i.event.simulate(t,n.target,i.event.fix(n),!0)};i.event.special[t]={setup:function(){u++==0&&r.addEventListener(n,f,!0)},teardown:function(){--u==0&&r.removeEventListener(n,f,!0)}}});i.fn.extend({on:function(n,r,u,f,e){var o,s;if(typeof n=="object"){typeof r!="string"&&(u=u||r,r=t);for(s in n)this.on(s,r,u,n[s],e);return this}if(u==null&&f==null?(f=r,u=r=t):f==null&&(typeof r=="string"?(f=u,u=t):(f=u,u=r,r=t)),f===!1)f=a;else if(!f)return this;return e===1&&(o=f,f=function(n){return i().off(n),o.apply(this,arguments)},f.guid=o.guid||(o.guid=i.guid++)),this.each(function(){i.event.add(this,n,f,u,r)})},one:function(n,t,i,r){return this.on(n,t,i,r,1)},off:function(n,r,u){var f,e;if(n&&n.preventDefault&&n.handleObj)return f=n.handleObj,i(n.delegateTarget).off(f.namespace?f.origType+"."+f.namespace:f.origType,f.selector,f.handler),this;if(typeof n=="object"){for(e in n)this.off(e,r,n[e]);return this}return(r===!1||typeof r=="function")&&(u=r,r=t),u===!1&&(u=a),this.each(function(){i.event.remove(this,n,u,r)})},bind:function(n,t,i){return this.on(n,null,t,i)},unbind:function(n,t){return this.off(n,null,t)},live:function(n,t,r){return i(this.context).on(n,this.selector,t,r),this},die:function(n,t){return i(this.context).off(n,this.selector||"**",t),this},delegate:function(n,t,i,r){return this.on(t,n,i,r)},undelegate:function(n,t,i){return arguments.length===1?this.off(n,"**"):this.off(t,n||"**",i)},trigger:function(n,t){return this.each(function(){i.event.trigger(n,t,this)})},triggerHandler:function(n,t){if(this[0])return i.event.trigger(n,t,this[0],!0)},toggle:function(n){var t=arguments,u=n.guid||i.guid++,r=0,f=function(u){var f=(i._data(this,"lastToggle"+n.guid)||0)%r;return i._data(this,"lastToggle"+n.guid,f+1),u.preventDefault(),t[f].apply(this,arguments)||!1};for(f.guid=u;r<t.length;)t[r++].guid=u;return this.click(f)},hover:function(n,t){return this.mouseenter(n).mouseleave(t||n)}});i.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(n,t){i.fn[t]=function(n,i){return i==null&&(i=n,n=null),arguments.length>0?this.on(t,null,n,i):this.trigger(t)};te.test(t)&&(i.event.fixHooks[t]=i.event.keyHooks);ie.test(t)&&(i.event.fixHooks[t]=i.event.mouseHooks)}),function(n,t){function r(n,t,i,r){i=i||[];t=t||s;var e,u,o,f,h=t.nodeType;if(!n||typeof n!="string")return i;if(h!==1&&h!==9)return[];if(o=it(t),!o&&!r&&(e=ki.exec(n)))if(f=e[1]){if(h===9){if(u=t.getElementById(f),!u||!u.parentNode)return i;if(u.id===f)return i.push(u),i}else if(t.ownerDocument&&(u=t.ownerDocument.getElementById(f))&&ni(t,u)&&u.id===f)return i.push(u),i}else{if(e[2])return p.apply(i,w.call(t.getElementsByTagName(n),0)),i;if((f=e[3])&&hi&&t.getElementsByClassName)return p.apply(i,w.call(t.getElementsByClassName(f),0)),i}return lt(n.replace(ft,"$1"),t,i,r,o)}function b(n){return function(t){var i=t.nodeName.toLowerCase();return i==="input"&&t.type===n}}function dt(n){return function(t){var i=t.nodeName.toLowerCase();return(i==="input"||i==="button")&&t.type===n}}function a(n){return h(function(t){return t=+t,h(function(i,r){for(var u,f=n([],i.length,t),e=f.length;e--;)i[u=f[e]]&&(i[u]=!(r[u]=i[u]))})})}function d(n,t,i){if(n===t)return i;for(var r=n.nextSibling;r;){if(r===t)return-1;r=r.nextSibling}return 1}function g(n,t){var o,f,c,h,i,l,a,v=fi[e][n];if(v)return t?0:v.slice(0);for(i=n,l=[],a=u.preFilter;i;){(!o||(f=pi.exec(i)))&&(f&&(i=i.slice(f[0].length)),l.push(c=[]));o=!1;(f=wi.exec(i))&&(c.push(o=new ii(f.shift())),i=i.slice(o.length),o.type=f[0].replace(ft," "));for(h in u.filter)(f=et[h].exec(i))&&(!a[h]||(f=a[h](f,s,!0)))&&(c.push(o=new ii(f.shift())),i=i.slice(o.length),o.type=h,o.matches=f);if(!o)break}return t?i.length:i?r.error(n):fi(n,l).slice(0)}function ot(n,t,i){var r=t.dir,u=i&&t.dir==="parentNode",f=ai++;return t.first?function(t,i,f){while(t=t[r])if(u||t.nodeType===1)return n(t,i,f)}:function(t,i,o){if(o){while(t=t[r])if((u||t.nodeType===1)&&n(t,i,o))return t}else for(var s,h=ut+" "+f+" ",c=h+at;t=t[r];)if(u||t.nodeType===1){if((s=t[e])===c)return t.sizset;if(typeof s=="string"&&s.indexOf(h)===0){if(t.sizset)return t}else{if(t[e]=c,n(t,i,o))return t.sizset=!0,t;t.sizset=!1}}}}function st(n){return n.length>1?function(t,i,r){for(var u=n.length;u--;)if(!n[u](t,i,r))return!1;return!0}:n[0]}function nt(n,t,i,r,u){for(var e,o=[],f=0,s=n.length,h=t!=null;f<s;f++)(e=n[f])&&(!i||i(e,r,u))&&(o.push(e),h&&t.push(f));return o}function ht(n,t,i,r,u,f){return r&&!r[e]&&(r=ht(r)),u&&!u[e]&&(u=ht(u,f)),h(function(f,e,o,s){if(!f||!u){var c,l,a,v=[],y=[],b=e.length,k=f||li(t||"*",o.nodeType?[o]:o,[],f),w=n&&(f||!t)?nt(k,v,n,o,s):k,h=i?u||(f?n:b||r)?[]:e:w;if(i&&i(w,h,o,s),r)for(a=nt(h,y),r(a,[],o,s),c=a.length;c--;)(l=a[c])&&(h[y[c]]=!(w[y[c]]=l));if(f)for(c=n&&h.length;c--;)(l=h[c])&&(f[v[c]]=!(e[v[c]]=l));else h=nt(h===e?h.splice(b,h.length):h),u?u(null,e,h,s):p.apply(e,h)}})}function ct(n){for(var s,r,i,o=n.length,h=u.relative[n[0].type],c=h||u.relative[" "],t=h?1:0,l=ot(function(n){return n===s},c,!0),a=ot(function(n){return ri.call(s,n)>-1},c,!0),f=[function(n,t,i){return!h&&(i||t!==rt)||((s=t).nodeType?l(n,t,i):a(n,t,i))}];t<o;t++)if(r=u.relative[n[t].type])f=[ot(st(f),r)];else{if(r=u.filter[n[t].type].apply(null,n[t].matches),r[e]){for(i=++t;i<o;i++)if(u.relative[n[i].type])break;return ht(t>1&&st(f),t>1&&n.slice(0,t-1).join("").replace(ft,"$1"),r,t<i&&ct(n.slice(t,i)),i<o&&ct(n=n.slice(i)),i<o&&n.join(""))}f.push(r)}return st(f)}function ci(n,t){var f=t.length>0,e=n.length>0,i=function(o,h,c,l,a){var y,b,k,w=[],d=0,v="0",g=o&&[],tt=a!=null,it=rt,et=o||e&&u.find.TAG("*",a&&h.parentNode||h),ft=ut+=it==null?1:Math.E;for(tt&&(rt=h!==s&&h,at=i.el);(y=et[v])!=null;v++){if(e&&y){for(b=0;k=n[b];b++)if(k(y,h,c)){l.push(y);break}tt&&(ut=ft,at=++i.el)}f&&((y=!k&&y)&&d--,o&&g.push(y))}if(d+=v,f&&v!==d){for(b=0;k=t[b];b++)k(g,w,h,c);if(o){if(d>0)while(v--)g[v]||w[v]||(w[v]=vi.call(l));w=nt(w)}p.apply(l,w);tt&&!o&&w.length>0&&d+t.length>1&&r.uniqueSort(l)}return tt&&(ut=ft,rt=it),g};return i.el=0,f?h(i):i}function li(n,t,i,u){for(var f=0,e=t.length;f<e;f++)r(n,t[f],i,u);return i}function lt(n,t,i,r,f){var o,e,s,c,l,h=g(n),a=h.length;if(!r&&h.length===1){if(e=h[0]=h[0].slice(0),e.length>2&&(s=e[0]).type==="ID"&&t.nodeType===9&&!f&&u.relative[e[1].type]){if(t=u.find.ID(s.matches[0].replace(y,""),t,f)[0],!t)return i;n=n.slice(e.shift().length)}for(o=et.POS.test(n)?-1:e.length-1;o>=0;o--){if(s=e[o],u.relative[c=s.type])break;if((l=u.find[c])&&(r=l(s.matches[0].replace(y,""),kt.test(e[0].type)&&t.parentNode||t,f))){if(e.splice(o,1),n=r.length&&e.join(""),!n)return p.apply(i,w.call(r,0)),i;break}}}return yt(n,h)(r,t,f,i,kt.test(n)),i}function gt(){}var at,vt,u,tt,it,ni,yt,pt,k,rt,ti=!0,c="undefined",e=("sizcache"+Math.random()).replace(".",""),ii=String,s=n.document,o=s.documentElement,ut=0,ai=0,vi=[].pop,p=[].push,w=[].slice,ri=[].indexOf||function(n){for(var t=0,i=this.length;t<i;t++)if(this[t]===n)return t;return-1},h=function(n,t){return n[e]=t==null||t,n},wt=function(){var n={},t=[];return h(function(i,r){return t.push(i)>u.cacheLength&&delete n[t.shift()],n[i]=r},n)},ui=wt(),fi=wt(),ei=wt(),f="[\\x20\\t\\r\\n\\f]",v="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",yi=v.replace("w","w#"),oi="\\["+f+"*("+v+")"+f+"*(?:([*^$|!~]?=)"+f+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+yi+")|)|)"+f+"*\\]",bt=":("+v+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+oi+")|[^:]|\\\\.)*|.*))\\)|)",si=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+f+"*((?:-\\d)?\\d*)"+f+"*\\)|)(?=[^-]|$)",ft=new RegExp("^"+f+"+|((?:^|[^\\\\])(?:\\\\.)*)"+f+"+$","g"),pi=new RegExp("^"+f+"*,"+f+"*"),wi=new RegExp("^"+f+"*([\\x20\\t\\r\\n\\f>+~])"+f+"*"),bi=new RegExp(bt),ki=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,kt=/[\x20\t\r\n\f]*[+~]/,di=/h\d/i,gi=/input|select|textarea|button/i,y=/\\(?!\\)/g,et={ID:new RegExp("^#("+v+")"),CLASS:new RegExp("^\\.("+v+")"),NAME:new RegExp("^\\[name=['\"]?("+v+")['\"]?\\]"),TAG:new RegExp("^("+v.replace("w","w*")+")"),ATTR:new RegExp("^"+oi),PSEUDO:new RegExp("^"+bt),POS:new RegExp(si,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+f+"*(even|odd|(([+-]|)(\\d*)n|)"+f+"*(?:([+-]|)"+f+"*(\\d+)|))"+f+"*\\)|)","i"),needsContext:new RegExp("^"+f+"*[>+~]|"+si,"i")},l=function(n){var t=s.createElement("div");try{return n(t)}catch(i){return!1}finally{t=null}},nr=l(function(n){return n.appendChild(s.createComment("")),!n.getElementsByTagName("*").length}),tr=l(function(n){return n.innerHTML="<a href='#'><\/a>",n.firstChild&&typeof n.firstChild.getAttribute!==c&&n.firstChild.getAttribute("href")==="#"}),ir=l(function(n){n.innerHTML="<select><\/select>";var t=typeof n.lastChild.getAttribute("multiple");return t!=="boolean"&&t!=="string"}),hi=l(function(n){return n.innerHTML="<div class='hidden e'><\/div><div class='hidden'><\/div>",!n.getElementsByClassName||!n.getElementsByClassName("e").length?!1:(n.lastChild.className="e",n.getElementsByClassName("e").length===2)}),rr=l(function(n){n.id=e+0;n.innerHTML="<a name='"+e+"'><\/a><div name='"+e+"'><\/div>";o.insertBefore(n,o.firstChild);var t=s.getElementsByName&&s.getElementsByName(e).length===2+s.getElementsByName(e+0).length;return vt=!s.getElementById(e),o.removeChild(n),t});try{w.call(o.childNodes,0)[0].nodeType}catch(ur){w=function(n){for(var t,i=[];t=this[n];n++)i.push(t);return i}}r.matches=function(n,t){return r(n,null,null,t)};r.matchesSelector=function(n,t){return r(t,null,null,[n]).length>0};tt=r.getText=function(n){var r,i="",u=0,t=n.nodeType;if(t){if(t===1||t===9||t===11){if(typeof n.textContent=="string")return n.textContent;for(n=n.firstChild;n;n=n.nextSibling)i+=tt(n)}else if(t===3||t===4)return n.nodeValue}else for(;r=n[u];u++)i+=tt(r);return i};it=r.isXML=function(n){var t=n&&(n.ownerDocument||n).documentElement;return t?t.nodeName!=="HTML":!1};ni=r.contains=o.contains?function(n,t){var r=n.nodeType===9?n.documentElement:n,i=t&&t.parentNode;return n===i||!!(i&&i.nodeType===1&&r.contains&&r.contains(i))}:o.compareDocumentPosition?function(n,t){return t&&!!(n.compareDocumentPosition(t)&16)}:function(n,t){while(t=t.parentNode)if(t===n)return!0;return!1};r.attr=function(n,t){var i,r=it(n);return r||(t=t.toLowerCase()),(i=u.attrHandle[t])?i(n):r||ir?n.getAttribute(t):(i=n.getAttributeNode(t),i?typeof n[t]=="boolean"?n[t]?t:null:i.specified?i.value:null:null)};u=r.selectors={cacheLength:50,createPseudo:h,match:et,attrHandle:tr?{}:{href:function(n){return n.getAttribute("href",2)},type:function(n){return n.getAttribute("type")}},find:{ID:vt?function(n,t,i){if(typeof t.getElementById!==c&&!i){var r=t.getElementById(n);return r&&r.parentNode?[r]:[]}}:function(n,i,r){if(typeof i.getElementById!==c&&!r){var u=i.getElementById(n);return u?u.id===n||typeof u.getAttributeNode!==c&&u.getAttributeNode("id").value===n?[u]:t:[]}},TAG:nr?function(n,t){if(typeof t.getElementsByTagName!==c)return t.getElementsByTagName(n)}:function(n,t){var f=t.getElementsByTagName(n),i,r,u;if(n==="*"){for(r=[],u=0;i=f[u];u++)i.nodeType===1&&r.push(i);return r}return f},NAME:rr&&function(n,t){if(typeof t.getElementsByName!==c)return t.getElementsByName(name)},CLASS:hi&&function(n,t,i){if(typeof t.getElementsByClassName!==c&&!i)return t.getElementsByClassName(n)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(n){return n[1]=n[1].replace(y,""),n[3]=(n[4]||n[5]||"").replace(y,""),n[2]==="~="&&(n[3]=" "+n[3]+" "),n.slice(0,4)},CHILD:function(n){return n[1]=n[1].toLowerCase(),n[1]==="nth"?(n[2]||r.error(n[0]),n[3]=+(n[3]?n[4]+(n[5]||1):2*(n[2]==="even"||n[2]==="odd")),n[4]=+(n[6]+n[7]||n[2]==="odd")):n[2]&&r.error(n[0]),n},PSEUDO:function(n){var t,i;return et.CHILD.test(n[0])?null:(n[3]?n[2]=n[3]:(t=n[4])&&(bi.test(t)&&(i=g(t,!0))&&(i=t.indexOf(")",t.length-i)-t.length)&&(t=t.slice(0,i),n[0]=n[0].slice(0,i)),n[2]=t),n.slice(0,3))}},filter:{ID:vt?function(n){return n=n.replace(y,""),function(t){return t.getAttribute("id")===n}}:function(n){return n=n.replace(y,""),function(t){var i=typeof t.getAttributeNode!==c&&t.getAttributeNode("id");return i&&i.value===n}},TAG:function(n){return n==="*"?function(){return!0}:(n=n.replace(y,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===n})},CLASS:function(n){var t=ui[e][n];return t||(t=ui(n,new RegExp("(^|"+f+")"+n+"("+f+"|$)"))),function(n){return t.test(n.className||typeof n.getAttribute!==c&&n.getAttribute("class")||"")}},ATTR:function(n,t,i){return function(u){var f=r.attr(u,n);return f==null?t==="!=":t?(f+="",t==="="?f===i:t==="!="?f!==i:t==="^="?i&&f.indexOf(i)===0:t==="*="?i&&f.indexOf(i)>-1:t==="$="?i&&f.substr(f.length-i.length)===i:t==="~="?(" "+f+" ").indexOf(i)>-1:t==="|="?f===i||f.substr(0,i.length+1)===i+"-":!1):!0}},CHILD:function(n,t,i,r){return n==="nth"?function(n){var t,u,f=n.parentNode;if(i===1&&r===0)return!0;if(f)for(u=0,t=f.firstChild;t;t=t.nextSibling)if(t.nodeType===1&&(u++,n===t))break;return u-=r,u===i||u%i==0&&u/i>=0}:function(t){var i=t;switch(n){case"only":case"first":while(i=i.previousSibling)if(i.nodeType===1)return!1;if(n==="first")return!0;i=t;case"last":while(i=i.nextSibling)if(i.nodeType===1)return!1;return!0}}},PSEUDO:function(n,t){var f,i=u.pseudos[n]||u.setFilters[n.toLowerCase()]||r.error("unsupported pseudo: "+n);return i[e]?i(t):i.length>1?(f=[n,n,"",t],u.setFilters.hasOwnProperty(n.toLowerCase())?h(function(n,r){for(var u,f=i(n,t),e=f.length;e--;)u=ri.call(n,f[e]),n[u]=!(r[u]=f[e])}):function(n){return i(n,0,f)}):i}},pseudos:{not:h(function(n){var i=[],r=[],t=yt(n.replace(ft,"$1"));return t[e]?h(function(n,i,r,u){for(var e,o=t(n,null,u,[]),f=n.length;f--;)(e=o[f])&&(n[f]=!(i[f]=e))}):function(n,u,f){return i[0]=n,t(i,null,f,r),!r.pop()}}),has:h(function(n){return function(t){return r(n,t).length>0}}),contains:h(function(n){return function(t){return(t.textContent||t.innerText||tt(t)).indexOf(n)>-1}}),enabled:function(n){return n.disabled===!1},disabled:function(n){return n.disabled===!0},checked:function(n){var t=n.nodeName.toLowerCase();return t==="input"&&!!n.checked||t==="option"&&!!n.selected},selected:function(n){return n.parentNode&&n.parentNode.selectedIndex,n.selected===!0},parent:function(n){return!u.pseudos.empty(n)},empty:function(n){var t;for(n=n.firstChild;n;){if(n.nodeName>"@"||(t=n.nodeType)===3||t===4)return!1;n=n.nextSibling}return!0},header:function(n){return di.test(n.nodeName)},text:function(n){var t,i;return n.nodeName.toLowerCase()==="input"&&(t=n.type)==="text"&&((i=n.getAttribute("type"))==null||i.toLowerCase()===t)},radio:b("radio"),checkbox:b("checkbox"),file:b("file"),password:b("password"),image:b("image"),submit:dt("submit"),reset:dt("reset"),button:function(n){var t=n.nodeName.toLowerCase();return t==="input"&&n.type==="button"||t==="button"},input:function(n){return gi.test(n.nodeName)},focus:function(n){var t=n.ownerDocument;return n===t.activeElement&&(!t.hasFocus||t.hasFocus())&&(!!n.type||!!n.href)},active:function(n){return n===n.ownerDocument.activeElement},first:a(function(){return[0]}),last:a(function(n,t){return[t-1]}),eq:a(function(n,t,i){return[i<0?i+t:i]}),even:a(function(n,t){for(var i=0;i<t;i+=2)n.push(i);return n}),odd:a(function(n,t){for(var i=1;i<t;i+=2)n.push(i);return n}),lt:a(function(n,t,i){for(var r=i<0?i+t:i;--r>=0;)n.push(r);return n}),gt:a(function(n,t,i){for(var r=i<0?i+t:i;++r<t;)n.push(r);return n})}};pt=o.compareDocumentPosition?function(n,t){return n===t?(k=!0,0):(!n.compareDocumentPosition||!t.compareDocumentPosition?n.compareDocumentPosition:n.compareDocumentPosition(t)&4)?-1:1}:function(n,t){var i;if(n===t)return k=!0,0;if(n.sourceIndex&&t.sourceIndex)return n.sourceIndex-t.sourceIndex;var e,h,u=[],f=[],o=n.parentNode,s=t.parentNode,r=o;if(o===s)return d(n,t);if(!o)return-1;if(!s)return 1;while(r)u.unshift(r),r=r.parentNode;for(r=s;r;)f.unshift(r),r=r.parentNode;for(e=u.length,h=f.length,i=0;i<e&&i<h;i++)if(u[i]!==f[i])return d(u[i],f[i]);return i===e?d(n,f[i],-1):d(u[i],t,1)};[0,0].sort(pt);ti=!k;r.uniqueSort=function(n){var i,t=1;if(k=ti,n.sort(pt),k)for(;i=n[t];t++)i===n[t-1]&&n.splice(t--,1);return n};r.error=function(n){throw new Error("Syntax error, unrecognized expression: "+n);};yt=r.compile=function(n,t){var r,u=[],f=[],i=ei[e][n];if(!i){for(t||(t=g(n)),r=t.length;r--;)i=ct(t[r]),i[e]?u.push(i):f.push(i);i=ei(n,ci(f,u))}return i};s.querySelectorAll&&function(){var u,s=lt,h=/'|\\/g,c=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,n=[":focus"],t=[":active",":focus"],i=o.matchesSelector||o.mozMatchesSelector||o.webkitMatchesSelector||o.oMatchesSelector||o.msMatchesSelector;l(function(t){t.innerHTML="<select><option selected=''><\/option><\/select>";t.querySelectorAll("[selected]").length||n.push("\\["+f+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)");t.querySelectorAll(":checked").length||n.push(":checked")});l(function(t){t.innerHTML="<p test=''><\/p>";t.querySelectorAll("[test^='']").length&&n.push("[*^$]="+f+"*(?:\"\"|'')");t.innerHTML="<input type='hidden'/>";t.querySelectorAll(":enabled").length||n.push(":enabled",":disabled")});n=new RegExp(n.join("|"));lt=function(t,i,r,u,f){if(!u&&!f&&(!n||!n.test(t))){var o,l,a=!0,c=e,y=i,v=i.nodeType===9&&t;if(i.nodeType===1&&i.nodeName.toLowerCase()!=="object"){for(o=g(t),(a=i.getAttribute("id"))?c=a.replace(h,"\\$&"):i.setAttribute("id",c),c="[id='"+c+"'] ",l=o.length;l--;)o[l]=c+o[l].join("");y=kt.test(t)&&i.parentNode||i;v=o.join(",")}if(v)try{return p.apply(r,w.call(y.querySelectorAll(v),0)),r}catch(b){}finally{a||i.removeAttribute("id")}}return s(t,i,r,u,f)};i&&(l(function(n){u=i.call(n,"div");try{i.call(n,"[test!='']:sizzle");t.push("!=",bt)}catch(r){}}),t=new RegExp(t.join("|")),r.matchesSelector=function(f,e){if(e=e.replace(c,"='$1']"),!it(f)&&!t.test(e)&&(!n||!n.test(e)))try{var o=i.call(f,e);if(o||u||f.document&&f.document.nodeType!==11)return o}catch(s){}return r(e,null,null,[f]).length>0})}();u.pseudos.nth=u.pseudos.eq;u.filters=gt.prototype=u.pseudos;u.setFilters=new gt;r.attr=i.attr;i.find=r;i.expr=r.selectors;i.expr[":"]=i.expr.pseudos;i.unique=r.uniqueSort;i.text=r.getText;i.isXMLDoc=r.isXML;i.contains=r.contains}(n);var re=/Until$/,ue=/^(?:parents|prev(?:Until|All))/,fe=/^.[^:#\[\.,]*$/,br=i.expr.match.needsContext,ee={children:!0,contents:!0,next:!0,prev:!0};i.fn.extend({find:function(n){var t,f,o,u,e,r,s=this;if(typeof n!="string")return i(n).filter(function(){for(t=0,f=s.length;t<f;t++)if(i.contains(s[t],this))return!0});for(r=this.pushStack("","find",n),t=0,f=this.length;t<f;t++)if(o=r.length,i.find(n,this[t],r),t>0)for(u=o;u<r.length;u++)for(e=0;e<o;e++)if(r[e]===r[u]){r.splice(u--,1);break}return r},has:function(n){var t,r=i(n,this),u=r.length;return this.filter(function(){for(t=0;t<u;t++)if(i.contains(this,r[t]))return!0})},not:function(n){return this.pushStack(ei(this,n,!1),"not",n)},filter:function(n){return this.pushStack(ei(this,n,!0),"filter",n)},is:function(n){return!!n&&(typeof n=="string"?br.test(n)?i(n,this.context).index(this[0])>=0:i.filter(n,this).length>0:this.filter(n).length>0)},closest:function(n,t){for(var r,f=0,o=this.length,u=[],e=br.test(n)||typeof n!="string"?i(n,t||this.context):0;f<o;f++)for(r=this[f];r&&r.ownerDocument&&r!==t&&r.nodeType!==11;){if(e?e.index(r)>-1:i.find.matchesSelector(r,n)){u.push(r);break}r=r.parentNode}return u=u.length>1?i.unique(u):u,this.pushStack(u,"closest",n)},index:function(n){return n?typeof n=="string"?i.inArray(this[0],i(n)):i.inArray(n.jquery?n[0]:n,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(n,t){var u=typeof n=="string"?i(n,t):i.makeArray(n&&n.nodeType?[n]:n),r=i.merge(this.get(),u);return this.pushStack(b(u[0])||b(r[0])?r:i.unique(r))},addBack:function(n){return this.add(n==null?this.prevObject:this.prevObject.filter(n))}});i.fn.andSelf=i.fn.addBack;i.each({parent:function(n){var t=n.parentNode;return t&&t.nodeType!==11?t:null},parents:function(n){return i.dir(n,"parentNode")},parentsUntil:function(n,t,r){return i.dir(n,"parentNode",r)},next:function(n){return fi(n,"nextSibling")},prev:function(n){return fi(n,"previousSibling")},nextAll:function(n){return i.dir(n,"nextSibling")},prevAll:function(n){return i.dir(n,"previousSibling")},nextUntil:function(n,t,r){return i.dir(n,"nextSibling",r)},prevUntil:function(n,t,r){return i.dir(n,"previousSibling",r)},siblings:function(n){return i.sibling((n.parentNode||{}).firstChild,n)},children:function(n){return i.sibling(n.firstChild)},contents:function(n){return i.nodeName(n,"iframe")?n.contentDocument||n.contentWindow.document:i.merge([],n.childNodes)}},function(n,t){i.fn[n]=function(r,u){var f=i.map(this,t,r);return re.test(n)||(u=r),u&&typeof u=="string"&&(f=i.filter(u,f)),f=this.length>1&&!ee[n]?i.unique(f):f,this.length>1&&ue.test(n)&&(f=f.reverse()),this.pushStack(f,n,o.call(arguments).join(","))}});i.extend({filter:function(n,t,r){return r&&(n=":not("+n+")"),t.length===1?i.find.matchesSelector(t[0],n)?[t[0]]:[]:i.find.matches(n,t)},dir:function(n,r,u){for(var e=[],f=n[r];f&&f.nodeType!==9&&(u===t||f.nodeType!==1||!i(f).is(u));)f.nodeType===1&&e.push(f),f=f[r];return e},sibling:function(n,t){for(var i=[];n;n=n.nextSibling)n.nodeType===1&&n!==t&&i.push(n);return i}});var kr="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",oe=/ jQuery\d+="(?:null|\d+)"/g,kt=/^\s+/,dr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,gr=/<([\w:]+)/,se=/<tbody/i,he=/<|&#?\w+;/,ce=/<(?:script|style|link)/i,le=/<(?:script|object|embed|option|style)/i,dt=new RegExp("<(?:"+kr+")[\\s/>]","i"),nu=/^(?:checkbox|radio)$/,tu=/checked\s*(?:[^=]|=\s*.checked.)/i,ae=/\/(java|ecma)script/i,ve=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,e={option:[1,"<select multiple='multiple'>","<\/select>"],legend:[1,"<fieldset>","<\/fieldset>"],thead:[1,"<table>","<\/table>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],td:[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],col:[2,"<table><tbody><\/tbody><colgroup>","<\/colgroup><\/table>"],area:[1,"<map>","<\/map>"],_default:[0,"",""]},iu=oi(r),gt=iu.appendChild(r.createElement("div"));e.optgroup=e.option;e.tbody=e.tfoot=e.colgroup=e.caption=e.thead;e.th=e.td;i.support.htmlSerialize||(e._default=[1,"X<div>","<\/div>"]);i.fn.extend({text:function(n){return i.access(this,function(n){return n===t?i.text(this):this.empty().append((this[0]&&this[0].ownerDocument||r).createTextNode(n))},null,n,arguments.length)},wrapAll:function(n){if(i.isFunction(n))return this.each(function(t){i(this).wrapAll(n.call(this,t))});if(this[0]){var t=i(n,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]);t.map(function(){for(var n=this;n.firstChild&&n.firstChild.nodeType===1;)n=n.firstChild;return n}).append(this)}return this},wrapInner:function(n){return i.isFunction(n)?this.each(function(t){i(this).wrapInner(n.call(this,t))}):this.each(function(){var t=i(this),r=t.contents();r.length?r.wrapAll(n):t.append(n)})},wrap:function(n){var t=i.isFunction(n);return this.each(function(r){i(this).wrapAll(t?n.call(this,r):n)})},unwrap:function(){return this.parent().each(function(){i.nodeName(this,"body")||i(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(n){(this.nodeType===1||this.nodeType===11)&&this.appendChild(n)})},prepend:function(){return this.domManip(arguments,!0,function(n){(this.nodeType===1||this.nodeType===11)&&this.insertBefore(n,this.firstChild)})},before:function(){if(!b(this[0]))return this.domManip(arguments,!1,function(n){this.parentNode.insertBefore(n,this)});if(arguments.length){var n=i.clean(arguments);return this.pushStack(i.merge(n,this),"before",this.selector)}},after:function(){if(!b(this[0]))return this.domManip(arguments,!1,function(n){this.parentNode.insertBefore(n,this.nextSibling)});if(arguments.length){var n=i.clean(arguments);return this.pushStack(i.merge(this,n),"after",this.selector)}},remove:function(n,t){for(var r,u=0;(r=this[u])!=null;u++)(!n||i.filter(n,[r]).length)&&(t||r.nodeType!==1||(i.cleanData(r.getElementsByTagName("*")),i.cleanData([r])),r.parentNode&&r.parentNode.removeChild(r));return this},empty:function(){for(var n,t=0;(n=this[t])!=null;t++)for(n.nodeType===1&&i.cleanData(n.getElementsByTagName("*"));n.firstChild;)n.removeChild(n.firstChild);return this},clone:function(n,t){return n=n==null?!1:n,t=t==null?n:t,this.map(function(){return i.clone(this,n,t)})},html:function(n){return i.access(this,function(n){var r=this[0]||{},u=0,f=this.length;if(n===t)return r.nodeType===1?r.innerHTML.replace(oe,""):t;if(typeof n=="string"&&!ce.test(n)&&(i.support.htmlSerialize||!dt.test(n))&&(i.support.leadingWhitespace||!kt.test(n))&&!e[(gr.exec(n)||["",""])[1].toLowerCase()]){n=n.replace(dr,"<$1><\/$2>");try{for(;u<f;u++)r=this[u]||{},r.nodeType===1&&(i.cleanData(r.getElementsByTagName("*")),r.innerHTML=n);r=0}catch(o){}}r&&this.empty().append(n)},null,n,arguments.length)},replaceWith:function(n){return b(this[0])?this.length?this.pushStack(i(i.isFunction(n)?n():n),"replaceWith",n):this:i.isFunction(n)?this.each(function(t){var r=i(this),u=r.html();r.replaceWith(n.call(this,t,u))}):(typeof n!="string"&&(n=i(n).detach()),this.each(function(){var t=this.nextSibling,r=this.parentNode;i(this).remove();t?i(t).before(n):i(r).append(n)}))},detach:function(n){return this.remove(n,!0)},domManip:function(n,r,u){n=[].concat.apply([],n);var h,o,f,a,e=0,s=n[0],c=[],l=this.length;if(!i.support.checkClone&&l>1&&typeof s=="string"&&tu.test(s))return this.each(function(){i(this).domManip(n,r,u)});if(i.isFunction(s))return this.each(function(f){var e=i(this);n[0]=s.call(this,f,r?e.html():t);e.domManip(n,r,u)});if(this[0]){if(h=i.buildFragment(n,this,c),f=h.fragment,o=f.firstChild,f.childNodes.length===1&&(f=o),o)for(r=r&&i.nodeName(o,"tr"),a=h.cacheable||l-1;e<l;e++)u.call(r&&i.nodeName(this[e],"table")?pu(this[e],"tbody"):this[e],e===a?f:i.clone(f,!0,!0));f=o=null;c.length&&i.each(c,function(n,t){t.src?i.ajax?i.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,throws:!0}):i.error("no ajax"):i.globalEval((t.text||t.textContent||t.innerHTML||"").replace(ve,""));t.parentNode&&t.parentNode.removeChild(t)})}return this}});i.buildFragment=function(n,u,f){var o,s,h,e=n[0];return u=u||r,u=!u.nodeType&&u[0]||u,u=u.ownerDocument||u,n.length===1&&typeof e=="string"&&e.length<512&&u===r&&e.charAt(0)==="<"&&!le.test(e)&&(i.support.checkClone||!tu.test(e))&&(i.support.html5Clone||!dt.test(e))&&(s=!0,o=i.fragments[e],h=o!==t),o||(o=u.createDocumentFragment(),i.clean(n,u,o,f),s&&(i.fragments[e]=h&&o)),{fragment:o,cacheable:s}};i.fragments={};i.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(n,t){i.fn[n]=function(r){var o,u=0,s=[],f=i(r),h=f.length,e=this.length===1&&this[0].parentNode;if((e==null||e&&e.nodeType===11&&e.childNodes.length===1)&&h===1)return f[t](this[0]),this;for(;u<h;u++)o=(u>0?this.clone(!0):this).get(),i(f[u])[t](o),s=s.concat(o);return this.pushStack(s,n,f.selector)}});i.extend({clone:function(n,t,r){var f,o,u,e;if(i.support.html5Clone||i.isXMLDoc(n)||!dt.test("<"+n.nodeName+">")?e=n.cloneNode(!0):(gt.innerHTML=n.outerHTML,gt.removeChild(e=gt.firstChild)),(!i.support.noCloneEvent||!i.support.noCloneChecked)&&(n.nodeType===1||n.nodeType===11)&&!i.isXMLDoc(n))for(hi(n,e),f=g(n),o=g(e),u=0;f[u];++u)o[u]&&hi(f[u],o[u]);if(t&&(si(n,e),r))for(f=g(n),o=g(e),u=0;f[u];++u)si(f[u],o[u]);return f=o=null,e},clean:function(n,t,u,f){var h,c,o,p,v,d,s,w,a,b,k,y=t===r&&iu,l=[];for(t&&typeof t.createDocumentFragment!="undefined"||(t=r),h=0;(o=n[h])!=null;h++)if(typeof o=="number"&&(o+=""),o){if(typeof o=="string")if(he.test(o)){for(y=y||oi(t),s=t.createElement("div"),y.appendChild(s),o=o.replace(dr,"<$1><\/$2>"),p=(gr.exec(o)||["",""])[1].toLowerCase(),v=e[p]||e._default,d=v[0],s.innerHTML=v[1]+o+v[2];d--;)s=s.lastChild;if(!i.support.tbody)for(w=se.test(o),a=p==="table"&&!w?s.firstChild&&s.firstChild.childNodes:v[1]==="<table>"&&!w?s.childNodes:[],c=a.length-1;c>=0;--c)i.nodeName(a[c],"tbody")&&!a[c].childNodes.length&&a[c].parentNode.removeChild(a[c]);!i.support.leadingWhitespace&&kt.test(o)&&s.insertBefore(t.createTextNode(kt.exec(o)[0]),s.firstChild);o=s.childNodes;s.parentNode.removeChild(s)}else o=t.createTextNode(o);o.nodeType?l.push(o):i.merge(l,o)}if(s&&(o=s=y=null),!i.support.appendChecked)for(h=0;(o=l[h])!=null;h++)i.nodeName(o,"input")?ci(o):typeof o.getElementsByTagName!="undefined"&&i.grep(o.getElementsByTagName("input"),ci);if(u)for(b=function(n){if(!n.type||ae.test(n.type))return f?f.push(n.parentNode?n.parentNode.removeChild(n):n):u.appendChild(n)},h=0;(o=l[h])!=null;h++)i.nodeName(o,"script")&&b(o)||(u.appendChild(o),typeof o.getElementsByTagName!="undefined"&&(k=i.grep(i.merge([],o.getElementsByTagName("script")),b),l.splice.apply(l,[h+1,0].concat(k)),h+=k.length));return l},cleanData:function(n,t){for(var f,u,r,e,h=0,o=i.expando,s=i.cache,c=i.support.deleteExpando,l=i.event.special;(r=n[h])!=null;h++)if((t||i.acceptData(r))&&(u=r[o],f=u&&s[u],f)){if(f.events)for(e in f.events)l[e]?i.event.remove(r,e):i.removeEvent(r,e,f.handle);s[u]&&(delete s[u],c?delete r[o]:r.removeAttribute?r.removeAttribute(o):r[o]=null,i.deletedIds.push(u))}}}),function(){var t,n;i.uaMatch=function(n){n=n.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(n)||/(webkit)[ \/]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[];return{browser:t[1]||"",version:t[2]||"0"}};t=i.uaMatch(rf.userAgent);n={};t.browser&&(n[t.browser]=!0,n.version=t.version);n.chrome?n.webkit=!0:n.webkit&&(n.safari=!0);i.browser=n;i.sub=function(){function n(t,i){return new n.fn.init(t,i)}i.extend(!0,n,this);n.superclass=this;n.fn=n.prototype=this();n.fn.constructor=n;n.sub=this.sub;n.fn.init=function(r,u){return u&&u instanceof i&&!(u instanceof n)&&(u=n(u)),i.fn.init.call(this,r,u,t)};n.fn.init.prototype=n.fn;var t=n(r);return n}}();var u,v,y,ni=/alpha\([^)]*\)/i,ye=/opacity=([^)]*)/,pe=/^(top|right|bottom|left)$/,we=/^(none|table(?!-c[ea]).+)/,ru=/^margin/,be=new RegExp("^("+ut+")(.*)$","i"),et=new RegExp("^("+ut+")(?!px)[a-z%]+$","i"),ke=new RegExp("^([-+])=("+ut+")","i"),ti={},de={position:"absolute",visibility:"hidden",display:"block"},uu={letterSpacing:0,fontWeight:400},c=["Top","Right","Bottom","Left"],fu=["Webkit","O","Moz","ms"],ge=i.fn.toggle;i.fn.extend({css:function(n,r){return i.access(this,function(n,r,u){return u!==t?i.style(n,r,u):i.css(n,r)},n,r,arguments.length>1)},show:function(){return ai(this,!0)},hide:function(){return ai(this)},toggle:function(n,t){var r=typeof n=="boolean";return i.isFunction(n)&&i.isFunction(t)?ge.apply(this,arguments):this.each(function(){(r?n:nt(this))?i(this).show():i(this).hide()})}});i.extend({cssHooks:{opacity:{get:function(n,t){if(t){var i=u(n,"opacity");return i===""?"1":i}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:i.support.cssFloat?"cssFloat":"styleFloat"},style:function(n,r,u,f){if(n&&n.nodeType!==3&&n.nodeType!==8&&n.style){var o,s,e,h=i.camelCase(r),c=n.style;if(r=i.cssProps[h]||(i.cssProps[h]=li(c,h)),e=i.cssHooks[r]||i.cssHooks[h],u===t)return e&&"get"in e&&(o=e.get(n,!1,f))!==t?o:c[r];if((s=typeof u,s==="string"&&(o=ke.exec(u))&&(u=(o[1]+1)*o[2]+parseFloat(i.css(n,r)),s="number"),u!=null&&(s!=="number"||!isNaN(u)))&&(s!=="number"||i.cssNumber[h]||(u+="px"),!e||!("set"in e)||(u=e.set(n,u,f))!==t))try{c[r]=u}catch(l){}}},css:function(n,r,f,e){var o,c,s,h=i.camelCase(r);return r=i.cssProps[h]||(i.cssProps[h]=li(n.style,h)),s=i.cssHooks[r]||i.cssHooks[h],s&&"get"in s&&(o=s.get(n,!0,e)),o===t&&(o=u(n,r)),o==="normal"&&r in uu&&(o=uu[r]),f||e!==t?(c=parseFloat(o),f||i.isNumeric(c)?c||0:o):o},swap:function(n,t,i){var u,r,f={};for(r in t)f[r]=n.style[r],n.style[r]=t[r];u=i.call(n);for(r in t)n.style[r]=f[r];return u}});n.getComputedStyle?u=function(t,r){var f,o,s,h,e=n.getComputedStyle(t,null),u=t.style;return e&&(f=e[r],f===""&&!i.contains(t.ownerDocument,t)&&(f=i.style(t,r)),et.test(f)&&ru.test(r)&&(o=u.width,s=u.minWidth,h=u.maxWidth,u.minWidth=u.maxWidth=u.width=f,f=e.width,u.width=o,u.minWidth=s,u.maxWidth=h)),f}:r.documentElement.currentStyle&&(u=function(n,t){var f,u,i=n.currentStyle&&n.currentStyle[t],r=n.style;return i==null&&r&&r[t]&&(i=r[t]),et.test(i)&&!pe.test(t)&&(f=r.left,u=n.runtimeStyle&&n.runtimeStyle.left,u&&(n.runtimeStyle.left=n.currentStyle.left),r.left=t==="fontSize"?"1em":i,i=r.pixelLeft+"px",r.left=f,u&&(n.runtimeStyle.left=u)),i===""?"auto":i});i.each(["height","width"],function(n,t){i.cssHooks[t]={get:function(n,r,f){if(r)return n.offsetWidth===0&&we.test(u(n,"display"))?i.swap(n,de,function(){return pi(n,t,f)}):pi(n,t,f)},set:function(n,r,u){return vi(n,r,u?yi(n,t,u,i.support.boxSizing&&i.css(n,"boxSizing")==="border-box"):0)}}});i.support.opacity||(i.cssHooks.opacity={get:function(n,t){return ye.test((t&&n.currentStyle?n.currentStyle.filter:n.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(n,t){var r=n.style,u=n.currentStyle,e=i.isNumeric(t)?"alpha(opacity="+t*100+")":"",f=u&&u.filter||r.filter||"";(r.zoom=1,t>=1&&i.trim(f.replace(ni,""))===""&&r.removeAttribute&&(r.removeAttribute("filter"),u&&!u.filter))||(r.filter=ni.test(f)?f.replace(ni,e):f+" "+e)}});i(function(){i.support.reliableMarginRight||(i.cssHooks.marginRight={get:function(n,t){return i.swap(n,{display:"inline-block"},function(){if(t)return u(n,"marginRight")})}});!i.support.pixelPosition&&i.fn.position&&i.each(["top","left"],function(n,t){i.cssHooks[t]={get:function(n,r){if(r){var f=u(n,t);return et.test(f)?i(n).position()[t]+"px":f}}}})});i.expr&&i.expr.filters&&(i.expr.filters.hidden=function(n){return n.offsetWidth===0&&n.offsetHeight===0||!i.support.reliableHiddenOffsets&&(n.style&&n.style.display||u(n,"display"))==="none"},i.expr.filters.visible=function(n){return!i.expr.filters.hidden(n)});i.each({margin:"",padding:"",border:"Width"},function(n,t){i.cssHooks[n+t]={expand:function(i){for(var u=typeof i=="string"?i.split(" "):[i],f={},r=0;r<4;r++)f[n+c[r]+t]=u[r]||u[r-2]||u[0];return f}};ru.test(n)||(i.cssHooks[n+t].set=vi)});var no=/%20/g,to=/\[\]$/,eu=/\r?\n/g,io=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,ro=/^(?:select|textarea)/i;i.fn.extend({serialize:function(){return i.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?i.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||ro.test(this.nodeName)||io.test(this.type))}).map(function(n,t){var r=i(this).val();return r==null?null:i.isArray(r)?i.map(r,function(n){return{name:t.name,value:n.replace(eu,"\r\n")}}):{name:t.name,value:r.replace(eu,"\r\n")}}).get()}});i.param=function(n,r){var u,f=[],e=function(n,t){t=i.isFunction(t)?t():t==null?"":t;f[f.length]=encodeURIComponent(n)+"="+encodeURIComponent(t)};if(r===t&&(r=i.ajaxSettings&&i.ajaxSettings.traditional),i.isArray(n)||n.jquery&&!i.isPlainObject(n))i.each(n,function(){e(this.name,this.value)});else for(u in n)vt(u,n[u],r,e);return f.join("&").replace(no,"+")};var p,l,uo=/#.*$/,fo=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,eo=/^(?:GET|HEAD)$/,oo=/^\/\//,ou=/\?/,so=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,ho=/([?&])_=[^&]*/,su=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,hu=i.fn.load,ii={},cu={},lu=["*/"]+["*"];try{l=tf.href}catch(po){l=r.createElement("a");l.href="";l=l.href}p=su.exec(l.toLowerCase())||[];i.fn.load=function(n,r,u){if(typeof n!="string"&&hu)return hu.apply(this,arguments);if(!this.length)return this;var f,o,s,h=this,e=n.indexOf(" ");return e>=0&&(f=n.slice(e,n.length),n=n.slice(0,e)),i.isFunction(r)?(u=r,r=t):r&&typeof r=="object"&&(o="POST"),i.ajax({url:n,type:o,dataType:"html",data:r,complete:function(n,t){u&&h.each(u,s||[n.responseText,t,n])}}).done(function(n){s=arguments;h.html(f?i("<div>").append(n.replace(so,"")).find(f):n)}),this};i.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(n,t){i.fn[t]=function(n){return this.on(t,n)}});i.each(["get","post"],function(n,r){i[r]=function(n,u,f,e){return i.isFunction(u)&&(e=e||f,f=u,u=t),i.ajax({type:r,url:n,data:u,success:f,dataType:e})}});i.extend({getScript:function(n,r){return i.get(n,t,r,"script")},getJSON:function(n,t,r){return i.get(n,t,r,"json")},ajaxSetup:function(n,t){return t?ki(n,i.ajaxSettings):(t=n,n=i.ajaxSettings),ki(n,t),n},ajaxSettings:{url:l,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(p[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":lu},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":n.String,"text html":!0,"text json":i.parseJSON,"text xml":i.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:bi(ii),ajaxTransport:bi(cu),ajax:function(n,r){function y(n,r,h,l){var a,tt,w,it,p,y=r;e!==2&&(e=2,d&&clearTimeout(d),c=t,k=l||"",f.readyState=n>0?4:0,h&&(it=wu(u,f,h)),n>=200&&n<300||n===304?(u.ifModified&&(p=f.getResponseHeader("Last-Modified"),p&&(i.lastModified[o]=p),p=f.getResponseHeader("Etag"),p&&(i.etag[o]=p)),n===304?(y="notmodified",a=!0):(a=bu(u,it),y=a.state,tt=a.data,w=a.error,a=!w)):(w=y,(!y||n)&&(y="error",n<0&&(n=0))),f.status=n,f.statusText=(r||y)+"",a?nt.resolveWith(s,[tt,y,f]):nt.rejectWith(s,[f,y,w]),f.statusCode(b),b=t,v&&g.trigger("ajax"+(a?"Success":"Error"),[f,u,a?tt:w]),ut.fireWith(s,[f,y]),v&&(g.trigger("ajaxComplete",[f,u]),--i.active||i.event.trigger("ajaxStop")))}var it,rt;typeof n=="object"&&(r=n,n=t);r=r||{};var o,k,w,c,d,a,v,l,u=i.ajaxSetup({},r),s=u.context||u,g=s!==u&&(s.nodeType||s instanceof i)?i(s):i.event,nt=i.Deferred(),ut=i.Callbacks("once memory"),b=u.statusCode||{},ft={},et={},e=0,ot="canceled",f={readyState:0,setRequestHeader:function(n,t){if(!e){var i=n.toLowerCase();n=et[i]=et[i]||n;ft[n]=t}return this},getAllResponseHeaders:function(){return e===2?k:null},getResponseHeader:function(n){var i;if(e===2){if(!w)for(w={};i=fo.exec(k);)w[i[1].toLowerCase()]=i[2];i=w[n.toLowerCase()]}return i===t?null:i},overrideMimeType:function(n){return e||(u.mimeType=n),this},abort:function(n){return n=n||ot,c&&c.abort(n),y(0,n),this}};if(nt.promise(f),f.success=f.done,f.error=f.fail,f.complete=ut.add,f.statusCode=function(n){if(n){var t;if(e<2)for(t in n)b[t]=[b[t],n[t]];else t=n[f.status],f.always(t)}return this},u.url=((n||u.url)+"").replace(uo,"").replace(oo,p[1]+"//"),u.dataTypes=i.trim(u.dataType||"*").toLowerCase().split(h),u.crossDomain==null&&(a=su.exec(u.url.toLowerCase())||!1,u.crossDomain=a&&a.join(":")+(a[3]?"":a[1]==="http:"?80:443)!==p.join(":")+(p[3]?"":p[1]==="http:"?80:443)),u.data&&u.processData&&typeof u.data!="string"&&(u.data=i.param(u.data,u.traditional)),tt(ii,u,r,f),e===2)return f;v=u.global;u.type=u.type.toUpperCase();u.hasContent=!eo.test(u.type);v&&i.active++==0&&i.event.trigger("ajaxStart");u.hasContent||(u.data&&(u.url+=(ou.test(u.url)?"&":"?")+u.data,delete u.data),o=u.url,u.cache===!1&&(it=i.now(),rt=u.url.replace(ho,"$1_="+it),u.url=rt+(rt===u.url?(ou.test(u.url)?"&":"?")+"_="+it:"")));(u.data&&u.hasContent&&u.contentType!==!1||r.contentType)&&f.setRequestHeader("Content-Type",u.contentType);u.ifModified&&(o=o||u.url,i.lastModified[o]&&f.setRequestHeader("If-Modified-Since",i.lastModified[o]),i.etag[o]&&f.setRequestHeader("If-None-Match",i.etag[o]));f.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+(u.dataTypes[0]!=="*"?", "+lu+"; q=0.01":""):u.accepts["*"]);for(l in u.headers)f.setRequestHeader(l,u.headers[l]);if(!u.beforeSend||u.beforeSend.call(s,f,u)!==!1&&e!==2){ot="abort";for(l in{success:1,error:1,complete:1})f[l](u[l]);if(c=tt(cu,u,r,f),c){f.readyState=1;v&&g.trigger("ajaxSend",[f,u]);u.async&&u.timeout>0&&(d=setTimeout(function(){f.abort("timeout")},u.timeout));try{e=1;c.send(ft,y)}catch(st){if(e<2)y(-1,st);else throw st;}}else y(-1,"No Transport");return f}return f.abort()},active:0,lastModified:{},etag:{}});var au=[],co=/\?/,ot=/(=)\?(?=&|$)|\?\?/,lo=i.now();i.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var n=au.pop()||i.expando+"_"+lo++;return this[n]=!0,n}});i.ajaxPrefilter("json jsonp",function(r,u,f){var e,s,o,h=r.data,c=r.url,l=r.jsonp!==!1,a=l&&ot.test(c),v=l&&!a&&typeof h=="string"&&!(r.contentType||"").indexOf("application/x-www-form-urlencoded")&&ot.test(h);if(r.dataTypes[0]==="jsonp"||a||v)return e=r.jsonpCallback=i.isFunction(r.jsonpCallback)?r.jsonpCallback():r.jsonpCallback,s=n[e],a?r.url=c.replace(ot,"$1"+e):v?r.data=h.replace(ot,"$1"+e):l&&(r.url+=(co.test(c)?"&":"?")+r.jsonp+"="+e),r.converters["script json"]=function(){return o||i.error(e+" was not called"),o[0]},r.dataTypes[0]="json",n[e]=function(){o=arguments},f.always(function(){n[e]=s;r[e]&&(r.jsonpCallback=u.jsonpCallback,au.push(e));o&&i.isFunction(s)&&s(o[0]);o=s=t}),"script"});i.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(n){return i.globalEval(n),n}}});i.ajaxPrefilter("script",function(n){n.cache===t&&(n.cache=!1);n.crossDomain&&(n.type="GET",n.global=!1)});i.ajaxTransport("script",function(n){if(n.crossDomain){var i,u=r.head||r.getElementsByTagName("head")[0]||r.documentElement;return{send:function(f,e){i=r.createElement("script");i.async="async";n.scriptCharset&&(i.charset=n.scriptCharset);i.src=n.url;i.onload=i.onreadystatechange=function(n,r){(r||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,u&&i.parentNode&&u.removeChild(i),i=t,r||e(200,"success"))};u.insertBefore(i,u.firstChild)},abort:function(){i&&i.onload(0,1)}}}});st=n.ActiveXObject?function(){for(var n in w)w[n](0,1)}:!1;vu=0;i.ajaxSettings.xhr=n.ActiveXObject?function(){return!this.isLocal&&di()||ku()}:di,function(n){i.extend(i.support,{ajax:!!n,cors:!!n&&"withCredentials"in n})}(i.ajaxSettings.xhr());i.support.ajax&&i.ajaxTransport(function(r){if(!r.crossDomain||i.support.cors){var u;return{send:function(f,e){var h,s,o=r.xhr();if(r.username?o.open(r.type,r.url,r.async,r.username,r.password):o.open(r.type,r.url,r.async),r.xhrFields)for(s in r.xhrFields)o[s]=r.xhrFields[s];r.mimeType&&o.overrideMimeType&&o.overrideMimeType(r.mimeType);r.crossDomain||f["X-Requested-With"]||(f["X-Requested-With"]="XMLHttpRequest");try{for(s in f)o.setRequestHeader(s,f[s])}catch(c){}o.send(r.hasContent&&r.data||null);u=function(n,f){var s,a,v,c,l;try{if(u&&(f||o.readyState===4))if(u=t,h&&(o.onreadystatechange=i.noop,st&&delete w[h]),f)o.readyState!==4&&o.abort();else{s=o.status;v=o.getAllResponseHeaders();c={};l=o.responseXML;l&&l.documentElement&&(c.xml=l);try{c.text=o.responseText}catch(n){}try{a=o.statusText}catch(p){a=""}!s&&r.isLocal&&!r.crossDomain?s=c.text?200:404:s===1223&&(s=204)}}catch(y){f||e(-1,y)}c&&e(s,a,c,v)};r.async?o.readyState===4?setTimeout(u,0):(h=++vu,st&&(w||(w={},i(n).unload(st)),w[h]=u),o.onreadystatechange=u):u()},abort:function(){u&&u(0,1)}}}});var ht,ct,ao=/^(?:toggle|show|hide)$/,vo=new RegExp("^(?:([-+])=|)("+ut+")([a-z%]*)$","i"),yo=/queueHooks$/,lt=[nf],k={"*":[function(n,t){var o,s,r=this.createTween(n,t),e=vo.exec(t),h=r.cur(),u=+h||0,f=1,c=20;if(e){if(o=+e[2],s=e[3]||(i.cssNumber[n]?"":"px"),s!=="px"&&u){u=i.css(r.elem,n,!0)||o||1;do f=f||".5",u=u/f,i.style(r.elem,n,u+s);while(f!==(f=r.cur()/h)&&f!==1&&--c)}r.unit=s;r.start=u;r.end=e[1]?u+(e[1]+1)*o:o}return r}]};i.Animation=i.extend(nr,{tweener:function(n,t){i.isFunction(n)?(t=n,n=["*"]):n=n.split(" ");for(var r,u=0,f=n.length;u<f;u++)r=n[u],k[r]=k[r]||[],k[r].unshift(t)},prefilter:function(n,t){t?lt.unshift(n):lt.push(n)}});i.Tween=f;f.prototype={constructor:f,init:function(n,t,r,u,f,e){this.elem=n;this.prop=r;this.easing=f||"swing";this.options=t;this.start=this.now=this.cur();this.end=u;this.unit=e||(i.cssNumber[r]?"":"px")},cur:function(){var n=f.propHooks[this.prop];return n&&n.get?n.get(this):f.propHooks._default.get(this)},run:function(n){var t,r=f.propHooks[this.prop];return this.pos=this.options.duration?t=i.easing[this.easing](n,this.options.duration*n,0,1,this.options.duration):t=n,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):f.propHooks._default.set(this),this}};f.prototype.init.prototype=f.prototype;f.propHooks={_default:{get:function(n){var t;return n.elem[n.prop]==null||!!n.elem.style&&n.elem.style[n.prop]!=null?(t=i.css(n.elem,n.prop,!1,""),!t||t==="auto"?0:t):n.elem[n.prop]},set:function(n){i.fx.step[n.prop]?i.fx.step[n.prop](n):n.elem.style&&(n.elem.style[i.cssProps[n.prop]]!=null||i.cssHooks[n.prop])?i.style(n.elem,n.prop,n.now+n.unit):n.elem[n.prop]=n.now}}};f.propHooks.scrollTop=f.propHooks.scrollLeft={set:function(n){n.elem.nodeType&&n.elem.parentNode&&(n.elem[n.prop]=n.now)}};i.each(["toggle","show","hide"],function(n,t){var r=i.fn[t];i.fn[t]=function(u,f,e){return u==null||typeof u=="boolean"||!n&&i.isFunction(u)&&i.isFunction(f)?r.apply(this,arguments):this.animate(it(t,!0),u,f,e)}});i.fn.extend({fadeTo:function(n,t,i,r){return this.filter(nt).css("opacity",0).show().end().animate({opacity:t},n,i,r)},animate:function(n,t,r,u){var e=i.isEmptyObject(n),f=i.speed(t,r,u),o=function(){var t=nr(this,i.extend({},n),f);e&&t.stop(!0)};return e||f.queue===!1?this.each(o):this.queue(f.queue,o)},stop:function(n,r,u){var f=function(n){var t=n.stop;delete n.stop;t(u)};return typeof n!="string"&&(u=r,r=n,n=t),r&&n!==!1&&this.queue(n||"fx",[]),this.each(function(){var o=!0,t=n!=null&&n+"queueHooks",e=i.timers,r=i._data(this);if(t)r[t]&&r[t].stop&&f(r[t]);else for(t in r)r[t]&&r[t].stop&&yo.test(t)&&f(r[t]);for(t=e.length;t--;)e[t].elem===this&&(n==null||e[t].queue===n)&&(e[t].anim.stop(u),o=!1,e.splice(t,1));(o||!u)&&i.dequeue(this,n)})}});i.each({slideDown:it("show"),slideUp:it("hide"),slideToggle:it("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(n,t){i.fn[n]=function(n,i,r){return this.animate(t,n,i,r)}});i.speed=function(n,t,r){var u=n&&typeof n=="object"?i.extend({},n):{complete:r||!r&&t||i.isFunction(n)&&n,duration:n,easing:r&&t||t&&!i.isFunction(t)&&t};return u.duration=i.fx.off?0:typeof u.duration=="number"?u.duration:u.duration in i.fx.speeds?i.fx.speeds[u.duration]:i.fx.speeds._default,(u.queue==null||u.queue===!0)&&(u.queue="fx"),u.old=u.complete,u.complete=function(){i.isFunction(u.old)&&u.old.call(this);u.queue&&i.dequeue(this,u.queue)},u};i.easing={linear:function(n){return n},swing:function(n){return.5-Math.cos(n*Math.PI)/2}};i.timers=[];i.fx=f.prototype.init;i.fx.tick=function(){for(var r,n=i.timers,t=0;t<n.length;t++)r=n[t],r()||n[t]!==r||n.splice(t--,1);n.length||i.fx.stop()};i.fx.timer=function(n){n()&&i.timers.push(n)&&!ct&&(ct=setInterval(i.fx.tick,i.fx.interval))};i.fx.interval=13;i.fx.stop=function(){clearInterval(ct);ct=null};i.fx.speeds={slow:600,fast:200,_default:400};i.fx.step={};i.expr&&i.expr.filters&&(i.expr.filters.animated=function(n){return i.grep(i.timers,function(t){return n===t.elem}).length});ri=/^(?:body|html)$/i;i.fn.offset=function(n){if(arguments.length)return n===t?this:this.each(function(t){i.offset.setOffset(this,n,t)});var u,o,s,h,c,l,a,f={top:0,left:0},r=this[0],e=r&&r.ownerDocument;if(e)return(o=e.body)===r?i.offset.bodyOffset(r):(u=e.documentElement,i.contains(u,r)?(typeof r.getBoundingClientRect!="undefined"&&(f=r.getBoundingClientRect()),s=tr(e),h=u.clientTop||o.clientTop||0,c=u.clientLeft||o.clientLeft||0,l=s.pageYOffset||u.scrollTop,a=s.pageXOffset||u.scrollLeft,{top:f.top+l-h,left:f.left+a-c}):f)};i.offset={bodyOffset:function(n){var t=n.offsetTop,r=n.offsetLeft;return i.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(i.css(n,"marginTop"))||0,r+=parseFloat(i.css(n,"marginLeft"))||0),{top:t,left:r}},setOffset:function(n,t,r){var f=i.css(n,"position");f==="static"&&(n.style.position="relative");var e=i(n),o=e.offset(),l=i.css(n,"top"),a=i.css(n,"left"),v=(f==="absolute"||f==="fixed")&&i.inArray("auto",[l,a])>-1,u={},s={},h,c;v?(s=e.position(),h=s.top,c=s.left):(h=parseFloat(l)||0,c=parseFloat(a)||0);i.isFunction(t)&&(t=t.call(n,r,o));t.top!=null&&(u.top=t.top-o.top+h);t.left!=null&&(u.left=t.left-o.left+c);"using"in t?t.using.call(n,u):e.css(u)}};i.fn.extend({position:function(){if(this[0]){var u=this[0],n=this.offsetParent(),t=this.offset(),r=ri.test(n[0].nodeName)?{top:0,left:0}:n.offset();return t.top-=parseFloat(i.css(u,"marginTop"))||0,t.left-=parseFloat(i.css(u,"marginLeft"))||0,r.top+=parseFloat(i.css(n[0],"borderTopWidth"))||0,r.left+=parseFloat(i.css(n[0],"borderLeftWidth"))||0,{top:t.top-r.top,left:t.left-r.left}}},offsetParent:function(){return this.map(function(){for(var n=this.offsetParent||r.body;n&&!ri.test(n.nodeName)&&i.css(n,"position")==="static";)n=n.offsetParent;return n||r.body})}});i.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,r){var u=/Y/.test(r);i.fn[n]=function(f){return i.access(this,function(n,f,e){var o=tr(n);if(e===t)return o?r in o?o[r]:o.document.documentElement[f]:n[f];o?o.scrollTo(u?i(o).scrollLeft():e,u?e:i(o).scrollTop()):n[f]=e},n,f,arguments.length,null)}});i.each({Height:"height",Width:"width"},function(n,r){i.each({padding:"inner"+n,content:r,"":"outer"+n},function(u,f){i.fn[f]=function(f,e){var o=arguments.length&&(u||typeof f!="boolean"),s=u||(f===!0||e===!0?"margin":"border");return i.access(this,function(r,u,f){var e;return i.isWindow(r)?r.document.documentElement["client"+n]:r.nodeType===9?(e=r.documentElement,Math.max(r.body["scroll"+n],e["scroll"+n],r.body["offset"+n],e["offset"+n],e["client"+n])):f===t?i.css(r,u,f,s):i.style(r,u,f,s)},r,o?f:t,o,null)}})});n.jQuery=n.$=i;typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return i})}(window),function(n,t){function i(t,i){var u=t.nodeName.toLowerCase(),f,e,o;return"area"===u?(f=t.parentNode,e=f.name,!t.href||!e||f.nodeName.toLowerCase()!=="map"?!1:(o=n("img[usemap=#"+e+"]")[0],!!o&&r(o))):(/input|select|textarea|button|object/.test(u)?!t.disabled:"a"==u?t.href||i:i)&&r(t)}function r(t){return!n(t).parents().andSelf().filter(function(){return n.curCSS(this,"visibility")==="hidden"||n.expr.filters.hidden(this)}).length}(n.ui=n.ui||{},n.ui.version)||(n.extend(n.ui,{version:"1.8.24",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),n.fn.extend({propAttr:n.fn.prop||n.fn.attr,_focus:n.fn.focus,focus:function(t,i){return typeof t=="number"?this.each(function(){var r=this;setTimeout(function(){n(r).focus();i&&i.call(r)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return t=n.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(n.curCSS(this,"position",1))&&/(auto|scroll)/.test(n.curCSS(this,"overflow",1)+n.curCSS(this,"overflow-y",1)+n.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(n.curCSS(this,"overflow",1)+n.curCSS(this,"overflow-y",1)+n.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!t.length?n(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var r=n(this[0]),u,f;r.length&&r[0]!==document;){if(u=r.css("position"),(u==="absolute"||u==="relative"||u==="fixed")&&(f=parseInt(r.css("zIndex"),10),!isNaN(f)&&f!==0))return f;r=r.parent()}return 0},disableSelection:function(){return this.bind((n.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(n){n.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),n("<a>").outerWidth(1).jquery||n.each(["Width","Height"],function(i,r){function u(t,i,r,u){return n.each(o,function(){i-=parseFloat(n.curCSS(t,"padding"+this,!0))||0;r&&(i-=parseFloat(n.curCSS(t,"border"+this+"Width",!0))||0);u&&(i-=parseFloat(n.curCSS(t,"margin"+this,!0))||0)}),i}var o=r==="Width"?["Left","Right"]:["Top","Bottom"],f=r.toLowerCase(),e={innerWidth:n.fn.innerWidth,innerHeight:n.fn.innerHeight,outerWidth:n.fn.outerWidth,outerHeight:n.fn.outerHeight};n.fn["inner"+r]=function(i){return i===t?e["inner"+r].call(this):this.each(function(){n(this).css(f,u(this,i)+"px")})};n.fn["outer"+r]=function(t,i){return typeof t!="number"?e["outer"+r].call(this,t):this.each(function(){n(this).css(f,u(this,t,!0,i)+"px")})}}),n.extend(n.expr[":"],{data:n.expr.createPseudo?n.expr.createPseudo(function(t){return function(i){return!!n.data(i,t)}}):function(t,i,r){return!!n.data(t,r[3])},focusable:function(t){return i(t,!isNaN(n.attr(t,"tabindex")))},tabbable:function(t){var r=n.attr(t,"tabindex"),u=isNaN(r);return(u||r>=0)&&i(t,!u)}}),n(function(){var i=document.body,t=i.appendChild(t=document.createElement("div"));t.offsetHeight;n.extend(t.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});n.support.minHeight=t.offsetHeight===100;n.support.selectstart="onselectstart"in t;i.removeChild(t).style.display="none"}),n.curCSS||(n.curCSS=n.css),n.extend(n.ui,{plugin:{add:function(t,i,r){var f=n.ui[t].prototype,u;for(u in r)f.plugins[u]=f.plugins[u]||[],f.plugins[u].push([i,r[u]])},call:function(n,t,i){var u=n.plugins[t],r;if(u&&n.element[0].parentNode)for(r=0;r<u.length;r++)n.options[u[r][0]]&&u[r][1].apply(n.element,i)}},contains:function(n,t){return document.compareDocumentPosition?n.compareDocumentPosition(t)&16:n!==t&&n.contains(t)},hasScroll:function(t,i){if(n(t).css("overflow")==="hidden")return!1;var r=i&&i==="left"?"scrollLeft":"scrollTop",u=!1;return t[r]>0?!0:(t[r]=1,u=t[r]>0,t[r]=0,u)},isOverAxis:function(n,t,i){return n>t&&n<t+i},isOver:function(t,i,r,u,f,e){return n.ui.isOverAxis(t,r,f)&&n.ui.isOverAxis(i,u,e)}}))}(jQuery),function(n,t){var i,r;n.cleanData?(i=n.cleanData,n.cleanData=function(t){for(var r=0,u;(u=t[r])!=null;r++)try{n(u).triggerHandler("remove")}catch(f){}i(t)}):(r=n.fn.remove,n.fn.remove=function(t,i){return this.each(function(){return i||(!t||n.filter(t,[this]).length)&&n("*",this).add([this]).each(function(){try{n(this).triggerHandler("remove")}catch(t){}}),r.call(n(this),t,i)})});n.widget=function(t,i,r){var u=t.split(".")[0],e,f;t=t.split(".")[1];e=u+"-"+t;r||(r=i,i=n.Widget);n.expr[":"][e]=function(i){return!!n.data(i,t)};n[u]=n[u]||{};n[u][t]=function(n,t){arguments.length&&this._createWidget(n,t)};f=new i;f.options=n.extend(!0,{},f.options);n[u][t].prototype=n.extend(!0,f,{namespace:u,widgetName:t,widgetEventPrefix:n[u][t].prototype.widgetEventPrefix||t,widgetBaseClass:e},r);n.widget.bridge(t,n[u][t])};n.widget.bridge=function(i,r){n.fn[i]=function(u){var f=typeof u=="string",e=Array.prototype.slice.call(arguments,1),o=this;return u=!f&&e.length?n.extend.apply(null,[!0,u].concat(e)):u,f&&u.charAt(0)==="_"?o:(f?this.each(function(){var r=n.data(this,i),f=r&&n.isFunction(r[u])?r[u].apply(r,e):r;if(f!==r&&f!==t)return o=f,!1}):this.each(function(){var t=n.data(this,i);t?t.option(u||{})._init():n.data(this,i,new r(u,this))}),o)}};n.Widget=function(n,t){arguments.length&&this._createWidget(n,t)};n.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(t,i){n.data(i,this.widgetName,this);this.element=n(i);this.options=n.extend(!0,{},this.options,this._getCreateOptions(),t);var r=this;this.element.bind("remove."+this.widgetName,function(){r.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return n.metadata&&n.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(i,r){var u=i;if(arguments.length===0)return n.extend({},this.options);if(typeof i=="string"){if(r===t)return this.options[i];u={};u[i]=r}return this._setOptions(u),this},_setOptions:function(t){var i=this;return n.each(t,function(n,t){i._setOption(n,t)}),this},_setOption:function(n,t){return this.options[n]=t,n==="disabled"&&this.widget()[t?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",t),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(t,i,r){var u,f,e=this.options[t];if(r=r||{},i=n.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],f=i.originalEvent,f)for(u in f)u in i||(i[u]=f[u]);return this.element.trigger(i,r),!(n.isFunction(e)&&e.call(this.element[0],i,r)===!1||i.isDefaultPrevented())}}}(jQuery),function(n){var t=!1;n(document).mouseup(function(){t=!1});n.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(n){return t._mouseDown(n)}).bind("click."+this.widgetName,function(i){if(!0===n.data(i.target,t.widgetName+".preventClickEvent"))return n.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1});this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&n(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseStarted&&this._mouseUp(i);this._mouseDownEvent=i;var r=this,u=i.which==1,f=typeof this.options.cancel=="string"&&i.target.nodeName?n(i.target).closest(this.options.cancel).length:!1;return!u||f||!this._mouseCapture(i)?!0:(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){r.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted))?(i.preventDefault(),!0):(!0===n.data(i.target,this.widgetName+".preventClickEvent")&&n.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(n){return r._mouseMove(n)},this._mouseUpDelegate=function(n){return r._mouseUp(n)},n(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0)}},_mouseMove:function(t){return!n.browser.msie||document.documentMode>=9||!!t.button?this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted):this._mouseUp(t)},_mouseUp:function(t){return n(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target==this._mouseDownEvent.target&&n.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(n){return Math.max(Math.abs(this._mouseDownEvent.pageX-n.pageX),Math.abs(this._mouseDownEvent.pageY-n.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(n){n.widget("ui.draggable",n.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){this.options.helper!="original"||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},destroy:function(){if(this.element.data("draggable"))return this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this},_mouseCapture:function(t){var i=this.options;return this.helper||i.disabled||n(t.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(t),this.handle?(i.iframeFix&&n(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){n('<div class="ui-draggable-iframeFix" style="background: #fff;"><\/div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(n(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),n.ui.ddmanager&&(n.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},n.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),i.containment&&this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),n.ui.ddmanager&&n.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,i){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!i){var r=this._uiHash();if(this._trigger("drag",t,r)===!1)return this._mouseUp({}),!1;this.position=r.position}return this.options.axis&&this.options.axis=="y"||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&this.options.axis=="x"||(this.helper[0].style.top=this.position.top+"px"),n.ui.ddmanager&&n.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=!1,r,u,f;for(n.ui.ddmanager&&!this.options.dropBehaviour&&(i=n.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),r=this.element[0],u=!1;r&&(r=r.parentNode);)r==document&&(u=!0);return!u&&this.options.helper==="original"?!1:(this.options.revert=="invalid"&&!i||this.options.revert=="valid"&&i||this.options.revert===!0||n.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?(f=this,n(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){f._trigger("stop",t)!==!1&&f._clear()})):this._trigger("stop",t)!==!1&&this._clear(),!1)},_mouseUp:function(t){return n("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),n.ui.ddmanager&&n.ui.ddmanager.dragStop(this,t),n.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){var i=!this.options.handle||!n(this.options.handle,this.element).length?!0:!1;return n(this.options.handle,this.element).find("*").andSelf().each(function(){this==t.target&&(i=!0)}),i},_createHelper:function(t){var r=this.options,i=n.isFunction(r.helper)?n(r.helper.apply(this.element[0],[t])):r.helper=="clone"?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo(r.appendTo=="parent"?this.element[0].parentNode:r.appendTo),i[0]!=this.element[0]&&!/(fixed|absolute)/.test(i.css("position"))&&i.css("position","absolute"),i},_adjustOffsetFromHelper:function(t){typeof t=="string"&&(t=t.split(" "));n.isArray(t)&&(t={left:+t[0],top:+t[1]||0});"left"in t&&(this.offset.click.left=t.left+this.margins.left);"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left);"top"in t&&(this.offset.click.top=t.top+this.margins.top);"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&n.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&n.browser.msie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var n=this.element.position();return{top:n.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:n.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var i=this.options,r,t,f,u;if(i.containment=="parent"&&(i.containment=this.helper[0].parentNode),(i.containment=="document"||i.containment=="window")&&(this.containment=[i.containment=="document"?0:n(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,i.containment=="document"?0:n(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(i.containment=="document"?0:n(window).scrollLeft())+n(i.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(i.containment=="document"?0:n(window).scrollTop())+(n(i.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||i.containment.constructor==Array)i.containment.constructor==Array&&(this.containment=i.containment);else{if(r=n(i.containment),t=r[0],!t)return;f=r.offset();u=n(t).css("overflow")!="hidden";this.containment=[(parseInt(n(t).css("borderLeftWidth"),10)||0)+(parseInt(n(t).css("paddingLeft"),10)||0),(parseInt(n(t).css("borderTopWidth"),10)||0)+(parseInt(n(t).css("paddingTop"),10)||0),(u?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(n(t).css("borderLeftWidth"),10)||0)-(parseInt(n(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(u?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(n(t).css("borderTopWidth"),10)||0)-(parseInt(n(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=r}},_convertPositionTo:function(t,i){i||(i=this.position);var r=t=="absolute"?1:-1,e=this.options,u=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!n.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,f=/(html|body)/i.test(u[0].tagName);return{top:i.top+this.offset.relative.top*r+this.offset.parent.top*r-(n.browser.safari&&n.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():f?0:u.scrollTop())*r),left:i.left+this.offset.relative.left*r+this.offset.parent.left*r-(n.browser.safari&&n.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():f?0:u.scrollLeft())*r)}},_generatePosition:function(t){var r=this.options,h=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!n.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,c=/(html|body)/i.test(h[0].tagName),e=t.pageX,o=t.pageY,i,s,u,f;return this.originalPosition&&(this.containment&&(this.relative_container?(s=this.relative_container.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(e=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(o=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(e=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(o=i[3]+this.offset.click.top)),r.grid&&(u=r.grid[1]?this.originalPageY+Math.round((o-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,o=i?u-this.offset.click.top<i[1]||u-this.offset.click.top>i[3]?u-this.offset.click.top<i[1]?u+r.grid[1]:u-r.grid[1]:u:u,f=r.grid[0]?this.originalPageX+Math.round((e-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,e=i?f-this.offset.click.left<i[0]||f-this.offset.click.left>i[2]?f-this.offset.click.left<i[0]?f+r.grid[0]:f-r.grid[0]:f:f)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(n.browser.safari&&n.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():c?0:h.scrollTop()),left:e-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(n.browser.safari&&n.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():c?0:h.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1},_trigger:function(t,i,r){return r=r||this._uiHash(),n.ui.plugin.call(this,t,[i,r]),t=="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),n.Widget.prototype._trigger.call(this,t,i,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});n.extend(n.ui.draggable,{version:"1.8.24"});n.ui.plugin.add("draggable","connectToSortable",{start:function(t,i){var r=n(this).data("draggable"),u=r.options,f=n.extend({},i,{item:r.element});r.sortables=[];n(u.connectToSortable).each(function(){var i=n.data(this,"sortable");i&&!i.options.disabled&&(r.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",t,f))})},stop:function(t,i){var r=n(this).data("draggable"),u=n.extend({},i,{item:r.element});n.each(r.sortables,function(){this.instance.isOver?(this.instance.isOver=0,r.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,r.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,u))})},drag:function(t,i){var r=n(this).data("draggable"),u=this,f=function(t){var i=this.offset.click.top,r=this.offset.click.left,u=this.positionAbs.top,f=this.positionAbs.left,e=t.height,o=t.width,s=t.top,h=t.left;return n.ui.isOver(u+i,f+r,s,h,e,o)};n.each(r.sortables,function(){this.instance.positionAbs=r.positionAbs;this.instance.helperProportions=r.helperProportions;this.instance.offset.click=r.offset.click;this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=n(u).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=r.offset.click.top,this.instance.offset.click.left=r.offset.click.left,this.instance.offset.parent.left-=r.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=r.offset.parent.top-this.instance.offset.parent.top,r._trigger("toSortable",t),r.dropped=this.instance.element,r.currentItem=r.element,this.instance.fromOutside=r),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),r._trigger("fromSortable",t),r.dropped=!1)})}});n.ui.plugin.add("draggable","cursor",{start:function(){var t=n("body"),i=n(this).data("draggable").options;t.css("cursor")&&(i._cursor=t.css("cursor"));t.css("cursor",i.cursor)},stop:function(){var t=n(this).data("draggable").options;t._cursor&&n("body").css("cursor",t._cursor)}});n.ui.plugin.add("draggable","opacity",{start:function(t,i){var r=n(i.helper),u=n(this).data("draggable").options;r.css("opacity")&&(u._opacity=r.css("opacity"));r.css("opacity",u.opacity)},stop:function(t,i){var r=n(this).data("draggable").options;r._opacity&&n(i.helper).css("opacity",r._opacity)}});n.ui.plugin.add("draggable","scroll",{start:function(){var t=n(this).data("draggable");t.scrollParent[0]!=document&&t.scrollParent[0].tagName!="HTML"&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var r=n(this).data("draggable"),i=r.options,u=!1;r.scrollParent[0]!=document&&r.scrollParent[0].tagName!="HTML"?(i.axis&&i.axis=="x"||(r.overflowOffset.top+r.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?r.scrollParent[0].scrollTop=u=r.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-r.overflowOffset.top<i.scrollSensitivity&&(r.scrollParent[0].scrollTop=u=r.scrollParent[0].scrollTop-i.scrollSpeed)),i.axis&&i.axis=="y"||(r.overflowOffset.left+r.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?r.scrollParent[0].scrollLeft=u=r.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-r.overflowOffset.left<i.scrollSensitivity&&(r.scrollParent[0].scrollLeft=u=r.scrollParent[0].scrollLeft-i.scrollSpeed))):(i.axis&&i.axis=="x"||(t.pageY-n(document).scrollTop()<i.scrollSensitivity?u=n(document).scrollTop(n(document).scrollTop()-i.scrollSpeed):n(window).height()-(t.pageY-n(document).scrollTop())<i.scrollSensitivity&&(u=n(document).scrollTop(n(document).scrollTop()+i.scrollSpeed))),i.axis&&i.axis=="y"||(t.pageX-n(document).scrollLeft()<i.scrollSensitivity?u=n(document).scrollLeft(n(document).scrollLeft()-i.scrollSpeed):n(window).width()-(t.pageX-n(document).scrollLeft())<i.scrollSensitivity&&(u=n(document).scrollLeft(n(document).scrollLeft()+i.scrollSpeed))));u!==!1&&n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(r,t)}});n.ui.plugin.add("draggable","snap",{start:function(){var t=n(this).data("draggable"),i=t.options;t.snapElements=[];n(i.snap.constructor!=String?i.snap.items||":data(draggable)":i.snap).each(function(){var i=n(this),r=i.offset();this!=t.element[0]&&t.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:r.top,left:r.left})})},drag:function(t,i){for(var r=n(this).data("draggable"),k=r.options,u=k.snapTolerance,c=i.offset.left,a=c+r.helperProportions.width,l=i.offset.top,v=l+r.helperProportions.height,d,f=r.snapElements.length-1;f>=0;f--){var e=r.snapElements[f].left,s=e+r.snapElements[f].width,o=r.snapElements[f].top,h=o+r.snapElements[f].height;if(!(e-u<c&&c<s+u&&o-u<l&&l<h+u||e-u<c&&c<s+u&&o-u<v&&v<h+u||e-u<a&&a<s+u&&o-u<l&&l<h+u||e-u<a&&a<s+u&&o-u<v&&v<h+u)){r.snapElements[f].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,n.extend(r._uiHash(),{snapItem:r.snapElements[f].item}));r.snapElements[f].snapping=!1;continue}if(k.snapMode!="inner"){var y=Math.abs(o-v)<=u,p=Math.abs(h-l)<=u,w=Math.abs(e-a)<=u,b=Math.abs(s-c)<=u;y&&(i.position.top=r._convertPositionTo("relative",{top:o-r.helperProportions.height,left:0}).top-r.margins.top);p&&(i.position.top=r._convertPositionTo("relative",{top:h,left:0}).top-r.margins.top);w&&(i.position.left=r._convertPositionTo("relative",{top:0,left:e-r.helperProportions.width}).left-r.margins.left);b&&(i.position.left=r._convertPositionTo("relative",{top:0,left:s}).left-r.margins.left)}if(d=y||p||w||b,k.snapMode!="outer"){var y=Math.abs(o-l)<=u,p=Math.abs(h-v)<=u,w=Math.abs(e-c)<=u,b=Math.abs(s-a)<=u;y&&(i.position.top=r._convertPositionTo("relative",{top:o,left:0}).top-r.margins.top);p&&(i.position.top=r._convertPositionTo("relative",{top:h-r.helperProportions.height,left:0}).top-r.margins.top);w&&(i.position.left=r._convertPositionTo("relative",{top:0,left:e}).left-r.margins.left);b&&(i.position.left=r._convertPositionTo("relative",{top:0,left:s-r.helperProportions.width}).left-r.margins.left)}!r.snapElements[f].snapping&&(y||p||w||b||d)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,n.extend(r._uiHash(),{snapItem:r.snapElements[f].item}));r.snapElements[f].snapping=y||p||w||b||d}}});n.ui.plugin.add("draggable","stack",{start:function(){var r=n(this).data("draggable").options,t=n.makeArray(n(r.stack)).sort(function(t,i){return(parseInt(n(t).css("zIndex"),10)||0)-(parseInt(n(i).css("zIndex"),10)||0)}),i;t.length&&(i=parseInt(t[0].style.zIndex)||0,n(t).each(function(n){this.style.zIndex=i+n}),this[0].style.zIndex=i+t.length)}});n.ui.plugin.add("draggable","zIndex",{start:function(t,i){var r=n(i.helper),u=n(this).data("draggable").options;r.css("zIndex")&&(u._zIndex=r.css("zIndex"));r.css("zIndex",u.zIndex)},stop:function(t,i){var r=n(this).data("draggable").options;r._zIndex&&n(i.helper).css("zIndex",r._zIndex)}})}(jQuery),function(n){n.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var t=this.options,i=t.accept;this.isover=0;this.isout=1;this.accept=n.isFunction(i)?i:function(n){return n.is(i)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};n.ui.ddmanager.droppables[t.scope]=n.ui.ddmanager.droppables[t.scope]||[];n.ui.ddmanager.droppables[t.scope].push(this);t.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var i=n.ui.ddmanager.droppables[this.options.scope],t=0;t<i.length;t++)i[t]==this&&i.splice(t,1);return this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable"),this},_setOption:function(t,i){t=="accept"&&(this.accept=n.isFunction(i)?i:function(n){return n.is(i)});n.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var i=n.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass);i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=n.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=n.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!=this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=n.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!=this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var r=i||n.ui.ddmanager.current,u;return!r||(r.currentItem||r.element)[0]==this.element[0]?!1:(u=!1,this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var t=n.data(this,"droppable");if(t.options.greedy&&!t.options.disabled&&t.options.scope==r.options.scope&&t.accept.call(t.element[0],r.currentItem||r.element)&&n.ui.intersect(r,n.extend(t,{offset:t.element.offset()}),t.options.tolerance))return u=!0,!1}),u?!1:this.accept.call(this.element[0],r.currentItem||r.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(r)),this.element):!1)},ui:function(n){return{draggable:n.currentItem||n.element,helper:n.helper,position:n.position,offset:n.positionAbs}}});n.extend(n.ui.droppable,{version:"1.8.24"});n.ui.intersect=function(t,i,r){if(!i.offset)return!1;var e=(t.positionAbs||t.position.absolute).left,s=e+t.helperProportions.width,o=(t.positionAbs||t.position.absolute).top,h=o+t.helperProportions.height,u=i.offset.left,c=u+i.proportions.width,f=i.offset.top,l=f+i.proportions.height;switch(r){case"fit":return u<=e&&s<=c&&f<=o&&h<=l;case"intersect":return u<e+t.helperProportions.width/2&&s-t.helperProportions.width/2<c&&f<o+t.helperProportions.height/2&&h-t.helperProportions.height/2<l;case"pointer":var a=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,v=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top;return n.ui.isOver(v,a,f,u,i.proportions.height,i.proportions.width);case"touch":return(o>=f&&o<=l||h>=f&&h<=l||o<f&&h>l)&&(e>=u&&e<=c||s>=u&&s<=c||e<u&&s>c);default:return!1}};n.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var u=n.ui.ddmanager.droppables[t.options.scope]||[],o=i?i.type:null,e=(t.currentItem||t.element).find(":data(droppable)").andSelf(),r,f;n:for(r=0;r<u.length;r++)if(!u[r].options.disabled&&(!t||u[r].accept.call(u[r].element[0],t.currentItem||t.element))){for(f=0;f<e.length;f++)if(e[f]==u[r].element[0]){u[r].proportions.height=0;continue n}(u[r].visible=u[r].element.css("display")!="none",u[r].visible)&&(o=="mousedown"&&u[r]._activate.call(u[r],i),u[r].offset=u[r].element.offset(),u[r].proportions={width:u[r].element[0].offsetWidth,height:u[r].element[0].offsetHeight})}},drop:function(t,i){var r=!1;return n.each(n.ui.ddmanager.droppables[t.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&n.ui.intersect(t,this,this.options.tolerance)&&(r=this._drop.call(this,i)||r),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,i)))}),r},dragStart:function(t,i){t.element.parents(":not(body,html)").bind("scroll.droppable",function(){t.options.refreshPositions||n.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&n.ui.ddmanager.prepareOffsets(t,i);n.each(n.ui.ddmanager.droppables[t.options.scope]||[],function(){var f,u,r,o,e;this.options.disabled||this.greedyChild||!this.visible||(f=n.ui.intersect(t,this,this.options.tolerance),u=!f&&this.isover==1?"isout":f&&this.isover==0?"isover":null,u)&&(this.options.greedy&&(o=this.options.scope,e=this.element.parents(":data(droppable)").filter(function(){return n.data(this,"droppable").options.scope===o}),e.length&&(r=n.data(e[0],"droppable"),r.greedyChild=u=="isover"?1:0)),r&&u=="isover"&&(r.isover=0,r.isout=1,r._out.call(r,i)),this[u]=1,this[u=="isout"?"isover":"isout"]=0,this[u=="isover"?"_over":"_out"].call(this,i),r&&u=="isout"&&(r.isout=0,r.isover=1,r._over.call(r,i)))})},dragStop:function(t,i){t.element.parents(":not(body,html)").unbind("scroll.droppable");t.options.refreshPositions||n.ui.ddmanager.prepareOffsets(t,i)}}}(jQuery),function(n){n.widget("ui.resizable",n.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var i=this,t=this.options,f,r;if(this.element.addClass("ui-resizable"),n.extend(this,{_aspectRatio:!!t.aspectRatio,aspectRatio:t.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:t.helper||t.ghost||t.animate?t.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(n('<div class="ui-wrapper" style="overflow: hidden;"><\/div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=t.handles||(n(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor==String)for(this.handles=="all"&&(this.handles="n,e,s,w,se,sw,ne,nw"),f=this.handles.split(","),this.handles={},r=0;r<f.length;r++){var u=n.trim(f[r]),o="ui-resizable-"+u,e=n('<div class="ui-resizable-handle '+o+'"><\/div>');e.css({zIndex:t.zIndex});"se"==u&&e.addClass("ui-icon ui-icon-gripsmall-diagonal-se");this.handles[u]=".ui-resizable-"+u;this.element.append(e)}this._renderAxis=function(t){var i,r,u,f;t=t||this.element;for(i in this.handles)this.handles[i].constructor==String&&(this.handles[i]=n(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(r=n(this.handles[i],this.element),u=0,u=/sw|ne|nw|se|n|s/.test(i)?r.outerHeight():r.outerWidth(),f=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(f,u),this._proportionallyResize()),!n(this.handles[i]).length};this._renderAxis(this.element);this._handles=n(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!i.resizing){if(this.className)var n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);i.axis=n&&n[1]?n[1]:"se"}});t.autoHide&&(this._handles.hide(),n(this.element).addClass("ui-resizable-autohide").hover(function(){t.disabled||(n(this).removeClass("ui-resizable-autohide"),i._handles.show())},function(){t.disabled||i.resizing||(n(this).addClass("ui-resizable-autohide"),i._handles.hide())}));this._mouseInit()},destroy:function(){var i,t;return this._mouseDestroy(),i=function(t){n(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()},this.elementIsWrapper&&(i(this.element),t=this.element,t.after(this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")})).remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var i=!1,r;for(r in this.handles)n(this.handles[r])[0]==t.target&&(i=!0);return!this.options.disabled&&i},_mouseStart:function(t){var u=this.options,s=this.element.position(),r=this.element,f,e,o;return this.resizing=!0,this.documentScroll={top:n(document).scrollTop(),left:n(document).scrollLeft()},(r.is(".ui-draggable")||/absolute/.test(r.css("position")))&&r.css({position:"absolute",top:s.top,left:s.left}),this._renderProxy(),f=i(this.helper.css("left")),e=i(this.helper.css("top")),u.containment&&(f+=n(u.containment).scrollLeft()||0,e+=n(u.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:f,top:e},this.size=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.originalSize=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.originalPosition={left:f,top:e},this.sizeDiff={width:r.outerWidth()-r.width(),height:r.outerHeight()-r.height()},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio=typeof u.aspectRatio=="number"?u.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=n(".ui-resizable-"+this.axis).css("cursor"),n("body").css("cursor",o=="auto"?this.axis+"-resize":o),r.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var f=this.helper,h=this.options,c=this,r=this.originalMousePosition,e=this.axis,o=t.pageX-r.left||0,s=t.pageY-r.top||0,u=this._change[e];if(!u)return!1;var i=u.apply(this,[t,o,s]),l=n.browser.msie&&n.browser.version<7,a=this.sizeDiff;return this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._propagate("resize",t),f.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(i),this._trigger("resize",t,this.ui()),!1},_mouseStop:function(t){var r,i;if(this.resizing=!1,r=this.options,i=this,this._helper){var u=this._proportionallyResizeElements,f=u.length&&/textarea/i.test(u[0].nodeName),e=f&&n.ui.hasScroll(u[0],"left")?0:i.sizeDiff.height,o=f?0:i.sizeDiff.width,s={width:i.helper.width()-o,height:i.helper.height()-e},h=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,c=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;r.animate||this.element.css(n.extend(s,{top:c,left:h}));i.helper.height(i.size.height);i.helper.width(i.size.width);this._helper&&!r.animate&&this._proportionallyResize()}return n("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(n){var r=this.options,u,f,e,o,i;i={minWidth:t(r.minWidth)?r.minWidth:0,maxWidth:t(r.maxWidth)?r.maxWidth:Infinity,minHeight:t(r.minHeight)?r.minHeight:0,maxHeight:t(r.maxHeight)?r.maxHeight:Infinity};(this._aspectRatio||n)&&(u=i.minHeight*this.aspectRatio,e=i.minWidth/this.aspectRatio,f=i.maxHeight*this.aspectRatio,o=i.maxWidth/this.aspectRatio,u>i.minWidth&&(i.minWidth=u),e>i.minHeight&&(i.minHeight=e),f<i.maxWidth&&(i.maxWidth=f),o<i.maxHeight&&(i.maxHeight=o));this._vBoundaries=i},_updateCache:function(n){var i=this.options;this.offset=this.helper.offset();t(n.left)&&(this.position.left=n.left);t(n.top)&&(this.position.top=n.top);t(n.height)&&(this.size.height=n.height);t(n.width)&&(this.size.width=n.width)},_updateRatio:function(n){var f=this.options,i=this.position,r=this.size,u=this.axis;return t(n.height)?n.width=n.height*this.aspectRatio:t(n.width)&&(n.height=n.width/this.aspectRatio),u=="sw"&&(n.left=i.left+(r.width-n.width),n.top=null),u=="nw"&&(n.top=i.top+(r.height-n.height),n.left=i.left+(r.width-n.width)),n},_respectSize:function(n,i){var y=this.helper,r=this._vBoundaries,p=this._aspectRatio||i.shiftKey,f=this.axis,e=t(n.width)&&r.maxWidth&&r.maxWidth<n.width,o=t(n.height)&&r.maxHeight&&r.maxHeight<n.height,s=t(n.width)&&r.minWidth&&r.minWidth>n.width,h=t(n.height)&&r.minHeight&&r.minHeight>n.height,u;s&&(n.width=r.minWidth);h&&(n.height=r.minHeight);e&&(n.width=r.maxWidth);o&&(n.height=r.maxHeight);var c=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,a=/sw|nw|w/.test(f),v=/nw|ne|n/.test(f);return s&&a&&(n.left=c-r.minWidth),e&&a&&(n.left=c-r.maxWidth),h&&v&&(n.top=l-r.minHeight),o&&v&&(n.top=l-r.maxHeight),u=!n.width&&!n.height,u&&!n.left&&n.top?n.top=null:u&&!n.top&&n.left&&(n.left=null),n},_proportionallyResize:function(){var e=this.options,i,r,t,u,f;if(this._proportionallyResizeElements.length)for(i=this.helper||this.element,r=0;r<this._proportionallyResizeElements.length;r++)if(t=this._proportionallyResizeElements[r],this.borderDif||(u=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],f=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")],this.borderDif=n.map(u,function(n,t){var i=parseInt(n,10)||0,r=parseInt(f[t],10)||0;return i+r})),n.browser.msie&&(n(i).is(":hidden")||n(i).parents(":hidden").length))continue;else t.css({height:i.height()-this.borderDif[0]-this.borderDif[2]||0,width:i.width()-this.borderDif[1]-this.borderDif[3]||0})},_renderProxy:function(){var u=this.element,f=this.options;if(this.elementOffset=u.offset(),this._helper){this.helper=this.helper||n('<div style="overflow:hidden;"><\/div>');var t=n.browser.msie&&n.browser.version<7,i=t?1:0,r=t?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+r,height:this.element.outerHeight()+r,position:"absolute",left:this.elementOffset.left-i+"px",top:this.elementOffset.top-i+"px",zIndex:++f.zIndex});this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(n,t){return{width:this.originalSize.width+t}},w:function(n,t){var u=this.options,i=this.originalSize,r=this.originalPosition;return{left:r.left+t,width:i.width-t}},n:function(n,t,i){var f=this.options,r=this.originalSize,u=this.originalPosition;return{top:u.top+i,height:r.height-i}},s:function(n,t,i){return{height:this.originalSize.height+i}},se:function(t,i,r){return n.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,r]))},sw:function(t,i,r){return n.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,r]))},ne:function(t,i,r){return n.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,r]))},nw:function(t,i,r){return n.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,r]))}},_propagate:function(t,i){n.ui.plugin.call(this,t,[i,this.ui()]);t!="resize"&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});n.extend(n.ui.resizable,{version:"1.8.24"});n.ui.plugin.add("resizable","alsoResize",{start:function(){var r=n(this).data("resizable"),t=r.options,i=function(t){n(t).each(function(){var t=n(this);t.data("resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};typeof t.alsoResize=="object"&&!t.alsoResize.parentNode?t.alsoResize.length?(t.alsoResize=t.alsoResize[0],i(t.alsoResize)):n.each(t.alsoResize,function(n){i(n)}):i(t.alsoResize)},resize:function(t,i){var r=n(this).data("resizable"),u=r.options,f=r.originalSize,e=r.originalPosition,s={height:r.size.height-f.height||0,width:r.size.width-f.width||0,top:r.position.top-e.top||0,left:r.position.left-e.left||0},o=function(t,r){n(t).each(function(){var t=n(this),f=n(this).data("resizable-alsoresize"),u={},e=r&&r.length?r:t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];n.each(e,function(n,t){var i=(f[t]||0)+(s[t]||0);i&&i>=0&&(u[t]=i||null)});t.css(u)})};typeof u.alsoResize=="object"&&!u.alsoResize.nodeType?n.each(u.alsoResize,function(n,t){o(n,t)}):o(u.alsoResize)},stop:function(){n(this).removeData("resizable-alsoresize")}});n.ui.plugin.add("resizable","animate",{stop:function(t){var i=n(this).data("resizable"),u=i.options,r=i._proportionallyResizeElements,f=r.length&&/textarea/i.test(r[0].nodeName),s=f&&n.ui.hasScroll(r[0],"left")?0:i.sizeDiff.height,h=f?0:i.sizeDiff.width,c={width:i.size.width-h,height:i.size.height-s},e=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,o=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(n.extend(c,o&&e?{top:o,left:e}:{}),{duration:u.animateDuration,easing:u.animateEasing,step:function(){var u={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};r&&r.length&&n(r[0]).css({width:u.width,height:u.height});i._updateCache(u);i._propagate("resize",t)}})}});n.ui.plugin.add("resizable","containment",{start:function(){var t=n(this).data("resizable"),s=t.options,h=t.element,u=s.containment,r=u instanceof n?u.get(0):/parent/.test(u)?h.parent().get(0):u,f,e;if(r)if(t.containerElement=n(r),/document/.test(u)||u==document)t.containerOffset={left:0,top:0},t.containerPosition={left:0,top:0},t.parentData={element:n(document),left:0,top:0,width:n(document).width(),height:n(document).height()||document.body.parentNode.scrollHeight};else{f=n(r);e=[];n(["Top","Right","Left","Bottom"]).each(function(n,t){e[n]=i(f.css("padding"+t))});t.containerOffset=f.offset();t.containerPosition=f.position();t.containerSize={height:f.innerHeight()-e[3],width:f.innerWidth()-e[1]};var o=t.containerOffset,c=t.containerSize.height,l=t.containerSize.width,a=n.ui.hasScroll(r,"left")?r.scrollWidth:l,v=n.ui.hasScroll(r)?r.scrollHeight:c;t.parentData={element:r,left:o.left,top:o.top,width:a,height:v}}},resize:function(t){var i=n(this).data("resizable"),c=i.options,v=i.containerSize,r=i.containerOffset,y=i.size,o=i.position,f=i._aspectRatio||t.shiftKey,u={top:0,left:0},s=i.containerElement;s[0]!=document&&/static/.test(s.css("position"))&&(u=r);o.left<(i._helper?r.left:0)&&(i.size.width=i.size.width+(i._helper?i.position.left-r.left:i.position.left-u.left),f&&(i.size.height=i.size.width/i.aspectRatio),i.position.left=c.helper?r.left:0);o.top<(i._helper?r.top:0)&&(i.size.height=i.size.height+(i._helper?i.position.top-r.top:i.position.top),f&&(i.size.width=i.size.height*i.aspectRatio),i.position.top=i._helper?r.top:0);i.offset.left=i.parentData.left+i.position.left;i.offset.top=i.parentData.top+i.position.top;var e=Math.abs((i._helper?i.offset.left-u.left:i.offset.left-u.left)+i.sizeDiff.width),h=Math.abs((i._helper?i.offset.top-u.top:i.offset.top-r.top)+i.sizeDiff.height),l=i.containerElement.get(0)==i.element.parent().get(0),a=/relative|absolute/.test(i.containerElement.css("position"));l&&a&&(e-=i.parentData.left);e+i.size.width>=i.parentData.width&&(i.size.width=i.parentData.width-e,f&&(i.size.height=i.size.width/i.aspectRatio));h+i.size.height>=i.parentData.height&&(i.size.height=i.parentData.height-h,f&&(i.size.width=i.size.height*i.aspectRatio))},stop:function(){var t=n(this).data("resizable"),r=t.options,c=t.position,u=t.containerOffset,f=t.containerPosition,e=t.containerElement,i=n(t.helper),o=i.offset(),s=i.outerWidth()-t.sizeDiff.width,h=i.outerHeight()-t.sizeDiff.height;t._helper&&!r.animate&&/relative/.test(e.css("position"))&&n(this).css({left:o.left-f.left-u.left,width:s,height:h});t._helper&&!r.animate&&/static/.test(e.css("position"))&&n(this).css({left:o.left-f.left-u.left,width:s,height:h})}});n.ui.plugin.add("resizable","ghost",{start:function(){var t=n(this).data("resizable"),i=t.options,r=t.size;t.ghost=t.originalElement.clone();t.ghost.css({opacity:.25,display:"block",position:"relative",height:r.height,width:r.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof i.ghost=="string"?i.ghost:"");t.ghost.appendTo(t.helper)},resize:function(){var t=n(this).data("resizable"),i=t.options;t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=n(this).data("resizable"),i=t.options;t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}});n.ui.plugin.add("resizable","grid",{resize:function(t){var i=n(this).data("resizable"),r=i.options,h=i.size,u=i.originalSize,o=i.originalPosition,s=i.axis,c=r._aspectRatio||t.shiftKey,f,e;r.grid=typeof r.grid=="number"?[r.grid,r.grid]:r.grid;f=Math.round((h.width-u.width)/(r.grid[0]||1))*(r.grid[0]||1);e=Math.round((h.height-u.height)/(r.grid[1]||1))*(r.grid[1]||1);/^(se|s|e)$/.test(s)?(i.size.width=u.width+f,i.size.height=u.height+e):/^(ne)$/.test(s)?(i.size.width=u.width+f,i.size.height=u.height+e,i.position.top=o.top-e):/^(sw)$/.test(s)?(i.size.width=u.width+f,i.size.height=u.height+e,i.position.left=o.left-f):(i.size.width=u.width+f,i.size.height=u.height+e,i.position.top=o.top-e,i.position.left=o.left-f)}});var i=function(n){return parseInt(n,10)||0},t=function(n){return!isNaN(parseInt(n,10))}}(jQuery),function(n){n.widget("ui.selectable",n.ui.mouse,{options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var i=this,t;this.element.addClass("ui-selectable");this.dragged=!1;this.refresh=function(){t=n(i.options.filter,i.element[0]);t.addClass("ui-selectee");t.each(function(){var t=n(this),i=t.offset();n.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})};this.refresh();this.selectees=t.addClass("ui-selectee");this._mouseInit();this.helper=n("<div class='ui-selectable-helper'><\/div>")},destroy:function(){return this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable"),this._mouseDestroy(),this},_mouseStart:function(t){var r=this,i;(this.opos=[t.pageX,t.pageY],this.options.disabled)||(i=this.options,this.selectees=n(i.filter,this.element[0]),this._trigger("start",t),n(i.appendTo).append(this.helper),this.helper.css({left:t.clientX,top:t.clientY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var i=n.data(this,"selectable-item");i.startselected=!0;t.metaKey||t.ctrlKey||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,r._trigger("unselecting",t,{unselecting:i.element}))}),n(t.target).parents().andSelf().each(function(){var i=n.data(this,"selectable-item"),u;if(i)return u=!t.metaKey&&!t.ctrlKey||!i.$element.hasClass("ui-selected"),i.$element.removeClass(u?"ui-unselecting":"ui-selected").addClass(u?"ui-selecting":"ui-unselecting"),i.unselecting=!u,i.selecting=u,i.selected=u,u?r._trigger("selecting",t,{selecting:i.element}):r._trigger("unselecting",t,{unselecting:i.element}),!1}))},_mouseDrag:function(t){var o=this,e;if(this.dragged=!0,!this.options.disabled){var s=this.options,i=this.opos[0],r=this.opos[1],u=t.pageX,f=t.pageY;return i>u&&(e=u,u=i,i=e),r>f&&(e=f,f=r,r=e),this.helper.css({left:i,top:r,width:u-i,height:f-r}),this.selectees.each(function(){var e=n.data(this,"selectable-item"),h;e&&e.element!=o.element[0]&&(h=!1,s.tolerance=="touch"?h=!(e.left>u||e.right<i||e.top>f||e.bottom<r):s.tolerance=="fit"&&(h=e.left>i&&e.right<u&&e.top>r&&e.bottom<f),h?(e.selected&&(e.$element.removeClass("ui-selected"),e.selected=!1),e.unselecting&&(e.$element.removeClass("ui-unselecting"),e.unselecting=!1),e.selecting||(e.$element.addClass("ui-selecting"),e.selecting=!0,o._trigger("selecting",t,{selecting:e.element}))):(e.selecting&&((t.metaKey||t.ctrlKey)&&e.startselected?(e.$element.removeClass("ui-selecting"),e.selecting=!1,e.$element.addClass("ui-selected"),e.selected=!0):(e.$element.removeClass("ui-selecting"),e.selecting=!1,e.startselected&&(e.$element.addClass("ui-unselecting"),e.unselecting=!0),o._trigger("unselecting",t,{unselecting:e.element}))),e.selected&&!t.metaKey&&!t.ctrlKey&&!e.startselected&&(e.$element.removeClass("ui-selected"),e.selected=!1,e.$element.addClass("ui-unselecting"),e.unselecting=!0,o._trigger("unselecting",t,{unselecting:e.element}))))}),!1}},_mouseStop:function(t){var i=this,r;return this.dragged=!1,r=this.options,n(".ui-unselecting",this.element[0]).each(function(){var r=n.data(this,"selectable-item");r.$element.removeClass("ui-unselecting");r.unselecting=!1;r.startselected=!1;i._trigger("unselected",t,{unselected:r.element})}),n(".ui-selecting",this.element[0]).each(function(){var r=n.data(this,"selectable-item");r.$element.removeClass("ui-selecting").addClass("ui-selected");r.selecting=!1;r.selected=!0;r.startselected=!0;i._trigger("selected",t,{selected:r.element})}),this._trigger("stop",t),this.helper.remove(),!1}});n.extend(n.ui.selectable,{version:"1.8.24"})}(jQuery),function(n){n.widget("ui.sortable",n.ui.mouse,{widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var n=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?n.axis==="x"||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1;this.offset=this.element.offset();this._mouseInit();this.ready=!0},destroy:function(){n.Widget.prototype.destroy.call(this);this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,i){t==="disabled"?(this.options[t]=i,this.widget()[i?"addClass":"removeClass"]("ui-sortable-disabled")):n.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,i){var f=this,u;if(this.reverting||this.options.disabled||this.options.type=="static")return!1;this._refreshItems(t);var r=null,e=this,o=n(t.target).parents().each(function(){if(n.data(this,f.widgetName+"-item")==e)return r=n(this),!1});return(n.data(t.target,f.widgetName+"-item")==e&&(r=n(t.target)),!r)?!1:this.options.handle&&!i&&(u=!1,n(this.options.handle,r).find("*").andSelf().each(function(){this==t.target&&(u=!0)}),!u)?!1:(this.currentItem=r,this._removeCurrentsFromItems(),!0)},_mouseStart:function(t,i,r){var u=this.options,e=this,f;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},n.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,u.cursorAt&&this._adjustOffsetFromHelper(u.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),u.containment&&this._setContainment(),u.cursor&&(n("body").css("cursor")&&(this._storedCursor=n("body").css("cursor")),n("body").css("cursor",u.cursor)),u.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",u.opacity)),u.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",u.zIndex)),this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(f=this.containers.length-1;f>=0;f--)this.containers[f]._trigger("activate",t,e._uiHash(this));return n.ui.ddmanager&&(n.ui.ddmanager.current=this),n.ui.ddmanager&&!u.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,r,f;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(i=this.options,r=!1,this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-this.overflowOffset.top<i.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-i.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-this.overflowOffset.left<i.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-i.scrollSpeed)):(t.pageY-n(document).scrollTop()<i.scrollSensitivity?r=n(document).scrollTop(n(document).scrollTop()-i.scrollSpeed):n(window).height()-(t.pageY-n(document).scrollTop())<i.scrollSensitivity&&(r=n(document).scrollTop(n(document).scrollTop()+i.scrollSpeed)),t.pageX-n(document).scrollLeft()<i.scrollSensitivity?r=n(document).scrollLeft(n(document).scrollLeft()-i.scrollSpeed):n(window).width()-(t.pageX-n(document).scrollLeft())<i.scrollSensitivity&&(r=n(document).scrollLeft(n(document).scrollLeft()+i.scrollSpeed))),r!==!1&&n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&this.options.axis=="y"||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&this.options.axis=="x"||(this.helper[0].style.top=this.position.top+"px"),f=this.items.length-1;f>=0;f--){var u=this.items[f],e=u.item[0],o=this._intersectsWithPointer(u);if(o&&u.instance===this.currentContainer&&e!=this.currentItem[0]&&this.placeholder[o==1?"next":"prev"]()[0]!=e&&!n.ui.contains(this.placeholder[0],e)&&(this.options.type=="semi-dynamic"?!n.ui.contains(this.element[0],e):!0)){if(this.direction=o==1?"down":"up",this.options.tolerance=="pointer"||this._intersectsWithSides(u))this._rearrange(t,u);else break;this._trigger("change",t,this._uiHash());break}}return this._contactContainers(t),n.ui.ddmanager&&n.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(n.ui.ddmanager&&!this.options.dropBehaviour&&n.ui.ddmanager.drop(this,t),this.options.revert){var r=this,u=r.placeholder.offset();r.reverting=!0;n(this.helper).animate({left:u.left-this.offset.parent.left-r.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:u.top-this.offset.parent.top-r.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){r._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){var i=this,t;if(this.dragging)for(this._mouseUp({target:null}),this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show(),t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,i._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,i._uiHash(this)),this.containers[t].containerCache.over=0);return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),n.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?n(this.domPosition.prev).after(this.currentItem):n(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var r=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n(r).each(function(){var r=(n(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[-=_](.+)/);r&&i.push((t.key||r[1]+"[]")+"="+(t.key&&t.expression?r[1]:r[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var r=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},r.each(function(){i.push(n(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(n){var t=this.positionAbs.left,h=t+this.helperProportions.width,i=this.positionAbs.top,c=i+this.helperProportions.height,r=n.left,f=r+n.width,u=n.top,e=u+n.height,o=this.offset.click.top,s=this.offset.click.left,l=i+o>u&&i+o<e&&t+s>r&&t+s<f;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>n[this.floating?"width":"height"]?l:r<t+this.helperProportions.width/2&&h-this.helperProportions.width/2<f&&u<i+this.helperProportions.height/2&&c-this.helperProportions.height/2<e},_intersectsWithPointer:function(t){var u=this.options.axis==="x"||n.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),f=this.options.axis==="y"||n.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),e=u&&f,i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return e?this.floating?r&&r=="right"||i=="down"?2:1:i&&(i=="down"?2:1):!1},_intersectsWithSides:function(t){var u=n.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),f=n.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?r=="right"&&f||r=="left"&&!f:i&&(i=="down"&&u||i=="up"&&!u)},_getDragVerticalDirection:function(){var n=this.positionAbs.top-this.lastPositionAbs.top;return n!=0&&(n>0?"down":"up")},_getDragHorizontalDirection:function(){var n=this.positionAbs.left-this.lastPositionAbs.left;return n!=0&&(n>0?"right":"left")},refresh:function(n){return this._refreshItems(n),this.refreshPositions(),this},_connectWith:function(){var n=this.options;return n.connectWith.constructor==String?[n.connectWith]:n.connectWith},_getItemsAsjQuery:function(t){var h=this,s=[],u=[],e=this._connectWith(),o,f,i,r;if(e&&t)for(r=e.length-1;r>=0;r--)for(o=n(e[r]),f=o.length-1;f>=0;f--)i=n.data(o[f],this.widgetName),i&&i!=this&&!i.options.disabled&&u.push([n.isFunction(i.options.items)?i.options.items.call(i.element):n(i.options.items,i.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),i]);for(u.push([n.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):n(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),r=u.length-1;r>=0;r--)u[r][0].each(function(){s.push(this)});return n(s)},_removeCurrentsFromItems:function(){for(var i=this.currentItem.find(":data("+this.widgetName+"-item)"),t,n=0;n<this.items.length;n++)for(t=0;t<i.length;t++)i[t]==this.items[n].item[0]&&this.items.splice(n,1)},_refreshItems:function(t){var o,i,r,s,h,u,l,c;this.items=[];this.containers=[this];var a=this.items,v=this,f=[[n.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):n(this.options.items,this.element),this]],e=this._connectWith();if(e&&this.ready)for(r=e.length-1;r>=0;r--)for(o=n(e[r]),u=o.length-1;u>=0;u--)i=n.data(o[u],this.widgetName),i&&i!=this&&!i.options.disabled&&(f.push([n.isFunction(i.options.items)?i.options.items.call(i.element[0],t,{item:this.currentItem}):n(i.options.items,i.element),i]),this.containers.push(i));for(r=f.length-1;r>=0;r--)for(s=f[r][1],h=f[r][0],u=0,l=h.length;u<l;u++)c=n(h[u]),c.data(this.widgetName+"-item",s),a.push({item:c,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var r,f,i,u;for(this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),i=this.items.length-1;i>=0;i--)(r=this.items[i],r.instance!=this.currentContainer&&this.currentContainer&&r.item[0]!=this.currentItem[0])||(f=this.options.toleranceElement?n(this.options.toleranceElement,r.item):r.item,t||(r.width=f.outerWidth(),r.height=f.outerHeight()),u=f.offset(),r.left=u.left,r.top=u.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)u=this.containers[i].element.offset(),this.containers[i].containerCache.left=u.left,this.containers[i].containerCache.top=u.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){var i=t||this,r=i.options,u;r.placeholder&&r.placeholder.constructor!=String||(u=r.placeholder,r.placeholder={element:function(){var t=n(document.createElement(i.currentItem[0].nodeName)).addClass(u||i.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return u||(t.style.visibility="hidden"),t},update:function(n,t){(!u||r.forcePlaceholderSize)&&(t.height()||t.height(i.currentItem.innerHeight()-parseInt(i.currentItem.css("paddingTop")||0,10)-parseInt(i.currentItem.css("paddingBottom")||0,10)),t.width()||t.width(i.currentItem.innerWidth()-parseInt(i.currentItem.css("paddingLeft")||0,10)-parseInt(i.currentItem.css("paddingRight")||0,10)))}});i.placeholder=n(r.placeholder.element.call(i.element,i.currentItem));i.currentItem.after(i.placeholder);r.placeholder.update(i,i.placeholder)},_contactContainers:function(t){for(var f=null,i=null,u,o,r=this.containers.length-1;r>=0;r--)if(!n.ui.contains(this.currentItem[0],this.containers[r].element[0]))if(this._intersectsWith(this.containers[r].containerCache)){if(f&&n.ui.contains(this.containers[r].element[0],f.element[0]))continue;f=this.containers[r];i=r}else this.containers[r].containerCache.over&&(this.containers[r]._trigger("out",t,this._uiHash(this)),this.containers[r].containerCache.over=0);if(f)if(this.containers.length===1)this.containers[i]._trigger("over",t,this._uiHash(this)),this.containers[i].containerCache.over=1;else if(this.currentContainer!=this.containers[i]){var h=1e4,e=null,s=this.positionAbs[this.containers[i].floating?"left":"top"];for(u=this.items.length-1;u>=0;u--)n.ui.contains(this.containers[i].element[0],this.items[u].item[0])&&(o=this.containers[i].floating?this.items[u].item.offset().left:this.items[u].item.offset().top,Math.abs(o-s)<h&&(h=Math.abs(o-s),e=this.items[u],this.direction=o-s>0?"down":"up"));if(!e&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[i];e?this._rearrange(t,e,null,!0):this._rearrange(t,null,this.containers[i].element,!0);this._trigger("change",t,this._uiHash());this.containers[i]._trigger("change",t,this._uiHash(this));this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[i]._trigger("over",t,this._uiHash(this));this.containers[i].containerCache.over=1}},_createHelper:function(t){var r=this.options,i=n.isFunction(r.helper)?n(r.helper.apply(this.element[0],[t,this.currentItem])):r.helper=="clone"?this.currentItem.clone():this.currentItem;return i.parents("body").length||n(r.appendTo!="parent"?r.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(i[0].style.width==""||r.forceHelperSize)&&i.width(this.currentItem.width()),(i[0].style.height==""||r.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){typeof t=="string"&&(t=t.split(" "));n.isArray(t)&&(t={left:+t[0],top:+t[1]||0});"left"in t&&(this.offset.click.left=t.left+this.margins.left);"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left);"top"in t&&(this.offset.click.top=t.top+this.margins.top);"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&n.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&n.browser.msie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var n=this.currentItem.position();return{top:n.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:n.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var i=this.options;if(i.containment=="parent"&&(i.containment=this.helper[0].parentNode),(i.containment=="document"||i.containment=="window")&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,n(i.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(n(i.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),!/^(document|window|parent)$/.test(i.containment)){var t=n(i.containment)[0],r=n(i.containment).offset(),u=n(t).css("overflow")!="hidden";this.containment=[r.left+(parseInt(n(t).css("borderLeftWidth"),10)||0)+(parseInt(n(t).css("paddingLeft"),10)||0)-this.margins.left,r.top+(parseInt(n(t).css("borderTopWidth"),10)||0)+(parseInt(n(t).css("paddingTop"),10)||0)-this.margins.top,r.left+(u?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(n(t).css("borderLeftWidth"),10)||0)-(parseInt(n(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,r.top+(u?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(n(t).css("borderTopWidth"),10)||0)-(parseInt(n(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(t,i){i||(i=this.position);var r=t=="absolute"?1:-1,e=this.options,u=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!n.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,f=/(html|body)/i.test(u[0].tagName);return{top:i.top+this.offset.relative.top*r+this.offset.parent.top*r-(n.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():f?0:u.scrollTop())*r),left:i.left+this.offset.relative.left*r+this.offset.parent.left*r-(n.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():f?0:u.scrollLeft())*r)}},_generatePosition:function(t){var i=this.options,o=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!n.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,s=/(html|body)/i.test(o[0].tagName),f,e,r,u;return this.cssPosition=="relative"&&(this.scrollParent[0]==document||this.scrollParent[0]==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset()),f=t.pageX,e=t.pageY,this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(e=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(e=this.containment[3]+this.offset.click.top)),i.grid&&(r=this.originalPageY+Math.round((e-this.originalPageY)/i.grid[1])*i.grid[1],e=this.containment?r-this.offset.click.top<this.containment[1]||r-this.offset.click.top>this.containment[3]?r-this.offset.click.top<this.containment[1]?r+i.grid[1]:r-i.grid[1]:r:r,u=this.originalPageX+Math.round((f-this.originalPageX)/i.grid[0])*i.grid[0],f=this.containment?u-this.offset.click.left<this.containment[0]||u-this.offset.click.left>this.containment[2]?u-this.offset.click.left<this.containment[0]?u+i.grid[0]:u-i.grid[0]:u:u)),{top:e-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(n.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():s?0:o.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(n.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():s?0:o.scrollLeft())}},_rearrange:function(n,t,i,r){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?t.item[0]:t.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var u=this,f=this.counter;window.setTimeout(function(){f==u.counter&&u.refreshPositions(!r)},0)},_clear:function(t,i){var u,f,r;if(this.reverting=!1,u=[],f=this,!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(r in this._storedCSS)(this._storedCSS[r]=="auto"||this._storedCSS[r]=="static")&&(this._storedCSS[r]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!i&&u.push(function(n){this._trigger("receive",n,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!i&&u.push(function(n){this._trigger("update",n,this._uiHash())}),this!==this.currentContainer&&(i||(u.push(function(n){this._trigger("remove",n,this._uiHash())}),u.push(function(n){return function(t){n._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),u.push(function(n){return function(t){n._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),r=this.containers.length-1;r>=0;r--)i||u.push(function(n){return function(t){n._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[r])),this.containers[r].containerCache.over&&(u.push(function(n){return function(t){n._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[r])),this.containers[r].containerCache.over=0);if(this._storedCursor&&n("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!i){for(this._trigger("beforeStop",t,this._uiHash()),r=0;r<u.length;r++)u[r].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(i||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!i){for(r=0;r<u.length;r++)u[r].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){n.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||n([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}});n.extend(n.ui.sortable,{version:"1.8.24"})}(jQuery),jQuery.effects||function(n,t){function f(t){var i;return t&&t.constructor==Array&&t.length==3?t:(i=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(t))?[parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10)]:(i=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(t))?[parseFloat(i[1])*2.55,parseFloat(i[2])*2.55,parseFloat(i[3])*2.55]:(i=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t))?[parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16)]:(i=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(t))?[parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16)]:(i=/rgba\(0, 0, 0, 0\)/.exec(t))?s.transparent:s[n.trim(t).toLowerCase()]}function c(t,i){var r;do{if(r=(n.curCSS||n.css)(t,i),r!=""&&r!="transparent"||n.nodeName(t,"body"))break;i="backgroundColor"}while(t=t.parentNode);return f(r)}function e(){var n=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,i={},t,u,r;if(n&&n.length&&n[0]&&n[n[0]])for(r=n.length;r--;)t=n[r],typeof n[t]=="string"&&(u=t.replace(/\-(\w)/g,function(n,t){return t.toUpperCase()}),i[u]=n[t]);else for(t in n)typeof n[t]=="string"&&(i[t]=n[t]);return i}function o(t){var i,r;for(i in t)r=t[i],(r==null||n.isFunction(r)||i in a||/scrollbar/.test(i)||!/color/i.test(i)&&isNaN(parseFloat(r)))&&delete t[i];return t}function l(n,t){var r={_:0},i;for(i in t)n[i]!=t[i]&&(r[i]=t[i]);return r}function i(t,i,r,u){return typeof t=="object"&&(u=i,r=null,i=t,t=i.effect),n.isFunction(i)&&(u=i,r=null,i={}),(typeof i=="number"||n.fx.speeds[i])&&(u=r,r=i,i={}),n.isFunction(r)&&(u=r,r=null),i=i||{},r=r||i.duration,r=n.fx.off?0:typeof r=="number"?r:r in n.fx.speeds?n.fx.speeds[r]:n.fx.speeds._default,u=u||i.complete,[t,i,r,u]}function u(t){return!t||typeof t=="number"||n.fx.speeds[t]?!0:typeof t=="string"&&!n.effects[t]?!0:!1}var r;n.effects={};n.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(t,i){n.fx.step[i]=function(n){n.colorInit||(n.start=c(n.elem,i),n.end=f(n.end),n.colorInit=!0);n.elem.style[i]="rgb("+Math.max(Math.min(parseInt(n.pos*(n.end[0]-n.start[0])+n.start[0],10),255),0)+","+Math.max(Math.min(parseInt(n.pos*(n.end[1]-n.start[1])+n.start[1],10),255),0)+","+Math.max(Math.min(parseInt(n.pos*(n.end[2]-n.start[2])+n.start[2],10),255),0)+")"}});var s={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},h=["add","remove","toggle"],a={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};n.effects.animateClass=function(t,i,r,u){return n.isFunction(r)&&(u=r,r=null),this.queue(function(){var f=n(this),s=f.attr("style")||" ",a=o(e.call(this)),c,v=f.attr("class")||"";n.each(h,function(n,i){t[i]&&f[i+"Class"](t[i])});c=o(e.call(this));f.attr("class",v);f.animate(l(a,c),{queue:!1,duration:i,easing:r,complete:function(){n.each(h,function(n,i){t[i]&&f[i+"Class"](t[i])});typeof f.attr("style")=="object"?(f.attr("style").cssText="",f.attr("style").cssText=s):f.attr("style",s);u&&u.apply(this,arguments);n.dequeue(this)}})})};n.fn.extend({_addClass:n.fn.addClass,addClass:function(t,i,r,u){return i?n.effects.animateClass.apply(this,[{add:t},i,r,u]):this._addClass(t)},_removeClass:n.fn.removeClass,removeClass:function(t,i,r,u){return i?n.effects.animateClass.apply(this,[{remove:t},i,r,u]):this._removeClass(t)},_toggleClass:n.fn.toggleClass,toggleClass:function(i,r,u,f,e){return typeof r=="boolean"||r===t?u?n.effects.animateClass.apply(this,[r?{add:i}:{remove:i},u,f,e]):this._toggleClass(i,r):n.effects.animateClass.apply(this,[{toggle:i},r,u,f])},switchClass:function(t,i,r,u,f){return n.effects.animateClass.apply(this,[{add:i,remove:t},r,u,f])}});n.extend(n.effects,{version:"1.8.24",save:function(n,t){for(var i=0;i<t.length;i++)t[i]!==null&&n.data("ec.storage."+t[i],n[0].style[t[i]])},restore:function(n,t){for(var i=0;i<t.length;i++)t[i]!==null&&n.css(t[i],n.data("ec.storage."+t[i]))},setMode:function(n,t){return t=="toggle"&&(t=n.is(":hidden")?"show":"hide"),t},getBaseline:function(n,t){var i,r;switch(n[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=n[0]/t.height}switch(n[1]){case"left":r=0;break;case"center":r=.5;break;case"right":r=1;break;default:r=n[1]/t.width}return{x:r,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},u=n("<div><\/div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r=document.activeElement;try{r.id}catch(f){r=document.body}return t.wrap(u),(t[0]===r||n.contains(t[0],r))&&n(r).focus(),u=t.parent(),t.css("position")=="static"?(u.css({position:"relative"}),t.css({position:"relative"})):(n.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),n.each(["top","left","bottom","right"],function(n,r){i[r]=t.css(r);isNaN(parseInt(i[r],10))&&(i[r]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),u.css(i).show()},removeWrapper:function(t){var r,i=document.activeElement;return t.parent().is(".ui-effects-wrapper")?(r=t.parent().replaceWith(t),(t[0]===i||n.contains(t[0],i))&&n(i).focus(),r):t},setTransition:function(t,i,r,u){return u=u||{},n.each(i,function(n,i){var f=t.cssUnit(i);f[0]>0&&(u[i]=f[0]*r+f[1])}),u}});n.fn.extend({effect:function(t){var u=i.apply(this,arguments),r={options:u[1],duration:u[2],callback:u[3]},f=r.options.mode,e=n.effects[t];return n.fx.off||!e?f?this[f](r.duration,r.callback):this.each(function(){r.callback&&r.callback.call(this)}):e.call(this,r)},_show:n.fn.show,show:function(n){if(u(n))return this._show.apply(this,arguments);var t=i.apply(this,arguments);return t[1].mode="show",this.effect.apply(this,t)},_hide:n.fn.hide,hide:function(n){if(u(n))return this._hide.apply(this,arguments);var t=i.apply(this,arguments);return t[1].mode="hide",this.effect.apply(this,t)},__toggle:n.fn.toggle,toggle:function(t){if(u(t)||typeof t=="boolean"||n.isFunction(t))return this.__toggle.apply(this,arguments);var r=i.apply(this,arguments);return r[1].mode="toggle",this.effect.apply(this,r)},cssUnit:function(t){var i=this.css(t),r=[];return n.each(["em","px","%","pt"],function(n,t){i.indexOf(t)>0&&(r=[parseFloat(i),t])}),r}});r={};n.each(["Quad","Cubic","Quart","Quint","Expo"],function(n,t){r[t]=function(t){return Math.pow(t,n+2)}});n.extend(r,{Sine:function(n){return 1-Math.cos(n*Math.PI/2)},Circ:function(n){return 1-Math.sqrt(1-n*n)},Elastic:function(n){return n===0||n===1?n:-Math.pow(2,8*(n-1))*Math.sin(((n-1)*80-7.5)*Math.PI/15)},Back:function(n){return n*n*(3*n-2)},Bounce:function(n){for(var t,i=4;n<((t=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((t*3-2)/22-n,2)}});n.each(r,function(t,i){n.easing["easeIn"+t]=i;n.easing["easeOut"+t]=function(n){return 1-i(1-n)};n.easing["easeInOut"+t]=function(n){return n<.5?i(n*2)/2:i(n*-2+2)/-2+1}})}(jQuery),function(n){n.effects.blind=function(t){return this.queue(function(){var i=n(this),e=["position","top","bottom","left","right"],u=n.effects.setMode(i,t.options.mode||"hide"),o=t.options.direction||"vertical",f;n.effects.save(i,e);i.show();var r=n.effects.createWrapper(i).css({overflow:"hidden"}),s=o=="vertical"?"height":"width",h=o=="vertical"?r.height():r.width();u=="show"&&r.css(s,0);f={};f[s]=u=="show"?h:0;r.animate(f,t.duration,t.options.easing,function(){u=="hide"&&i.hide();n.effects.restore(i,e);n.effects.removeWrapper(i);t.callback&&t.callback.apply(i[0],arguments);i.dequeue()})})}}(jQuery),function(n){n.effects.bounce=function(t){return this.queue(function(){var i=n(this),l=["position","top","bottom","left","right"],f=n.effects.setMode(i,t.options.mode||"effect"),a=t.options.direction||"up",r=t.options.distance||20,v=t.options.times||5,c=t.duration||250,y,o,s,h;/show|hide/.test(f)&&l.push("opacity");n.effects.save(i,l);i.show();n.effects.createWrapper(i);var u=a=="up"||a=="down"?"top":"left",e=a=="up"||a=="left"?"pos":"neg",r=t.options.distance||(u=="top"?i.outerHeight(!0)/3:i.outerWidth(!0)/3);for(f=="show"&&i.css("opacity",0).css(u,e=="pos"?-r:r),f=="hide"&&(r=r/(v*2)),f!="hide"&&v--,f=="show"&&(o={opacity:1},o[u]=(e=="pos"?"+=":"-=")+r,i.animate(o,c/2,t.options.easing),r=r/2,v--),y=0;y<v;y++)s={},h={},s[u]=(e=="pos"?"-=":"+=")+r,h[u]=(e=="pos"?"+=":"-=")+r,i.animate(s,c/2,t.options.easing).animate(h,c/2,t.options.easing),r=f=="hide"?r*2:r/2;f=="hide"?(o={opacity:0},o[u]=(e=="pos"?"-=":"+=")+r,i.animate(o,c/2,t.options.easing,function(){i.hide();n.effects.restore(i,l);n.effects.removeWrapper(i);t.callback&&t.callback.apply(this,arguments)})):(s={},h={},s[u]=(e=="pos"?"-=":"+=")+r,h[u]=(e=="pos"?"+=":"-=")+r,i.animate(s,c/2,t.options.easing).animate(h,c/2,t.options.easing,function(){n.effects.restore(i,l);n.effects.removeWrapper(i);t.callback&&t.callback.apply(this,arguments)}));i.queue("fx",function(){i.dequeue()});i.dequeue()})}}(jQuery),function(n){n.effects.clip=function(t){return this.queue(function(){var i=n(this),h=["position","top","bottom","left","right","height","width"],u=n.effects.setMode(i,t.options.mode||"hide"),o=t.options.direction||"vertical",e;n.effects.save(i,h);i.show();var c=n.effects.createWrapper(i).css({overflow:"hidden"}),r=i[0].tagName=="IMG"?c:i,f={size:o=="vertical"?"height":"width",position:o=="vertical"?"top":"left"},s=o=="vertical"?r.height():r.width();u=="show"&&(r.css(f.size,0),r.css(f.position,s/2));e={};e[f.size]=u=="show"?s:0;e[f.position]=u=="show"?0:s/2;r.animate(e,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){u=="hide"&&i.hide();n.effects.restore(i,h);n.effects.removeWrapper(i);t.callback&&t.callback.apply(i[0],arguments);i.dequeue()}})})}}(jQuery),function(n){n.effects.drop=function(t){return this.queue(function(){var i=n(this),h=["position","top","bottom","left","right","opacity"],r=n.effects.setMode(i,t.options.mode||"hide"),u=t.options.direction||"left",s;n.effects.save(i,h);i.show();n.effects.createWrapper(i);var f=u=="up"||u=="down"?"top":"left",e=u=="up"||u=="left"?"pos":"neg",o=t.options.distance||(f=="top"?i.outerHeight(!0)/2:i.outerWidth(!0)/2);r=="show"&&i.css("opacity",0).css(f,e=="pos"?-o:o);s={opacity:r=="show"?1:0};s[f]=(r=="show"?e=="pos"?"+=":"-=":e=="pos"?"-=":"+=")+o;i.animate(s,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){r=="hide"&&i.hide();n.effects.restore(i,h);n.effects.removeWrapper(i);t.callback&&t.callback.apply(this,arguments);i.dequeue()}})})}}(jQuery),function(n){n.effects.explode=function(t){return this.queue(function(){var r=t.options.pieces?Math.round(Math.sqrt(t.options.pieces)):3,u=t.options.pieces?Math.round(Math.sqrt(t.options.pieces)):3,i,o,s,h,f,e;for(t.options.mode=t.options.mode=="toggle"?n(this).is(":visible")?"hide":"show":t.options.mode,i=n(this).show().css("visibility","hidden"),o=i.offset(),o.top-=parseInt(i.css("marginTop"),10)||0,o.left-=parseInt(i.css("marginLeft"),10)||0,s=i.outerWidth(!0),h=i.outerHeight(!0),f=0;f<r;f++)for(e=0;e<u;e++)i.clone().appendTo("body").wrap("<div><\/div>").css({position:"absolute",visibility:"visible",left:-e*(s/u),top:-f*(h/r)}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:s/u,height:h/r,left:o.left+e*(s/u)+(t.options.mode=="show"?(e-Math.floor(u/2))*(s/u):0),top:o.top+f*(h/r)+(t.options.mode=="show"?(f-Math.floor(r/2))*(h/r):0),opacity:t.options.mode=="show"?0:1}).animate({left:o.left+e*(s/u)+(t.options.mode=="show"?0:(e-Math.floor(u/2))*(s/u)),top:o.top+f*(h/r)+(t.options.mode=="show"?0:(f-Math.floor(r/2))*(h/r)),opacity:t.options.mode=="show"?1:0},t.duration||500);setTimeout(function(){t.options.mode=="show"?i.css({visibility:"visible"}):i.css({visibility:"visible"}).hide();t.callback&&t.callback.apply(i[0]);i.dequeue();n("div.ui-effects-explode").remove()},t.duration||500)})}}(jQuery),function(n){n.effects.fade=function(t){return this.queue(function(){var i=n(this),r=n.effects.setMode(i,t.options.mode||"hide");i.animate({opacity:r},{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){t.callback&&t.callback.apply(this,arguments);i.dequeue()}})})}}(jQuery),function(n){n.effects.fold=function(t){return this.queue(function(){var i=n(this),h=["position","top","bottom","left","right"],r=n.effects.setMode(i,t.options.mode||"hide"),f=t.options.size||15,c=!!t.options.horizFirst,l=t.duration?t.duration/2:n.fx.speeds._default/2,o,s;n.effects.save(i,h);i.show();var u=n.effects.createWrapper(i).css({overflow:"hidden"}),a=r=="show"!=c,v=a?["width","height"]:["height","width"],e=a?[u.width(),u.height()]:[u.height(),u.width()],y=/([0-9]+)%/.exec(f);y&&(f=parseInt(y[1],10)/100*e[r=="hide"?0:1]);r=="show"&&u.css(c?{height:0,width:f}:{height:f,width:0});o={};s={};o[v[0]]=r=="show"?e[0]:f;s[v[1]]=r=="show"?e[1]:0;u.animate(o,l,t.options.easing).animate(s,l,t.options.easing,function(){r=="hide"&&i.hide();n.effects.restore(i,h);n.effects.removeWrapper(i);t.callback&&t.callback.apply(i[0],arguments);i.dequeue()})})}}(jQuery),function(n){n.effects.highlight=function(t){return this.queue(function(){var i=n(this),u=["backgroundImage","backgroundColor","opacity"],r=n.effects.setMode(i,t.options.mode||"show"),f={backgroundColor:i.css("backgroundColor")};r=="hide"&&(f.opacity=0);n.effects.save(i,u);i.show().css({backgroundImage:"none",backgroundColor:t.options.color||"#ffff99"}).animate(f,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){r=="hide"&&i.hide();n.effects.restore(i,u);r=="show"&&!n.support.opacity&&this.style.removeAttribute("filter");t.callback&&t.callback.apply(this,arguments);i.dequeue()}})})}}(jQuery),function(n){n.effects.pulsate=function(t){return this.queue(function(){var i=n(this),e=n.effects.setMode(i,t.options.mode||"show"),o=(t.options.times||5)*2-1,s=t.duration?t.duration/2:n.fx.speeds._default/2,u=i.is(":visible"),r=0,f;for(u||(i.css("opacity",0).show(),r=1),(e=="hide"&&u||e=="show"&&!u)&&o--,f=0;f<o;f++)i.animate({opacity:r},s,t.options.easing),r=(r+1)%2;i.animate({opacity:r},s,t.options.easing,function(){r==0&&i.hide();t.callback&&t.callback.apply(this,arguments)});i.queue("fx",function(){i.dequeue()}).dequeue()})}}(jQuery),function(n){n.effects.puff=function(t){return this.queue(function(){var i=n(this),r=n.effects.setMode(i,t.options.mode||"hide"),f=parseInt(t.options.percent,10)||150,e=f/100,u={height:i.height(),width:i.width()};n.extend(t.options,{fade:!0,mode:r,percent:r=="hide"?f:100,from:r=="hide"?u:{height:u.height*e,width:u.width*e}});i.effect("scale",t.options,t.duration,t.callback);i.dequeue()})};n.effects.scale=function(t){return this.queue(function(){var i=n(this),r=n.extend(!0,{},t.options),u=n.effects.setMode(i,t.options.mode||"effect"),o=parseInt(t.options.percent,10)||(parseInt(t.options.percent,10)==0?0:u=="hide"?0:100),s=t.options.direction||"both",h=t.options.origin,f,e;u!="effect"&&(r.origin=h||["middle","center"],r.restore=!0);f={height:i.height(),width:i.width()};i.from=t.options.from||(u=="show"?{height:0,width:0}:f);e={y:s!="horizontal"?o/100:1,x:s!="vertical"?o/100:1};i.to={height:f.height*e.y,width:f.width*e.x};t.options.fade&&(u=="show"&&(i.from.opacity=0,i.to.opacity=1),u=="hide"&&(i.from.opacity=1,i.to.opacity=0));r.from=i.from;r.to=i.to;r.mode=u;i.effect("size",r,t.duration,t.callback);i.dequeue()})};n.effects.size=function(t){return this.queue(function(){var i=n(this),f=["position","top","bottom","left","right","width","height","overflow","opacity"],v=["position","top","bottom","left","right","overflow","opacity"],a=["width","height","overflow"],c=["fontSize"],e=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],o=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=n.effects.setMode(i,t.options.mode||"effect"),l=t.options.restore||!1,s=t.options.scale||"both",y=t.options.origin,u={height:i.height(),width:i.width()},h,r;i.from=t.options.from||u;i.to=t.options.to||u;y&&(h=n.effects.getBaseline(y,u),i.from.top=(u.height-i.from.height)*h.y,i.from.left=(u.width-i.from.width)*h.x,i.to.top=(u.height-i.to.height)*h.y,i.to.left=(u.width-i.to.width)*h.x);r={from:{y:i.from.height/u.height,x:i.from.width/u.width},to:{y:i.to.height/u.height,x:i.to.width/u.width}};(s=="box"||s=="both")&&(r.from.y!=r.to.y&&(f=f.concat(e),i.from=n.effects.setTransition(i,e,r.from.y,i.from),i.to=n.effects.setTransition(i,e,r.to.y,i.to)),r.from.x!=r.to.x&&(f=f.concat(o),i.from=n.effects.setTransition(i,o,r.from.x,i.from),i.to=n.effects.setTransition(i,o,r.to.x,i.to)));(s=="content"||s=="both")&&r.from.y!=r.to.y&&(f=f.concat(c),i.from=n.effects.setTransition(i,c,r.from.y,i.from),i.to=n.effects.setTransition(i,c,r.to.y,i.to));n.effects.save(i,l?f:v);i.show();n.effects.createWrapper(i);i.css("overflow","hidden").css(i.from);(s=="content"||s=="both")&&(e=e.concat(["marginTop","marginBottom"]).concat(c),o=o.concat(["marginLeft","marginRight"]),a=f.concat(e).concat(o),i.find("*[width]").each(function(){var i=n(this),u;l&&n.effects.save(i,a);u={height:i.height(),width:i.width()};i.from={height:u.height*r.from.y,width:u.width*r.from.x};i.to={height:u.height*r.to.y,width:u.width*r.to.x};r.from.y!=r.to.y&&(i.from=n.effects.setTransition(i,e,r.from.y,i.from),i.to=n.effects.setTransition(i,e,r.to.y,i.to));r.from.x!=r.to.x&&(i.from=n.effects.setTransition(i,o,r.from.x,i.from),i.to=n.effects.setTransition(i,o,r.to.x,i.to));i.css(i.from);i.animate(i.to,t.duration,t.options.easing,function(){l&&n.effects.restore(i,a)})}));i.animate(i.to,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){i.to.opacity===0&&i.css("opacity",i.from.opacity);p=="hide"&&i.hide();n.effects.restore(i,l?f:v);n.effects.removeWrapper(i);t.callback&&t.callback.apply(this,arguments);i.dequeue()}})})}}(jQuery),function(n){n.effects.shake=function(t){return this.queue(function(){var i=n(this),l=["position","top","bottom","left","right"],y=n.effects.setMode(i,t.options.mode||"effect"),u=t.options.direction||"left",f=t.options.distance||20,v=t.options.times||3,r=t.duration||t.options.duration||140,c;n.effects.save(i,l);i.show();n.effects.createWrapper(i);var e=u=="up"||u=="down"?"top":"left",o=u=="up"||u=="left"?"pos":"neg",s={},h={},a={};for(s[e]=(o=="pos"?"-=":"+=")+f,h[e]=(o=="pos"?"+=":"-=")+f*2,a[e]=(o=="pos"?"-=":"+=")+f*2,i.animate(s,r,t.options.easing),c=1;c<v;c++)i.animate(h,r,t.options.easing).animate(a,r,t.options.easing);i.animate(h,r,t.options.easing).animate(s,r/2,t.options.easing,function(){n.effects.restore(i,l);n.effects.removeWrapper(i);t.callback&&t.callback.apply(this,arguments)});i.queue("fx",function(){i.dequeue()});i.dequeue()})}}(jQuery),function(n){n.effects.slide=function(t){return this.queue(function(){var i=n(this),h=["position","top","bottom","left","right"],f=n.effects.setMode(i,t.options.mode||"show"),u=t.options.direction||"left",s;n.effects.save(i,h);i.show();n.effects.createWrapper(i).css({overflow:"hidden"});var e=u=="up"||u=="down"?"top":"left",o=u=="up"||u=="left"?"pos":"neg",r=t.options.distance||(e=="top"?i.outerHeight(!0):i.outerWidth(!0));f=="show"&&i.css(e,o=="pos"?isNaN(r)?"-"+r:-r:r);s={};s[e]=(f=="show"?o=="pos"?"+=":"-=":o=="pos"?"-=":"+=")+r;i.animate(s,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){f=="hide"&&i.hide();n.effects.restore(i,h);n.effects.removeWrapper(i);t.callback&&t.callback.apply(this,arguments);i.dequeue()}})})}}(jQuery),function(n){n.effects.transfer=function(t){return this.queue(function(){var i=n(this),r=n(t.options.to),u=r.offset(),e={top:u.top,left:u.left,height:r.innerHeight(),width:r.innerWidth()},f=i.offset(),o=n('<div class="ui-effects-transfer"><\/div>').appendTo(document.body).addClass(t.options.className).css({top:f.top,left:f.left,height:i.innerHeight(),width:i.innerWidth(),position:"absolute"}).animate(e,t.duration,t.options.easing,function(){o.remove();t.callback&&t.callback.apply(i[0],arguments);i.dequeue()})})}}(jQuery),function(n){n.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:!0,clearStyle:!1,collapsible:!1,event:"click",fillSpace:!1,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var t=this,i=t.options,r,u;t.running=0;t.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix");t.headers=t.element.find(i.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){i.disabled||n(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){i.disabled||n(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){i.disabled||n(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){i.disabled||n(this).removeClass("ui-state-focus")});t.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom");i.navigation&&(r=t.element.find("a").filter(i.navigationFilter).eq(0),r.length&&(u=r.closest(".ui-accordion-header"),t.active=u.length?u:r.closest(".ui-accordion-content").prev()));t.active=t._findActive(t.active||i.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top");t.active.next().addClass("ui-accordion-content-active");t._createIcons();t.resize();t.element.attr("role","tablist");t.headers.attr("role","tab").bind("keydown.accordion",function(n){return t._keydown(n)}).next().attr("role","tabpanel");t.headers.not(t.active||"").attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).next().hide();t.active.length?t.active.attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}):t.headers.eq(0).attr("tabIndex",0);n.browser.safari||t.headers.find("a").attr("tabIndex",-1);i.event&&t.headers.bind(i.event.split(" ").join(".accordion ")+".accordion",function(n){t._clickHandler.call(t,n,this);n.preventDefault()})},_createIcons:function(){var t=this.options;t.icons&&(n("<span><\/span>").addClass("ui-icon "+t.icons.header).prependTo(this.headers),this.active.children(".ui-icon").toggleClass(t.icons.header).toggleClass(t.icons.headerSelected),this.element.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.children(".ui-icon").remove();this.element.removeClass("ui-accordion-icons")},destroy:function(){var t=this.options,i;return this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("tabIndex"),this.headers.find("a").removeAttr("tabIndex"),this._destroyIcons(),i=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled"),(t.autoHeight||t.fillHeight)&&i.css("height",""),n.Widget.prototype.destroy.call(this)},_setOption:function(t,i){n.Widget.prototype._setOption.apply(this,arguments);t=="active"&&this.activate(i);t=="icons"&&(this._destroyIcons(),i&&this._createIcons());t=="disabled"&&this.headers.add(this.headers.next())[i?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")},_keydown:function(t){if(!this.options.disabled&&!t.altKey&&!t.ctrlKey){var i=n.ui.keyCode,u=this.headers.length,f=this.headers.index(t.target),r=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:r=this.headers[(f+1)%u];break;case i.LEFT:case i.UP:r=this.headers[(f-1+u)%u];break;case i.SPACE:case i.ENTER:this._clickHandler({target:t.target},t.target);t.preventDefault()}return r?(n(t.target).attr("tabIndex",-1),n(r).attr("tabIndex",0),r.focus(),!1):!0}},resize:function(){var i=this.options,t,r;return i.fillSpace?(n.browser.msie&&(r=this.element.parent().css("overflow"),this.element.parent().css("overflow","hidden")),t=this.element.parent().height(),n.browser.msie&&this.element.parent().css("overflow",r),this.headers.each(function(){t-=n(this).outerHeight(!0)}),this.headers.next().each(function(){n(this).height(Math.max(0,t-n(this).innerHeight()+n(this).height()))}).css("overflow","auto")):i.autoHeight&&(t=0,this.headers.next().each(function(){t=Math.max(t,n(this).height("").height())}).height(t)),this},activate:function(n){this.options.active=n;var t=this._findActive(n)[0];return this._clickHandler({target:t},t),this},_findActive:function(t){return t?typeof t=="number"?this.headers.filter(":eq("+t+")"):this.headers.not(this.headers.not(t)):t===!1?n([]):this.headers.filter(":eq(0)")},_clickHandler:function(t,i){var r=this.options,u,f;if(!r.disabled){if(!t.target){if(!r.collapsible)return;this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(r.icons.headerSelected).addClass(r.icons.header);this.active.next().addClass("ui-accordion-content-active");var e=this.active.next(),s={options:r,newHeader:n([]),oldHeader:r.active,newContent:n([]),oldContent:e},o=this.active=n([]);this._toggle(o,e,s);return}if(u=n(t.currentTarget||i),f=u[0]===this.active[0],r.active=r.collapsible&&f?!1:this.headers.index(u),!this.running&&(r.collapsible||!f)){var h=this.active,o=u.next(),e=this.active.next(),s={options:r,newHeader:f&&r.collapsible?n([]):u,oldHeader:this.active,newContent:f&&r.collapsible?n([]):o,oldContent:e},c=this.headers.index(this.active[0])>this.headers.index(u[0]);this.active=f?n([]):u;this._toggle(o,e,s,f,c);h.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(r.icons.headerSelected).addClass(r.icons.header);f||(u.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(r.icons.header).addClass(r.icons.headerSelected),u.next().addClass("ui-accordion-content-active"));return}}},_toggle:function(t,i,r,u,f){var o=this,e=o.options,c,h;if(o.toShow=t,o.toHide=i,o.data=r,c=function(){if(o)return o._completed.apply(o,arguments)},o._trigger("changestart",null,o.data),o.running=i.size()===0?t.size():i.size(),e.animated){h={};h=e.collapsible&&u?{toShow:n([]),toHide:i,complete:c,down:f,autoHeight:e.autoHeight||e.fillSpace}:{toShow:t,toHide:i,complete:c,down:f,autoHeight:e.autoHeight||e.fillSpace};e.proxied||(e.proxied=e.animated);e.proxiedDuration||(e.proxiedDuration=e.duration);e.animated=n.isFunction(e.proxied)?e.proxied(h):e.proxied;e.duration=n.isFunction(e.proxiedDuration)?e.proxiedDuration(h):e.proxiedDuration;var l=n.ui.accordion.animations,a=e.duration,s=e.animated;!s||l[s]||n.easing[s]||(s="slide");l[s]||(l[s]=function(n){this.slide(n,{easing:s,duration:a||700})});l[s](h)}else e.collapsible&&u?t.toggle():(i.hide(),t.show()),c(!0);i.prev().attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).blur();t.prev().attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}).focus()},_completed:function(n){(this.running=n?0:--this.running,this.running)||(this.options.clearStyle&&this.toShow.add(this.toHide).css({height:"",overflow:""}),this.toHide.removeClass("ui-accordion-content-active"),this.toHide.length&&(this.toHide.parent()[0].className=this.toHide.parent()[0].className),this._trigger("change",null,this.data))}});n.extend(n.ui.accordion,{version:"1.8.24",animations:{slide:function(t,i){if(t=n.extend({easing:"swing",duration:300},t,i),!t.toHide.size()){t.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},t);return}if(!t.toShow.size()){t.toHide.animate({height:"hide",paddingTop:"hide",paddingBottom:"hide"},t);return}var s=t.toShow.css("overflow"),f=0,u={},e={},o,r=t.toShow;o=r[0].style.width;r.width(r.parent().width()-parseFloat(r.css("paddingLeft"))-parseFloat(r.css("paddingRight"))-(parseFloat(r.css("borderLeftWidth"))||0)-(parseFloat(r.css("borderRightWidth"))||0));n.each(["height","paddingTop","paddingBottom"],function(i,r){e[r]="hide";var f=(""+n.css(t.toShow[0],r)).match(/^([\d+-.]+)(.*)$/);u[r]={value:f[1],unit:f[2]||"px"}});t.toShow.css({height:0,overflow:"hidden"}).show();t.toHide.filter(":hidden").each(t.complete).end().filter(":visible").animate(e,{step:function(n,i){i.prop=="height"&&(f=i.end-i.start==0?0:(i.now-i.start)/(i.end-i.start));t.toShow[0].style[i.prop]=f*u[i.prop].value+u[i.prop].unit},duration:t.duration,easing:t.easing,complete:function(){t.autoHeight||t.toShow.css("height","");t.toShow.css({width:o,overflow:s});t.complete()}})},bounceslide:function(n){this.slide(n,{easing:n.down?"easeOutBounce":"swing",duration:n.down?1e3:200})}}})}(jQuery),function(n){var t=0;n.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var t=this,r=this.element[0].ownerDocument,i;this.isMultiLine=this.element.is("textarea");this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(r){if(!t.options.disabled&&!t.element.propAttr("readOnly")){i=!1;var u=n.ui.keyCode;switch(r.keyCode){case u.PAGE_UP:t._move("previousPage",r);break;case u.PAGE_DOWN:t._move("nextPage",r);break;case u.UP:t._keyEvent("previous",r);break;case u.DOWN:t._keyEvent("next",r);break;case u.ENTER:case u.NUMPAD_ENTER:t.menu.active&&(i=!0,r.preventDefault());case u.TAB:if(!t.menu.active)return;t.menu.select(r);break;case u.ESCAPE:t.element.val(t.term);t.close(r);break;default:clearTimeout(t.searching);t.searching=setTimeout(function(){t.term!=t.element.val()&&(t.selectedItem=null,t.search(null,r))},t.options.delay)}}}).bind("keypress.autocomplete",function(n){i&&(i=!1,n.preventDefault())}).bind("focus.autocomplete",function(){t.options.disabled||(t.selectedItem=null,t.previous=t.element.val())}).bind("blur.autocomplete",function(n){t.options.disabled||(clearTimeout(t.searching),t.closing=setTimeout(function(){t.close(n);t._change(n)},150))});this._initSource();this.menu=n("<ul><\/ul>").addClass("ui-autocomplete").appendTo(n(this.options.appendTo||"body",r)[0]).mousedown(function(i){var r=t.menu.element[0];n(i.target).closest(".ui-menu-item").length||setTimeout(function(){n(document).one("mousedown",function(i){i.target===t.element[0]||i.target===r||n.ui.contains(r,i.target)||t.close()})},1);setTimeout(function(){clearTimeout(t.closing)},13)}).menu({focus:function(n,i){var r=i.item.data("item.autocomplete");!1!==t._trigger("focus",n,{item:r})&&/^key/.test(n.originalEvent.type)&&t.element.val(r.value)},selected:function(n,i){var u=i.item.data("item.autocomplete"),f=t.previous;t.element[0]!==r.activeElement&&(t.element.focus(),t.previous=f,setTimeout(function(){t.previous=f;t.selectedItem=u},1));!1!==t._trigger("select",n,{item:u})&&t.element.val(u.value);t.term=t.element.val();t.close(n);t.selectedItem=u},blur:function(){t.menu.element.is(":visible")&&t.element.val()!==t.term&&t.element.val(t.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu");n.fn.bgiframe&&this.menu.element.bgiframe();t.beforeunloadHandler=function(){t.element.removeAttr("autocomplete")};n(window).bind("beforeunload",t.beforeunloadHandler)},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup");this.menu.element.remove();n(window).unbind("beforeunload",this.beforeunloadHandler);n.Widget.prototype.destroy.call(this)},_setOption:function(t,i){n.Widget.prototype._setOption.apply(this,arguments);t==="source"&&this._initSource();t==="appendTo"&&this.menu.element.appendTo(n(i||"body",this.element[0].ownerDocument)[0]);t==="disabled"&&i&&this.xhr&&this.xhr.abort()},_initSource:function(){var t=this,i,r;n.isArray(this.options.source)?(i=this.options.source,this.source=function(t,r){r(n.ui.autocomplete.filter(i,t.term))}):typeof this.options.source=="string"?(r=this.options.source,this.source=function(i,u){t.xhr&&t.xhr.abort();t.xhr=n.ajax({url:r,data:i,dataType:"json",success:function(n){u(n)},error:function(){u([])}})}):this.source=this.options.source},search:function(n,t){return(n=n!=null?n:this.element.val(),this.term=this.element.val(),n.length<this.options.minLength)?this.close(t):(clearTimeout(this.closing),this._trigger("search",t)===!1)?void 0:this._search(n)},_search:function(n){this.pending++;this.element.addClass("ui-autocomplete-loading");this.source({term:n},this._response())},_response:function(){var n=this,i=++t;return function(r){i===t&&n.__response(r);n.pending--;n.pending||n.element.removeClass("ui-autocomplete-loading")}},__response:function(n){!this.options.disabled&&n&&n.length?(n=this._normalize(n),this._suggest(n),this._trigger("open")):this.close()},close:function(n){clearTimeout(this.closing);this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.deactivate(),this._trigger("close",n))},_change:function(n){this.previous!==this.element.val()&&this._trigger("change",n,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:n.map(t,function(t){return typeof t=="string"?{label:t,value:t}:n.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var i=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(i,t);this.menu.deactivate();this.menu.refresh();i.show();this._resizeMenu();i.position(n.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next(new n.Event("mouseover"))},_resizeMenu:function(){var n=this.menu.element;n.outerWidth(Math.max(n.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var r=this;n.each(i,function(n,i){r._renderItem(t,i)})},_renderItem:function(t,i){return n("<li><\/li>").data("item.autocomplete",i).append(n("<a><\/a>").text(i.label)).appendTo(t)},_move:function(n,t){if(!this.menu.element.is(":visible")){this.search(null,t);return}if(this.menu.first()&&/^previous/.test(n)||this.menu.last()&&/^next/.test(n)){this.element.val(this.term);this.menu.deactivate();return}this.menu[n](t)},widget:function(){return this.menu.element},_keyEvent:function(n,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(n,t),t.preventDefault())}});n.extend(n.ui.autocomplete,{escapeRegex:function(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(t,i){var r=new RegExp(n.ui.autocomplete.escapeRegex(i),"i");return n.grep(t,function(n){return r.test(n.label||n.value||n)})}})}(jQuery),function(n){n.widget("ui.menu",{_create:function(){var t=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(i){n(i.target).closest(".ui-menu-item a").length&&(i.preventDefault(),t.select(i))});this.refresh()},refresh:function(){var t=this,i=this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem");i.children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(i){t.activate(i,n(this).parent())}).mouseleave(function(){t.deactivate()})},activate:function(n,t){if(this.deactivate(),this.hasScroll()){var i=t.offset().top-this.element.offset().top,r=this.element.scrollTop(),u=this.element.height();i<0?this.element.scrollTop(r+i):i>=u&&this.element.scrollTop(r+i-u+t.height())}this.active=t.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end();this._trigger("focus",n,{item:t})},deactivate:function(){this.active&&(this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null)},next:function(n){this.move("next",".ui-menu-item:first",n)},previous:function(n){this.move("prev",".ui-menu-item:last",n)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(n,t,i){if(!this.active){this.activate(i,this.element.children(t));return}var r=this.active[n+"All"](".ui-menu-item").eq(0);r.length?this.activate(i,r):this.activate(i,this.element.children(t))},nextPage:function(t){if(this.hasScroll()){if(!this.active||this.last()){this.activate(t,this.element.children(".ui-menu-item:first"));return}var r=this.active.offset().top,u=this.element.height(),i=this.element.children(".ui-menu-item").filter(function(){var t=n(this).offset().top-r-u+n(this).height();return t<10&&t>-10});i.length||(i=this.element.children(".ui-menu-item:last"));this.activate(t,i)}else this.activate(t,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))},previousPage:function(t){if(this.hasScroll()){if(!this.active||this.first()){this.activate(t,this.element.children(".ui-menu-item:last"));return}var r=this.active.offset().top,u=this.element.height(),i=this.element.children(".ui-menu-item").filter(function(){var t=n(this).offset().top-r+u-n(this).height();return t<10&&t>-10});i.length||(i=this.element.children(".ui-menu-item:first"));this.activate(t,i)}else this.activate(t,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element[n.fn.prop?"prop":"attr"]("scrollHeight")},select:function(n){this._trigger("selected",n,{item:this.active})}})}(jQuery),function(n){var i,r,u,t,f="ui-button ui-widget ui-state-default ui-corner-all",s="ui-state-hover ui-state-active ",e="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",h=function(){var t=n(this).find(":ui-button");setTimeout(function(){t.button("refresh")},1)},o=function(t){var i=t.name,r=t.form,u=n([]);return i&&(u=r?n(r).find("[name='"+i+"']"):n("[name='"+i+"']",t.ownerDocument).filter(function(){return!this.form})),u};n.widget("ui.button",{options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",h);typeof this.options.disabled!="boolean"?this.options.disabled=!!this.element.propAttr("disabled"):this.element.propAttr("disabled",this.options.disabled);this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var s=this,e=this.options,c=this.type==="checkbox"||this.type==="radio",a="ui-state-hover"+(c?"":" ui-state-active"),l="ui-state-focus";e.label===null&&(e.label=this.buttonElement.html());this.buttonElement.addClass(f).attr("role","button").bind("mouseenter.button",function(){e.disabled||(n(this).addClass("ui-state-hover"),this===i&&n(this).addClass("ui-state-active"))}).bind("mouseleave.button",function(){e.disabled||n(this).removeClass(a)}).bind("click.button",function(n){e.disabled&&(n.preventDefault(),n.stopImmediatePropagation())});this.element.bind("focus.button",function(){s.buttonElement.addClass(l)}).bind("blur.button",function(){s.buttonElement.removeClass(l)});c&&(this.element.bind("change.button",function(){t||s.refresh()}),this.buttonElement.bind("mousedown.button",function(n){e.disabled||(t=!1,r=n.pageX,u=n.pageY)}).bind("mouseup.button",function(n){e.disabled||(r!==n.pageX||u!==n.pageY)&&(t=!0)}));this.type==="checkbox"?this.buttonElement.bind("click.button",function(){if(e.disabled||t)return!1;n(this).toggleClass("ui-state-active");s.buttonElement.attr("aria-pressed",s.element[0].checked)}):this.type==="radio"?this.buttonElement.bind("click.button",function(){if(e.disabled||t)return!1;n(this).addClass("ui-state-active");s.buttonElement.attr("aria-pressed","true");var i=s.element[0];o(i).not(i).map(function(){return n(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown.button",function(){if(e.disabled)return!1;n(this).addClass("ui-state-active");i=this;n(document).one("mouseup",function(){i=null})}).bind("mouseup.button",function(){if(e.disabled)return!1;n(this).removeClass("ui-state-active")}).bind("keydown.button",function(t){if(e.disabled)return!1;(t.keyCode==n.ui.keyCode.SPACE||t.keyCode==n.ui.keyCode.ENTER)&&n(this).addClass("ui-state-active")}).bind("keyup.button",function(){n(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===n.ui.keyCode.SPACE&&n(this).click()}));this._setOption("disabled",e.disabled);this._resetButton()},_determineButtonType:function(){var n,t,i;this.type=this.element.is(":checkbox")?"checkbox":this.element.is(":radio")?"radio":this.element.is("input")?"input":"button";this.type==="checkbox"||this.type==="radio"?(n=this.element.parents().filter(":last"),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=n.find(t),this.buttonElement.length||(n=n.length?n.siblings():this.element.siblings(),this.buttonElement=n.filter(t),this.buttonElement.length||(this.buttonElement=n.find(t))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.attr("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass(f+" "+s+" "+e).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());this.hasTitle||this.buttonElement.removeAttr("title");n.Widget.prototype.destroy.call(this)},_setOption:function(t,i){if(n.Widget.prototype._setOption.apply(this,arguments),t==="disabled"){i?this.element.propAttr("disabled",!0):this.element.propAttr("disabled",!1);return}this._resetButton()},refresh:function(){var t=this.element.is(":disabled");t!==this.options.disabled&&this._setOption("disabled",t);this.type==="radio"?o(this.element[0]).each(function(){n(this).is(":checked")?n(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):n(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):this.type==="checkbox"&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if(this.type==="input"){this.options.label&&this.element.val(this.options.label);return}var i=this.buttonElement.removeClass(e),f=n("<span><\/span>",this.element[0].ownerDocument).addClass("ui-button-text").html(this.options.label).appendTo(i.empty()).text(),t=this.options.icons,u=t.primary&&t.secondary,r=[];t.primary||t.secondary?(this.options.text&&r.push("ui-button-text-icon"+(u?"s":t.primary?"-primary":"-secondary")),t.primary&&i.prepend("<span class='ui-button-icon-primary ui-icon "+t.primary+"'><\/span>"),t.secondary&&i.append("<span class='ui-button-icon-secondary ui-icon "+t.secondary+"'><\/span>"),this.options.text||(r.push(u?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||i.attr("title",f))):r.push("ui-button-text-only");i.addClass(r.join(" "))}});n.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,i){t==="disabled"&&this.buttons.button("option",t,i);n.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){var t=this.element.css("direction")==="rtl";this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return n(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return n(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy");n.Widget.prototype.destroy.call(this)}})}(jQuery),function(n,t){function e(){this.debug=!1;this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._datepickerShowing=!1;this._inDialog=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};n.extend(this._defaults,this.regional[""]);this.dpDiv=o(n('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"><\/div>'))}function o(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.bind("mouseout",function(t){var r=n(t.target).closest(i);r.length&&r.removeClass("ui-state-hover ui-datepicker-prev-hover ui-datepicker-next-hover")}).bind("mouseover",function(r){var u=n(r.target).closest(i);!n.datepicker._isDisabledDatepicker(f.inline?t.parent()[0]:f.input[0])&&u.length&&(u.parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),u.addClass("ui-state-hover"),u.hasClass("ui-datepicker-prev")&&u.addClass("ui-datepicker-prev-hover"),u.hasClass("ui-datepicker-next")&&u.addClass("ui-datepicker-next-hover"))})}function u(i,r){n.extend(i,r);for(var u in r)(r[u]==null||r[u]==t)&&(i[u]=r[u]);return i}n.extend(n.ui,{datepicker:{version:"1.8.24"}});var i="datepicker",r=(new Date).getTime(),f;n.extend(e.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(n){return u(this._defaults,n||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null,attrName,attrValue,nodeName,inline,inst;for(attrName in this._defaults)if(attrValue=target.getAttribute("date:"+attrName),attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}nodeName=target.nodeName.toLowerCase();inline=nodeName=="div"||nodeName=="span";target.id||(this.uuid+=1,target.id="dp"+this.uuid);inst=this._newInst(n(target),inline);inst.settings=n.extend({},settings||{},inlineSettings||{});nodeName=="input"?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(t,i){var r=t[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:r,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?o(n('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"><\/div>')):this.dpDiv}},_connectDatepicker:function(t,r){var u=n(t);(r.append=n([]),r.trigger=n([]),u.hasClass(this.markerClassName))||(this._attachments(u,r),u.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(n,t,i){r.settings[t]=i}).bind("getData.datepicker",function(n,t){return this._get(r,t)}),this._autoSize(r),n.data(t,i,r),r.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var e=this._get(i,"appendText"),o=this._get(i,"isRTL"),u,r,f;i.append&&i.append.remove();e&&(i.append=n('<span class="'+this._appendClass+'">'+e+"<\/span>"),t[o?"before":"after"](i.append));t.unbind("focus",this._showDatepicker);i.trigger&&i.trigger.remove();u=this._get(i,"showOn");(u=="focus"||u=="both")&&t.focus(this._showDatepicker);(u=="button"||u=="both")&&(r=this._get(i,"buttonText"),f=this._get(i,"buttonImage"),i.trigger=n(this._get(i,"buttonImageOnly")?n("<img/>").addClass(this._triggerClass).attr({src:f,alt:r,title:r}):n('<button type="button"><\/button>').addClass(this._triggerClass).html(f==""?r:n("<img/>").attr({src:f,alt:r,title:r}))),t[o?"before":"after"](i.trigger),i.trigger.click(function(){return n.datepicker._datepickerShowing&&n.datepicker._lastInput==t[0]?n.datepicker._hideDatepicker():n.datepicker._datepickerShowing&&n.datepicker._lastInput!=t[0]?(n.datepicker._hideDatepicker(),n.datepicker._showDatepicker(t[0])):n.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(n){var t,i,r;this._get(n,"autoSize")&&!n.inline&&(t=new Date(2009,11,20),i=this._get(n,"dateFormat"),i.match(/[DM]/)&&(r=function(n){for(var i=0,r=0,t=0;t<n.length;t++)n[t].length>i&&(i=n[t].length,r=t);return r},t.setMonth(r(this._get(n,i.match(/MM/)?"monthNames":"monthNamesShort"))),t.setDate(r(this._get(n,i.match(/DD/)?"dayNames":"dayNamesShort"))+20-t.getDay())),n.input.attr("size",this._formatDate(n,t).length))},_inlineDatepicker:function(t,r){var u=n(t);u.hasClass(this.markerClassName)||(u.addClass(this.markerClassName).append(r.dpDiv).bind("setData.datepicker",function(n,t,i){r.settings[t]=i}).bind("getData.datepicker",function(n,t){return this._get(r,t)}),n.data(t,i,r),this._setDate(r,this._getDefaultDate(r),!0),this._updateDatepicker(r),this._updateAlternate(r),r.settings.disabled&&this._disableDatepicker(t),r.dpDiv.css("display","block"))},_dialogDatepicker:function(t,r,f,e,o){var s=this._dialogInst,h;if(s||(this.uuid+=1,h="dp"+this.uuid,this._dialogInput=n('<input type="text" id="'+h+'" style="position: absolute; top: -100px; width: 0px;"/>'),this._dialogInput.keydown(this._doKeyDown),n("body").append(this._dialogInput),s=this._dialogInst=this._newInst(this._dialogInput,!1),s.settings={},n.data(this._dialogInput[0],i,s)),u(s.settings,e||{}),r=r&&r.constructor==Date?this._formatDate(s,r):r,this._dialogInput.val(r),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,!this._pos){var c=document.documentElement.clientWidth,l=document.documentElement.clientHeight,a=document.documentElement.scrollLeft||document.body.scrollLeft,v=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[c/2-100+a,l/2-150+v]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),s.settings.onSelect=f,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),n.blockUI&&n.blockUI(this.dpDiv),n.data(this._dialogInput[0],i,s),this},_destroyDatepicker:function(t){var u=n(t),f=n.data(t,i),r;u.hasClass(this.markerClassName)&&(r=t.nodeName.toLowerCase(),n.removeData(t,i),r=="input"?(f.append.remove(),f.trigger.remove(),u.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):(r=="div"||r=="span")&&u.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var f=n(t),e=n.data(t,i),r,u;f.hasClass(this.markerClassName)&&(r=t.nodeName.toLowerCase(),r=="input"?(t.disabled=!1,e.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):(r=="div"||r=="span")&&(u=f.children("."+this._inlineClass),u.children().removeClass("ui-state-disabled"),u.find("select.ui-datepicker-month, select.ui-datepicker-year").removeAttr("disabled")),this._disabledInputs=n.map(this._disabledInputs,function(n){return n==t?null:n}))},_disableDatepicker:function(t){var f=n(t),e=n.data(t,i),r,u;f.hasClass(this.markerClassName)&&(r=t.nodeName.toLowerCase(),r=="input"?(t.disabled=!0,e.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):(r=="div"||r=="span")&&(u=f.children("."+this._inlineClass),u.children().addClass("ui-state-disabled"),u.find("select.ui-datepicker-month, select.ui-datepicker-year").attr("disabled","disabled")),this._disabledInputs=n.map(this._disabledInputs,function(n){return n==t?null:n}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(n){if(!n)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]==n)return!0;return!1},_getInst:function(t){try{return n.data(t,i)}catch(r){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(i,r,f){var e=this._getInst(i),o;if(arguments.length==2&&typeof r=="string")return r=="defaults"?n.extend({},n.datepicker._defaults):e?r=="all"?n.extend({},e.settings):this._get(e,r):null;if(o=r||{},typeof r=="string"&&(o={},o[r]=f),e){this._curInst==e&&this._hideDatepicker();var c=this._getDateDatepicker(i,!0),s=this._getMinMaxDate(e,"min"),h=this._getMinMaxDate(e,"max");u(e.settings,o);s!==null&&o.dateFormat!==t&&o.minDate===t&&(e.settings.minDate=this._formatDate(e,s));h!==null&&o.dateFormat!==t&&o.maxDate===t&&(e.settings.maxDate=this._formatDate(e,h));this._attachments(n(i),e);this._autoSize(e);this._setDate(e,c);this._updateAlternate(e);this._updateDatepicker(e)}},_changeDatepicker:function(n,t,i){this._optionDatepicker(n,t,i)},_refreshDatepicker:function(n){var t=this._getInst(n);t&&this._updateDatepicker(t)},_setDateDatepicker:function(n,t){var i=this._getInst(n);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(n,t){var i=this._getInst(n);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i=n.datepicker._getInst(t.target),r=!0,e=i.dpDiv.is(".ui-datepicker-rtl"),u,f,o;if(i._keyEvent=!0,n.datepicker._datepickerShowing)switch(t.keyCode){case 9:n.datepicker._hideDatepicker();r=!1;break;case 13:return u=n("td."+n.datepicker._dayOverClass+":not(."+n.datepicker._currentClass+")",i.dpDiv),u[0]&&n.datepicker._selectDay(t.target,i.selectedMonth,i.selectedYear,u[0]),f=n.datepicker._get(i,"onSelect"),f?(o=n.datepicker._formatDate(i),f.apply(i.input?i.input[0]:null,[o,i])):n.datepicker._hideDatepicker(),!1;case 27:n.datepicker._hideDatepicker();break;case 33:n.datepicker._adjustDate(t.target,t.ctrlKey?-n.datepicker._get(i,"stepBigMonths"):-n.datepicker._get(i,"stepMonths"),"M");break;case 34:n.datepicker._adjustDate(t.target,t.ctrlKey?+n.datepicker._get(i,"stepBigMonths"):+n.datepicker._get(i,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&n.datepicker._clearDate(t.target);r=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&n.datepicker._gotoToday(t.target);r=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,e?1:-1,"D");r=t.ctrlKey||t.metaKey;t.originalEvent.altKey&&n.datepicker._adjustDate(t.target,t.ctrlKey?-n.datepicker._get(i,"stepBigMonths"):-n.datepicker._get(i,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,-7,"D");r=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,e?-1:1,"D");r=t.ctrlKey||t.metaKey;t.originalEvent.altKey&&n.datepicker._adjustDate(t.target,t.ctrlKey?+n.datepicker._get(i,"stepBigMonths"):+n.datepicker._get(i,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,7,"D");r=t.ctrlKey||t.metaKey;break;default:r=!1}else t.keyCode==36&&t.ctrlKey?n.datepicker._showDatepicker(this):r=!1;r&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(i){var f=n.datepicker._getInst(i.target),r,u;if(n.datepicker._get(f,"constrainInput"))return r=n.datepicker._possibleChars(n.datepicker._get(f,"dateFormat")),u=String.fromCharCode(i.charCode==t?i.keyCode:i.charCode),i.ctrlKey||i.metaKey||u<" "||!r||r.indexOf(u)>-1},_doKeyUp:function(t){var i=n.datepicker._getInst(t.target),r;if(i.input.val()!=i.lastVal)try{r=n.datepicker.parseDate(n.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,n.datepicker._getFormatConfig(i));r&&(n.datepicker._setDateFromField(i),n.datepicker._updateAlternate(i),n.datepicker._updateDatepicker(i))}catch(u){n.datepicker.log(u)}return!0},_showDatepicker:function(t){var i,o,s,r,f;if((t=t.target||t,t.nodeName.toLowerCase()!="input"&&(t=n("input",t.parentNode)[0]),!n.datepicker._isDisabledDatepicker(t)&&n.datepicker._lastInput!=t)&&(i=n.datepicker._getInst(t),n.datepicker._curInst&&n.datepicker._curInst!=i&&(n.datepicker._curInst.dpDiv.stop(!0,!0),i&&n.datepicker._datepickerShowing&&n.datepicker._hideDatepicker(n.datepicker._curInst.input[0])),o=n.datepicker._get(i,"beforeShow"),s=o?o.apply(t,[t,i]):{},s!==!1)&&(u(i.settings,s),i.lastVal=null,n.datepicker._lastInput=t,n.datepicker._setDateFromField(i),n.datepicker._inDialog&&(t.value=""),n.datepicker._pos||(n.datepicker._pos=n.datepicker._findPos(t),n.datepicker._pos[1]+=t.offsetHeight),r=!1,n(t).parents().each(function(){return r|=n(this).css("position")=="fixed",!r}),r&&n.browser.opera&&(n.datepicker._pos[0]-=document.documentElement.scrollLeft,n.datepicker._pos[1]-=document.documentElement.scrollTop),f={left:n.datepicker._pos[0],top:n.datepicker._pos[1]},n.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),n.datepicker._updateDatepicker(i),f=n.datepicker._checkOffset(i,f,r),i.dpDiv.css({position:n.datepicker._inDialog&&n.blockUI?"static":r?"fixed":"absolute",display:"none",left:f.left+"px",top:f.top+"px"}),!i.inline)){var e=n.datepicker._get(i,"showAnim"),h=n.datepicker._get(i,"duration"),c=function(){var r=i.dpDiv.find("iframe.ui-datepicker-cover"),t;!r.length||(t=n.datepicker._getBorders(i.dpDiv),r.css({left:-t[0],top:-t[1],width:i.dpDiv.outerWidth(),height:i.dpDiv.outerHeight()}))};i.dpDiv.zIndex(n(t).zIndex()+1);n.datepicker._datepickerShowing=!0;n.effects&&n.effects[e]?i.dpDiv.show(e,n.datepicker._get(i,"showOptions"),h,c):i.dpDiv[e||"show"](e?h:null,c);(!e||!h)&&c();i.input.is(":visible")&&!i.input.is(":disabled")&&i.input.focus();n.datepicker._curInst=i}},_updateDatepicker:function(t){var s=this,i,r,o;s.maxRows=4;i=n.datepicker._getBorders(t.dpDiv);f=t;t.dpDiv.empty().append(this._generateHTML(t));this._attachHandlers(t);r=t.dpDiv.find("iframe.ui-datepicker-cover");r.length&&r.css({left:-i[0],top:-i[1],width:t.dpDiv.outerWidth(),height:t.dpDiv.outerHeight()});t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var u=this._getNumberOfMonths(t),e=u[1];t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");e>1&&t.dpDiv.addClass("ui-datepicker-multi-"+e).css("width",17*e+"em");t.dpDiv[(u[0]!=1||u[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi");t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");t==n.datepicker._curInst&&n.datepicker._datepickerShowing&&t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&t.input[0]!=document.activeElement&&t.input.focus();t.yearshtml&&(o=t.yearshtml,setTimeout(function(){o===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml);o=t.yearshtml=null},0))},_getBorders:function(n){var t=function(n){return{thin:1,medium:2,thick:3}[n]||n};return[parseFloat(t(n.css("border-left-width"))),parseFloat(t(n.css("border-top-width")))]},_checkOffset:function(t,i,r){var u=t.dpDiv.outerWidth(),f=t.dpDiv.outerHeight(),h=t.input?t.input.outerWidth():0,o=t.input?t.input.outerHeight():0,e=document.documentElement.clientWidth+(r?0:n(document).scrollLeft()),s=document.documentElement.clientHeight+(r?0:n(document).scrollTop());return i.left-=this._get(t,"isRTL")?u-h:0,i.left-=r&&i.left==t.input.offset().left?n(document).scrollLeft():0,i.top-=r&&i.top==t.input.offset().top+o?n(document).scrollTop():0,i.left-=Math.min(i.left,i.left+u>e&&e>u?Math.abs(i.left+u-e):0),i.top-=Math.min(i.top,i.top+f>s&&s>f?Math.abs(f+o):0),i},_findPos:function(t){for(var r=this._getInst(t),u=this._get(r,"isRTL"),i;t&&(t.type=="hidden"||t.nodeType!=1||n.expr.filters.hidden(t));)t=t[u?"previousSibling":"nextSibling"];return i=n(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var r=this._curInst,e;if(r&&(!t||r==n.data(t,i))&&this._datepickerShowing){var u=this._get(r,"showAnim"),o=this._get(r,"duration"),f=function(){n.datepicker._tidyDialog(r)};n.effects&&n.effects[u]?r.dpDiv.hide(u,n.datepicker._get(r,"showOptions"),o,f):r.dpDiv[u=="slideDown"?"slideUp":u=="fadeIn"?"fadeOut":"hide"](u?o:null,f);u||f();this._datepickerShowing=!1;e=this._get(r,"onClose");e&&e.apply(r.input?r.input[0]:null,[r.input?r.input.val():"",r]);this._lastInput=null;this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),n.blockUI&&(n.unblockUI(),n("body").append(this.dpDiv)));this._inDialog=!1}},_tidyDialog:function(n){n.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(n.datepicker._curInst){var i=n(t.target),r=n.datepicker._getInst(i[0]);(i[0].id==n.datepicker._mainDivId||i.parents("#"+n.datepicker._mainDivId).length!=0||i.hasClass(n.datepicker.markerClassName)||i.closest("."+n.datepicker._triggerClass).length||!n.datepicker._datepickerShowing||n.datepicker._inDialog&&n.blockUI)&&(!i.hasClass(n.datepicker.markerClassName)||n.datepicker._curInst==r)||n.datepicker._hideDatepicker()}},_adjustDate:function(t,i,r){var f=n(t),u=this._getInst(f[0]);this._isDisabledDatepicker(f[0])||(this._adjustInstDate(u,i+(r=="M"?this._get(u,"showCurrentAtPos"):0),r),this._updateDatepicker(u))},_gotoToday:function(t){var u=n(t),i=this._getInst(u[0]),r;this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(r=new Date,i.selectedDay=r.getDate(),i.drawMonth=i.selectedMonth=r.getMonth(),i.drawYear=i.selectedYear=r.getFullYear());this._notifyChange(i);this._adjustDate(u)},_selectMonthYear:function(t,i,r){var f=n(t),u=this._getInst(f[0]);u["selected"+(r=="M"?"Month":"Year")]=u["draw"+(r=="M"?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10);this._notifyChange(u);this._adjustDate(f)},_selectDay:function(t,i,r,u){var e=n(t),f;n(u).hasClass(this._unselectableClass)||this._isDisabledDatepicker(e[0])||(f=this._getInst(e[0]),f.selectedDay=f.currentDay=n("a",u).html(),f.selectedMonth=f.currentMonth=i,f.selectedYear=f.currentYear=r,this._selectDate(t,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear)))},_clearDate:function(t){var i=n(t),r=this._getInst(i[0]);this._selectDate(i,"")},_selectDate:function(t,i){var f=n(t),r=this._getInst(f[0]),u;i=i!=null?i:this._formatDate(r);r.input&&r.input.val(i);this._updateAlternate(r);u=this._get(r,"onSelect");u?u.apply(r.input?r.input[0]:null,[i,r]):r.input&&r.input.trigger("change");r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],typeof r.input[0]!="object"&&r.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i=this._get(t,"altField");if(i){var r=this._get(t,"altFormat")||this._get(t,"dateFormat"),u=this._getDate(t),f=this.formatDate(r,u,this._getFormatConfig(t));n(i).each(function(){n(this).val(f)})}},noWeekends:function(n){var t=n.getDay();return[t>0&&t<6,""]},iso8601Week:function(n){var t=new Date(n.getTime()),i;return t.setDate(t.getDate()+4-(t.getDay()||7)),i=t.getTime(),t.setMonth(0),t.setDate(1),Math.floor(Math.round((i-t)/864e5)/7)+1},parseDate:function(t,i,r){var c,s,w,u;if(t==null||i==null)throw"Invalid arguments";if(i=typeof i=="object"?i.toString():i+"",i=="")return null;c=(r?r.shortYearCutoff:null)||this._defaults.shortYearCutoff;c=typeof c!="string"?c:(new Date).getFullYear()%100+parseInt(c,10);var k=(r?r.dayNamesShort:null)||this._defaults.dayNamesShort,d=(r?r.dayNames:null)||this._defaults.dayNames,g=(r?r.monthNamesShort:null)||this._defaults.monthNamesShort,nt=(r?r.monthNames:null)||this._defaults.monthNames,f=-1,o=-1,h=-1,v=-1,y=!1,a=function(n){var i=s+1<t.length&&t.charAt(s+1)==n;return i&&s++,i},l=function(n){var r=a(n),u=n=="@"?14:n=="!"?20:n=="y"&&r?4:n=="o"?3:2,f=new RegExp("^\\d{1,"+u+"}"),t=i.substring(e).match(f);if(!t)throw"Missing number at position "+e;return e+=t[0].length,parseInt(t[0],10)},b=function(t,r,u){var o=n.map(a(t)?u:r,function(n,t){return[[t,n]]}).sort(function(n,t){return-(n[1].length-t[1].length)}),f=-1;if(n.each(o,function(n,t){var r=t[1];if(i.substr(e,r.length).toLowerCase()==r.toLowerCase())return f=t[0],e+=r.length,!1}),f!=-1)return f+1;throw"Unknown name at position "+e;},p=function(){if(i.charAt(e)!=t.charAt(s))throw"Unexpected literal at position "+e;e++},e=0;for(s=0;s<t.length;s++)if(y)t.charAt(s)=="'"&&!a("'")?y=!1:p();else switch(t.charAt(s)){case"d":h=l("d");break;case"D":b("D",k,d);break;case"o":v=l("o");break;case"m":o=l("m");break;case"M":o=b("M",g,nt);break;case"y":f=l("y");break;case"@":u=new Date(l("@"));f=u.getFullYear();o=u.getMonth()+1;h=u.getDate();break;case"!":u=new Date((l("!")-this._ticksTo1970)/1e4);f=u.getFullYear();o=u.getMonth()+1;h=u.getDate();break;case"'":a("'")?p():y=!0;break;default:p()}if(e<i.length)throw"Extra/unparsed characters found in date: "+i.substring(e);if(f==-1?f=(new Date).getFullYear():f<100&&(f+=(new Date).getFullYear()-(new Date).getFullYear()%100+(f<=c?0:-100)),v>-1){o=1;h=v;do{if(w=this._getDaysInMonth(f,o-1),h<=w)break;o++;h-=w}while(1)}if(u=this._daylightSavingAdjust(new Date(f,o-1,h)),u.getFullYear()!=f||u.getMonth()+1!=o||u.getDate()!=h)throw"Invalid date";return u},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*864e9,formatDate:function(n,t,i){var u;if(!t)return"";var h=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,c=(i?i.dayNames:null)||this._defaults.dayNames,l=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,f=function(t){var i=u+1<n.length&&n.charAt(u+1)==t;return i&&u++,i},e=function(n,t,i){var r=""+t;if(f(n))while(r.length<i)r="0"+r;return r},s=function(n,t,i,r){return f(n)?r[t]:i[t]},r="",o=!1;if(t)for(u=0;u<n.length;u++)if(o)n.charAt(u)=="'"&&!f("'")?o=!1:r+=n.charAt(u);else switch(n.charAt(u)){case"d":r+=e("d",t.getDate(),2);break;case"D":r+=s("D",t.getDay(),h,c);break;case"o":r+=e("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":r+=e("m",t.getMonth()+1,2);break;case"M":r+=s("M",t.getMonth(),l,a);break;case"y":r+=f("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":r+=t.getTime();break;case"!":r+=t.getTime()*1e4+this._ticksTo1970;break;case"'":f("'")?r+="'":o=!0;break;default:r+=n.charAt(u)}return r},_possibleChars:function(n){for(var i="",r=!1,u=function(i){var r=t+1<n.length&&n.charAt(t+1)==i;return r&&t++,r},t=0;t<n.length;t++)if(r)n.charAt(t)=="'"&&!u("'")?r=!1:i+=n.charAt(t);else switch(n.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":u("'")?i+="'":r=!0;break;default:i+=n.charAt(t)}return i},_get:function(n,i){return n.settings[i]!==t?n.settings[i]:this._defaults[i]},_setDateFromField:function(n,t){var u,r,i,f,e;if(n.input.val()!=n.lastVal){u=this._get(n,"dateFormat");r=n.lastVal=n.input?n.input.val():null;i=f=this._getDefaultDate(n);e=this._getFormatConfig(n);try{i=this.parseDate(u,r,e)||f}catch(o){this.log(o);r=t?"":r}n.selectedDay=i.getDate();n.drawMonth=n.selectedMonth=i.getMonth();n.drawYear=n.selectedYear=i.getFullYear();n.currentDay=r?i.getDate():0;n.currentMonth=r?i.getMonth():0;n.currentYear=r?i.getFullYear():0;this._adjustInstDate(n)}},_getDefaultDate:function(n){return this._restrictMinMax(n,this._determineDate(n,this._get(n,"defaultDate"),new Date))},_determineDate:function(t,i,r){var f=function(n){var t=new Date;return t.setDate(t.getDate()+n),t},e=function(i){try{return n.datepicker.parseDate(n.datepicker._get(t,"dateFormat"),i,n.datepicker._getFormatConfig(t))}catch(h){}for(var o=(i.toLowerCase().match(/^c/)?n.datepicker._getDate(t):null)||new Date,f=o.getFullYear(),e=o.getMonth(),r=o.getDate(),s=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,u=s.exec(i);u;){switch(u[2]||"d"){case"d":case"D":r+=parseInt(u[1],10);break;case"w":case"W":r+=parseInt(u[1],10)*7;break;case"m":case"M":e+=parseInt(u[1],10);r=Math.min(r,n.datepicker._getDaysInMonth(f,e));break;case"y":case"Y":f+=parseInt(u[1],10);r=Math.min(r,n.datepicker._getDaysInMonth(f,e))}u=s.exec(i)}return new Date(f,e,r)},u=i==null||i===""?r:typeof i=="string"?e(i):typeof i=="number"?isNaN(i)?r:f(i):new Date(i.getTime());return u=u&&u.toString()=="Invalid Date"?r:u,u&&(u.setHours(0),u.setMinutes(0),u.setSeconds(0),u.setMilliseconds(0)),this._daylightSavingAdjust(u)},_daylightSavingAdjust:function(n){return n?(n.setHours(n.getHours()>12?n.getHours()+2:0),n):null},_setDate:function(n,t,i){var u=!t,f=n.selectedMonth,e=n.selectedYear,r=this._restrictMinMax(n,this._determineDate(n,t,new Date));n.selectedDay=n.currentDay=r.getDate();n.drawMonth=n.selectedMonth=n.currentMonth=r.getMonth();n.drawYear=n.selectedYear=n.currentYear=r.getFullYear();(f!=n.selectedMonth||e!=n.selectedYear)&&!i&&this._notifyChange(n);this._adjustInstDate(n);n.input&&n.input.val(u?"":this._formatDate(n))},_getDate:function(n){return!n.currentYear||n.input&&n.input.val()==""?null:this._daylightSavingAdjust(new Date(n.currentYear,n.currentMonth,n.currentDay))},_attachHandlers:function(t){var u=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){window["DP_jQuery_"+r].datepicker._adjustDate(i,-u,"M")},next:function(){window["DP_jQuery_"+r].datepicker._adjustDate(i,+u,"M")},hide:function(){window["DP_jQuery_"+r].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+r].datepicker._gotoToday(i)},selectDay:function(){return window["DP_jQuery_"+r].datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+r].datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+r].datepicker._selectMonthYear(i,this,"Y"),!1}};n(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(t){var l=new Date,d,h,ut,c,p,ot,w,st,ht,ct,r,at,vt,s;l=this._daylightSavingAdjust(new Date(l.getFullYear(),l.getMonth(),l.getDate()));var e=this._get(t,"isRTL"),fi=this._get(t,"showButtonPanel"),pt=this._get(t,"hideIfNoPrevNext"),tt=this._get(t,"navigationAsDateFormat"),o=this._getNumberOfMonths(t),ei=this._get(t,"showCurrentAtPos"),wt=this._get(t,"stepMonths"),it=o[0]!=1||o[1]!=1,rt=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),y=this._getMinMaxDate(t,"min"),a=this._getMinMaxDate(t,"max"),i=t.drawMonth-ei,u=t.drawYear;if(i<0&&(i+=12,u--),a)for(d=this._daylightSavingAdjust(new Date(a.getFullYear(),a.getMonth()-o[0]*o[1]+1,a.getDate())),d=y&&d<y?y:d;this._daylightSavingAdjust(new Date(u,i,1))>d;)i--,i<0&&(i=11,u--);t.drawMonth=i;t.drawYear=u;h=this._get(t,"prevText");h=tt?this.formatDate(h,this._daylightSavingAdjust(new Date(u,i-wt,1)),this._getFormatConfig(t)):h;ut=this._canAdjustMonth(t,-1,u,i)?'<a class="ui-datepicker-prev ui-corner-all" data-handler="prev" data-event="click" title="'+h+'"><span class="ui-icon ui-icon-circle-triangle-'+(e?"e":"w")+'">'+h+"<\/span><\/a>":pt?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+h+'"><span class="ui-icon ui-icon-circle-triangle-'+(e?"e":"w")+'">'+h+"<\/span><\/a>";c=this._get(t,"nextText");c=tt?this.formatDate(c,this._daylightSavingAdjust(new Date(u,i+wt,1)),this._getFormatConfig(t)):c;var bt=this._canAdjustMonth(t,1,u,i)?'<a class="ui-datepicker-next ui-corner-all" data-handler="next" data-event="click" title="'+c+'"><span class="ui-icon ui-icon-circle-triangle-'+(e?"w":"e")+'">'+c+"<\/span><\/a>":pt?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+c+'"><span class="ui-icon ui-icon-circle-triangle-'+(e?"w":"e")+'">'+c+"<\/span><\/a>",g=this._get(t,"currentText"),kt=this._get(t,"gotoCurrent")&&t.currentDay?rt:l;g=tt?this.formatDate(g,kt,this._getFormatConfig(t)):g;var dt=t.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler="hide" data-event="click">'+this._get(t,"closeText")+"<\/button>",oi=fi?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(e?dt:"")+(this._isInRange(t,kt)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" data-handler="today" data-event="click">'+g+"<\/button>":"")+(e?"":dt)+"<\/div>":"",v=parseInt(this._get(t,"firstDay"),10);v=isNaN(v)?0:v;var gt=this._get(t,"showWeek"),si=this._get(t,"dayNames"),vi=this._get(t,"dayNamesShort"),hi=this._get(t,"dayNamesMin"),ci=this._get(t,"monthNames"),li=this._get(t,"monthNamesShort"),ni=this._get(t,"beforeShowDay"),ft=this._get(t,"showOtherMonths"),ai=this._get(t,"selectOtherMonths"),yi=this._get(t,"calculateWeek")||this.iso8601Week,ti=this._getDefaultDate(t),et="";for(p=0;p<o[0];p++){for(ot="",this.maxRows=4,w=0;w<o[1];w++){var ii=this._daylightSavingAdjust(new Date(u,i,t.selectedDay)),b=" ui-corner-all",f="";if(it){if(f+='<div class="ui-datepicker-group',o[1]>1)switch(w){case 0:f+=" ui-datepicker-group-first";b=" ui-corner-"+(e?"right":"left");break;case o[1]-1:f+=" ui-datepicker-group-last";b=" ui-corner-"+(e?"left":"right");break;default:f+=" ui-datepicker-group-middle";b=""}f+='">'}for(f+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+b+'">'+(/all|left/.test(b)&&p==0?e?bt:ut:"")+(/all|right/.test(b)&&p==0?e?ut:bt:"")+this._generateMonthYearHeader(t,i,u,y,a,p>0||w>0,ci,li)+'<\/div><table class="ui-datepicker-calendar"><thead><tr>',st=gt?'<th class="ui-datepicker-week-col">'+this._get(t,"weekHeader")+"<\/th>":"",s=0;s<7;s++)ht=(s+v)%7,st+="<th"+((s+v+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+si[ht]+'">'+hi[ht]+"<\/span><\/th>";f+=st+"<\/tr><\/thead><tbody>";ct=this._getDaysInMonth(u,i);u==t.selectedYear&&i==t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,ct));var ri=(this._getFirstDayOfMonth(u,i)-v+7)%7,lt=Math.ceil((ri+ct)/7),ui=it?this.maxRows>lt?this.maxRows:lt:lt;for(this.maxRows=ui,r=this._daylightSavingAdjust(new Date(u,i,1-ri)),at=0;at<ui;at++){for(f+="<tr>",vt=gt?'<td class="ui-datepicker-week-col">'+this._get(t,"calculateWeek")(r)+"<\/td>":"",s=0;s<7;s++){var nt=ni?ni.apply(t.input?t.input[0]:null,[r]):[!0,""],k=r.getMonth()!=i,yt=k&&!ai||!nt[0]||y&&r<y||a&&r>a;vt+='<td class="'+((s+v+6)%7>=5?" ui-datepicker-week-end":"")+(k?" ui-datepicker-other-month":"")+(r.getTime()==ii.getTime()&&i==t.selectedMonth&&t._keyEvent||ti.getTime()==r.getTime()&&ti.getTime()==ii.getTime()?" "+this._dayOverClass:"")+(yt?" "+this._unselectableClass+" ui-state-disabled":"")+(k&&!ft?"":" "+nt[1]+(r.getTime()==rt.getTime()?" "+this._currentClass:"")+(r.getTime()==l.getTime()?" ui-datepicker-today":""))+'"'+((!k||ft)&&nt[2]?' title="'+nt[2]+'"':"")+(yt?"":' data-handler="selectDay" data-event="click" data-month="'+r.getMonth()+'" data-year="'+r.getFullYear()+'"')+">"+(k&&!ft?"&#xa0;":yt?'<span class="ui-state-default">'+r.getDate()+"<\/span>":'<a class="ui-state-default'+(r.getTime()==l.getTime()?" ui-state-highlight":"")+(r.getTime()==rt.getTime()?" ui-state-active":"")+(k?" ui-priority-secondary":"")+'" href="#">'+r.getDate()+"<\/a>")+"<\/td>";r.setDate(r.getDate()+1);r=this._daylightSavingAdjust(r)}f+=vt+"<\/tr>"}i++;i>11&&(i=0,u++);f+="<\/tbody><\/table>"+(it?"<\/div>"+(o[0]>0&&w==o[1]-1?'<div class="ui-datepicker-row-break"><\/div>':""):"");ot+=f}et+=ot}return et+=oi+(n.browser.msie&&parseInt(n.browser.version,10)<7&&!t.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"><\/iframe>':""),t._keyEvent=!1,et},_generateMonthYearHeader:function(n,t,i,r,u,f,e,o){var v=this._get(n,"changeMonth"),y=this._get(n,"changeYear"),p=this._get(n,"showMonthAfterYear"),c='<div class="ui-datepicker-title">',l="",w,b,h;if(f||!v)l+='<span class="ui-datepicker-month">'+e[t]+"<\/span>";else{for(w=r&&r.getFullYear()==i,b=u&&u.getFullYear()==i,l+='<select class="ui-datepicker-month" data-handler="selectMonth" data-event="change">',h=0;h<12;h++)(!w||h>=r.getMonth())&&(!b||h<=u.getMonth())&&(l+='<option value="'+h+'"'+(h==t?' selected="selected"':"")+">"+o[h]+"<\/option>");l+="<\/select>"}if(p||(c+=l+(f||!v||!y?"&#xa0;":"")),!n.yearshtml)if(n.yearshtml="",f||!y)c+='<span class="ui-datepicker-year">'+i+"<\/span>";else{var k=this._get(n,"yearRange").split(":"),d=(new Date).getFullYear(),g=function(n){var t=n.match(/c[+-].*/)?i+parseInt(n.substring(1),10):n.match(/[+-].*/)?d+parseInt(n,10):parseInt(n,10);return isNaN(t)?d:t},s=g(k[0]),a=Math.max(s,g(k[1]||""));for(s=r?Math.max(s,r.getFullYear()):s,a=u?Math.min(a,u.getFullYear()):a,n.yearshtml+='<select class="ui-datepicker-year" data-handler="selectYear" data-event="change">';s<=a;s++)n.yearshtml+='<option value="'+s+'"'+(s==i?' selected="selected"':"")+">"+s+"<\/option>";n.yearshtml+="<\/select>";c+=n.yearshtml;n.yearshtml=null}return c+=this._get(n,"yearSuffix"),p&&(c+=(f||!v||!y?"&#xa0;":"")+l),c+="<\/div>",c},_adjustInstDate:function(n,t,i){var u=n.drawYear+(i=="Y"?t:0),f=n.drawMonth+(i=="M"?t:0),e=Math.min(n.selectedDay,this._getDaysInMonth(u,f))+(i=="D"?t:0),r=this._restrictMinMax(n,this._daylightSavingAdjust(new Date(u,f,e)));n.selectedDay=r.getDate();n.drawMonth=n.selectedMonth=r.getMonth();n.drawYear=n.selectedYear=r.getFullYear();(i=="M"||i=="Y")&&this._notifyChange(n)},_restrictMinMax:function(n,t){var r=this._getMinMaxDate(n,"min"),u=this._getMinMaxDate(n,"max"),i=r&&t<r?r:t;return i=u&&i>u?u:i,i},_notifyChange:function(n){var t=this._get(n,"onChangeMonthYear");t&&t.apply(n.input?n.input[0]:null,[n.selectedYear,n.selectedMonth+1,n])},_getNumberOfMonths:function(n){var t=this._get(n,"numberOfMonths");return t==null?[1,1]:typeof t=="number"?[1,t]:t},_getMinMaxDate:function(n,t){return this._determineDate(n,this._get(n,t+"Date"),null)},_getDaysInMonth:function(n,t){return 32-this._daylightSavingAdjust(new Date(n,t,32)).getDate()},_getFirstDayOfMonth:function(n,t){return new Date(n,t,1).getDay()},_canAdjustMonth:function(n,t,i,r){var f=this._getNumberOfMonths(n),u=this._daylightSavingAdjust(new Date(i,r+(t<0?t:f[0]*f[1]),1));return t<0&&u.setDate(this._getDaysInMonth(u.getFullYear(),u.getMonth())),this._isInRange(n,u)},_isInRange:function(n,t){var i=this._getMinMaxDate(n,"min"),r=this._getMinMaxDate(n,"max");return(!i||t.getTime()>=i.getTime())&&(!r||t.getTime()<=r.getTime())},_getFormatConfig:function(n){var t=this._get(n,"shortYearCutoff");return t=typeof t!="string"?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(n,"dayNamesShort"),dayNames:this._get(n,"dayNames"),monthNamesShort:this._get(n,"monthNamesShort"),monthNames:this._get(n,"monthNames")}},_formatDate:function(n,t,i,r){t||(n.currentDay=n.selectedDay,n.currentMonth=n.selectedMonth,n.currentYear=n.selectedYear);var u=t?typeof t=="object"?t:this._daylightSavingAdjust(new Date(r,i,t)):this._daylightSavingAdjust(new Date(n.currentYear,n.currentMonth,n.currentDay));return this.formatDate(this._get(n,"dateFormat"),u,this._getFormatConfig(n))}});n.fn.datepicker=function(t){if(!this.length)return this;n.datepicker.initialized||(n(document).mousedown(n.datepicker._checkExternalClick).find("body").append(n.datepicker.dpDiv),n.datepicker.initialized=!0);var i=Array.prototype.slice.call(arguments,1);return typeof t!="string"||t!="isDisabled"&&t!="getDate"&&t!="widget"?t=="option"&&arguments.length==2&&typeof arguments[1]=="string"?n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this[0]].concat(i)):this.each(function(){typeof t=="string"?n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this].concat(i)):n.datepicker._attachDatepicker(this,t)}):n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this[0]].concat(i))};n.datepicker=new e;n.datepicker.initialized=!1;n.datepicker.uuid=(new Date).getTime();n.datepicker.version="1.8.24";window["DP_jQuery_"+r]=n}(jQuery),function(n,t){var i="ui-dialog ui-widget ui-widget-content ui-corner-all ",r={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},u={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};n.widget("ui.dialog",{options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",collision:"fit",using:function(t){var i=n(this).css(t).offset().top;i<0&&n(this).css("top",t.top-i)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title");typeof this.originalTitle!="string"&&(this.originalTitle="");this.options.title=this.options.title||this.originalTitle;var t=this,r=t.options,s=r.title||"&#160;",o=n.ui.dialog.getTitleId(t.element),e=(t.uiDialog=n("<div><\/div>")).appendTo(document.body).hide().addClass(i+r.dialogClass).css({zIndex:r.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(i){r.closeOnEscape&&!i.isDefaultPrevented()&&i.keyCode&&i.keyCode===n.ui.keyCode.ESCAPE&&(t.close(i),i.preventDefault())}).attr({role:"dialog","aria-labelledby":o}).mousedown(function(n){t.moveToTop(!1,n)}),h=t.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(e),f=(t.uiDialogTitlebar=n("<div><\/div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(e),u=n('<a href="#"><\/a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){u.addClass("ui-state-hover")},function(){u.removeClass("ui-state-hover")}).focus(function(){u.addClass("ui-state-focus")}).blur(function(){u.removeClass("ui-state-focus")}).click(function(n){return t.close(n),!1}).appendTo(f),c=(t.uiDialogTitlebarCloseText=n("<span><\/span>")).addClass("ui-icon ui-icon-closethick").text(r.closeText).appendTo(u),l=n("<span><\/span>").addClass("ui-dialog-title").attr("id",o).html(s).prependTo(f);n.isFunction(r.beforeclose)&&!n.isFunction(r.beforeClose)&&(r.beforeClose=r.beforeclose);f.find("*").add(f).disableSelection();r.draggable&&n.fn.draggable&&t._makeDraggable();r.resizable&&n.fn.resizable&&t._makeResizable();t._createButtons(r.buttons);t._isOpen=!1;n.fn.bgiframe&&e.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){var n=this;return n.overlay&&n.overlay.destroy(),n.uiDialog.hide(),n.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),n.uiDialog.remove(),n.originalTitle&&n.element.attr("title",n.originalTitle),n},widget:function(){return this.uiDialog},close:function(t){var i=this,r,u;if(!1!==i._trigger("beforeClose",t))return i.overlay&&i.overlay.destroy(),i.uiDialog.unbind("keypress.ui-dialog"),i._isOpen=!1,i.options.hide?i.uiDialog.hide(i.options.hide,function(){i._trigger("close",t)}):(i.uiDialog.hide(),i._trigger("close",t)),n.ui.dialog.overlay.resize(),i.options.modal&&(r=0,n(".ui-dialog").each(function(){this!==i.uiDialog[0]&&(u=n(this).css("z-index"),isNaN(u)||(r=Math.max(r,u)))}),n.ui.dialog.maxZ=r),i},isOpen:function(){return this._isOpen},moveToTop:function(t,i){var r=this,u=r.options,f;return u.modal&&!t||!u.stack&&!u.modal?r._trigger("focus",i):(u.zIndex>n.ui.dialog.maxZ&&(n.ui.dialog.maxZ=u.zIndex),r.overlay&&(n.ui.dialog.maxZ+=1,r.overlay.$el.css("z-index",n.ui.dialog.overlay.maxZ=n.ui.dialog.maxZ)),f={scrollTop:r.element.scrollTop(),scrollLeft:r.element.scrollLeft()},n.ui.dialog.maxZ+=1,r.uiDialog.css("z-index",n.ui.dialog.maxZ),r.element.attr(f),r._trigger("focus",i),r)},open:function(){if(!this._isOpen){var t=this,i=t.options,r=t.uiDialog;return t.overlay=i.modal?new n.ui.dialog.overlay(t):null,t._size(),t._position(i.position),r.show(i.show),t.moveToTop(!0),i.modal&&r.bind("keydown.ui-dialog",function(t){if(t.keyCode===n.ui.keyCode.TAB){var i=n(":tabbable",this),r=i.filter(":first"),u=i.filter(":last");return t.target===u[0]&&!t.shiftKey?(r.focus(1),!1):t.target===r[0]&&t.shiftKey?(u.focus(1),!1):void 0}}),n(t.element.find(":tabbable").get().concat(r.find(".ui-dialog-buttonpane :tabbable").get().concat(r.get()))).eq(0).focus(),t._isOpen=!0,t._trigger("open"),t}},_createButtons:function(t){var i=this,r=!1,u=n("<div><\/div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),f=n("<div><\/div>").addClass("ui-dialog-buttonset").appendTo(u);i.uiDialog.find(".ui-dialog-buttonpane").remove();typeof t=="object"&&t!==null&&n.each(t,function(){return!(r=!0)});r&&(n.each(t,function(t,r){r=n.isFunction(r)?{click:r,text:t}:r;var u=n('<button type="button"><\/button>').click(function(){r.click.apply(i.element[0],arguments)}).appendTo(f);n.each(r,function(n,t){n!=="click"&&(n in u?u[n](t):u.attr(n,t))});n.fn.button&&u.button()}),u.appendTo(i.uiDialog))},_makeDraggable:function(){function i(n){return{position:n.position,offset:n.offset}}var t=this,r=t.options,u=n(document),f;t.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(u,e){f=r.height==="auto"?"auto":n(this).height();n(this).height(n(this).height()).addClass("ui-dialog-dragging");t._trigger("dragStart",u,i(e))},drag:function(n,r){t._trigger("drag",n,i(r))},stop:function(e,o){r.position=[o.position.left-u.scrollLeft(),o.position.top-u.scrollTop()];n(this).removeClass("ui-dialog-dragging").height(f);t._trigger("dragStop",e,i(o));n.ui.dialog.overlay.resize()}})},_makeResizable:function(i){function f(n){return{originalPosition:n.originalPosition,originalSize:n.originalSize,position:n.position,size:n.size}}i=i===t?this.options.resizable:i;var r=this,u=r.options,e=r.uiDialog.css("position"),o=typeof i=="string"?i:"n,e,s,w,se,sw,ne,nw";r.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:r.element,maxWidth:u.maxWidth,maxHeight:u.maxHeight,minWidth:u.minWidth,minHeight:r._minHeight(),handles:o,start:function(t,i){n(this).addClass("ui-dialog-resizing");r._trigger("resizeStart",t,f(i))},resize:function(n,t){r._trigger("resize",n,f(t))},stop:function(t,i){n(this).removeClass("ui-dialog-resizing");u.height=n(this).height();u.width=n(this).width();r._trigger("resizeStop",t,f(i));n.ui.dialog.overlay.resize()}}).css("position",e).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var n=this.options;return n.height==="auto"?n.minHeight:Math.min(n.minHeight,n.height)},_position:function(t){var i=[],u=[0,0],r;t?((typeof t=="string"||typeof t=="object"&&"0"in t)&&(i=t.split?t.split(" "):[t[0],t[1]],i.length===1&&(i[1]=i[0]),n.each(["left","top"],function(n,t){+i[n]===i[n]&&(u[n]=i[n],i[n]=t)}),t={my:i.join(" "),at:i.join(" "),offset:u.join(" ")}),t=n.extend({},n.ui.dialog.prototype.options.position,t)):t=n.ui.dialog.prototype.options.position;r=this.uiDialog.is(":visible");r||this.uiDialog.show();this.uiDialog.css({top:0,left:0}).position(n.extend({of:window},t));r||this.uiDialog.hide()},_setOptions:function(t){var e=this,i={},f=!1;n.each(t,function(n,t){e._setOption(n,t);n in r&&(f=!0);n in u&&(i[n]=t)});f&&this._size();this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",i)},_setOption:function(t,r){var u=this,f=u.uiDialog,o,e;switch(t){case"beforeclose":t="beforeClose";break;case"buttons":u._createButtons(r);break;case"closeText":u.uiDialogTitlebarCloseText.text(""+r);break;case"dialogClass":f.removeClass(u.options.dialogClass).addClass(i+r);break;case"disabled":r?f.addClass("ui-dialog-disabled"):f.removeClass("ui-dialog-disabled");break;case"draggable":o=f.is(":data(draggable)");o&&!r&&f.draggable("destroy");!o&&r&&u._makeDraggable();break;case"position":u._position(r);break;case"resizable":e=f.is(":data(resizable)");e&&!r&&f.resizable("destroy");e&&typeof r=="string"&&f.resizable("option","handles",r);!e&&r!==!1&&u._makeResizable(r);break;case"title":n(".ui-dialog-title",u.uiDialogTitlebar).html(""+(r||"&#160;"))}n.Widget.prototype._setOption.apply(u,arguments)},_size:function(){var t=this.options,i,r,f=this.uiDialog.is(":visible"),u;this.element.show().css({width:"auto",minHeight:0,height:0});t.minWidth>t.width&&(t.width=t.minWidth);i=this.uiDialog.css({height:"auto",width:t.width}).height();r=Math.max(0,t.minHeight-i);t.height==="auto"?n.support.minHeight?this.element.css({minHeight:r,height:"auto"}):(this.uiDialog.show(),u=this.element.css("height","auto").height(),f||this.uiDialog.hide(),this.element.height(Math.max(u,r))):this.element.height(Math.max(t.height-i,0));this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}});n.extend(n.ui.dialog,{version:"1.8.24",uuid:0,maxZ:0,getTitleId:function(n){var t=n.attr("id");return t||(this.uuid+=1,t=this.uuid),"ui-dialog-title-"+t},overlay:function(t){this.$el=n.ui.dialog.overlay.create(t)}});n.extend(n.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:n.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(n){return n+".dialog-overlay"}).join(" "),create:function(t){this.instances.length===0&&(setTimeout(function(){n.ui.dialog.overlay.instances.length&&n(document).bind(n.ui.dialog.overlay.events,function(t){if(n(t.target).zIndex()<n.ui.dialog.overlay.maxZ)return!1})},1),n(document).bind("keydown.dialog-overlay",function(i){t.options.closeOnEscape&&!i.isDefaultPrevented()&&i.keyCode&&i.keyCode===n.ui.keyCode.ESCAPE&&(t.close(i),i.preventDefault())}),n(window).bind("resize.dialog-overlay",n.ui.dialog.overlay.resize));var i=(this.oldInstances.pop()||n("<div><\/div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});return n.fn.bgiframe&&i.bgiframe(),this.instances.push(i),i},destroy:function(t){var r=n.inArray(t,this.instances),i;r!=-1&&this.oldInstances.push(this.instances.splice(r,1)[0]);this.instances.length===0&&n([document,window]).unbind(".dialog-overlay");t.remove();i=0;n.each(this.instances,function(){i=Math.max(i,this.css("z-index"))});this.maxZ=i},height:function(){var t,i;return n.browser.msie&&n.browser.version<7?(t=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),i=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),t<i?n(window).height()+"px":t+"px"):n(document).height()+"px"},width:function(){var t,i;return n.browser.msie?(t=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),i=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),t<i?n(window).width()+"px":t+"px"):n(document).width()+"px"},resize:function(){var t=n([]);n.each(n.ui.dialog.overlay.instances,function(){t=t.add(this)});t.css({width:0,height:0}).css({width:n.ui.dialog.overlay.width(),height:n.ui.dialog.overlay.height()})}});n.extend(n.ui.dialog.overlay.prototype,{destroy:function(){n.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),function(n){n.ui=n.ui||{};var i=/left|center|right/,r=/top|center|bottom/,t="center",u={},f=n.fn.position,e=n.fn.offset;n.fn.position=function(e){if(!e||!e.of)return f.apply(this,arguments);e=n.extend({},e);var s=n(e.of),v=s[0],a=(e.collision||"flip").split(" "),h=e.offset?e.offset.split(" "):[0,0],c,l,o;return v.nodeType===9?(c=s.width(),l=s.height(),o={top:0,left:0}):v.setTimeout?(c=s.width(),l=s.height(),o={top:s.scrollTop(),left:s.scrollLeft()}):v.preventDefault?(e.at="left top",c=l=0,o={top:e.of.pageY,left:e.of.pageX}):(c=s.outerWidth(),l=s.outerHeight(),o=s.offset()),n.each(["my","at"],function(){var n=(e[this]||"").split(" ");n.length===1&&(n=i.test(n[0])?n.concat([t]):r.test(n[0])?[t].concat(n):[t,t]);n[0]=i.test(n[0])?n[0]:t;n[1]=r.test(n[1])?n[1]:t;e[this]=n}),a.length===1&&(a[1]=a[0]),h[0]=parseInt(h[0],10)||0,h.length===1&&(h[1]=h[0]),h[1]=parseInt(h[1],10)||0,e.at[0]==="right"?o.left+=c:e.at[0]===t&&(o.left+=c/2),e.at[1]==="bottom"?o.top+=l:e.at[1]===t&&(o.top+=l/2),o.left+=h[0],o.top+=h[1],this.each(function(){var r=n(this),f=r.outerWidth(),s=r.outerHeight(),v=parseInt(n.curCSS(this,"marginLeft",!0))||0,y=parseInt(n.curCSS(this,"marginTop",!0))||0,w=f+v+(parseInt(n.curCSS(this,"marginRight",!0))||0),b=s+y+(parseInt(n.curCSS(this,"marginBottom",!0))||0),i=n.extend({},o),p;e.my[0]==="right"?i.left-=f:e.my[0]===t&&(i.left-=f/2);e.my[1]==="bottom"?i.top-=s:e.my[1]===t&&(i.top-=s/2);u.fractions||(i.left=Math.round(i.left),i.top=Math.round(i.top));p={left:i.left-v,top:i.top-y};n.each(["left","top"],function(t,r){n.ui.position[a[t]]&&n.ui.position[a[t]][r](i,{targetWidth:c,targetHeight:l,elemWidth:f,elemHeight:s,collisionPosition:p,collisionWidth:w,collisionHeight:b,offset:h,my:e.my,at:e.at})});n.fn.bgiframe&&r.bgiframe();r.offset(n.extend(i,{using:e.using}))})};n.ui.position={fit:{left:function(t,i){var r=n(window),u=i.collisionPosition.left+i.collisionWidth-r.width()-r.scrollLeft();t.left=u>0?t.left-u:Math.max(t.left-i.collisionPosition.left,t.left)},top:function(t,i){var r=n(window),u=i.collisionPosition.top+i.collisionHeight-r.height()-r.scrollTop();t.top=u>0?t.top-u:Math.max(t.top-i.collisionPosition.top,t.top)}},flip:{left:function(i,r){if(r.at[0]!==t){var u=n(window),s=r.collisionPosition.left+r.collisionWidth-u.width()-u.scrollLeft(),f=r.my[0]==="left"?-r.elemWidth:r.my[0]==="right"?r.elemWidth:0,e=r.at[0]==="left"?r.targetWidth:-r.targetWidth,o=-2*r.offset[0];i.left+=r.collisionPosition.left<0?f+e+o:s>0?f+e+o:0}},top:function(i,r){if(r.at[1]!==t){var u=n(window),s=r.collisionPosition.top+r.collisionHeight-u.height()-u.scrollTop(),f=r.my[1]==="top"?-r.elemHeight:r.my[1]==="bottom"?r.elemHeight:0,e=r.at[1]==="top"?r.targetHeight:-r.targetHeight,o=-2*r.offset[1];i.top+=r.collisionPosition.top<0?f+e+o:s>0?f+e+o:0}}}};n.offset.setOffset||(n.offset.setOffset=function(t,i){/static/.test(n.curCSS(t,"position"))&&(t.style.position="relative");var r=n(t),u=r.offset(),e=parseInt(n.curCSS(t,"top",!0),10)||0,o=parseInt(n.curCSS(t,"left",!0),10)||0,f={top:i.top-u.top+e,left:i.left-u.left+o};"using"in i?i.using.call(t,f):r.css(f)},n.fn.offset=function(t){var i=this[0];return!i||!i.ownerDocument?null:t?n.isFunction(t)?this.each(function(i){n(this).offset(t.call(this,i,n(this).offset()))}):this.each(function(){n.offset.setOffset(this,t)}):e.call(this)});n.curCSS||(n.curCSS=n.css),function(){var i=document.getElementsByTagName("body")[0],e=document.createElement("div"),t,r,f,o,s,h;t=document.createElement(i?"div":"body");f={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};i&&n.extend(f,{position:"absolute",left:"-1000px",top:"-1000px"});for(h in f)t.style[h]=f[h];t.appendChild(e);r=i||document.documentElement;r.insertBefore(t,r.firstChild);e.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;";o=n(e).offset(function(n,t){return t}).offset();t.innerHTML="";r.removeChild(t);s=o.top+o.left+(i?2e3:0);u.fractions=s>21&&s<22}()}(jQuery),function(n,t){n.widget("ui.progressbar",{options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()});this.valueDiv=n("<div class='ui-progressbar-value ui-widget-header ui-corner-left'><\/div>").appendTo(this.element);this.oldValue=this._value();this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.valueDiv.remove();n.Widget.prototype.destroy.apply(this,arguments)},value:function(n){return n===t?this._value():(this._setOption("value",n),this)},_setOption:function(t,i){t==="value"&&(this.options.value=i,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete"));n.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var n=this.options.value;return typeof n!="number"&&(n=0),Math.min(this.options.max,Math.max(this.min,n))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var n=this.value(),t=this._percentage();this.oldValue!==n&&(this.oldValue=n,this._trigger("change"));this.valueDiv.toggle(n>this.min).toggleClass("ui-corner-right",n===this.options.max).width(t.toFixed(0)+"%");this.element.attr("aria-valuenow",n)}});n.extend(n.ui.progressbar,{version:"1.8.24"})}(jQuery),function(n){var t=5;n.widget("ui.slider",n.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var i=this,r=this.options,f=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o=r.values&&r.values.length||1,e=[],u;for(this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(r.disabled?" ui-slider-disabled ui-disabled":"")),this.range=n([]),r.range&&(r.range===!0&&(r.values||(r.values=[this._valueMin(),this._valueMin()]),r.values.length&&r.values.length!==2&&(r.values=[r.values[0],r.values[0]])),this.range=n("<div><\/div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+(r.range==="min"||r.range==="max"?" ui-slider-range-"+r.range:""))),u=f.length;u<o;u+=1)e.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'><\/a>");this.handles=f.add(n(e.join("")).appendTo(i.element));this.handle=this.handles.eq(0);this.handles.add(this.range).filter("a").click(function(n){n.preventDefault()}).hover(function(){r.disabled||n(this).addClass("ui-state-hover")},function(){n(this).removeClass("ui-state-hover")}).focus(function(){r.disabled?n(this).blur():(n(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),n(this).addClass("ui-state-focus"))}).blur(function(){n(this).removeClass("ui-state-focus")});this.handles.each(function(t){n(this).data("index.ui-slider-handle",t)});this.handles.keydown(function(r){var e=n(this).data("index.ui-slider-handle"),s,f,u,o;if(!i.options.disabled){switch(r.keyCode){case n.ui.keyCode.HOME:case n.ui.keyCode.END:case n.ui.keyCode.PAGE_UP:case n.ui.keyCode.PAGE_DOWN:case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:if(r.preventDefault(),!i._keySliding&&(i._keySliding=!0,n(this).addClass("ui-state-active"),s=i._start(r,e),s===!1))return}o=i.options.step;f=i.options.values&&i.options.values.length?u=i.values(e):u=i.value();switch(r.keyCode){case n.ui.keyCode.HOME:u=i._valueMin();break;case n.ui.keyCode.END:u=i._valueMax();break;case n.ui.keyCode.PAGE_UP:u=i._trimAlignValue(f+(i._valueMax()-i._valueMin())/t);break;case n.ui.keyCode.PAGE_DOWN:u=i._trimAlignValue(f-(i._valueMax()-i._valueMin())/t);break;case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:if(f===i._valueMax())return;u=i._trimAlignValue(f+o);break;case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:if(f===i._valueMin())return;u=i._trimAlignValue(f-o)}i._slide(r,e,u)}}).keyup(function(t){var r=n(this).data("index.ui-slider-handle");i._keySliding&&(i._keySliding=!1,i._stop(t,r),i._change(t,r),n(this).removeClass("ui-state-active"))});this._refreshValue();this._animateOff=!1},destroy:function(){return this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),this._mouseDestroy(),this},_mouseCapture:function(t){var u=this.options,h,f,e,i,o,r,c,s,l;return u.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),h={x:t.pageX,y:t.pageY},f=this._normValueFromMouse(h),e=this._valueMax()-this._valueMin()+1,o=this,this.handles.each(function(t){var u=Math.abs(f-o.values(t));e>u&&(e=u,i=n(this),r=t)}),u.range===!0&&this.values(1)===u.min&&(r+=1,i=n(this.handles[r])),c=this._start(t,r),c===!1?!1:(this._mouseSliding=!0,o._handleIndex=r,i.addClass("ui-state-active").focus(),s=i.offset(),l=!n(t.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:t.pageX-s.left-i.width()/2,top:t.pageY-s.top-i.height()/2-(parseInt(i.css("borderTopWidth"),10)||0)-(parseInt(i.css("borderBottomWidth"),10)||0)+(parseInt(i.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,r,f),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(n){var t={x:n.pageX,y:n.pageY},i=this._normValueFromMouse(t);return this._slide(n,this._handleIndex,i),!1},_mouseStop:function(n){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(n,this._handleIndex),this._change(n,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(n){var i,r,t,u,f;return this.orientation==="horizontal"?(i=this.elementSize.width,r=n.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(i=this.elementSize.height,r=n.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),t=r/i,t>1&&(t=1),t<0&&(t=0),this.orientation==="vertical"&&(t=1-t),u=this._valueMax()-this._valueMin(),f=this._valueMin()+t*u,this._trimAlignValue(f)},_start:function(n,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",n,i)},_slide:function(n,t,i){var r,f,u;this.options.values&&this.options.values.length?(r=this.values(t?0:1),this.options.values.length===2&&this.options.range===!0&&(t===0&&i>r||t===1&&i<r)&&(i=r),i!==this.values(t)&&(f=this.values(),f[t]=i,u=this._trigger("slide",n,{handle:this.handles[t],value:i,values:f}),r=this.values(t?0:1),u!==!1&&this.values(t,i,!0))):i!==this.value()&&(u=this._trigger("slide",n,{handle:this.handles[t],value:i}),u!==!1&&this.value(i))},_stop:function(n,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values());this._trigger("stop",n,i)},_change:function(n,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values());this._trigger("change",n,i)}},value:function(n){if(arguments.length){this.options.value=this._trimAlignValue(n);this._refreshValue();this._change(null,0);return}return this._value()},values:function(t,i){var u,f,r;if(arguments.length>1){this.options.values[t]=this._trimAlignValue(i);this._refreshValue();this._change(null,t);return}if(!arguments.length)return this._values();if(!n.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(u=this.options.values,f=arguments[0],r=0;r<u.length;r+=1)u[r]=this._trimAlignValue(f[r]),this._change(null,r);this._refreshValue()},_setOption:function(t,i){var r,u=0;n.isArray(this.options.values)&&(u=this.options.values.length);n.Widget.prototype._setOption.apply(this,arguments);switch(t){case"disabled":i?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.propAttr("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.propAttr("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case"value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),r=0;r<u;r+=1)this._change(null,r);this._animateOff=!1}},_value:function(){var n=this.options.value;return n=this._trimAlignValue(n),n},_values:function(n){var r,t,i;if(arguments.length)return r=this.options.values[n],r=this._trimAlignValue(r),r;for(t=this.options.values.slice(),i=0;i<t.length;i+=1)t[i]=this._trimAlignValue(t[i]);return t},_trimAlignValue:function(n){if(n<=this._valueMin())return this._valueMin();if(n>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(n-this._valueMin())%t,r=n-i;return Math.abs(i)*2>=t&&(r+=i>0?t:-t),parseFloat(r.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var f=this.options.range,r=this.options,i=this,u=this._animateOff?!1:r.animate,t,e={},s,c,o,h;this.options.values&&this.options.values.length?this.handles.each(function(f){t=(i.values(f)-i._valueMin())/(i._valueMax()-i._valueMin())*100;e[i.orientation==="horizontal"?"left":"bottom"]=t+"%";n(this).stop(1,1)[u?"animate":"css"](e,r.animate);i.options.range===!0&&(i.orientation==="horizontal"?(f===0&&i.range.stop(1,1)[u?"animate":"css"]({left:t+"%"},r.animate),f===1&&i.range[u?"animate":"css"]({width:t-s+"%"},{queue:!1,duration:r.animate})):(f===0&&i.range.stop(1,1)[u?"animate":"css"]({bottom:t+"%"},r.animate),f===1&&i.range[u?"animate":"css"]({height:t-s+"%"},{queue:!1,duration:r.animate})));s=t}):(c=this.value(),o=this._valueMin(),h=this._valueMax(),t=h!==o?(c-o)/(h-o)*100:0,e[i.orientation==="horizontal"?"left":"bottom"]=t+"%",this.handle.stop(1,1)[u?"animate":"css"](e,r.animate),f==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[u?"animate":"css"]({width:t+"%"},r.animate),f==="max"&&this.orientation==="horizontal"&&this.range[u?"animate":"css"]({width:100-t+"%"},{queue:!1,duration:r.animate}),f==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[u?"animate":"css"]({height:t+"%"},r.animate),f==="max"&&this.orientation==="vertical"&&this.range[u?"animate":"css"]({height:100-t+"%"},{queue:!1,duration:r.animate}))}});n.extend(n.ui.slider,{version:"1.8.24"})}(jQuery),function(n,t){function i(){return++u}function r(){return++f}var u=0,f=0;n.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:!1,cookie:null,collapsible:!1,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div><\/div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;<\/em>",tabTemplate:"<li><a href='#{href}'><span>#{label}<\/span><\/a><\/li>"},_create:function(){this._tabify(!0)},_setOption:function(n,t){if(n=="selected"){if(this.options.collapsible&&t==this.options.selected)return;this.select(t)}else this.options[n]=t,this._tabify()},_tabId:function(n){return n.title&&n.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+i()},_sanitizeSelector:function(n){return n.replace(/:/g,"\\:")},_cookie:function(){var t=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+r());return n.cookie.apply(null,[t].concat(n.makeArray(arguments)))},_ui:function(n,t){return{tab:n,panel:t,index:this.anchors.index(n)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var t=n(this);t.html(t.data("label.tabs")).removeData("label.tabs")})},_tabify:function(i){function v(t,i){t.css("display","");!n.support.opacity&&i.opacity&&t[0].style.removeAttribute("filter")}var u=this,r=this.options,y=/^#.+/,o,s,h,c,f,e,l,a;for(this.list=this.element.find("ol,ul").eq(0),this.lis=n(" > li:has(a[href])",this.list),this.anchors=this.lis.map(function(){return n("a",this)[0]}),this.panels=n([]),this.anchors.each(function(t,i){var f=n(i).attr("href"),s=f.split("#")[0],h,o,e;s&&(s===location.toString().split("#")[0]||(h=n("base")[0])&&s===h.href)&&(f=i.hash,i.href=f);y.test(f)?u.panels=u.panels.add(u.element.find(u._sanitizeSelector(f))):f&&f!=="#"?(n.data(i,"href.tabs",f),n.data(i,"load.tabs",f.replace(/#.*$/,"")),o=u._tabId(i),i.href="#"+o,e=u.element.find("#"+o),e.length||(e=n(r.panelTemplate).attr("id",o).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(u.panels[t-1]||u.list),e.data("destroy.tabs",!0)),u.panels=u.panels.add(e)):r.disabled.push(t)}),i?(this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-top"),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"),r.selected===t?(location.hash&&this.anchors.each(function(n,t){if(t.hash==location.hash)return r.selected=n,!1}),typeof r.selected!="number"&&r.cookie&&(r.selected=parseInt(u._cookie(),10)),typeof r.selected!="number"&&this.lis.filter(".ui-tabs-selected").length&&(r.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))),r.selected=r.selected||(this.lis.length?0:-1)):r.selected===null&&(r.selected=-1),r.selected=r.selected>=0&&this.anchors[r.selected]||r.selected<0?r.selected:0,r.disabled=n.unique(r.disabled.concat(n.map(this.lis.filter(".ui-state-disabled"),function(n){return u.lis.index(n)}))).sort(),n.inArray(r.selected,r.disabled)!=-1&&r.disabled.splice(n.inArray(r.selected,r.disabled),1),this.panels.addClass("ui-tabs-hide"),this.lis.removeClass("ui-tabs-selected ui-state-active"),r.selected>=0&&this.anchors.length&&(u.element.find(u._sanitizeSelector(u.anchors[r.selected].hash)).removeClass("ui-tabs-hide"),this.lis.eq(r.selected).addClass("ui-tabs-selected ui-state-active"),u.element.queue("tabs",function(){u._trigger("show",null,u._ui(u.anchors[r.selected],u.element.find(u._sanitizeSelector(u.anchors[r.selected].hash))[0]))}),this.load(r.selected)),n(window).bind("unload",function(){u.lis.add(u.anchors).unbind(".tabs");u.lis=u.anchors=u.panels=null})):r.selected=this.lis.index(this.lis.filter(".ui-tabs-selected")),this.element[r.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible"),r.cookie&&this._cookie(r.selected,r.cookie),o=0;s=this.lis[o];o++)n(s)[n.inArray(o,r.disabled)!=-1&&!n(s).hasClass("ui-tabs-selected")?"addClass":"removeClass"]("ui-state-disabled");r.cache===!1&&this.anchors.removeData("cache.tabs");this.lis.add(this.anchors).unbind(".tabs");r.event!=="mouseover"&&(h=function(n,t){t.is(":not(.ui-state-disabled)")&&t.addClass("ui-state-"+n)},c=function(n,t){t.removeClass("ui-state-"+n)},this.lis.bind("mouseover.tabs",function(){h("hover",n(this))}),this.lis.bind("mouseout.tabs",function(){c("hover",n(this))}),this.anchors.bind("focus.tabs",function(){h("focus",n(this).closest("li"))}),this.anchors.bind("blur.tabs",function(){c("focus",n(this).closest("li"))}));r.fx&&(n.isArray(r.fx)?(f=r.fx[0],e=r.fx[1]):f=e=r.fx);l=e?function(t,i){n(t).closest("li").addClass("ui-tabs-selected ui-state-active");i.hide().removeClass("ui-tabs-hide").animate(e,e.duration||"normal",function(){v(i,e);u._trigger("show",null,u._ui(t,i[0]))})}:function(t,i){n(t).closest("li").addClass("ui-tabs-selected ui-state-active");i.removeClass("ui-tabs-hide");u._trigger("show",null,u._ui(t,i[0]))};a=f?function(n,t){t.animate(f,f.duration||"normal",function(){u.lis.removeClass("ui-tabs-selected ui-state-active");t.addClass("ui-tabs-hide");v(t,f);u.element.dequeue("tabs")})}:function(n,t){u.lis.removeClass("ui-tabs-selected ui-state-active");t.addClass("ui-tabs-hide");u.element.dequeue("tabs")};this.anchors.bind(r.event+".tabs",function(){var t=this,i=n(t).closest("li"),f=u.panels.filter(":not(.ui-tabs-hide)"),e=u.element.find(u._sanitizeSelector(t.hash));if(i.hasClass("ui-tabs-selected")&&!r.collapsible||i.hasClass("ui-state-disabled")||i.hasClass("ui-state-processing")||u.panels.filter(":animated").length||u._trigger("select",null,u._ui(this,e[0]))===!1)return this.blur(),!1;if(r.selected=u.anchors.index(this),u.abort(),r.collapsible){if(i.hasClass("ui-tabs-selected"))return r.selected=-1,r.cookie&&u._cookie(r.selected,r.cookie),u.element.queue("tabs",function(){a(t,f)}).dequeue("tabs"),this.blur(),!1;if(!f.length)return r.cookie&&u._cookie(r.selected,r.cookie),u.element.queue("tabs",function(){l(t,e)}),u.load(u.anchors.index(this)),this.blur(),!1}if(r.cookie&&u._cookie(r.selected,r.cookie),e.length)f.length&&u.element.queue("tabs",function(){a(t,f)}),u.element.queue("tabs",function(){l(t,e)}),u.load(u.anchors.index(this));else throw"jQuery UI Tabs: Mismatching fragment identifier.";n.browser.msie&&this.blur()});this.anchors.bind("click.tabs",function(){return!1})},_getIndex:function(n){return typeof n=="string"&&(n=this.anchors.index(this.anchors.filter("[href$='"+n+"']"))),n},destroy:function(){var t=this.options;return this.abort(),this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs"),this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.anchors.each(function(){var t=n.data(this,"href.tabs"),i;t&&(this.href=t);i=n(this).unbind(".tabs");n.each(["href","load","cache"],function(n,t){i.removeData(t+".tabs")})}),this.lis.unbind(".tabs").add(this.panels).each(function(){n.data(this,"destroy.tabs")?n(this).remove():n(this).removeClass("ui-state-default ui-corner-top ui-tabs-selected ui-state-active ui-state-hover ui-state-focus ui-state-disabled ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide")}),t.cookie&&this._cookie(null,t.cookie),this},add:function(i,r,u){var f;u===t&&(u=this.anchors.length);var e=this,o=this.options,s=n(o.tabTemplate.replace(/#\{href\}/g,i).replace(/#\{label\}/g,r)),h=i.indexOf("#")?this._tabId(n("a",s)[0]):i.replace("#","");return s.addClass("ui-state-default ui-corner-top").data("destroy.tabs",!0),f=e.element.find("#"+h),f.length||(f=n(o.panelTemplate).attr("id",h).data("destroy.tabs",!0)),f.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"),u>=this.lis.length?(s.appendTo(this.list),f.appendTo(this.list[0].parentNode)):(s.insertBefore(this.lis[u]),f.insertBefore(this.panels[u])),o.disabled=n.map(o.disabled,function(n){return n>=u?++n:n}),this._tabify(),this.anchors.length==1&&(o.selected=0,s.addClass("ui-tabs-selected ui-state-active"),f.removeClass("ui-tabs-hide"),this.element.queue("tabs",function(){e._trigger("show",null,e._ui(e.anchors[0],e.panels[0]))}),this.load(0)),this._trigger("add",null,this._ui(this.anchors[u],this.panels[u])),this},remove:function(t){t=this._getIndex(t);var i=this.options,r=this.lis.eq(t).remove(),u=this.panels.eq(t).remove();return r.hasClass("ui-tabs-selected")&&this.anchors.length>1&&this.select(t+(t+1<this.anchors.length?1:-1)),i.disabled=n.map(n.grep(i.disabled,function(n){return n!=t}),function(n){return n>=t?--n:n}),this._tabify(),this._trigger("remove",null,this._ui(r.find("a")[0],u[0])),this},enable:function(t){t=this._getIndex(t);var i=this.options;if(n.inArray(t,i.disabled)!=-1)return this.lis.eq(t).removeClass("ui-state-disabled"),i.disabled=n.grep(i.disabled,function(n){return n!=t}),this._trigger("enable",null,this._ui(this.anchors[t],this.panels[t])),this},disable:function(n){n=this._getIndex(n);var i=this,t=this.options;return n!=t.selected&&(this.lis.eq(n).addClass("ui-state-disabled"),t.disabled.push(n),t.disabled.sort(),this._trigger("disable",null,this._ui(this.anchors[n],this.panels[n]))),this},select:function(n){if(n=this._getIndex(n),n==-1)if(this.options.collapsible&&this.options.selected!=-1)n=this.options.selected;else return this;return this.anchors.eq(n).trigger(this.options.event+".tabs"),this},load:function(t){var f;t=this._getIndex(t);var i=this,r=this.options,u=this.anchors.eq(t)[0],e=n.data(u,"load.tabs");if(this.abort(),!e||this.element.queue("tabs").length!==0&&n.data(u,"cache.tabs")){this.element.dequeue("tabs");return}return this.lis.eq(t).addClass("ui-state-processing"),r.spinner&&(f=n("span",u),f.data("label.tabs",f.html()).html(r.spinner)),this.xhr=n.ajax(n.extend({},r.ajaxOptions,{url:e,success:function(f,e){i.element.find(i._sanitizeSelector(u.hash)).html(f);i._cleanup();r.cache&&n.data(u,"cache.tabs",!0);i._trigger("load",null,i._ui(i.anchors[t],i.panels[t]));try{r.ajaxOptions.success(f,e)}catch(o){}},error:function(n,f){i._cleanup();i._trigger("load",null,i._ui(i.anchors[t],i.panels[t]));try{r.ajaxOptions.error(n,f,t,u)}catch(g){}}})),i.element.dequeue("tabs"),this},abort:function(){return this.element.queue([]),this.panels.stop(!1,!0),this.element.queue("tabs",this.element.queue("tabs").splice(-2,2)),this.xhr&&(this.xhr.abort(),delete this.xhr),this._cleanup(),this},url:function(n,t){return this.anchors.eq(n).removeData("cache.tabs").data("load.tabs",t),this},length:function(){return this.anchors.length}});n.extend(n.ui.tabs,{version:"1.8.24"});n.extend(n.ui.tabs.prototype,{rotation:null,rotate:function(n,t){var i=this,u=this.options,r=i._rotate||(i._rotate=function(t){clearTimeout(i.rotation);i.rotation=setTimeout(function(){var n=u.selected;i.select(++n<i.anchors.length?n:0)},n);t&&t.stopPropagation()}),f=i._unrotate||(i._unrotate=t?function(){r()}:function(n){n.clientX&&i.rotate(null)});return n?(this.element.bind("tabsshow",r),this.anchors.bind(u.event+".tabs",f),r()):(clearTimeout(i.rotation),this.element.unbind("tabsshow",r),this.anchors.unbind(u.event+".tabs",f),delete this._rotate,delete this._unrotate),this}})}(jQuery),!function(n){function e(n,t){return(s?t.originalEvent.touches[0]:t)["page"+n.toUpperCase()]}function o(i,f,e){var o=n.Event(f,t);n.event.trigger(o,{originalEvent:i},i.target);o.isDefaultPrevented()&&i.preventDefault();e&&(n.event.remove(u,k+"."+r,y),n.event.remove(u,v+"."+r,h))}function d(s){var w=s.timeStamp||+new Date;p!=w&&(p=w,i.x=t.x=e("x",s),i.y=t.y=e("y",s),i.time=w,i.target=s.target,t.orientation=null,c=!1,l=!1,a=setTimeout(function(){l=!0;o(s,"press")},n.Finger.pressDuration),n.event.add(u,k+"."+r,y),n.event.add(u,v+"."+r,h),f.preventDefault&&s.preventDefault())}function y(u){return t.x=e("x",u),t.y=e("y",u),t.dx=t.x-i.x,t.dy=t.y-i.y,t.adx=Math.abs(t.dx),t.ady=Math.abs(t.dy),(c=t.adx>f.motionThreshold||t.ady>f.motionThreshold)?(clearTimeout(a),t.orientation||(t.adx>t.ady?(t.orientation="horizontal",t.direction=t.dx>0?1:-1):(t.orientation="vertical",t.direction=t.dy>0?1:-1)),u.target!==i.target?(u.target=i.target,void h.call(this,n.Event(v+"."+r,u))):void o(u,"drag")):void 0}function h(n){var r,u=n.timeStamp||+new Date,s=u-i.time,e;(clearTimeout(a),n.target===i.target)&&(c||l?(s<f.flickDuration&&o(n,"flick"),t.end=!0,r="drag"):(e=w===n.target&&u-b<f.doubleTapInterval,r=e?"doubletap":"tap",w=e?null:i.target,b=u),o(n,r,!0))}var c,l,p,a,w,b,s="ontouchstart"in window,g=s?"touchstart":"mousedown",v=s?"touchend touchcancel":"mouseup mouseleave",k=s?"touchmove":"mousemove",r="finger",u=n("html")[0],i={},t={},f=n.Finger={pressDuration:300,doubleTapInterval:300,flickDuration:150,motionThreshold:5};n.event.add(u,g+"."+r,d)}(jQuery),function(n){var t=function(){var t=this,r=0,i=!1,u=0,e=0,f=!1;t.settings={block_text:!0,inner_width:!1,theme:"light",flick_animation:"transition-slide",auto_flick:!0,auto_flick_delay:10,dot_navigation:!0,dot_alignment:"center",arrows:!0};t.init=function(e,o){var s,h,l,a,c;t.settings=n.extend(t.settings,o);i=e;i.addClass("flickerplate");i.find("ul:first").addClass("flicks");i.find("li:first").addClass("first-flick");i.attr("data-flick-position",r);s=i.data("flick-animation");s&&s.length>0?("transform-slide"==s?t.settings.flick_animation="transform-slide":"transition-slide"==s?t.settings.flick_animation="transition-slide":"jquery-slide"==s?t.settings.flick_animation="jquery-slide":"scroller-slide"==s&&(t.settings.flick_animation="scroller-slide"),i.addClass("animate-"+s)):i.addClass("animate-"+t.settings.flick_animation);h=i.data("theme");l=i.find(".first-flick").data("theme");h&&h.length>0?(t.settings.theme=h,i.addClass(l&&l.length>0?"flicker-theme-"+l:"flicker-theme-"+h)):i.addClass("flicker-theme-"+t.settings.theme);a=i.data("block-text");(void 0!=a&&0==a&&(t.settings.block_text=!1),i.find("li").each(function(){u++;n(this).wrapInner('<div class="flick-inner"><div class="flick-content"><\/div><\/div>');$flick_block_text=n(this).data("block-text");void 0!=$flick_block_text?1==$flick_block_text&&(n(this).find(".flick-title").wrapInner('<span class="flick-block-text"><\/span>'),n(this).find(".flick-sub-text").wrapInner('<span class="flick-block-text"><\/span>')):1==t.settings.block_text&&(n(this).find(".flick-title").wrapInner('<span class="flick-block-text"><\/span>'),n(this).find(".flick-sub-text").wrapInner('<span class="flick-block-text"><\/span>'));var i=n(this).data("background");i&&i.length>0&&n(this).css("background-image","url("+i+")");$flick_theme=n(this).data("theme");$flick_theme&&$flick_theme.length>0&&n(this).addClass("flick-theme-"+$flick_theme)}),"scroller-slide"!=t.settings.flick_animation)&&($data_arrow_navigation=i.data("arrows"),void 0!=$data_arrow_navigation?0!=$data_arrow_navigation&&t.create_arrow_navigation():1==t.settings.arrows&&t.create_arrow_navigation(),$data_dot_navigation=i.data("dot-navigation"),$data_dot_alignment=i.data("dot-alignment"),c=t.settings.dot_alignment,void 0!=$data_dot_alignment&&("left"==$data_dot_alignment?c="left":"right"==$data_dot_alignment&&(c="right")),void 0!=$data_dot_navigation?0!=$data_dot_navigation&&t.create_dot_navigation(c):1==t.settings.dot_navigation&&t.create_dot_navigation(c),$flick_delay=1e3*t.settings.auto_flick_delay,$data_auto_flick=i.data("auto-flick"),$data_auto_flick_delay=i.data("auto-flick-delay"),$data_auto_flick_delay&&($flick_delay=1e3*$data_auto_flick_delay),void 0!=$data_auto_flick&&(t.settings.auto_flick=0!=$data_auto_flick?!0:!1),t.auto_flick_start(),t.flick_flicker(),"jquery-slide"!=t.settings.flick_animation&&i.find("ul.flicks").bind("transitionend MSTransitionEnd webkitTransitionEnd oTransitionEnd",function(){f=!1}))};t.flick_flicker=function(){Modernizr.touch&&i.on("drag",function(n){0==f&&"horizontal"==n.orientation&&(n.preventDefault(),1==n.direction?(r--,0>r?r=0:(f=!0,t.move_flicker(r))):(r++,r==u?r=u-1:(f=!0,t.move_flicker(r))))})};t.create_arrow_navigation=function(){$arrow_nav_html='<div class="arrow-navigation left"><div class="arrow"><\/div><\/div>';$arrow_nav_html+='<div class="arrow-navigation right"><div class="arrow"><\/div><\/div>';i.prepend($arrow_nav_html);n(".arrow-navigation").mouseover(function(){0==n(this).hasClass("hover")&&n(this).addClass("hover")});n(".arrow-navigation").mouseout(function(){1==n(this).hasClass("hover")&&n(this).removeClass("hover")});n(".arrow-navigation").on("click",function(){n(this).hasClass("right")?(r++,r==u&&(r=0)):(r--,0>r&&(r=u-1));t.move_flicker(r)})};t.create_dot_navigation=function(r){for($dot_nav_html='<div class="dot-navigation '+r+'"><ul>';u>e;)e++,$dot_nav_html+=1==e?'<li><div class="dot active"><\/div><\/li>':'<li><div class="dot"><\/div><\/li>';$dot_nav_html+="<\/ul><\/div>";i.prepend($dot_nav_html);i.find(".dot-navigation li").on("click",function(){t.move_flicker(n(this).index())})};t.auto_flick_start=function(){1==t.settings.auto_flick&&(t.flicker_auto=setInterval(t.auto_flick,$flick_delay))};t.auto_flick=function(){r++;r==u&&(r=0);t.move_flicker(r)};t.auto_flick_stop=function(){t.flicker_auto=clearInterval(t.flicker_auto)};t.auto_flick_reset=function(){t.auto_flick_stop();t.auto_flick_start()};t.move_flicker=function(n){r=n;"transform-slide"==t.settings.flick_animation?i.find("ul.flicks").attr({style:"-webkit-transform:translate3d(-"+r+"%, 0, 0);-o-transform:translate3d(-"+r+"%, 0, 0);-moz-transform:translate3d(-"+r+"%, 0, 0);transform:translate3d(-"+r+"%, 0, 0)"}):"transition-slide"==t.settings.flick_animation?i.find("ul.flicks").attr({style:"left:-"+r+"00%;"}):"jquery-slide"==t.settings.flick_animation&&i.find("ul.flicks").animate({left:"-"+r+"00%"},function(){f=!1});$crt_flick=i.find("ul.flicks li:eq("+r+")");i.removeClass("flicker-theme-light").removeClass("flicker-theme-dark");i.addClass($crt_flick.hasClass("flick-theme-dark")?"flicker-theme-dark":$crt_flick.hasClass("flick-theme-light")?"flicker-theme-light":"flicker-theme-"+t.settings.theme);i.find(".dot-navigation .dot.active").removeClass("active");i.find(".dot:eq("+r+")").addClass("active");i.attr("data-flick-position",r);t.auto_flick_reset()}};n.fn.flicker=function(i){var r=this.length;return this.each(function(u){var f=n(this),e="flickerplate"+(r>1?"-"+ ++u:""),o=(new t).init(f,i);f.data(e,o).data("key",e)})}}(jQuery),window.Modernizr=function(n,t,i){function a(n){c.cssText=n}function vt(n,t){return a(y.join(n+";")+(t||""))}function h(n,t){return typeof n===t}function v(n,t){return!!~(""+n).indexOf(t)}function lt(n,t){var u,r;for(u in n)if(r=n[u],!v(r,"-")&&c[r]!==i)return t=="pfx"?r:!0;return!1}function yt(n,t,r){var f,u;for(f in n)if(u=t[n[f]],u!==i)return r===!1?n[f]:h(u,"function")?u.bind(r||t):u;return!1}function f(n,t,i){var r=n.charAt(0).toUpperCase()+n.slice(1),u=(n+" "+ot.join(r+" ")+r).split(" ");return h(t,"string")||h(t,"undefined")?lt(u,t):(u=(n+" "+st.join(r+" ")+r).split(" "),yt(u,t,i))}function pt(){u.input=function(i){for(var r=0,u=i.length;r<u;r++)w[i[r]]=!!(i[r]in o);return w.list&&(w.list=!!(t.createElement("datalist")&&n.HTMLDataListElement)),w}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" "));u.inputtypes=function(n){for(var u=0,r,f,e,h=n.length;u<h;u++)o.setAttribute("type",f=n[u]),r=o.type!=="text",r&&(o.value=g,o.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(f)&&o.style.WebkitAppearance!==i?(s.appendChild(o),e=t.defaultView,r=e.getComputedStyle&&e.getComputedStyle(o,null).WebkitAppearance!=="textfield"&&o.offsetHeight!==0,s.removeChild(o)):/^(search|tel)$/.test(f)||(r=/^(url|email)$/.test(f)?o.checkValidity&&o.checkValidity()===!1:o.value!=g)),ht[n[u]]=!!r;return ht}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var u={},d=!0,s=t.documentElement,e="modernizr",ut=t.createElement(e),c=ut.style,o=t.createElement("input"),g=":)",ft={}.toString,y=" -webkit- -moz- -o- -ms- ".split(" "),et="Webkit Moz O ms",ot=et.split(" "),st=et.toLowerCase().split(" "),p={svg:"http://www.w3.org/2000/svg"},r={},ht={},w={},nt=[],tt=nt.slice,b,l=function(n,i,r,u){var l,a,c,v,f=t.createElement("div"),h=t.body,o=h||t.createElement("body");if(parseInt(r,10))while(r--)c=t.createElement("div"),c.id=u?u[r]:e+(r+1),f.appendChild(c);return l=["&#173;",'<style id="s',e,'">',n,"<\/style>"].join(""),f.id=e,(h?f:o).innerHTML+=l,o.appendChild(f),h||(o.style.background="",o.style.overflow="hidden",v=s.style.overflow,s.style.overflow="hidden",s.appendChild(o)),a=i(f,n),h?f.parentNode.removeChild(f):(o.parentNode.removeChild(o),s.style.overflow=v),!!a},at=function(t){var i=n.matchMedia||n.msMatchMedia,r;return i?i(t)&&i(t).matches||!1:(l("@media "+t+" { #"+e+" { position: absolute; } }",function(t){r=(n.getComputedStyle?getComputedStyle(t,null):t.currentStyle).position=="absolute"}),r)},ct=function(){function r(r,u){u=u||t.createElement(n[r]||"div");r="on"+r;var f=r in u;return f||(u.setAttribute||(u=t.createElement("div")),u.setAttribute&&u.removeAttribute&&(u.setAttribute(r,""),f=h(u[r],"function"),h(u[r],"undefined")||(u[r]=i),u.removeAttribute(r))),u=null,f}var n={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return r}(),it={}.hasOwnProperty,rt,k;rt=h(it,"undefined")||h(it.call,"undefined")?function(n,t){return t in n&&h(n.constructor.prototype[t],"undefined")}:function(n,t){return it.call(n,t)};Function.prototype.bind||(Function.prototype.bind=function(n){var t=this,i,r;if(typeof t!="function")throw new TypeError;return i=tt.call(arguments,1),r=function(){var f,e,u;return this instanceof r?(f=function(){},f.prototype=t.prototype,e=new f,u=t.apply(e,i.concat(tt.call(arguments))),Object(u)===u)?u:e:t.apply(n,i.concat(tt.call(arguments)))},r});r.flexbox=function(){return f("flexWrap")};r.flexboxlegacy=function(){return f("boxDirection")};r.canvas=function(){var n=t.createElement("canvas");return!!(n.getContext&&n.getContext("2d"))};r.canvastext=function(){return!!(u.canvas&&h(t.createElement("canvas").getContext("2d").fillText,"function"))};r.webgl=function(){return!!n.WebGLRenderingContext};r.touch=function(){var i;return"ontouchstart"in n||n.DocumentTouch&&t instanceof DocumentTouch?i=!0:l(["@media (",y.join("touch-enabled),("),e,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(n){i=n.offsetTop===9}),i};r.geolocation=function(){return"geolocation"in navigator};r.postmessage=function(){return!!n.postMessage};r.websqldatabase=function(){return!!n.openDatabase};r.indexedDB=function(){return!!f("indexedDB",n)};r.hashchange=function(){return ct("hashchange",n)&&(t.documentMode===i||t.documentMode>7)};r.history=function(){return!!(n.history&&history.pushState)};r.draganddrop=function(){var n=t.createElement("div");return"draggable"in n||"ondragstart"in n&&"ondrop"in n};r.websockets=function(){return"WebSocket"in n||"MozWebSocket"in n};r.rgba=function(){return a("background-color:rgba(150,255,150,.5)"),v(c.backgroundColor,"rgba")};r.hsla=function(){return a("background-color:hsla(120,40%,100%,.5)"),v(c.backgroundColor,"rgba")||v(c.backgroundColor,"hsla")};r.multiplebgs=function(){return a("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(c.background)};r.backgroundsize=function(){return f("backgroundSize")};r.borderimage=function(){return f("borderImage")};r.borderradius=function(){return f("borderRadius")};r.boxshadow=function(){return f("boxShadow")};r.textshadow=function(){return t.createElement("div").style.textShadow===""};r.opacity=function(){return vt("opacity:.55"),/^0.55$/.test(c.opacity)};r.cssanimations=function(){return f("animationName")};r.csscolumns=function(){return f("columnCount")};r.cssgradients=function(){var n="background-image:";return a((n+"-webkit- ".split(" ").join("gradient(linear,left top,right bottom,from(#9f9),to(white));"+n)+y.join("linear-gradient(left top,#9f9, white);"+n)).slice(0,-n.length)),v(c.backgroundImage,"gradient")};r.cssreflections=function(){return f("boxReflect")};r.csstransforms=function(){return!!f("transform")};r.csstransforms3d=function(){var n=!!f("perspective");return n&&"webkitPerspective"in s.style&&l("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t){n=t.offsetLeft===9&&t.offsetHeight===3}),n};r.csstransitions=function(){return f("transition")};r.fontface=function(){var n;return l('@font-face {font-family:"font";src:url("https://")}',function(i,r){var f=t.getElementById("smodernizr"),u=f.sheet||f.styleSheet,e=u?u.cssRules&&u.cssRules[0]?u.cssRules[0].cssText:u.cssText||"":"";n=/src/i.test(e)&&e.indexOf(r.split(" ")[0])===0}),n};r.generatedcontent=function(){var n;return l(["#",e,"{font:0/0 a}#",e,':after{content:"',g,'";visibility:hidden;font:3px/1 a}'].join(""),function(t){n=t.offsetHeight>=3}),n};r.video=function(){var i=t.createElement("video"),n=!1;try{(n=!!i.canPlayType)&&(n=new Boolean(n),n.ogg=i.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=i.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=i.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(r){}return n};r.audio=function(){var i=t.createElement("audio"),n=!1;try{(n=!!i.canPlayType)&&(n=new Boolean(n),n.ogg=i.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=i.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=i.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(i.canPlayType("audio/x-m4a;")||i.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(r){}return n};r.localstorage=function(){try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(n){return!1}};r.sessionstorage=function(){try{return sessionStorage.setItem(e,e),sessionStorage.removeItem(e),!0}catch(n){return!1}};r.webworkers=function(){return!!n.Worker};r.applicationcache=function(){return!!n.applicationCache};r.svg=function(){return!!t.createElementNS&&!!t.createElementNS(p.svg,"svg").createSVGRect};r.inlinesvg=function(){var n=t.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==p.svg};r.smil=function(){return!!t.createElementNS&&/SVGAnimate/.test(ft.call(t.createElementNS(p.svg,"animate")))};r.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(ft.call(t.createElementNS(p.svg,"clipPath")))};for(k in r)rt(r,k)&&(b=k.toLowerCase(),u[b]=r[k](),nt.push((u[b]?"":"no-")+b));return u.input||pt(),u.addTest=function(n,t){if(typeof n=="object")for(var r in n)rt(n,r)&&u.addTest(r,n[r]);else{if(n=n.toLowerCase(),u[n]!==i)return u;t=typeof t=="function"?t():t;typeof d!="undefined"&&d&&(s.className+=" "+(t?"":"no-")+n);u[n]=t}return u},a(""),ut=o=null,function(n,t){function p(n,t){var i=n.createElement("p"),r=n.getElementsByTagName("head")[0]||n.documentElement;return i.innerHTML="x<style>"+t+"<\/style>",r.insertBefore(i.lastChild,r.firstChild)}function c(){var n=r.elements;return typeof n=="string"?n.split(" "):n}function o(n){var t=h[n[s]];return t||(t={},e++,n[s]=e,h[e]=t),t}function l(n,r,u){if(r||(r=t),i)return r.createElement(n);u||(u=o(r));var f;return f=u.cache[n]?u.cache[n].cloneNode():y.test(n)?(u.cache[n]=u.createElem(n)).cloneNode():u.createElem(n),f.canHaveChildren&&!v.test(n)&&!f.tagUrn?u.frag.appendChild(f):f}function w(n,r){if(n||(n=t),i)return n.createDocumentFragment();r=r||o(n);for(var f=r.frag.cloneNode(),u=0,e=c(),s=e.length;u<s;u++)f.createElement(e[u]);return f}function b(n,t){t.cache||(t.cache={},t.createElem=n.createElement,t.createFrag=n.createDocumentFragment,t.frag=t.createFrag());n.createElement=function(i){return r.shivMethods?l(i,n,t):t.createElem(i)};n.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+c().join().replace(/[\w\-]+/g,function(n){return t.createElem(n),t.frag.createElement(n),'c("'+n+'")'})+");return n}")(r,t.frag)}function a(n){n||(n=t);var u=o(n);return!r.shivCSS||f||u.hasCSS||(u.hasCSS=!!p(n,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),i||b(n,u),n}var u=n.html5||{},v=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,y=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,f,s="_html5shiv",e=0,h={},i,r;(function(){try{var n=t.createElement("a");n.innerHTML="<xyz><\/xyz>";f="hidden"in n;i=n.childNodes.length==1||function(){t.createElement("a");var n=t.createDocumentFragment();return typeof n.cloneNode=="undefined"||typeof n.createDocumentFragment=="undefined"||typeof n.createElement=="undefined"}()}catch(r){f=!0;i=!0}})();r={elements:u.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:"3.7.0",shivCSS:u.shivCSS!==!1,supportsUnknownElements:i,shivMethods:u.shivMethods!==!1,type:"default",shivDocument:a,createElement:l,createDocumentFragment:w};n.html5=r;a(t)}(this,t),u._version="2.8.3",u._prefixes=y,u._domPrefixes=st,u._cssomPrefixes=ot,u.mq=at,u.hasEvent=ct,u.testProp=function(n){return lt([n])},u.testAllProps=f,u.testStyles=l,u.prefixed=function(n,t,i){return t?f(n,t,i):f(n,"pfx")},s.className=s.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(d?" js "+nt.join(" "):""),u}(this,this.document),"undefined"==typeof jQuery)throw new Error("Bootstrap requires jQuery");+function(n){"use strict";function t(){var i=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n;for(n in t)if(void 0!==i.style[n])return{end:t[n]}}n.fn.emulateTransitionEnd=function(t){var i=!1,u=this,r;n(this).one(n.support.transition.end,function(){i=!0});return r=function(){i||n(u).trigger(n.support.transition.end)},setTimeout(r,t),this};n(function(){n.support.transition=t()})}(jQuery);+function(n){"use strict";var i='[data-dismiss="alert"]',t=function(t){n(t).on("click",i,this.close)},r;t.prototype.close=function(t){function f(){i.trigger("closed.bs.alert").remove()}var u=n(this),r=u.attr("data-target"),i;r||(r=u.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));i=n(r);t&&t.preventDefault();i.length||(i=u.hasClass("alert")?u:u.parent());i.trigger(t=n.Event("close.bs.alert"));t.isDefaultPrevented()||(i.removeClass("in"),n.support.transition&&i.hasClass("fade")?i.one(n.support.transition.end,f).emulateTransitionEnd(150):f())};r=n.fn.alert;n.fn.alert=function(i){return this.each(function(){var r=n(this),u=r.data("bs.alert");u||r.data("bs.alert",u=new t(this));"string"==typeof i&&u[i].call(r)})};n.fn.alert.Constructor=t;n.fn.alert.noConflict=function(){return n.fn.alert=r,this};n(document).on("click.bs.alert.data-api",i,t.prototype.close)}(jQuery);+function(n){"use strict";var t=function(i,r){this.$element=n(i);this.options=n.extend({},t.DEFAULTS,r)},i;t.DEFAULTS={loadingText:"loading..."};t.prototype.setState=function(n){var i="disabled",t=this.$element,r=t.is("input")?"val":"html",u=t.data();n+="Text";u.resetText||t.data("resetText",t[r]());t[r](u[n]||this.options[n]);setTimeout(function(){"loadingText"==n?t.addClass(i).attr(i,i):t.removeClass(i).removeAttr(i)},0)};t.prototype.toggle=function(){var i=this.$element.closest('[data-toggle="buttons"]'),t=!0,n;i.length&&(n=this.$element.find("input"),"radio"===n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?t=!1:i.find(".active").removeClass("active")),t&&n.prop("checked",!this.$element.hasClass("active")).trigger("change"));t&&this.$element.toggleClass("active")};i=n.fn.button;n.fn.button=function(i){return this.each(function(){var u=n(this),r=u.data("bs.button"),f="object"==typeof i&&i;r||u.data("bs.button",r=new t(this,f));"toggle"==i?r.toggle():i&&r.setState(i)})};n.fn.button.Constructor=t;n.fn.button.noConflict=function(){return n.fn.button=i,this};n(document).on("click.bs.button.data-api","[data-toggle^=button]",function(t){var i=n(t.target);i.hasClass("btn")||(i=i.closest(".btn"));i.button("toggle");t.preventDefault()})}(jQuery);+function(n){"use strict";var t=function(t,i){this.$element=n(t);this.$indicators=this.$element.find(".carousel-indicators");this.options=i;this.paused=this.sliding=this.interval=this.$active=this.$items=null;"hover"==this.options.pause&&this.$element.on("mouseenter",n.proxy(this.pause,this)).on("mouseleave",n.proxy(this.cycle,this))},i;t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0};t.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(n.proxy(this.next,this),this.options.interval)),this};t.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)};t.prototype.to=function(t){var r=this,i=this.getActiveIndex();if(!(t>this.$items.length-1)&&!(0>t))return this.sliding?this.$element.one("slid.bs.carousel",function(){r.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",n(this.$items[t]))};t.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&n.support.transition.end&&(this.$element.trigger(n.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this};t.prototype.next=function(){if(!this.sliding)return this.slide("next")};t.prototype.prev=function(){if(!this.sliding)return this.slide("prev")};t.prototype.slide=function(t,i){var u=this.$element.find(".item.active"),r=i||u[t](),s=this.interval,f="next"==t?"left":"right",h="next"==t?"first":"last",o=this,e;if(!r.length){if(!this.options.wrap)return;r=this.$element.find(".item")[h]()}if(this.sliding=!0,s&&this.pause(),e=n.Event("slide.bs.carousel",{relatedTarget:r[0],direction:f}),!r.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var t=n(o.$indicators.children()[o.getActiveIndex()]);t&&t.addClass("active")})),n.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(e),e.isDefaultPrevented())return;r.addClass(t);r[0].offsetWidth;u.addClass(f);r.addClass(f);u.one(n.support.transition.end,function(){r.removeClass([t,f].join(" ")).addClass("active");u.removeClass(["active",f].join(" "));o.sliding=!1;setTimeout(function(){o.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(e),e.isDefaultPrevented())return;u.removeClass("active");r.addClass("active");this.sliding=!1;this.$element.trigger("slid.bs.carousel")}return s&&this.cycle(),this}};i=n.fn.carousel;n.fn.carousel=function(i){return this.each(function(){var u=n(this),r=u.data("bs.carousel"),f=n.extend({},t.DEFAULTS,u.data(),"object"==typeof i&&i),e="string"==typeof i?i:f.slide;r||u.data("bs.carousel",r=new t(this,f));"number"==typeof i?r.to(i):e?r[e]():f.interval&&r.pause().cycle()})};n.fn.carousel.Constructor=t;n.fn.carousel.noConflict=function(){return n.fn.carousel=i,this};n(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(t){var f,i=n(this),r=n(i.attr("data-target")||(f=i.attr("href"))&&f.replace(/.*(?=#[^\s]+$)/,"")),e=n.extend({},r.data(),i.data()),u=i.attr("data-slide-to");u&&(e.interval=!1);r.carousel(e);(u=i.attr("data-slide-to"))&&r.data("bs.carousel").to(u);t.preventDefault()});n(window).on("load",function(){n('[data-ride="carousel"]').each(function(){var t=n(this);t.carousel(t.data())})})}(jQuery);+function(n){"use strict";var t=function(i,r){this.$element=n(i);this.options=n.extend({},t.DEFAULTS,r);this.transitioning=null;this.options.parent&&(this.$parent=n(this.options.parent));this.options.toggle&&this.toggle()},i;t.DEFAULTS={toggle:!0};t.prototype.dimension=function(){var n=this.$element.hasClass("width");return n?"width":"height"};t.prototype.show=function(){var u,t,r,i,f,e;if(!this.transitioning&&!this.$element.hasClass("in")&&(u=n.Event("show.bs.collapse"),this.$element.trigger(u),!u.isDefaultPrevented())){if(t=this.$parent&&this.$parent.find("> .panel > .in"),t&&t.length){if(r=t.data("bs.collapse"),r&&r.transitioning)return;t.collapse("hide");r||t.data("bs.collapse",null)}if(i=this.dimension(),this.$element.removeClass("collapse").addClass("collapsing")[i](0),this.transitioning=1,f=function(){this.$element.removeClass("collapsing").addClass("in")[i]("auto");this.transitioning=0;this.$element.trigger("shown.bs.collapse")},!n.support.transition)return f.call(this);e=n.camelCase(["scroll",i].join("-"));this.$element.one(n.support.transition.end,n.proxy(f,this)).emulateTransitionEnd(350)[i](this.$element[0][e])}};t.prototype.hide=function(){var i,t,r;if(!this.transitioning&&this.$element.hasClass("in")&&(i=n.Event("hide.bs.collapse"),this.$element.trigger(i),!i.isDefaultPrevented()))return t=this.dimension(),this.$element[t](this.$element[t]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1,r=function(){this.transitioning=0;this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")},n.support.transition?(this.$element[t](0).one(n.support.transition.end,n.proxy(r,this)).emulateTransitionEnd(350),void 0):r.call(this)};t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};i=n.fn.collapse;n.fn.collapse=function(i){return this.each(function(){var r=n(this),u=r.data("bs.collapse"),f=n.extend({},t.DEFAULTS,r.data(),"object"==typeof i&&i);u||r.data("bs.collapse",u=new t(this,f));"string"==typeof i&&u[i]()})};n.fn.collapse.Constructor=t;n.fn.collapse.noConflict=function(){return n.fn.collapse=i,this};n(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(t){var e,i=n(this),s=i.attr("data-target")||t.preventDefault()||(e=i.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""),r=n(s),u=r.data("bs.collapse"),h=u?"toggle":i.data(),f=i.attr("data-parent"),o=f&&n(f);u&&u.transitioning||(o&&o.find('[data-toggle=collapse][data-parent="'+f+'"]').not(i).addClass("collapsed"),i[r.hasClass("in")?"addClass":"removeClass"]("collapsed"));r.collapse(h)})}(jQuery);+function(n){"use strict";function r(){n(e).remove();n(i).each(function(t){var i=u(n(this));i.hasClass("open")&&(i.trigger(t=n.Event("hide.bs.dropdown")),t.isDefaultPrevented()||i.removeClass("open").trigger("hidden.bs.dropdown"))})}function u(t){var i=t.attr("data-target"),r;return i||(i=t.attr("href"),i=i&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),r=i&&n(i),r&&r.length?r:t.parent()}var e=".dropdown-backdrop",i="[data-toggle=dropdown]",t=function(t){n(t).on("click.bs.dropdown",this.toggle)},f;t.prototype.toggle=function(t){var f=n(this),i,e;if(!f.is(".disabled, :disabled")){if(i=u(f),e=i.hasClass("open"),r(),!e){if("ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length&&n('<div class="dropdown-backdrop"/>').insertAfter(n(this)).on("click",r),i.trigger(t=n.Event("show.bs.dropdown")),t.isDefaultPrevented())return;i.toggleClass("open").trigger("shown.bs.dropdown");f.focus()}return!1}};t.prototype.keydown=function(t){var e,o,s,f,r;if(/(38|40|27)/.test(t.keyCode)&&(e=n(this),t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled"))){if(o=u(e),s=o.hasClass("open"),!s||s&&27==t.keyCode)return 27==t.which&&o.find(i).focus(),e.click();f=n("[role=menu] li:not(.divider):visible a",o);f.length&&(r=f.index(f.filter(":focus")),38==t.keyCode&&r>0&&r--,40==t.keyCode&&r<f.length-1&&r++,~r||(r=0),f.eq(r).focus())}};f=n.fn.dropdown;n.fn.dropdown=function(i){return this.each(function(){var r=n(this),u=r.data("bs.dropdown");u||r.data("bs.dropdown",u=new t(this));"string"==typeof i&&u[i].call(r)})};n.fn.dropdown.Constructor=t;n.fn.dropdown.noConflict=function(){return n.fn.dropdown=f,this};n(document).on("click.bs.dropdown.data-api",r).on("click.bs.dropdown.data-api",".dropdown form",function(n){n.stopPropagation()}).on("click.bs.dropdown.data-api",i,t.prototype.toggle).on("keydown.bs.dropdown.data-api",i+", [role=menu]",t.prototype.keydown)}(jQuery);+function(n){"use strict";var t=function(t,i){this.options=i;this.$element=n(t);this.$backdrop=this.isShown=null;this.options.remote&&this.$element.load(this.options.remote)},i;t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};t.prototype.toggle=function(n){return this[this.isShown?"hide":"show"](n)};t.prototype.show=function(t){var i=this,r=n.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(r);this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',n.proxy(this.hide,this)),this.backdrop(function(){var u=n.support.transition&&i.$element.hasClass("fade"),r;i.$element.parent().length||i.$element.appendTo(document.body);i.$element.show();u&&i.$element[0].offsetWidth;i.$element.addClass("in").attr("aria-hidden",!1);i.enforceFocus();r=n.Event("shown.bs.modal",{relatedTarget:t});u?i.$element.find(".modal-dialog").one(n.support.transition.end,function(){i.$element.focus().trigger(r)}).emulateTransitionEnd(300):i.$element.focus().trigger(r)}))};t.prototype.hide=function(t){t&&t.preventDefault();t=n.Event("hide.bs.modal");this.$element.trigger(t);this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),n(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),n.support.transition&&this.$element.hasClass("fade")?this.$element.one(n.support.transition.end,n.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())};t.prototype.enforceFocus=function(){n(document).off("focusin.bs.modal").on("focusin.bs.modal",n.proxy(function(n){this.$element[0]===n.target||this.$element.has(n.target).length||this.$element.focus()},this))};t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",n.proxy(function(n){27==n.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")};t.prototype.hideModal=function(){var n=this;this.$element.hide();this.backdrop(function(){n.removeBackdrop();n.$element.trigger("hidden.bs.modal")})};t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};t.prototype.backdrop=function(t){var r=this.$element.hasClass("fade")?"fade":"",i;if(this.isShown&&this.options.backdrop){if(i=n.support.transition&&r,this.$backdrop=n('<div class="modal-backdrop '+r+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",n.proxy(function(n){n.target===n.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one(n.support.transition.end,t).emulateTransitionEnd(150):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),n.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(n.support.transition.end,t).emulateTransitionEnd(150):t()):t&&t()};i=n.fn.modal;n.fn.modal=function(i,r){return this.each(function(){var f=n(this),u=f.data("bs.modal"),e=n.extend({},t.DEFAULTS,f.data(),"object"==typeof i&&i);u||f.data("bs.modal",u=new t(this,e));"string"==typeof i?u[i](r):e.show&&u.show(r)})};n.fn.modal.Constructor=t;n.fn.modal.noConflict=function(){return n.fn.modal=i,this};n(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var i=n(this),r=i.attr("href"),u=n(i.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),f=u.data("modal")?"toggle":n.extend({remote:!/#/.test(r)&&r},u.data(),i.data());t.preventDefault();u.modal(f,this).one("hide",function(){i.is(":visible")&&i.focus()})});n(document).on("show.bs.modal",".modal",function(){n(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){n(document.body).removeClass("modal-open")})}(jQuery);+function(n){"use strict";var t=function(n,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null;this.init("tooltip",n,t)},i;t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"><\/div><div class="tooltip-inner"><\/div><\/div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1};t.prototype.init=function(t,i,r){var f,e,u,o,s;for(this.enabled=!0,this.type=t,this.$element=n(i),this.options=this.getOptions(r),f=this.options.trigger.split(" "),e=f.length;e--;)if(u=f[e],"click"==u)this.$element.on("click."+this.type,this.options.selector,n.proxy(this.toggle,this));else"manual"!=u&&(o="hover"==u?"mouseenter":"focus",s="hover"==u?"mouseleave":"blur",this.$element.on(o+"."+this.type,this.options.selector,n.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,n.proxy(this.leave,this)));this.options.selector?this._options=n.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.getOptions=function(t){return t=n.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t};t.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&n.each(this._options,function(n,r){i[n]!=r&&(t[n]=r)}),t};t.prototype.enter=function(t){var i=t instanceof this.constructor?t:n(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show),void 0):i.show()};t.prototype.leave=function(t){var i=t instanceof this.constructor?t:n(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide),void 0):i.hide()};t.prototype.show=function(){var o=n.Event("show.bs."+this.type),i,l;if(this.hasContent()&&this.enabled){if(this.$element.trigger(o),o.isDefaultPrevented())return;i=this.tip();this.setContent();this.options.animation&&i.addClass("fade");var t="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,h=s.test(t);h&&(t=t.replace(s,"")||"top");i.detach().css({top:0,left:0,display:"block"}).addClass(t);this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element);var r=this.getPosition(),u=i[0].offsetWidth,f=i[0].offsetHeight;if(h){var e=this.$element.parent(),a=t,c=document.documentElement.scrollTop||document.body.scrollTop,v="body"==this.options.container?window.innerWidth:e.outerWidth(),y="body"==this.options.container?window.innerHeight:e.outerHeight(),p="body"==this.options.container?0:e.offset().left;t="bottom"==t&&r.top+r.height+f-c>y?"top":"top"==t&&r.top-c-f<0?"bottom":"right"==t&&r.right+u>v?"left":"left"==t&&r.left-u<p?"right":t;i.removeClass(a).addClass(t)}l=this.getCalculatedOffset(t,r,u,f);this.applyPlacement(l,t);this.$element.trigger("shown.bs."+this.type)}};t.prototype.applyPlacement=function(n,t){var h,i=this.tip(),c=i[0].offsetWidth,f=i[0].offsetHeight,e=parseInt(i.css("margin-top"),10),o=parseInt(i.css("margin-left"),10),u,r,s;isNaN(e)&&(e=0);isNaN(o)&&(o=0);n.top=n.top+e;n.left=n.left+o;i.offset(n).addClass("in");u=i[0].offsetWidth;r=i[0].offsetHeight;("top"==t&&r!=f&&(h=!0,n.top=n.top+f-r),/bottom|top/.test(t))?(s=0,n.left<0&&(s=-2*n.left,n.left=0,i.offset(n),u=i[0].offsetWidth,r=i[0].offsetHeight),this.replaceArrow(s-c+u,u,"left")):this.replaceArrow(r-f,r,"top");h&&i.offset(n)};t.prototype.replaceArrow=function(n,t,i){this.arrow().css(i,n?50*(1-n/t)+"%":"")};t.prototype.setContent=function(){var n=this.tip(),t=this.getTitle();n.find(".tooltip-inner")[this.options.html?"html":"text"](t);n.removeClass("fade in top bottom left right")};t.prototype.hide=function(){function i(){"in"!=u.hoverState&&t.detach()}var u=this,t=this.tip(),r=n.Event("hide.bs."+this.type);return this.$element.trigger(r),r.isDefaultPrevented()?void 0:(t.removeClass("in"),n.support.transition&&this.$tip.hasClass("fade")?t.one(n.support.transition.end,i).emulateTransitionEnd(150):i(),this.$element.trigger("hidden.bs."+this.type),this)};t.prototype.fixTitle=function(){var n=this.$element;(n.attr("title")||"string"!=typeof n.attr("data-original-title"))&&n.attr("data-original-title",n.attr("title")||"").attr("title","")};t.prototype.hasContent=function(){return this.getTitle()};t.prototype.getPosition=function(){var t=this.$element[0];return n.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())};t.prototype.getCalculatedOffset=function(n,t,i,r){return"bottom"==n?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==n?{top:t.top-r,left:t.left+t.width/2-i/2}:"left"==n?{top:t.top+t.height/2-r/2,left:t.left-i}:{top:t.top+t.height/2-r/2,left:t.left+t.width}};t.prototype.getTitle=function(){var t=this.$element,n=this.options;return t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)};t.prototype.tip=function(){return this.$tip=this.$tip||n(this.options.template)};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};t.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)};t.prototype.enable=function(){this.enabled=!0};t.prototype.disable=function(){this.enabled=!1};t.prototype.toggleEnabled=function(){this.enabled=!this.enabled};t.prototype.toggle=function(t){var i=t?n(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;i.tip().hasClass("in")?i.leave(i):i.enter(i)};t.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};i=n.fn.tooltip;n.fn.tooltip=function(i){return this.each(function(){var u=n(this),r=u.data("bs.tooltip"),f="object"==typeof i&&i;r||u.data("bs.tooltip",r=new t(this,f));"string"==typeof i&&r[i]()})};n.fn.tooltip.Constructor=t;n.fn.tooltip.noConflict=function(){return n.fn.tooltip=i,this}}(jQuery);+function(n){"use strict";var t=function(n,t){this.init("popover",n,t)},i;if(!n.fn.tooltip)throw new Error("Popover requires tooltip.js");t.DEFAULTS=n.extend({},n.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"><\/div><h3 class="popover-title"><\/h3><div class="popover-content"><\/div><\/div>'});t.prototype=n.extend({},n.fn.tooltip.Constructor.prototype);t.prototype.constructor=t;t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.setContent=function(){var n=this.tip(),t=this.getTitle(),i=this.getContent();n.find(".popover-title")[this.options.html?"html":"text"](t);n.find(".popover-content")[this.options.html?"html":"text"](i);n.removeClass("fade top bottom left right in");n.find(".popover-title").html()||n.find(".popover-title").hide()};t.prototype.hasContent=function(){return this.getTitle()||this.getContent()};t.prototype.getContent=function(){var t=this.$element,n=this.options;return t.attr("data-content")||("function"==typeof n.content?n.content.call(t[0]):n.content)};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};t.prototype.tip=function(){return this.$tip||(this.$tip=n(this.options.template)),this.$tip};i=n.fn.popover;n.fn.popover=function(i){return this.each(function(){var u=n(this),r=u.data("bs.popover"),f="object"==typeof i&&i;r||u.data("bs.popover",r=new t(this,f));"string"==typeof i&&r[i]()})};n.fn.popover.Constructor=t;n.fn.popover.noConflict=function(){return n.fn.popover=i,this}}(jQuery);+function(n){"use strict";function t(i,r){var u,f=n.proxy(this.process,this);this.$element=n(i).is("body")?n(window):n(i);this.$body=n("body");this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",f);this.options=n.extend({},t.DEFAULTS,r);this.selector=(this.options.target||(u=n(i).attr("href"))&&u.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a";this.offsets=n([]);this.targets=n([]);this.activeTarget=null;this.refresh();this.process()}t.DEFAULTS={offset:10};t.prototype.refresh=function(){var i=this.$element[0]==window?"offset":"position",t;this.offsets=n([]);this.targets=n([]);t=this;this.$body.find(this.selector).map(function(){var f=n(this),r=f.data("target")||f.attr("href"),u=/^#\w/.test(r)&&n(r);return u&&u.length&&[[u[i]().top+(!n.isWindow(t.$scrollElement.get(0))&&t.$scrollElement.scrollTop()),r]]||null}).sort(function(n,t){return n[0]-t[0]}).each(function(){t.offsets.push(this[0]);t.targets.push(this[1])})};t.prototype.process=function(){var n,i=this.$scrollElement.scrollTop()+this.options.offset,f=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,e=f-this.$scrollElement.height(),t=this.offsets,r=this.targets,u=this.activeTarget;if(i>=e)return u!=(n=r.last()[0])&&this.activate(n);for(n=t.length;n--;)u!=r[n]&&i>=t[n]&&(!t[n+1]||i<=t[n+1])&&this.activate(r[n])};t.prototype.activate=function(t){this.activeTarget=t;n(this.selector).parents(".active").removeClass("active");var r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=n(r).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active"));i.trigger("activate.bs.scrollspy")};var i=n.fn.scrollspy;n.fn.scrollspy=function(i){return this.each(function(){var u=n(this),r=u.data("bs.scrollspy"),f="object"==typeof i&&i;r||u.data("bs.scrollspy",r=new t(this,f));"string"==typeof i&&r[i]()})};n.fn.scrollspy.Constructor=t;n.fn.scrollspy.noConflict=function(){return n.fn.scrollspy=i,this};n(window).on("load",function(){n('[data-spy="scroll"]').each(function(){var t=n(this);t.scrollspy(t.data())})})}(jQuery);+function(n){"use strict";var t=function(t){this.element=n(t)},i;t.prototype.show=function(){var t=this.element,e=t.closest("ul:not(.dropdown-menu)"),i=t.data("target"),r,u,f;(i||(i=t.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),t.parent("li").hasClass("active"))||(r=e.find(".active:last a")[0],u=n.Event("show.bs.tab",{relatedTarget:r}),(t.trigger(u),u.isDefaultPrevented())||(f=n(i),this.activate(t.parent("li"),e),this.activate(f,f.parent(),function(){t.trigger({type:"shown.bs.tab",relatedTarget:r})})))};t.prototype.activate=function(t,i,r){function f(){u.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");t.addClass("active");e?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade");t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active");r&&r()}var u=i.find("> .active"),e=r&&n.support.transition&&u.hasClass("fade");e?u.one(n.support.transition.end,f).emulateTransitionEnd(150):f();u.removeClass("in")};i=n.fn.tab;n.fn.tab=function(i){return this.each(function(){var u=n(this),r=u.data("bs.tab");r||u.data("bs.tab",r=new t(this));"string"==typeof i&&r[i]()})};n.fn.tab.Constructor=t;n.fn.tab.noConflict=function(){return n.fn.tab=i,this};n(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault();n(this).tab("show")})}(jQuery);+function(n){"use strict";var t=function(i,r){this.options=n.extend({},t.DEFAULTS,r);this.$window=n(window).on("scroll.bs.affix.data-api",n.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",n.proxy(this.checkPositionWithEventLoop,this));this.$element=n(i);this.affixed=this.unpin=null;this.checkPosition()},i;t.RESET="affix affix-top affix-bottom";t.DEFAULTS={offset:0};t.prototype.checkPositionWithEventLoop=function(){setTimeout(n.proxy(this.checkPosition,this),1)};t.prototype.checkPosition=function(){var i;if(this.$element.is(":visible")){var s=n(document).height(),e=this.$window.scrollTop(),o=this.$element.offset(),r=this.options.offset,f=r.top,u=r.bottom;"object"!=typeof r&&(u=f=r);"function"==typeof f&&(f=r.top());"function"==typeof u&&(u=r.bottom());i=null!=this.unpin&&e+this.unpin<=o.top?!1:null!=u&&o.top+this.$element.height()>=s-u?"bottom":null!=f&&f>=e?"top":!1;this.affixed!==i&&(this.unpin&&this.$element.css("top",""),this.affixed=i,this.unpin="bottom"==i?o.top-e:null,this.$element.removeClass(t.RESET).addClass("affix"+(i?"-"+i:"")),"bottom"==i&&this.$element.offset({top:document.body.offsetHeight-u-this.$element.height()}))}};i=n.fn.affix;n.fn.affix=function(i){return this.each(function(){var u=n(this),r=u.data("bs.affix"),f="object"==typeof i&&i;r||u.data("bs.affix",r=new t(this,f));"string"==typeof i&&r[i]()})};n.fn.affix.Constructor=t;n.fn.affix.noConflict=function(){return n.fn.affix=i,this};n(window).on("load",function(){n('[data-spy="affix"]').each(function(){var i=n(this),t=i.data();t.offset=t.offset||{};t.offsetBottom&&(t.offset.bottom=t.offsetBottom);t.offsetTop&&(t.offset.top=t.offsetTop);i.affix(t)})})}(jQuery),function(){var i,n,t=function(n,t){return function(){return n.apply(t,arguments)}};i=function(){function n(){}return n.prototype.extend=function(n,t){var i,r;for(i in n)r=n[i],null!=r&&(t[i]=r);return t},n.prototype.isMobile=function(n){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(n)},n}();n=this.WeakMap||(n=function(){function n(){this.keys=[];this.values=[]}return n.prototype.get=function(n){var t,u,i,f,r;for(r=this.keys,t=i=0,f=r.length;f>i;t=++i)if(u=r[t],u===n)return this.values[t]},n.prototype.set=function(n,t){var i,f,r,e,u;for(u=this.keys,i=r=0,e=u.length;e>r;i=++r)if(f=u[i],f===n)return void(this.values[i]=t);return this.keys.push(n),this.values.push(t)},n}());this.WOW=function(){function r(i){null==i&&(i={});this.scrollCallback=t(this.scrollCallback,this);this.scrollHandler=t(this.scrollHandler,this);this.start=t(this.start,this);this.scrolled=!0;this.config=this.util().extend(i,this.defaults);this.animationNameCache=new n}return r.prototype.defaults={boxClass:"wow",animateClass:"animated",offset:0,mobile:!0},r.prototype.init=function(){var n;return this.element=window.document.documentElement,"interactive"===(n=document.readyState)||"complete"===n?this.start():document.addEventListener("DOMContentLoaded",this.start)},r.prototype.start=function(){var i,n,r,t;if(this.boxes=this.element.getElementsByClassName(this.config.boxClass),this.boxes.length){if(this.disabled())return this.resetStyle();for(t=this.boxes,n=0,r=t.length;r>n;n++)i=t[n],this.applyStyle(i,!0);return window.addEventListener("scroll",this.scrollHandler,!1),window.addEventListener("resize",this.scrollHandler,!1),this.interval=setInterval(this.scrollCallback,50)}},r.prototype.stop=function(){return window.removeEventListener("scroll",this.scrollHandler,!1),window.removeEventListener("resize",this.scrollHandler,!1),null!=this.interval?clearInterval(this.interval):void 0},r.prototype.show=function(n){return this.applyStyle(n),n.className=""+n.className+" "+this.config.animateClass},r.prototype.applyStyle=function(n,t){var i,r,u;return r=n.getAttribute("data-wow-duration"),i=n.getAttribute("data-wow-delay"),u=n.getAttribute("data-wow-iteration"),this.animate(function(f){return function(){return f.customStyle(n,t,r,i,u)}}(this))},r.prototype.animate=function(){return"requestAnimationFrame"in window?function(n){return window.requestAnimationFrame(n)}:function(n){return n()}}(),r.prototype.resetStyle=function(){var r,n,u,t,i;for(t=this.boxes,i=[],n=0,u=t.length;u>n;n++)r=t[n],i.push(r.setAttribute("style","visibility: visible;"));return i},r.prototype.customStyle=function(n,t,i,r,u){return t&&this.cacheAnimationName(n),n.style.visibility=t?"hidden":"visible",i&&this.vendorSet(n.style,{animationDuration:i}),r&&this.vendorSet(n.style,{animationDelay:r}),u&&this.vendorSet(n.style,{animationIterationCount:u}),this.vendorSet(n.style,{animationName:t?"none":this.cachedAnimationName(n)}),n},r.prototype.vendors=["moz","webkit"],r.prototype.vendorSet=function(n,t){var i,r,u,f=[];for(i in t)r=t[i],n[""+i]=r,f.push(function(){var t,o,f,e;for(f=this.vendors,e=[],t=0,o=f.length;o>t;t++)u=f[t],e.push(n[""+u+i.charAt(0).toUpperCase()+i.substr(1)]=r);return e}.call(this));return f},r.prototype.vendorCSS=function(n,t){var i,u,e,r,o,f;for(u=window.getComputedStyle(n),i=u.getPropertyCSSValue(t),f=this.vendors,r=0,o=f.length;o>r;r++)e=f[r],i=i||u.getPropertyCSSValue("-"+e+"-"+t);return i},r.prototype.animationName=function(n){var t;try{t=this.vendorCSS(n,"animation-name").cssText}catch(i){t=window.getComputedStyle(n).getPropertyValue("animation-name")}return"none"===t?"":t},r.prototype.cacheAnimationName=function(n){return this.animationNameCache.set(n,this.animationName(n))},r.prototype.cachedAnimationName=function(n){return this.animationNameCache.get(n)},r.prototype.scrollHandler=function(){return this.scrolled=!0},r.prototype.scrollCallback=function(){var n;if(this.scrolled&&(this.scrolled=!1,this.boxes=function(){var t,u,i,r;for(i=this.boxes,r=[],t=0,u=i.length;u>t;t++)n=i[t],n&&(this.isVisible(n)?this.show(n):r.push(n));return r}.call(this),!this.boxes.length))return this.stop()},r.prototype.offsetTop=function(n){for(var t;void 0===n.offsetTop;)n=n.parentNode;for(t=n.offsetTop;n=n.offsetParent;)t+=n.offsetTop;return t},r.prototype.isVisible=function(n){var r,u,t,f,i;return u=n.getAttribute("data-wow-offset")||this.config.offset,i=window.pageYOffset,f=i+this.element.clientHeight-u,t=this.offsetTop(n),r=t+n.clientHeight,f>=t&&r>=i},r.prototype.util=function(){return this._util||(this._util=new i)},r.prototype.disabled=function(){return!this.config.mobile&&this.util().isMobile(navigator.userAgent)},r}()}.call(this),function(n){typeof define=="function"&&define.amd?define(["jquery"],n):typeof exports=="object"?module.exports=n(require("jquery")):n(jQuery)}(function(n){function t(t){this.$element=n(t);this.$menu=this.$element.closest(".dropdown-menu");this.$main=this.$menu.parent();this.$items=this.$menu.children(".dropdown-submenu");this.init()}function r(t){this.$element=n(t);this.$main=this.$element.parent();this.$menu=this.$main.children(".dropdown-menu");this.$subs=this.$main.siblings(".dropdown-submenu");this.$items=this.$menu.children(".dropdown-submenu");this.init()}function i(t){this.$element=n(t);this.$main=this.$element.parent();this.$menu=this.$main.children(".dropdown-menu");this.$items=this.$menu.children(".dropdown-submenu");this.init()}t.prototype={init:function(){this.$element.on("keydown",n.proxy(this,"keydown"))},close:function(){this.$main.removeClass("open");this.$items.trigger("hide.bs.submenu")},keydown:function(n){n.keyCode==27&&(n.stopPropagation(),this.close(),this.$main.children("a, button").trigger("focus"))}};n.extend(r.prototype,t.prototype,{init:function(){this.$element.on({click:n.proxy(this,"click"),keydown:n.proxy(this,"keydown")});this.$main.on("hide.bs.submenu",n.proxy(this,"hide"))},click:function(n){n.preventDefault();n.stopPropagation();this.toggle()},hide:function(n){n.stopPropagation();this.close()},open:function(){this.$main.addClass("open");this.$subs.trigger("hide.bs.submenu")},toggle:function(){this.$main.hasClass("open")?this.close():this.open()},keydown:function(t){t.keyCode==32&&t.preventDefault();n.inArray(t.keyCode,[13,32])!=-1&&this.toggle()}});i.prototype={init:function(){this.$menu.off("keydown.bs.dropdown.data-api");this.$menu.on("keydown",n.proxy(this,"itemKeydown"));this.$menu.find("li > a").each(function(){new t(this)});this.$menu.find(".dropdown-submenu > a").each(function(){new r(this)});this.$main.on("hidden.bs.dropdown",n.proxy(this,"hidden"))},hidden:function(){this.$items.trigger("hide.bs.submenu")},itemKeydown:function(t){if(n.inArray(t.keyCode,[38,40])!=-1){t.preventDefault();t.stopPropagation();var r=this.$menu.find("li:not(.disabled):visible > a"),i=r.index(t.target);if(t.keyCode==38&&i!==0)i--;else if(t.keyCode==40&&i!==r.length-1)i++;else return;r.eq(i).trigger("focus")}}};var u=n.fn.submenupicker;return n.fn.submenupicker=function(t){var r=this instanceof n?this:n(t);return r.each(function(){var t=n.data(this,"bs.submenu");t||(t=new i(this),n.data(this,"bs.submenu",t))})},n.fn.submenupicker.Constructor=i,n.fn.submenupicker.noConflict=function(){return n.fn.submenupicker=u,this},n.fn.submenupicker});containers=[document.body,document.documentElement];$scrollBtn=$("#scroll-top");$scrollBtn.on("click",function(){window.onscroll=null;$(this).addClass("hidden");$(containers).animate({scrollTop:0},800,$.proxy(function(){},this))});$(".dropdown > a[tabindex]").on("keydown",function(n){n.keyCode==13&&$(this).dropdown("toggle")});$(".dropdown-menu").on("click",function(n){this===n.target&&n.stopPropagation()});$("[data-submenu]").submenupicker();$(document).ready(function(){dropdownOpen()}),function(){var n,t,i;n=jQuery;i=function(){function n(){this.fadeDuration=500;this.fitImagesInViewport=!0;this.resizeDuration=700;this.showImageNumberLabel=!0;this.wrapAround=!1}return n.prototype.albumLabel=function(n,t){return"è¯ä¹¦ç¬¬ "+n+"å¼ ï¼å± "+t},n}();t=function(){function t(n){this.options=n;this.album=[];this.currentImageIndex=void 0;this.init()}return t.prototype.init=function(){return this.enable(),this.build()},t.prototype.enable=function(){var t=this;return n("body").on("click","a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",function(i){return t.start(n(i.currentTarget)),!1})},t.prototype.build=function(){var t=this;n("<div id='lightboxOverlay' class='lightboxOverlay'><\/div><div id='lightbox' class='lightbox'><div class='lb-outerContainer'><div class='lb-container'><img class='lb-image' src='' /><div class='lb-nav'><a class='lb-prev' href='' ><\/a><a class='lb-next' href='' ><\/a><\/div><div class='lb-loader'><a class='lb-cancel'><\/a><\/div><\/div><\/div><div class='lb-dataContainer'><div class='lb-data'><div class='lb-details'><span class='lb-caption'><\/span><span class='lb-number'><\/span><\/div><div class='lb-closeContainer'><a class='lb-close'><\/a><\/div><\/div><\/div><\/div>").appendTo(n("body"));this.$lightbox=n("#lightbox");this.$overlay=n("#lightboxOverlay");this.$outerContainer=this.$lightbox.find(".lb-outerContainer");this.$container=this.$lightbox.find(".lb-container");this.containerTopPadding=parseInt(this.$container.css("padding-top"),10);this.containerRightPadding=parseInt(this.$container.css("padding-right"),10);this.containerBottomPadding=parseInt(this.$container.css("padding-bottom"),10);this.containerLeftPadding=parseInt(this.$container.css("padding-left"),10);this.$overlay.hide().on("click",function(){return t.end(),!1});this.$lightbox.hide().on("click",function(i){return n(i.target).attr("id")==="lightbox"&&t.end(),!1});this.$outerContainer.on("click",function(i){return n(i.target).attr("id")==="lightbox"&&t.end(),!1});this.$lightbox.find(".lb-prev").on("click",function(){return t.currentImageIndex===0?t.changeImage(t.album.length-1):t.changeImage(t.currentImageIndex-1),!1});this.$lightbox.find(".lb-next").on("click",function(){return t.currentImageIndex===t.album.length-1?t.changeImage(0):t.changeImage(t.currentImageIndex+1),!1});return this.$lightbox.find(".lb-loader, .lb-close").on("click",function(){return t.end(),!1})},t.prototype.start=function(t){var u,i,e,r,f,l,a,o,s,v,y,h,c;n(window).on("resize",this.sizeOverlay);if(n("select, object, embed").css({visibility:"hidden"}),this.$overlay.width(n(document).width()).height(n(document).height()).fadeIn(this.options.fadeDuration),this.album=[],f=0,e=t.attr("data-lightbox"),e)for(h=n(t.prop("tagName")+'[data-lightbox="'+e+'"]'),r=o=0,v=h.length;o<v;r=++o)i=h[r],this.album.push({link:n(i).attr("href"),title:n(i).attr("title")}),n(i).attr("href")===t.attr("href")&&(f=r);else if(t.attr("rel")==="lightbox")this.album.push({link:t.attr("href"),title:t.attr("title")});else for(c=n(t.prop("tagName")+'[rel="'+t.attr("rel")+'"]'),r=s=0,y=c.length;s<y;r=++s)i=c[r],this.album.push({link:n(i).attr("href"),title:n(i).attr("title")}),n(i).attr("href")===t.attr("href")&&(f=r);u=n(window);a=u.scrollTop()+u.height()/10;l=u.scrollLeft();this.$lightbox.css({top:a+"px",left:l+"px"}).fadeIn(this.options.fadeDuration);this.changeImage(f)},t.prototype.changeImage=function(t){var r,i,u=this;this.disableKeyboardNav();r=this.$lightbox.find(".lb-image");this.sizeOverlay();this.$overlay.fadeIn(this.options.fadeDuration);n(".lb-loader").fadeIn("slow");this.$lightbox.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide();this.$outerContainer.addClass("animating");i=new Image;i.onload=function(){var l,f,e,o,s,h,c;return r.attr("src",u.album[t].link),l=n(i),r.width(i.width),r.height(i.height),u.options.fitImagesInViewport&&(c=n(window).width(),h=n(window).height(),s=c-u.containerLeftPadding-u.containerRightPadding-20,o=h-u.containerTopPadding-u.containerBottomPadding-110,(i.width>s||i.height>o)&&(i.width/s>i.height/o?(e=s,f=parseInt(i.height/(i.width/e),10),r.width(e),r.height(f)):(f=o,e=parseInt(i.width/(i.height/f),10),r.width(e),r.height(f)))),u.sizeContainer(r.width(),r.height())};i.src=this.album[t].link;this.currentImageIndex=t},t.prototype.sizeOverlay=function(){return n("#lightboxOverlay").width(n(document).width()).height(n(document).height())},t.prototype.sizeContainer=function(n,t){var i,u,f,e,r=this;e=this.$outerContainer.outerWidth();f=this.$outerContainer.outerHeight();u=n+this.containerLeftPadding+this.containerRightPadding;i=t+this.containerTopPadding+this.containerBottomPadding;this.$outerContainer.animate({width:u,height:i},this.options.resizeDuration,"swing");setTimeout(function(){r.$lightbox.find(".lb-dataContainer").width(u);r.$lightbox.find(".lb-prevLink").height(i);r.$lightbox.find(".lb-nextLink").height(i);r.showImage()},this.options.resizeDuration)},t.prototype.showImage=function(){this.$lightbox.find(".lb-loader").hide();this.$lightbox.find(".lb-image").fadeIn("slow");this.updateNav();this.updateDetails();this.preloadNeighboringImages();this.enableKeyboardNav()},t.prototype.updateNav=function(){this.$lightbox.find(".lb-nav").show();this.album.length>1&&(this.options.wrapAround?this.$lightbox.find(".lb-prev, .lb-next").show():(this.currentImageIndex>0&&this.$lightbox.find(".lb-prev").show(),this.currentImageIndex<this.album.length-1&&this.$lightbox.find(".lb-next").show()))},t.prototype.updateDetails=function(){var n=this;typeof this.album[this.currentImageIndex].title!="undefined"&&this.album[this.currentImageIndex].title!==""&&this.$lightbox.find(".lb-caption").html(this.album[this.currentImageIndex].title).fadeIn("fast");this.album.length>1&&this.options.showImageNumberLabel?this.$lightbox.find(".lb-number").text(this.options.albumLabel(this.currentImageIndex+1,this.album.length)).fadeIn("fast"):this.$lightbox.find(".lb-number").hide();this.$outerContainer.removeClass("animating");this.$lightbox.find(".lb-dataContainer").fadeIn(this.resizeDuration,function(){return n.sizeOverlay()})},t.prototype.preloadNeighboringImages=function(){var n,t;this.album.length>this.currentImageIndex+1&&(n=new Image,n.src=this.album[this.currentImageIndex+1].link);this.currentImageIndex>0&&(t=new Image,t.src=this.album[this.currentImageIndex-1].link)},t.prototype.enableKeyboardNav=function(){n(document).on("keyup.keyboard",n.proxy(this.keyboardAction,this))},t.prototype.disableKeyboardNav=function(){n(document).off(".keyboard")},t.prototype.keyboardAction=function(n){var r,u,f,i,t;r=27;u=37;f=39;t=n.keyCode;i=String.fromCharCode(t).toLowerCase();t===r||i.match(/x|o|c/)?this.end():i==="p"||t===u?this.currentImageIndex!==0&&this.changeImage(this.currentImageIndex-1):(i==="n"||t===f)&&this.currentImageIndex!==this.album.length-1&&this.changeImage(this.currentImageIndex+1)},t.prototype.end=function(){return this.disableKeyboardNav(),n(window).off("resize",this.sizeOverlay),this.$lightbox.fadeOut(this.options.fadeDuration),this.$overlay.fadeOut(this.options.fadeDuration),n("select, object, embed").css({visibility:"visible"})},t}();n(function(){var n;return n=new i,new t(n)})}.call(this),function(n){n.fn.slide=function(t){return n.fn.slide.defaults={effect:"fade",autoPlay:!1,delayTime:500,interTime:4e3,triggerTime:150,defaultIndex:0,titCell:".hd li",mainCell:".bd",targetCell:null,trigger:"mouseover",scroll:1,vis:1,titOnClassName:"on",autoPage:!1,prevCell:".prev",nextCell:".next",pageStateCell:".pageState",opp:!1,pnLoop:!0,easing:"linear",startFun:null,endFun:null,switchLoad:null},this.each(function(){var u=n.extend({},n.fn.slide.defaults,t),p=u.effect,ft=n(u.prevCell,n(this)),et=n(u.nextCell,n(this)),at=n(u.pageStateCell,n(this)),h=n(u.titCell,n(this)),e=h.size(),i=n(u.mainCell,n(this)),f=i.children().size(),k=u.switchLoad,nt,rt,ut,lt;null!=u.targetCell&&(nt=n(u.targetCell,n(this)));var r=parseInt(u.defaultIndex),c=parseInt(u.delayTime),tt=parseInt(u.interTime);parseInt(u.triggerTime);var b=parseInt(u.scroll),w=parseInt(u.vis),d="false"==u.autoPlay||0==u.autoPlay?!1:!0,ot="false"==u.opp||0==u.opp?!1:!0,vt="false"==u.autoPage||0==u.autoPage?!1:!0,st="false"==u.pnLoop||0==u.pnLoop?!1:!0,s=0,o=0,g=0,it=0,l=u.easing,y=null,ht=r;if(0==e&&(e=f),vt){for(rt=f-w,e=1+parseInt(0!=rt%b?rt/b+1:rt/b),0>=e&&(e=1),h.html(""),ut=0;e>ut;ut++)h.append("<li>"+(ut+1)+"<\/li>");h=n("li",h)}if(i.children().each(function(){n(this).width()>g&&(g=n(this).width(),o=n(this).outerWidth(!0));n(this).height()>it&&(it=n(this).height(),s=n(this).outerHeight(!0))}),f>=w)switch(p){case"fold":i.css({position:"relative",width:o,height:s}).children().css({position:"absolute",width:g,left:0,top:0,display:"none"});break;case"top":i.wrap('<div class="tempWrap" style="overflow:hidden; position:relative; height:'+w*s+'px"><\/div>').css({position:"relative",padding:"0",margin:"0"}).children().css({height:it});break;case"left":i.wrap('<div class="tempWrap" style="overflow:hidden; position:relative; width:'+w*o+'px"><\/div>').css({width:f*o,position:"relative",overflow:"hidden",padding:"0",margin:"0"}).children().css({float:"left",width:g});break;case"leftLoop":case"leftMarquee":i.children().clone().appendTo(i).clone().prependTo(i);i.wrap('<div class="tempWrap" style="overflow:hidden; position:relative; width:'+w*o+'px"><\/div>').css({width:3*f*o,position:"relative",overflow:"hidden",padding:"0",margin:"0",left:-f*o}).children().css({float:"left",width:g});break;case"topLoop":case"topMarquee":i.children().clone().appendTo(i).clone().prependTo(i);i.wrap('<div class="tempWrap" style="overflow:hidden; position:relative; height:'+w*s+'px"><\/div>').css({height:3*f*s,position:"relative",padding:"0",margin:"0",top:-f*s}).children().css({height:it})}var yt=function(){n.isFunction(u.startFun)&&u.startFun(r,e)},a=function(){n.isFunction(u.endFun)&&u.endFun(r,e)},ct=function(t){t.eq(r).find("img").each(function(){n(this).attr(k)!==void 0&&n(this).attr("src",n(this).attr(k)).removeAttr(k)})},v=function(n){var v,t,y,d;if(ht!=r||n||"leftMarquee"==p||"topMarquee"==p){switch(p){case"fade":case"fold":case"top":case"left":r>=e?r=0:0>r&&(r=e-1);break;case"leftMarquee":case"topMarquee":r>=1?r=1:0>=r&&(r=0);break;case"leftLoop":case"topLoop":v=r-ht;e>2&&v==-(e-1)&&(v=1);e>2&&v==e-1&&(v=-1);t=Math.abs(v*b);r>=e?r=0:0>r&&(r=e-1)}if(yt(),null!=k&&ct(i.children()),nt&&(null!=k&&ct(nt),nt.hide().eq(r).animate({opacity:"show"},c,function(){i[0]||a()})),f>=w)switch(p){case"fade":i.children().stop(!0,!0).eq(r).animate({opacity:"show"},c,l,function(){a()}).siblings().hide();break;case"fold":i.children().stop(!0,!0).eq(r).animate({opacity:"show"},c,l,function(){a()}).siblings().animate({opacity:"hide"},c,l);break;case"top":i.stop(!0,!1).animate({top:-r*b*s},c,l,function(){a()});break;case"left":i.stop(!0,!1).animate({left:-r*b*o},c,l,function(){a()});break;case"leftLoop":0>v?i.stop(!0,!0).animate({left:-(f-t)*o},c,l,function(){for(var n=0;t>n;n++)i.children().last().prependTo(i);i.css("left",-f*o);a()}):i.stop(!0,!0).animate({left:-(f+t)*o},c,l,function(){for(var n=0;t>n;n++)i.children().first().appendTo(i);i.css("left",-f*o);a()});break;case"topLoop":0>v?i.stop(!0,!0).animate({top:-(f-t)*s},c,l,function(){for(var n=0;t>n;n++)i.children().last().prependTo(i);i.css("top",-f*s);a()}):i.stop(!0,!0).animate({top:-(f+t)*s},c,l,function(){for(var n=0;t>n;n++)i.children().first().appendTo(i);i.css("top",-f*s);a()});break;case"leftMarquee":y=i.css("left").replace("px","");0==r?i.animate({left:++y},0,function(){if(i.css("left").replace("px","")>=0){for(var n=0;f>n;n++)i.children().last().prependTo(i);i.css("left",-f*o)}}):i.animate({left:--y},0,function(){if(2*-f*o>=i.css("left").replace("px","")){for(var n=0;f>n;n++)i.children().first().appendTo(i);i.css("left",-f*o)}});break;case"topMarquee":d=i.css("top").replace("px","");0==r?i.animate({top:++d},0,function(){if(i.css("top").replace("px","")>=0){for(var n=0;f>n;n++)i.children().last().prependTo(i);i.css("top",-f*s)}}):i.animate({top:--d},0,function(){if(2*-f*s>=i.css("top").replace("px","")){for(var n=0;f>n;n++)i.children().first().appendTo(i);i.css("top",-f*s)}})}h.removeClass(u.titOnClassName).eq(r).addClass(u.titOnClassName);ht=r;0==st&&(et.removeClass("nextStop"),ft.removeClass("prevStop"),0==r?ft.addClass("prevStop"):r==e-1&&et.addClass("nextStop"));at.html("<span>"+(r+1)+"<\/span>/"+e)}};v(!0);d&&("leftMarquee"==p||"topMarquee"==p?(ot?r--:r++,y=setInterval(v,tt),i.hover(function(){d&&clearInterval(y)},function(){d&&(clearInterval(y),y=setInterval(v,tt))})):(y=setInterval(function(){ot?r--:r++;v()},tt),n(this).hover(function(){d&&clearInterval(y)},function(){d&&(clearInterval(y),y=setInterval(function(){ot?r--:r++;v()},tt))})));"mouseover"==u.trigger?h.hover(function(){r=h.index(this);lt=window.setTimeout(v,u.triggerTime)},function(){clearTimeout(lt)}):h.click(function(){r=h.index(this);v()});et.click(function(){(1==st||r!=e-1)&&(r++,v())});ft.click(function(){(1==st||0!=r)&&(r--,v())})})}}(jQuery);jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(n,t,i,r,u){return jQuery.easing[jQuery.easing.def](n,t,i,r,u)},easeInQuad:function(n,t,i,r,u){return r*(t/=u)*t+i},easeOutQuad:function(n,t,i,r,u){return-r*(t/=u)*(t-2)+i},easeInOutQuad:function(n,t,i,r,u){return 1>(t/=u/2)?r/2*t*t+i:-r/2*(--t*(t-2)-1)+i},easeInCubic:function(n,t,i,r,u){return r*(t/=u)*t*t+i},easeOutCubic:function(n,t,i,r,u){return r*((t=t/u-1)*t*t+1)+i},easeInOutCubic:function(n,t,i,r,u){return 1>(t/=u/2)?r/2*t*t*t+i:r/2*((t-=2)*t*t+2)+i},easeInQuart:function(n,t,i,r,u){return r*(t/=u)*t*t*t+i},easeOutQuart:function(n,t,i,r,u){return-r*((t=t/u-1)*t*t*t-1)+i},easeInOutQuart:function(n,t,i,r,u){return 1>(t/=u/2)?r/2*t*t*t*t+i:-r/2*((t-=2)*t*t*t-2)+i},easeInQuint:function(n,t,i,r,u){return r*(t/=u)*t*t*t*t+i},easeOutQuint:function(n,t,i,r,u){return r*((t=t/u-1)*t*t*t*t+1)+i},easeInOutQuint:function(n,t,i,r,u){return 1>(t/=u/2)?r/2*t*t*t*t*t+i:r/2*((t-=2)*t*t*t*t+2)+i},easeInSine:function(n,t,i,r,u){return-r*Math.cos(t/u*(Math.PI/2))+r+i},easeOutSine:function(n,t,i,r,u){return r*Math.sin(t/u*(Math.PI/2))+i},easeInOutSine:function(n,t,i,r,u){return-r/2*(Math.cos(Math.PI*t/u)-1)+i},easeInExpo:function(n,t,i,r,u){return 0==t?i:r*Math.pow(2,10*(t/u-1))+i},easeOutExpo:function(n,t,i,r,u){return t==u?i+r:r*(-Math.pow(2,-10*t/u)+1)+i},easeInOutExpo:function(n,t,i,r,u){return 0==t?i:t==u?i+r:1>(t/=u/2)?r/2*Math.pow(2,10*(t-1))+i:r/2*(-Math.pow(2,-10*--t)+2)+i},easeInCirc:function(n,t,i,r,u){return-r*(Math.sqrt(1-(t/=u)*t)-1)+i},easeOutCirc:function(n,t,i,r,u){return r*Math.sqrt(1-(t=t/u-1)*t)+i},easeInOutCirc:function(n,t,i,r,u){return 1>(t/=u/2)?-r/2*(Math.sqrt(1-t*t)-1)+i:r/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInElastic:function(n,t,i,r,u){var f=1.70158,e=0,o=r;return 0==t?i:1==(t/=u)?i+r:((e||(e=.3*u),Math.abs(r)>o)?(o=r,f=e/4):f=e/(2*Math.PI)*Math.asin(r/o),-(o*Math.pow(2,10*(t-=1))*Math.sin((t*u-f)*2*Math.PI/e))+i)},easeOutElastic:function(n,t,i,r,u){var f=1.70158,e=0,o=r;return 0==t?i:1==(t/=u)?i+r:((e||(e=.3*u),Math.abs(r)>o)?(o=r,f=e/4):f=e/(2*Math.PI)*Math.asin(r/o),o*Math.pow(2,-10*t)*Math.sin((t*u-f)*2*Math.PI/e)+r+i)},easeInOutElastic:function(n,t,i,r,u){var f=1.70158,e=0,o=r;return 0==t?i:2==(t/=u/2)?i+r:((e||(e=u*.3*1.5),Math.abs(r)>o)?(o=r,f=e/4):f=e/(2*Math.PI)*Math.asin(r/o),1>t?-.5*o*Math.pow(2,10*(t-=1))*Math.sin((t*u-f)*2*Math.PI/e)+i:.5*o*Math.pow(2,-10*(t-=1))*Math.sin((t*u-f)*2*Math.PI/e)+r+i)},easeInBack:function(n,t,i,r,u,f){return void 0==f&&(f=1.70158),r*(t/=u)*t*((f+1)*t-f)+i},easeOutBack:function(n,t,i,r,u,f){return void 0==f&&(f=1.70158),r*((t=t/u-1)*t*((f+1)*t+f)+1)+i},easeInOutBack:function(n,t,i,r,u,f){return void 0==f&&(f=1.70158),1>(t/=u/2)?r/2*t*t*(((f*=1.525)+1)*t-f)+i:r/2*((t-=2)*t*(((f*=1.525)+1)*t+f)+2)+i},easeInBounce:function(n,t,i,r,u){return r-jQuery.easing.easeOutBounce(n,u-t,0,r,u)+i},easeOutBounce:function(n,t,i,r,u){return 1/2.75>(t/=u)?r*7.5625*t*t+i:2/2.75>t?r*(7.5625*(t-=1.5/2.75)*t+.75)+i:2.5/2.75>t?r*(7.5625*(t-=2.25/2.75)*t+.9375)+i:r*(7.5625*(t-=2.625/2.75)*t+.984375)+i},easeInOutBounce:function(n,t,i,r,u){return u/2>t?.5*jQuery.easing.easeInBounce(n,2*t,0,r,u)+i:.5*jQuery.easing.easeOutBounce(n,2*t-u,0,r,u)+.5*r+i}});!function(n,t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):n.jQuery?n.jQuery:n.Zepto)}(this,function(n,t){var r,f,u,i,e;n.fn.jPlayer=function(i){var r="jPlayer",u="string"==typeof i,f=Array.prototype.slice.call(arguments,1),e=this;return i=!u&&f.length?n.extend.apply(null,[!0,i].concat(f)):i,u&&"_"===i.charAt(0)?e:(this.each(u?function(){var u=n(this).data(r),o=u&&n.isFunction(u[i])?u[i].apply(u,f):u;if(o!==u&&o!==t)return(e=o,!1)}:function(){var t=n(this).data(r);t?t.option(i||{}):n(this).data(r,new n.jPlayer(i,this))}),e)};n.jPlayer=function(t,i){if(arguments.length){this.element=n(i);this.options=n.extend(!0,{},this.options,t);var r=this;this.element.bind("remove.jPlayer",function(){r.destroy()});this._init()}};"function"!=typeof n.fn.stop&&(n.fn.stop=function(){});n.jPlayer.emulateMethods="load play pause";n.jPlayer.emulateStatus="src readyState networkState currentTime duration paused ended playbackRate";n.jPlayer.emulateOptions="muted volume";n.jPlayer.reservedEvent="ready flashreset resize repeat error warning";n.jPlayer.event={};n.each(["ready","setmedia","flashreset","resize","repeat","click","error","warning","loadstart","progress","suspend","abort","emptied","stalled","play","pause","loadedmetadata","loadeddata","waiting","playing","canplay","canplaythrough","seeking","seeked","timeupdate","ended","ratechange","durationchange","volumechange"],function(){n.jPlayer.event[this]="jPlayer_"+this});n.jPlayer.htmlEvent=["loadstart","abort","emptied","stalled","loadedmetadata","canplay","canplaythrough"];n.jPlayer.pause=function(){n.jPlayer.prototype.destroyRemoved();n.each(n.jPlayer.prototype.instances,function(n,t){t.data("jPlayer").status.srcSet&&t.jPlayer("pause")})};n.jPlayer.timeFormat={showHour:!1,showMin:!0,showSec:!0,padHour:!1,padMin:!0,padSec:!0,sepHour:":",sepMin:":",sepSec:""};r=function(){this.init()};r.prototype={init:function(){this.options={timeFormat:n.jPlayer.timeFormat}},time:function(n){n=n&&"number"==typeof n?n:0;var t=new Date(1e3*n),i=t.getUTCHours(),r=this.options.timeFormat.showHour?t.getUTCMinutes():t.getUTCMinutes()+60*i,u=this.options.timeFormat.showMin?t.getUTCSeconds():t.getUTCSeconds()+60*r,e=this.options.timeFormat.padHour&&10>i?"0"+i:i,o=this.options.timeFormat.padMin&&10>r?"0"+r:r,s=this.options.timeFormat.padSec&&10>u?"0"+u:u,f="";return f+=this.options.timeFormat.showHour?e+this.options.timeFormat.sepHour:"",f+=this.options.timeFormat.showMin?o+this.options.timeFormat.sepMin:"",f+(this.options.timeFormat.showSec?s+this.options.timeFormat.sepSec:"")}};f=new r;n.jPlayer.convertTime=function(n){return f.time(n)};n.jPlayer.uaBrowser=function(n){var t=n.toLowerCase(),i=/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(t)||[];return{browser:i[1]||"",version:i[2]||"0"}};n.jPlayer.uaPlatform=function(n){var t=n.toLowerCase(),i=/(ipad|iphone|ipod|android|blackberry|playbook|windows ce|webos)/.exec(t)||[],r=/(ipad|playbook)/.exec(t)||!/(mobile)/.exec(t)&&/(android)/.exec(t)||[];return i[1]&&(i[1]=i[1].replace(/\s/g,"_")),{platform:i[1]||"",tablet:r[1]||""}};n.jPlayer.browser={};n.jPlayer.platform={};u=n.jPlayer.uaBrowser(navigator.userAgent);u.browser&&(n.jPlayer.browser[u.browser]=!0,n.jPlayer.browser.version=u.version);i=n.jPlayer.uaPlatform(navigator.userAgent);i.platform&&(n.jPlayer.platform[i.platform]=!0,n.jPlayer.platform.mobile=!i.tablet,n.jPlayer.platform.tablet=!!i.tablet);n.jPlayer.getDocMode=function(){var t;return n.jPlayer.browser.msie&&(document.documentMode?t=document.documentMode:(t=5,document.compatMode&&"CSS1Compat"===document.compatMode&&(t=7))),t};n.jPlayer.browser.documentMode=n.jPlayer.getDocMode();n.jPlayer.nativeFeatures={init:function(){var n,u,e,t=document,o=t.createElement("video"),i={w3c:["fullscreenEnabled","fullscreenElement","requestFullscreen","exitFullscreen","fullscreenchange","fullscreenerror"],moz:["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror"],webkit:["","webkitCurrentFullScreenElement","webkitRequestFullScreen","webkitCancelFullScreen","webkitfullscreenchange",""],webkitVideo:["webkitSupportsFullscreen","webkitDisplayingFullscreen","webkitEnterFullscreen","webkitExitFullscreen","",""],ms:["","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError"]},s=["w3c","moz","webkit","webkitVideo","ms"],f,r;for(this.fullscreen=n={support:{w3c:!!t[i.w3c[0]],moz:!!t[i.moz[0]],webkit:"function"==typeof t[i.webkit[3]],webkitVideo:"function"==typeof o[i.webkitVideo[2]],ms:"function"==typeof o[i.ms[2]]},used:{}},u=0,e=s.length;e>u;u++)if(f=s[u],n.support[f]){n.spec=f;n.used[f]=!0;break}n.spec?(r=i[n.spec],n.api={fullscreenEnabled:!0,fullscreenElement:function(n){return n=n?n:t,n[r[1]]},requestFullscreen:function(n){return n[r[2]]()},exitFullscreen:function(n){return n=n?n:t,n[r[3]]()}},n.event={fullscreenchange:r[4],fullscreenerror:r[5]}):(n.api={fullscreenEnabled:!1,fullscreenElement:function(){return null},requestFullscreen:function(){},exitFullscreen:function(){}},n.event={})}};n.jPlayer.nativeFeatures.init();n.jPlayer.focus=null;n.jPlayer.keyIgnoreElementNames="A INPUT TEXTAREA SELECT BUTTON";e=function(t){var r,i=n.jPlayer.focus;i&&(n.each(n.jPlayer.keyIgnoreElementNames.split(/\s+/g),function(n,i){if(t.target.nodeName.toUpperCase()===i.toUpperCase())return(r=!0,!1)}),r||n.each(i.options.keyBindings,function(r,u){if(u&&n.isFunction(u.fn)&&("number"==typeof u.key&&t.which===u.key||"string"==typeof u.key&&t.key===u.key))return(t.preventDefault(),u.fn(i),!1)}))};n.jPlayer.keys=function(t){var i="keydown.jPlayer";n(document.documentElement).unbind(i);t&&n(document.documentElement).bind(i,e)};n.jPlayer.keys(!0);n.jPlayer.prototype={count:0,version:{script:"2.9.1",needFlash:"2.9.0",flash:"unknown"},options:{swfPath:"js",solution:"html, flash",supplied:"mp3",auroraFormats:"wav",preload:"metadata",volume:.8,muted:!1,remainingDuration:!1,toggleDuration:!1,captureDuration:!0,playbackRate:1,defaultPlaybackRate:1,minPlaybackRate:.5,maxPlaybackRate:4,wmode:"opaque",backgroundColor:"#000000",cssSelectorAncestor:"#jp_container_1",cssSelector:{videoPlay:".jp-video-play",play:".jp-play",pause:".jp-pause",stop:".jp-stop",seekBar:".jp-seek-bar",playBar:".jp-play-bar",mute:".jp-mute",unmute:".jp-unmute",volumeBar:".jp-volume-bar",volumeBarValue:".jp-volume-bar-value",volumeMax:".jp-volume-max",playbackRateBar:".jp-playback-rate-bar",playbackRateBarValue:".jp-playback-rate-bar-value",currentTime:".jp-current-time",duration:".jp-duration",title:".jp-title",fullScreen:".jp-full-screen",restoreScreen:".jp-restore-screen",repeat:".jp-repeat",repeatOff:".jp-repeat-off",gui:".jp-gui",noSolution:".jp-no-solution"},stateClass:{playing:"jp-state-playing",seeking:"jp-state-seeking",muted:"jp-state-muted",looped:"jp-state-looped",fullScreen:"jp-state-full-screen",noVolume:"jp-state-no-volume"},useStateClassSkin:!1,autoBlur:!0,smoothPlayBar:!1,fullScreen:!1,fullWindow:!1,autohide:{restored:!1,full:!0,fadeIn:200,fadeOut:600,hold:1e3},loop:!1,repeat:function(t){t.jPlayer.options.loop?n(this).unbind(".jPlayerRepeat").bind(n.jPlayer.event.ended+".jPlayer.jPlayerRepeat",function(){n(this).jPlayer("play")}):n(this).unbind(".jPlayerRepeat")},nativeVideoControls:{},noFullWindow:{msie:/msie [0-6]\./,ipad:/ipad.*?os [0-4]\./,iphone:/iphone/,ipod:/ipod/,android_pad:/android [0-3]\.(?!.*?mobile)/,android_phone:/(?=.*android)(?!.*chrome)(?=.*mobile)/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/},noVolume:{ipad:/ipad/,iphone:/iphone/,ipod:/ipod/,android_pad:/android(?!.*?mobile)/,android_phone:/android.*?mobile/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/,playbook:/playbook/},timeFormat:{},keyEnabled:!1,audioFullScreen:!1,keyBindings:{play:{key:80,fn:function(n){n.status.paused?n.play():n.pause()}},fullScreen:{key:70,fn:function(n){(n.status.video||n.options.audioFullScreen)&&n._setOption("fullScreen",!n.options.fullScreen)}},muted:{key:77,fn:function(n){n._muted(!n.options.muted)}},volumeUp:{key:190,fn:function(n){n.volume(n.options.volume+.1)}},volumeDown:{key:188,fn:function(n){n.volume(n.options.volume-.1)}},loop:{key:76,fn:function(n){n._loop(!n.options.loop)}}},verticalVolume:!1,verticalPlaybackRate:!1,globalVolume:!1,idPrefix:"jp",noConflict:"jQuery",emulateHtml:!1,consoleAlerts:!0,errorAlerts:!1,warningAlerts:!1},optionsAudio:{size:{width:"0px",height:"0px",cssClass:""},sizeFull:{width:"0px",height:"0px",cssClass:""}},optionsVideo:{size:{width:"480px",height:"270px",cssClass:"jp-video-270p"},sizeFull:{width:"100%",height:"100%",cssClass:"jp-video-full"}},instances:{},status:{src:"",media:{},paused:!0,format:{},formatType:"",waitForPlay:!0,waitForLoad:!0,srcSet:!1,video:!1,seekPercent:0,currentPercentRelative:0,currentPercentAbsolute:0,currentTime:0,duration:0,remaining:0,videoWidth:0,videoHeight:0,readyState:0,networkState:0,playbackRate:1,ended:0},internal:{ready:!1},solution:{html:!0,aurora:!0,flash:!0},format:{mp3:{codec:"audio/mpeg",flashCanPlay:!0,media:"audio"},m4a:{codec:'audio/mp4; codecs="mp4a.40.2"',flashCanPlay:!0,media:"audio"},m3u8a:{codec:'application/vnd.apple.mpegurl; codecs="mp4a.40.2"',flashCanPlay:!1,media:"audio"},m3ua:{codec:"audio/mpegurl",flashCanPlay:!1,media:"audio"},oga:{codec:'audio/ogg; codecs="vorbis, opus"',flashCanPlay:!1,media:"audio"},flac:{codec:"audio/x-flac",flashCanPlay:!1,media:"audio"},wav:{codec:'audio/wav; codecs="1"',flashCanPlay:!1,media:"audio"},webma:{codec:'audio/webm; codecs="vorbis"',flashCanPlay:!1,media:"audio"},fla:{codec:"audio/x-flv",flashCanPlay:!0,media:"audio"},rtmpa:{codec:'audio/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"audio"},m4v:{codec:'video/mp4; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:!0,media:"video"},m3u8v:{codec:'application/vnd.apple.mpegurl; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:!1,media:"video"},m3uv:{codec:"audio/mpegurl",flashCanPlay:!1,media:"video"},ogv:{codec:'video/ogg; codecs="theora, vorbis"',flashCanPlay:!1,media:"video"},webmv:{codec:'video/webm; codecs="vorbis, vp8"',flashCanPlay:!1,media:"video"},flv:{codec:"video/x-flv",flashCanPlay:!0,media:"video"},rtmpv:{codec:'video/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"video"}},_init:function(){var i=this,r,e,s,o,f,u;if(this.element.empty(),this.status=n.extend({},this.status),this.internal=n.extend({},this.internal),this.options.timeFormat=n.extend({},n.jPlayer.timeFormat,this.options.timeFormat),this.internal.cmdsIgnored=n.jPlayer.platform.ipad||n.jPlayer.platform.iphone||n.jPlayer.platform.ipod,this.internal.domNode=this.element.get(0),this.options.keyEnabled&&!n.jPlayer.focus&&(n.jPlayer.focus=this),this.androidFix={setMedia:!1,play:!1,pause:!1,time:NaN},n.jPlayer.platform.android&&(this.options.preload="auto"!==this.options.preload?"metadata":"auto"),this.formats=[],this.solutions=[],this.require={},this.htmlElement={},this.html={},this.html.audio={},this.html.video={},this.aurora={},this.aurora.formats=[],this.aurora.properties=[],this.flash={},this.css={},this.css.cs={},this.css.jq={},this.ancestorJq=[],this.options.volume=this._limitValue(this.options.volume,0,1),n.each(this.options.supplied.toLowerCase().split(","),function(t,r){var u=r.replace(/^\s+|\s+$/g,""),f;i.format[u]&&(f=!1,n.each(i.formats,function(n,t){if(u===t)return(f=!0,!1)}),f||i.formats.push(u))}),n.each(this.options.solution.toLowerCase().split(","),function(t,r){var u=r.replace(/^\s+|\s+$/g,""),f;i.solution[u]&&(f=!1,n.each(i.solutions,function(n,t){if(u===t)return(f=!0,!1)}),f||i.solutions.push(u))}),n.each(this.options.auroraFormats.toLowerCase().split(","),function(t,r){var u=r.replace(/^\s+|\s+$/g,""),f;i.format[u]&&(f=!1,n.each(i.aurora.formats,function(n,t){if(u===t)return(f=!0,!1)}),f||i.aurora.formats.push(u))}),this.internal.instance="jp_"+this.count,this.instances[this.internal.instance]=this.element,this.element.attr("id")||this.element.attr("id",this.options.idPrefix+"_jplayer_"+this.count),this.internal.self=n.extend({},{id:this.element.attr("id"),jq:this.element}),this.internal.audio=n.extend({},{id:this.options.idPrefix+"_audio_"+this.count,jq:t}),this.internal.video=n.extend({},{id:this.options.idPrefix+"_video_"+this.count,jq:t}),this.internal.flash=n.extend({},{id:this.options.idPrefix+"_flash_"+this.count,jq:t,swf:this.options.swfPath+(".swf"!==this.options.swfPath.toLowerCase().slice(-4)?(this.options.swfPath&&"/"!==this.options.swfPath.slice(-1)?"/":"")+"jquery.jplayer.swf":"")}),this.internal.poster=n.extend({},{id:this.options.idPrefix+"_poster_"+this.count,jq:t}),n.each(n.jPlayer.event,function(n,r){i.options[n]!==t&&(i.element.bind(r+".jPlayer",i.options[n]),i.options[n]=t)}),this.require.audio=!1,this.require.video=!1,n.each(this.formats,function(n,t){i.require[i.format[t].media]=!0}),this.options=this.require.video?n.extend(!0,{},this.optionsVideo,this.options):n.extend(!0,{},this.optionsAudio,this.options),this._setSize(),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow),this.status.noVolume=this._uaBlocklist(this.options.noVolume),n.jPlayer.nativeFeatures.fullscreen.api.fullscreenEnabled&&this._fullscreenAddEventListeners(),this._restrictNativeVideoControls(),this.htmlElement.poster=document.createElement("img"),this.htmlElement.poster.id=this.internal.poster.id,this.htmlElement.poster.onload=function(){(!i.status.video||i.status.waitForPlay)&&i.internal.poster.jq.show()},this.element.append(this.htmlElement.poster),this.internal.poster.jq=n("#"+this.internal.poster.id),this.internal.poster.jq.css({width:this.status.width,height:this.status.height}),this.internal.poster.jq.hide(),this.internal.poster.jq.bind("click.jPlayer",function(){i._trigger(n.jPlayer.event.click)}),this.html.audio.available=!1,this.require.audio&&(this.htmlElement.audio=document.createElement("audio"),this.htmlElement.audio.id=this.internal.audio.id,this.html.audio.available=!!this.htmlElement.audio.canPlayType&&this._testCanPlayType(this.htmlElement.audio)),this.html.video.available=!1,this.require.video&&(this.htmlElement.video=document.createElement("video"),this.htmlElement.video.id=this.internal.video.id,this.html.video.available=!!this.htmlElement.video.canPlayType&&this._testCanPlayType(this.htmlElement.video)),this.flash.available=this._checkForFlash(10.1),this.html.canPlay={},this.aurora.canPlay={},this.flash.canPlay={},n.each(this.formats,function(t,r){i.html.canPlay[r]=i.html[i.format[r].media].available&&""!==i.htmlElement[i.format[r].media].canPlayType(i.format[r].codec);i.aurora.canPlay[r]=n.inArray(r,i.aurora.formats)>-1;i.flash.canPlay[r]=i.format[r].flashCanPlay&&i.flash.available}),this.html.desired=!1,this.aurora.desired=!1,this.flash.desired=!1,n.each(this.solutions,function(t,r){if(0===t)i[r].desired=!0;else{var u=!1,f=!1;n.each(i.formats,function(n,t){i[i.solutions[0]].canPlay[t]&&("video"===i.format[t].media?f=!0:u=!0)});i[r].desired=i.require.audio&&!u||i.require.video&&!f}}),this.html.support={},this.aurora.support={},this.flash.support={},n.each(this.formats,function(n,t){i.html.support[t]=i.html.canPlay[t]&&i.html.desired;i.aurora.support[t]=i.aurora.canPlay[t]&&i.aurora.desired;i.flash.support[t]=i.flash.canPlay[t]&&i.flash.desired}),this.html.used=!1,this.aurora.used=!1,this.flash.used=!1,n.each(this.solutions,function(t,r){n.each(i.formats,function(n,t){if(i[r].support[t])return(i[r].used=!0,!1)})}),this._resetActive(),this._resetGate(),this._cssSelectorAncestor(this.options.cssSelectorAncestor),this.html.used||this.aurora.used||this.flash.used?this.css.jq.noSolution.length&&this.css.jq.noSolution.hide():(this._error({type:n.jPlayer.error.NO_SOLUTION,context:"{solution:'"+this.options.solution+"', supplied:'"+this.options.supplied+"'}",message:n.jPlayer.errorMsg.NO_SOLUTION,hint:n.jPlayer.errorHint.NO_SOLUTION}),this.css.jq.noSolution.length&&this.css.jq.noSolution.show()),this.flash.used){if(e="jQuery="+encodeURI(this.options.noConflict)+"&id="+encodeURI(this.internal.self.id)+"&vol="+this.options.volume+"&muted="+this.options.muted,n.jPlayer.browser.msie&&(Number(n.jPlayer.browser.version)<9||n.jPlayer.browser.documentMode<9))for(s='<object id="'+this.internal.flash.id+'" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="0" height="0" tabindex="-1"><\/object>',o=['<param name="movie" value="'+this.internal.flash.swf+'" />','<param name="FlashVars" value="'+e+'" />','<param name="allowScriptAccess" value="always" />','<param name="bgcolor" value="'+this.options.backgroundColor+'" />','<param name="wmode" value="'+this.options.wmode+'" />'],r=document.createElement(s),f=0;f<o.length;f++)r.appendChild(document.createElement(o[f]));else u=function(n,t,i){var r=document.createElement("param");r.setAttribute("name",t);r.setAttribute("value",i);n.appendChild(r)},r=document.createElement("object"),r.setAttribute("id",this.internal.flash.id),r.setAttribute("name",this.internal.flash.id),r.setAttribute("data",this.internal.flash.swf),r.setAttribute("type","application/x-shockwave-flash"),r.setAttribute("width","1"),r.setAttribute("height","1"),r.setAttribute("tabindex","-1"),u(r,"flashvars",e),u(r,"allowscriptaccess","always"),u(r,"bgcolor",this.options.backgroundColor),u(r,"wmode",this.options.wmode);this.element.append(r);this.internal.flash.jq=n(r)}this.status.playbackRateEnabled=this.html.used&&!this.flash.used?this._testPlaybackRate("audio"):!1;this._updatePlaybackRate();this.html.used&&(this.html.audio.available&&(this._addHtmlEventListeners(this.htmlElement.audio,this.html.audio),this.element.append(this.htmlElement.audio),this.internal.audio.jq=n("#"+this.internal.audio.id)),this.html.video.available&&(this._addHtmlEventListeners(this.htmlElement.video,this.html.video),this.element.append(this.htmlElement.video),this.internal.video.jq=n("#"+this.internal.video.id),this.internal.video.jq.css(this.status.nativeVideoControls?{width:this.status.width,height:this.status.height}:{width:"0px",height:"0px"}),this.internal.video.jq.bind("click.jPlayer",function(){i._trigger(n.jPlayer.event.click)})));this.aurora.used;this.options.emulateHtml&&this._emulateHtmlBridge();!this.html.used&&!this.aurora.used||this.flash.used||setTimeout(function(){i.internal.ready=!0;i.version.flash="n/a";i._trigger(n.jPlayer.event.repeat);i._trigger(n.jPlayer.event.ready)},100);this._updateNativeVideoControls();this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide();n.jPlayer.prototype.count++},destroy:function(){this.clearMedia();this._removeUiClass();this.css.jq.currentTime.length&&this.css.jq.currentTime.text("");this.css.jq.duration.length&&this.css.jq.duration.text("");n.each(this.css.jq,function(n,t){t.length&&t.unbind(".jPlayer")});this.internal.poster.jq.unbind(".jPlayer");this.internal.video.jq&&this.internal.video.jq.unbind(".jPlayer");this._fullscreenRemoveEventListeners();this===n.jPlayer.focus&&(n.jPlayer.focus=null);this.options.emulateHtml&&this._destroyHtmlBridge();this.element.removeData("jPlayer");this.element.unbind(".jPlayer");this.element.empty();delete this.instances[this.internal.instance]},destroyRemoved:function(){var t=this;n.each(this.instances,function(n,i){t.element!==i&&(i.data("jPlayer")||(i.jPlayer("destroy"),delete t.instances[n]))})},enable:function(){},disable:function(){},_testCanPlayType:function(n){try{return n.canPlayType(this.format.mp3.codec),!0}catch(t){return!1}},_testPlaybackRate:function(n){var t,i=.5;n="string"==typeof n?n:"audio";t=document.createElement(n);try{return"playbackRate"in t?(t.playbackRate=i,t.playbackRate===i):!1}catch(r){return!1}},_uaBlocklist:function(t){var r=navigator.userAgent.toLowerCase(),i=!1;return n.each(t,function(n,t){if(t&&t.test(r))return(i=!0,!1)}),i},_restrictNativeVideoControls:function(){this.require.audio&&this.status.nativeVideoControls&&(this.status.nativeVideoControls=!1,this.status.noFullWindow=!0)},_updateNativeVideoControls:function(){this.html.video.available&&this.html.used&&(this.htmlElement.video.controls=this.status.nativeVideoControls,this._updateAutohide(),this.status.nativeVideoControls&&this.require.video?(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})):this.status.waitForPlay&&this.status.video&&(this.internal.poster.jq.show(),this.internal.video.jq.css({width:"0px",height:"0px"})))},_addHtmlEventListeners:function(t,i){var r=this;t.preload=this.options.preload;t.muted=this.options.muted;t.volume=this.options.volume;this.status.playbackRateEnabled&&(t.defaultPlaybackRate=this.options.defaultPlaybackRate,t.playbackRate=this.options.playbackRate);t.addEventListener("progress",function(){i.gate&&(r.internal.cmdsIgnored&&this.readyState>0&&(r.internal.cmdsIgnored=!1),r._getHtmlStatus(t),r._updateInterface(),r._trigger(n.jPlayer.event.progress))},!1);t.addEventListener("loadeddata",function(){i.gate&&(r.androidFix.setMedia=!1,r.androidFix.play&&(r.androidFix.play=!1,r.play(r.androidFix.time)),r.androidFix.pause&&(r.androidFix.pause=!1,r.pause(r.androidFix.time)),r._trigger(n.jPlayer.event.loadeddata))},!1);t.addEventListener("timeupdate",function(){i.gate&&(r._getHtmlStatus(t),r._updateInterface(),r._trigger(n.jPlayer.event.timeupdate))},!1);t.addEventListener("durationchange",function(){i.gate&&(r._getHtmlStatus(t),r._updateInterface(),r._trigger(n.jPlayer.event.durationchange))},!1);t.addEventListener("play",function(){i.gate&&(r._updateButtons(!0),r._html_checkWaitForPlay(),r._trigger(n.jPlayer.event.play))},!1);t.addEventListener("playing",function(){i.gate&&(r._updateButtons(!0),r._seeked(),r._trigger(n.jPlayer.event.playing))},!1);t.addEventListener("pause",function(){i.gate&&(r._updateButtons(!1),r._trigger(n.jPlayer.event.pause))},!1);t.addEventListener("waiting",function(){i.gate&&(r._seeking(),r._trigger(n.jPlayer.event.waiting))},!1);t.addEventListener("seeking",function(){i.gate&&(r._seeking(),r._trigger(n.jPlayer.event.seeking))},!1);t.addEventListener("seeked",function(){i.gate&&(r._seeked(),r._trigger(n.jPlayer.event.seeked))},!1);t.addEventListener("volumechange",function(){i.gate&&(r.options.volume=t.volume,r.options.muted=t.muted,r._updateMute(),r._updateVolume(),r._trigger(n.jPlayer.event.volumechange))},!1);t.addEventListener("ratechange",function(){i.gate&&(r.options.defaultPlaybackRate=t.defaultPlaybackRate,r.options.playbackRate=t.playbackRate,r._updatePlaybackRate(),r._trigger(n.jPlayer.event.ratechange))},!1);t.addEventListener("suspend",function(){i.gate&&(r._seeked(),r._trigger(n.jPlayer.event.suspend))},!1);t.addEventListener("ended",function(){i.gate&&(n.jPlayer.browser.webkit||(r.htmlElement.media.currentTime=0),r.htmlElement.media.pause(),r._updateButtons(!1),r._getHtmlStatus(t,!0),r._updateInterface(),r._trigger(n.jPlayer.event.ended))},!1);t.addEventListener("error",function(){i.gate&&(r._updateButtons(!1),r._seeked(),r.status.srcSet&&(clearTimeout(r.internal.htmlDlyCmdId),r.status.waitForLoad=!0,r.status.waitForPlay=!0,r.status.video&&!r.status.nativeVideoControls&&r.internal.video.jq.css({width:"0px",height:"0px"}),r._validString(r.status.media.poster)&&!r.status.nativeVideoControls&&r.internal.poster.jq.show(),r.css.jq.videoPlay.length&&r.css.jq.videoPlay.show(),r._error({type:n.jPlayer.error.URL,context:r.status.src,message:n.jPlayer.errorMsg.URL,hint:n.jPlayer.errorHint.URL})))},!1);n.each(n.jPlayer.htmlEvent,function(u,f){t.addEventListener(this,function(){i.gate&&r._trigger(n.jPlayer.event[f])},!1)})},_addAuroraEventListeners:function(t,i){var r=this;t.volume=100*this.options.volume;t.on("progress",function(){i.gate&&(r.internal.cmdsIgnored&&this.readyState>0&&(r.internal.cmdsIgnored=!1),r._getAuroraStatus(t),r._updateInterface(),r._trigger(n.jPlayer.event.progress),t.duration>0&&r._trigger(n.jPlayer.event.timeupdate))},!1);t.on("ready",function(){i.gate&&r._trigger(n.jPlayer.event.loadeddata)},!1);t.on("duration",function(){i.gate&&(r._getAuroraStatus(t),r._updateInterface(),r._trigger(n.jPlayer.event.durationchange))},!1);t.on("end",function(){i.gate&&(r._updateButtons(!1),r._getAuroraStatus(t,!0),r._updateInterface(),r._trigger(n.jPlayer.event.ended))},!1);t.on("error",function(){i.gate&&(r._updateButtons(!1),r._seeked(),r.status.srcSet&&(r.status.waitForLoad=!0,r.status.waitForPlay=!0,r.status.video&&!r.status.nativeVideoControls&&r.internal.video.jq.css({width:"0px",height:"0px"}),r._validString(r.status.media.poster)&&!r.status.nativeVideoControls&&r.internal.poster.jq.show(),r.css.jq.videoPlay.length&&r.css.jq.videoPlay.show(),r._error({type:n.jPlayer.error.URL,context:r.status.src,message:n.jPlayer.errorMsg.URL,hint:n.jPlayer.errorHint.URL})))},!1)},_getHtmlStatus:function(n,t){var i=0,r=0,f=0,u=0;isFinite(n.duration)&&(this.status.duration=n.duration);i=n.currentTime;r=this.status.duration>0?100*i/this.status.duration:0;"object"==typeof n.seekable&&n.seekable.length>0?(f=this.status.duration>0?100*n.seekable.end(n.seekable.length-1)/this.status.duration:100,u=this.status.duration>0?100*n.currentTime/n.seekable.end(n.seekable.length-1):0):(f=100,u=r);t&&(i=0,u=0,r=0);this.status.seekPercent=f;this.status.currentPercentRelative=u;this.status.currentPercentAbsolute=r;this.status.currentTime=i;this.status.remaining=this.status.duration-this.status.currentTime;this.status.videoWidth=n.videoWidth;this.status.videoHeight=n.videoHeight;this.status.readyState=n.readyState;this.status.networkState=n.networkState;this.status.playbackRate=n.playbackRate;this.status.ended=n.ended},_getAuroraStatus:function(n,t){var i=0,r=0,f=0,u=0;this.status.duration=n.duration/1e3;i=n.currentTime/1e3;r=this.status.duration>0?100*i/this.status.duration:0;n.buffered>0?(f=this.status.duration>0?n.buffered*this.status.duration/this.status.duration:100,u=this.status.duration>0?i/(n.buffered*this.status.duration):0):(f=100,u=r);t&&(i=0,u=0,r=0);this.status.seekPercent=f;this.status.currentPercentRelative=u;this.status.currentPercentAbsolute=r;this.status.currentTime=i;this.status.remaining=this.status.duration-this.status.currentTime;this.status.readyState=4;this.status.networkState=0;this.status.playbackRate=1;this.status.ended=!1},_resetStatus:function(){this.status=n.extend({},this.status,n.jPlayer.prototype.status)},_trigger:function(t,i,r){var u=n.Event(t);u.jPlayer={};u.jPlayer.version=n.extend({},this.version);u.jPlayer.options=n.extend(!0,{},this.options);u.jPlayer.status=n.extend(!0,{},this.status);u.jPlayer.html=n.extend(!0,{},this.html);u.jPlayer.aurora=n.extend(!0,{},this.aurora);u.jPlayer.flash=n.extend(!0,{},this.flash);i&&(u.jPlayer.error=n.extend({},i));r&&(u.jPlayer.warning=n.extend({},r));this.element.trigger(u)},jPlayerFlashEvent:function(t,i){if(t===n.jPlayer.event.ready)if(this.internal.ready){if(this.flash.gate){if(this.status.srcSet){var r=this.status.currentTime,u=this.status.paused;this.setMedia(this.status.media);this.volumeWorker(this.options.volume);r>0&&(u?this.pause(r):this.play(r))}this._trigger(n.jPlayer.event.flashreset)}}else this.internal.ready=!0,this.internal.flash.jq.css({width:"0px",height:"0px"}),this.version.flash=i.version,this.version.needFlash!==this.version.flash&&this._error({type:n.jPlayer.error.VERSION,context:this.version.flash,message:n.jPlayer.errorMsg.VERSION+this.version.flash,hint:n.jPlayer.errorHint.VERSION}),this._trigger(n.jPlayer.event.repeat),this._trigger(t);if(this.flash.gate)switch(t){case n.jPlayer.event.progress:this._getFlashStatus(i);this._updateInterface();this._trigger(t);break;case n.jPlayer.event.timeupdate:this._getFlashStatus(i);this._updateInterface();this._trigger(t);break;case n.jPlayer.event.play:this._seeked();this._updateButtons(!0);this._trigger(t);break;case n.jPlayer.event.pause:this._updateButtons(!1);this._trigger(t);break;case n.jPlayer.event.ended:this._updateButtons(!1);this._trigger(t);break;case n.jPlayer.event.click:this._trigger(t);break;case n.jPlayer.event.error:this.status.waitForLoad=!0;this.status.waitForPlay=!0;this.status.video&&this.internal.flash.jq.css({width:"0px",height:"0px"});this._validString(this.status.media.poster)&&this.internal.poster.jq.show();this.css.jq.videoPlay.length&&this.status.video&&this.css.jq.videoPlay.show();this.status.video?this._flash_setVideo(this.status.media):this._flash_setAudio(this.status.media);this._updateButtons(!1);this._error({type:n.jPlayer.error.URL,context:i.src,message:n.jPlayer.errorMsg.URL,hint:n.jPlayer.errorHint.URL});break;case n.jPlayer.event.seeking:this._seeking();this._trigger(t);break;case n.jPlayer.event.seeked:this._seeked();this._trigger(t);break;case n.jPlayer.event.ready:break;default:this._trigger(t)}return!1},_getFlashStatus:function(n){this.status.seekPercent=n.seekPercent;this.status.currentPercentRelative=n.currentPercentRelative;this.status.currentPercentAbsolute=n.currentPercentAbsolute;this.status.currentTime=n.currentTime;this.status.duration=n.duration;this.status.remaining=n.duration-n.currentTime;this.status.videoWidth=n.videoWidth;this.status.videoHeight=n.videoHeight;this.status.readyState=4;this.status.networkState=0;this.status.playbackRate=1;this.status.ended=!1},_updateButtons:function(n){n===t?n=!this.status.paused:this.status.paused=!n;n?this.addStateClass("playing"):this.removeStateClass("playing");!this.status.noFullWindow&&this.options.fullWindow?this.addStateClass("fullScreen"):this.removeStateClass("fullScreen");this.options.loop?this.addStateClass("looped"):this.removeStateClass("looped");this.css.jq.play.length&&this.css.jq.pause.length&&(n?(this.css.jq.play.hide(),this.css.jq.pause.show()):(this.css.jq.play.show(),this.css.jq.pause.hide()));this.css.jq.restoreScreen.length&&this.css.jq.fullScreen.length&&(this.status.noFullWindow?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.hide()):this.options.fullWindow?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.show()):(this.css.jq.fullScreen.show(),this.css.jq.restoreScreen.hide()));this.css.jq.repeat.length&&this.css.jq.repeatOff.length&&(this.options.loop?(this.css.jq.repeat.hide(),this.css.jq.repeatOff.show()):(this.css.jq.repeat.show(),this.css.jq.repeatOff.hide()))},_updateInterface:function(){var t;this.css.jq.seekBar.length&&this.css.jq.seekBar.width(this.status.seekPercent+"%");this.css.jq.playBar.length&&(this.options.smoothPlayBar?this.css.jq.playBar.stop().animate({width:this.status.currentPercentAbsolute+"%"},250,"linear"):this.css.jq.playBar.width(this.status.currentPercentRelative+"%"));t="";this.css.jq.currentTime.length&&(t=this._convertTime(this.status.currentTime),t!==this.css.jq.currentTime.text()&&this.css.jq.currentTime.text(this._convertTime(this.status.currentTime)));var n="",i=this.status.duration,r=this.status.remaining;this.css.jq.duration.length&&("string"==typeof this.status.media.duration?n=this.status.media.duration:("number"==typeof this.status.media.duration&&(i=this.status.media.duration,r=i-this.status.currentTime),n=this.options.remainingDuration?(r>0?"-":"")+this._convertTime(r):this._convertTime(i)),n!==this.css.jq.duration.text()&&this.css.jq.duration.text(n))},_convertTime:r.prototype.time,_seeking:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.addClass("jp-seeking-bg");this.addStateClass("seeking")},_seeked:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.removeClass("jp-seeking-bg");this.removeStateClass("seeking")},_resetGate:function(){this.html.audio.gate=!1;this.html.video.gate=!1;this.aurora.gate=!1;this.flash.gate=!1},_resetActive:function(){this.html.active=!1;this.aurora.active=!1;this.flash.active=!1},_escapeHtml:function(n){return n.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split('"').join("&quot;")},_qualifyURL:function(n){var t=document.createElement("div");return t.innerHTML='<a href="'+this._escapeHtml(n)+'">x<\/a>',t.firstChild.href},_absoluteMediaUrls:function(t){var i=this;return n.each(t,function(n,r){r&&i.format[n]&&"data:"!==r.substr(0,5)&&(t[n]=i._qualifyURL(r))}),t},addStateClass:function(n){this.ancestorJq.length&&this.ancestorJq.addClass(this.options.stateClass[n])},removeStateClass:function(n){this.ancestorJq.length&&this.ancestorJq.removeClass(this.options.stateClass[n])},setMedia:function(t){var i=this,r=!1,u=this.status.media.poster!==t.poster;this._resetMedia();this._resetGate();this._resetActive();this.androidFix.setMedia=!1;this.androidFix.play=!1;this.androidFix.pause=!1;t=this._absoluteMediaUrls(t);n.each(this.formats,function(u,f){var e="video"===i.format[f].media;return n.each(i.solutions,function(u,o){if(i[o].support[f]&&i._validString(t[f])){var s="html"===o,h="aurora"===o;return e?(s?(i.html.video.gate=!0,i._html_setVideo(t),i.html.active=!0):(i.flash.gate=!0,i._flash_setVideo(t),i.flash.active=!0),i.css.jq.videoPlay.length&&i.css.jq.videoPlay.show(),i.status.video=!0):(s?(i.html.audio.gate=!0,i._html_setAudio(t),i.html.active=!0,n.jPlayer.platform.android&&(i.androidFix.setMedia=!0)):h?(i.aurora.gate=!0,i._aurora_setAudio(t),i.aurora.active=!0):(i.flash.gate=!0,i._flash_setAudio(t),i.flash.active=!0),i.css.jq.videoPlay.length&&i.css.jq.videoPlay.hide(),i.status.video=!1),r=!0,!1}}),r?!1:void 0});r?(this.status.nativeVideoControls&&this.html.video.gate||this._validString(t.poster)&&(u?this.htmlElement.poster.src=t.poster:this.internal.poster.jq.show()),"string"==typeof t.title&&(this.css.jq.title.length&&this.css.jq.title.html(t.title),this.htmlElement.audio&&this.htmlElement.audio.setAttribute("title",t.title),this.htmlElement.video&&this.htmlElement.video.setAttribute("title",t.title)),this.status.srcSet=!0,this.status.media=n.extend({},t),this._updateButtons(!1),this._updateInterface(),this._trigger(n.jPlayer.event.setmedia)):this._error({type:n.jPlayer.error.NO_SUPPORT,context:"{supplied:'"+this.options.supplied+"'}",message:n.jPlayer.errorMsg.NO_SUPPORT,hint:n.jPlayer.errorHint.NO_SUPPORT})},_resetMedia:function(){this._resetStatus();this._updateButtons(!1);this._updateInterface();this._seeked();this.internal.poster.jq.hide();clearTimeout(this.internal.htmlDlyCmdId);this.html.active?this._html_resetMedia():this.aurora.active?this._aurora_resetMedia():this.flash.active&&this._flash_resetMedia()},clearMedia:function(){this._resetMedia();this.html.active?this._html_clearMedia():this.aurora.active?this._aurora_clearMedia():this.flash.active&&this._flash_clearMedia();this._resetGate();this._resetActive()},load:function(){this.status.srcSet?this.html.active?this._html_load():this.aurora.active?this._aurora_load():this.flash.active&&this._flash_load():this._urlNotSetError("load")},focus:function(){this.options.keyEnabled&&(n.jPlayer.focus=this)},play:function(n){var t="object"==typeof n;t&&this.options.useStateClassSkin&&!this.status.paused?this.pause(n):(n="number"==typeof n?n:NaN,this.status.srcSet?(this.focus(),this.html.active?this._html_play(n):this.aurora.active?this._aurora_play(n):this.flash.active&&this._flash_play(n)):this._urlNotSetError("play"))},videoPlay:function(){this.play()},pause:function(n){n="number"==typeof n?n:NaN;this.status.srcSet?this.html.active?this._html_pause(n):this.aurora.active?this._aurora_pause(n):this.flash.active&&this._flash_pause(n):this._urlNotSetError("pause")},tellOthers:function(t,i){var r=this,u="function"==typeof i,f=Array.prototype.slice.call(arguments);"string"==typeof t&&(u&&f.splice(1,1),n.jPlayer.prototype.destroyRemoved(),n.each(this.instances,function(){r.element!==this&&(!u||i.call(this.data("jPlayer"),r))&&this.jPlayer.apply(this,f)}))},pauseOthers:function(n){this.tellOthers("pause",function(){return this.status.srcSet},n)},stop:function(){this.status.srcSet?this.html.active?this._html_pause(0):this.aurora.active?this._aurora_pause(0):this.flash.active&&this._flash_pause(0):this._urlNotSetError("stop")},playHead:function(n){n=this._limitValue(n,0,100);this.status.srcSet?this.html.active?this._html_playHead(n):this.aurora.active?this._aurora_playHead(n):this.flash.active&&this._flash_playHead(n):this._urlNotSetError("playHead")},_muted:function(n){this.mutedWorker(n);this.options.globalVolume&&this.tellOthers("mutedWorker",function(){return this.options.globalVolume},n)},mutedWorker:function(t){this.options.muted=t;this.html.used&&this._html_setProperty("muted",t);this.aurora.used&&this._aurora_mute(t);this.flash.used&&this._flash_mute(t);this.html.video.gate||this.html.audio.gate||(this._updateMute(t),this._updateVolume(this.options.volume),this._trigger(n.jPlayer.event.volumechange))},mute:function(n){var i="object"==typeof n;i&&this.options.useStateClassSkin&&this.options.muted?this._muted(!1):(n=n===t?!0:!!n,this._muted(n))},unmute:function(n){n=n===t?!0:!!n;this._muted(!n)},_updateMute:function(n){n===t&&(n=this.options.muted);n?this.addStateClass("muted"):this.removeStateClass("muted");this.css.jq.mute.length&&this.css.jq.unmute.length&&(this.status.noVolume?(this.css.jq.mute.hide(),this.css.jq.unmute.hide()):n?(this.css.jq.mute.hide(),this.css.jq.unmute.show()):(this.css.jq.mute.show(),this.css.jq.unmute.hide()))},volume:function(n){this.volumeWorker(n);this.options.globalVolume&&this.tellOthers("volumeWorker",function(){return this.options.globalVolume},n)},volumeWorker:function(t){t=this._limitValue(t,0,1);this.options.volume=t;this.html.used&&this._html_setProperty("volume",t);this.aurora.used&&this._aurora_volume(t);this.flash.used&&this._flash_volume(t);this.html.video.gate||this.html.audio.gate||(this._updateVolume(t),this._trigger(n.jPlayer.event.volumechange))},volumeBar:function(t){if(this.css.jq.volumeBar.length){var i=n(t.currentTarget),r=i.offset(),u=t.pageX-r.left,f=i.width(),e=i.height()-t.pageY+r.top,o=i.height();this.volume(this.options.verticalVolume?e/o:u/f)}this.options.muted&&this._muted(!1)},_updateVolume:function(n){n===t&&(n=this.options.volume);n=this.options.muted?0:n;this.status.noVolume?(this.addStateClass("noVolume"),this.css.jq.volumeBar.length&&this.css.jq.volumeBar.hide(),this.css.jq.volumeBarValue.length&&this.css.jq.volumeBarValue.hide(),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.hide()):(this.removeStateClass("noVolume"),this.css.jq.volumeBar.length&&this.css.jq.volumeBar.show(),this.css.jq.volumeBarValue.length&&(this.css.jq.volumeBarValue.show(),this.css.jq.volumeBarValue[this.options.verticalVolume?"height":"width"](100*n+"%")),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.show())},volumeMax:function(){this.volume(1);this.options.muted&&this._muted(!1)},_cssSelectorAncestor:function(t){var i=this;this.options.cssSelectorAncestor=t;this._removeUiClass();this.ancestorJq=t?n(t):[];t&&1!==this.ancestorJq.length&&this._warning({type:n.jPlayer.warning.CSS_SELECTOR_COUNT,context:t,message:n.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.ancestorJq.length+" found for cssSelectorAncestor.",hint:n.jPlayer.warningHint.CSS_SELECTOR_COUNT});this._addUiClass();n.each(this.options.cssSelector,function(n,t){i._cssSelector(n,t)});this._updateInterface();this._updateButtons();this._updateAutohide();this._updateVolume();this._updateMute()},_cssSelector:function(t,i){var r=this,u;"string"==typeof i?n.jPlayer.prototype.options.cssSelector[t]?((this.css.jq[t]&&this.css.jq[t].length&&this.css.jq[t].unbind(".jPlayer"),this.options.cssSelector[t]=i,this.css.cs[t]=this.options.cssSelectorAncestor+" "+i,this.css.jq[t]=i?n(this.css.cs[t]):[],this.css.jq[t].length&&this[t])&&(u=function(i){i.preventDefault();r[t](i);r.options.autoBlur?n(this).blur():n(this).focus()},this.css.jq[t].bind("click.jPlayer",u)),i&&1!==this.css.jq[t].length&&this._warning({type:n.jPlayer.warning.CSS_SELECTOR_COUNT,context:this.css.cs[t],message:n.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.css.jq[t].length+" found for "+t+" method.",hint:n.jPlayer.warningHint.CSS_SELECTOR_COUNT})):this._warning({type:n.jPlayer.warning.CSS_SELECTOR_METHOD,context:t,message:n.jPlayer.warningMsg.CSS_SELECTOR_METHOD,hint:n.jPlayer.warningHint.CSS_SELECTOR_METHOD}):this._warning({type:n.jPlayer.warning.CSS_SELECTOR_STRING,context:i,message:n.jPlayer.warningMsg.CSS_SELECTOR_STRING,hint:n.jPlayer.warningHint.CSS_SELECTOR_STRING})},duration:function(n){this.options.toggleDuration&&(this.options.captureDuration&&n.stopPropagation(),this._setOption("remainingDuration",!this.options.remainingDuration))},seekBar:function(t){if(this.css.jq.seekBar.length){var i=n(t.currentTarget),r=i.offset(),u=t.pageX-r.left,f=i.width(),e=100*u/f;this.playHead(e)}},playbackRate:function(n){this._setOption("playbackRate",n)},playbackRateBar:function(t){if(this.css.jq.playbackRateBar.length){var r,u,i=n(t.currentTarget),f=i.offset(),e=t.pageX-f.left,o=i.width(),s=i.height()-t.pageY+f.top,h=i.height();r=this.options.verticalPlaybackRate?s/h:e/o;u=r*(this.options.maxPlaybackRate-this.options.minPlaybackRate)+this.options.minPlaybackRate;this.playbackRate(u)}},_updatePlaybackRate:function(){var n=this.options.playbackRate,t=(n-this.options.minPlaybackRate)/(this.options.maxPlaybackRate-this.options.minPlaybackRate);this.status.playbackRateEnabled?(this.css.jq.playbackRateBar.length&&this.css.jq.playbackRateBar.show(),this.css.jq.playbackRateBarValue.length&&(this.css.jq.playbackRateBarValue.show(),this.css.jq.playbackRateBarValue[this.options.verticalPlaybackRate?"height":"width"](100*t+"%"))):(this.css.jq.playbackRateBar.length&&this.css.jq.playbackRateBar.hide(),this.css.jq.playbackRateBarValue.length&&this.css.jq.playbackRateBarValue.hide())},repeat:function(n){var t="object"==typeof n;this._loop(t&&this.options.useStateClassSkin&&this.options.loop?!1:!0)},repeatOff:function(){this._loop(!1)},_loop:function(t){this.options.loop!==t&&(this.options.loop=t,this._updateButtons(),this._trigger(n.jPlayer.event.repeat))},option:function(i,r){var h=i,u,e,o,s,f;if(0===arguments.length)return n.extend(!0,{},this.options);if("string"==typeof i){if(u=i.split("."),r===t){for(e=n.extend(!0,{},this.options),o=0;o<u.length;o++){if(e[u[o]]===t)return this._warning({type:n.jPlayer.warning.OPTION_KEY,context:i,message:n.jPlayer.warningMsg.OPTION_KEY,hint:n.jPlayer.warningHint.OPTION_KEY}),t;e=e[u[o]]}return e}for(h={},s=h,f=0;f<u.length;f++)f<u.length-1?(s[u[f]]={},s=s[u[f]]):s[u[f]]=r}return this._setOptions(h),this},_setOptions:function(t){var i=this;return n.each(t,function(n,t){i._setOption(n,t)}),this},_setOption:function(t,i){var u=this,r;switch(t){case"volume":this.volume(i);break;case"muted":this._muted(i);break;case"globalVolume":this.options[t]=i;break;case"cssSelectorAncestor":this._cssSelectorAncestor(i);break;case"cssSelector":n.each(i,function(n,t){u._cssSelector(n,t)});break;case"playbackRate":this.options[t]=i=this._limitValue(i,this.options.minPlaybackRate,this.options.maxPlaybackRate);this.html.used&&this._html_setProperty("playbackRate",i);this._updatePlaybackRate();break;case"defaultPlaybackRate":this.options[t]=i=this._limitValue(i,this.options.minPlaybackRate,this.options.maxPlaybackRate);this.html.used&&this._html_setProperty("defaultPlaybackRate",i);this._updatePlaybackRate();break;case"minPlaybackRate":this.options[t]=i=this._limitValue(i,.1,this.options.maxPlaybackRate-.1);this._updatePlaybackRate();break;case"maxPlaybackRate":this.options[t]=i=this._limitValue(i,this.options.minPlaybackRate+.1,16);this._updatePlaybackRate();break;case"fullScreen":this.options[t]!==i&&(r=n.jPlayer.nativeFeatures.fullscreen.used.webkitVideo,r&&(!r||this.status.waitForPlay)||(r||(this.options[t]=i),i?this._requestFullscreen():this._exitFullscreen(),r||this._setOption("fullWindow",i)));break;case"fullWindow":this.options[t]!==i&&(this._removeUiClass(),this.options[t]=i,this._refreshSize());break;case"size":this.options.fullWindow||this.options[t].cssClass===i.cssClass||this._removeUiClass();this.options[t]=n.extend({},this.options[t],i);this._refreshSize();break;case"sizeFull":this.options.fullWindow&&this.options[t].cssClass!==i.cssClass&&this._removeUiClass();this.options[t]=n.extend({},this.options[t],i);this._refreshSize();break;case"autohide":this.options[t]=n.extend({},this.options[t],i);this._updateAutohide();break;case"loop":this._loop(i);break;case"remainingDuration":this.options[t]=i;this._updateInterface();break;case"toggleDuration":this.options[t]=i;break;case"nativeVideoControls":this.options[t]=n.extend({},this.options[t],i);this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls);this._restrictNativeVideoControls();this._updateNativeVideoControls();break;case"noFullWindow":this.options[t]=n.extend({},this.options[t],i);this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls);this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow);this._restrictNativeVideoControls();this._updateButtons();break;case"noVolume":this.options[t]=n.extend({},this.options[t],i);this.status.noVolume=this._uaBlocklist(this.options.noVolume);this._updateVolume();this._updateMute();break;case"emulateHtml":this.options[t]!==i&&(this.options[t]=i,i?this._emulateHtmlBridge():this._destroyHtmlBridge());break;case"timeFormat":this.options[t]=n.extend({},this.options[t],i);break;case"keyEnabled":this.options[t]=i;i||this!==n.jPlayer.focus||(n.jPlayer.focus=null);break;case"keyBindings":this.options[t]=n.extend(!0,{},this.options[t],i);break;case"audioFullScreen":this.options[t]=i;break;case"autoBlur":this.options[t]=i}return this},_refreshSize:function(){this._setSize();this._addUiClass();this._updateSize();this._updateButtons();this._updateAutohide();this._trigger(n.jPlayer.event.resize)},_setSize:function(){this.options.fullWindow?(this.status.width=this.options.sizeFull.width,this.status.height=this.options.sizeFull.height,this.status.cssClass=this.options.sizeFull.cssClass):(this.status.width=this.options.size.width,this.status.height=this.options.size.height,this.status.cssClass=this.options.size.cssClass);this.element.css({width:this.status.width,height:this.status.height})},_addUiClass:function(){this.ancestorJq.length&&this.ancestorJq.addClass(this.status.cssClass)},_removeUiClass:function(){this.ancestorJq.length&&this.ancestorJq.removeClass(this.status.cssClass)},_updateSize:function(){this.internal.poster.jq.css({width:this.status.width,height:this.status.height});!this.status.waitForPlay&&this.html.active&&this.status.video||this.html.video.available&&this.html.used&&this.status.nativeVideoControls?this.internal.video.jq.css({width:this.status.width,height:this.status.height}):!this.status.waitForPlay&&this.flash.active&&this.status.video&&this.internal.flash.jq.css({width:this.status.width,height:this.status.height})},_updateAutohide:function(){var n=this,t=".jPlayerAutohide",i="mousemove.jPlayer"+t,r=function(t){var r,u,i=!1;"undefined"!=typeof n.internal.mouse?(r=n.internal.mouse.x-t.pageX,u=n.internal.mouse.y-t.pageY,i=Math.floor(r)>0||Math.floor(u)>0):i=!0;n.internal.mouse={x:t.pageX,y:t.pageY};i&&n.css.jq.gui.fadeIn(n.options.autohide.fadeIn,function(){clearTimeout(n.internal.autohideId);n.internal.autohideId=setTimeout(function(){n.css.jq.gui.fadeOut(n.options.autohide.fadeOut)},n.options.autohide.hold)})};this.css.jq.gui.length&&(this.css.jq.gui.stop(!0,!0),clearTimeout(this.internal.autohideId),delete this.internal.mouse,this.element.unbind(t),this.css.jq.gui.unbind(t),this.status.nativeVideoControls?this.css.jq.gui.hide():this.options.fullWindow&&this.options.autohide.full||!this.options.fullWindow&&this.options.autohide.restored?(this.element.bind(i,r),this.css.jq.gui.bind(i,r),this.css.jq.gui.hide()):this.css.jq.gui.show())},fullScreen:function(n){var t="object"==typeof n;t&&this.options.useStateClassSkin&&this.options.fullScreen?this._setOption("fullScreen",!1):this._setOption("fullScreen",!0)},restoreScreen:function(){this._setOption("fullScreen",!1)},_fullscreenAddEventListeners:function(){var i=this,t=n.jPlayer.nativeFeatures.fullscreen;t.api.fullscreenEnabled&&t.event.fullscreenchange&&("function"!=typeof this.internal.fullscreenchangeHandler&&(this.internal.fullscreenchangeHandler=function(){i._fullscreenchange()}),document.addEventListener(t.event.fullscreenchange,this.internal.fullscreenchangeHandler,!1))},_fullscreenRemoveEventListeners:function(){var t=n.jPlayer.nativeFeatures.fullscreen;this.internal.fullscreenchangeHandler&&document.removeEventListener(t.event.fullscreenchange,this.internal.fullscreenchangeHandler,!1)},_fullscreenchange:function(){this.options.fullScreen&&!n.jPlayer.nativeFeatures.fullscreen.api.fullscreenElement()&&this._setOption("fullScreen",!1)},_requestFullscreen:function(){var i=this.ancestorJq.length?this.ancestorJq[0]:this.element[0],t=n.jPlayer.nativeFeatures.fullscreen;t.used.webkitVideo&&(i=this.htmlElement.video);t.api.fullscreenEnabled&&t.api.requestFullscreen(i)},_exitFullscreen:function(){var i,t=n.jPlayer.nativeFeatures.fullscreen;t.used.webkitVideo&&(i=this.htmlElement.video);t.api.fullscreenEnabled&&t.api.exitFullscreen(i)},_html_initMedia:function(t){var i=n(this.htmlElement.media).empty();n.each(t.track||[],function(n,t){var r=document.createElement("track");r.setAttribute("kind",t.kind?t.kind:"");r.setAttribute("src",t.src?t.src:"");r.setAttribute("srclang",t.srclang?t.srclang:"");r.setAttribute("label",t.label?t.label:"");t.def&&r.setAttribute("default",t.def);i.append(r)});this.htmlElement.media.src=this.status.src;"none"!==this.options.preload&&this._html_load();this._trigger(n.jPlayer.event.timeupdate)},_html_setFormat:function(t){var i=this;n.each(this.formats,function(n,r){if(i.html.support[r]&&t[r])return(i.status.src=t[r],i.status.format[r]=!0,i.status.formatType=r,!1)})},_html_setAudio:function(n){this._html_setFormat(n);this.htmlElement.media=this.htmlElement.audio;this._html_initMedia(n)},_html_setVideo:function(n){this._html_setFormat(n);this.status.nativeVideoControls&&(this.htmlElement.video.poster=this._validString(n.poster)?n.poster:"");this.htmlElement.media=this.htmlElement.video;this._html_initMedia(n)},_html_resetMedia:function(){this.htmlElement.media&&(this.htmlElement.media.id!==this.internal.video.id||this.status.nativeVideoControls||this.internal.video.jq.css({width:"0px",height:"0px"}),this.htmlElement.media.pause())},_html_clearMedia:function(){this.htmlElement.media&&(this.htmlElement.media.src="about:blank",this.htmlElement.media.load())},_html_load:function(){this.status.waitForLoad&&(this.status.waitForLoad=!1,this.htmlElement.media.load());clearTimeout(this.internal.htmlDlyCmdId)},_html_play:function(n){var i=this,t=this.htmlElement.media;if(this.androidFix.pause=!1,this._html_load(),this.androidFix.setMedia)this.androidFix.play=!0,this.androidFix.time=n;else if(isNaN(n))t.play();else{this.internal.cmdsIgnored&&t.play();try{if(t.seekable&&!("object"==typeof t.seekable&&t.seekable.length>0))throw 1;t.currentTime=n;t.play()}catch(r){return void(this.internal.htmlDlyCmdId=setTimeout(function(){i.play(n)},250))}}this._html_checkWaitForPlay()},_html_pause:function(n){var i=this,t=this.htmlElement.media;if(this.androidFix.play=!1,n>0?this._html_load():clearTimeout(this.internal.htmlDlyCmdId),t.pause(),this.androidFix.setMedia)this.androidFix.pause=!0,this.androidFix.time=n;else if(!isNaN(n))try{if(t.seekable&&!("object"==typeof t.seekable&&t.seekable.length>0))throw 1;t.currentTime=n}catch(r){return void(this.internal.htmlDlyCmdId=setTimeout(function(){i.pause(n)},250))}n>0&&this._html_checkWaitForPlay()},_html_playHead:function(n){var i=this,t=this.htmlElement.media;this._html_load();try{if("object"==typeof t.seekable&&t.seekable.length>0)t.currentTime=n*t.seekable.end(t.seekable.length-1)/100;else{if(!(t.duration>0)||isNaN(t.duration))throw"e";t.currentTime=n*t.duration/100}}catch(r){return void(this.internal.htmlDlyCmdId=setTimeout(function(){i.playHead(n)},250))}this.status.waitForLoad||this._html_checkWaitForPlay()},_html_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})))},_html_setProperty:function(n,t){this.html.audio.available&&(this.htmlElement.audio[n]=t);this.html.video.available&&(this.htmlElement.video[n]=t)},_aurora_setAudio:function(t){var i=this;n.each(this.formats,function(n,r){if(i.aurora.support[r]&&t[r])return(i.status.src=t[r],i.status.format[r]=!0,i.status.formatType=r,!1)});this.aurora.player=new AV.Player.fromURL(this.status.src);this._addAuroraEventListeners(this.aurora.player,this.aurora);"auto"===this.options.preload&&(this._aurora_load(),this.status.waitForLoad=!1)},_aurora_resetMedia:function(){this.aurora.player&&this.aurora.player.stop()},_aurora_clearMedia:function(){},_aurora_load:function(){this.status.waitForLoad&&(this.status.waitForLoad=!1,this.aurora.player.preload())},_aurora_play:function(t){this.status.waitForLoad||isNaN(t)||this.aurora.player.seek(t);this.aurora.player.playing||this.aurora.player.play();this.status.waitForLoad=!1;this._aurora_checkWaitForPlay();this._updateButtons(!0);this._trigger(n.jPlayer.event.play)},_aurora_pause:function(t){isNaN(t)||this.aurora.player.seek(1e3*t);this.aurora.player.pause();t>0&&this._aurora_checkWaitForPlay();this._updateButtons(!1);this._trigger(n.jPlayer.event.pause)},_aurora_playHead:function(n){this.aurora.player.duration>0&&this.aurora.player.seek(n*this.aurora.player.duration/100);this.status.waitForLoad||this._aurora_checkWaitForPlay()},_aurora_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1)},_aurora_volume:function(n){this.aurora.player.volume=100*n},_aurora_mute:function(n){n?(this.aurora.properties.lastvolume=this.aurora.player.volume,this.aurora.player.volume=0):this.aurora.player.volume=this.aurora.properties.lastvolume;this.aurora.properties.muted=n},_flash_setAudio:function(t){var i=this;try{n.each(this.formats,function(n,r){if(i.flash.support[r]&&t[r]){switch(r){case"m4a":case"fla":i._getMovie().fl_setAudio_m4a(t[r]);break;case"mp3":i._getMovie().fl_setAudio_mp3(t[r]);break;case"rtmpa":i._getMovie().fl_setAudio_rtmp(t[r])}return i.status.src=t[r],i.status.format[r]=!0,i.status.formatType=r,!1}});"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(r){this._flashError(r)}},_flash_setVideo:function(t){var i=this;try{n.each(this.formats,function(n,r){if(i.flash.support[r]&&t[r]){switch(r){case"m4v":case"flv":i._getMovie().fl_setVideo_m4v(t[r]);break;case"rtmpv":i._getMovie().fl_setVideo_rtmp(t[r])}return i.status.src=t[r],i.status.format[r]=!0,i.status.formatType=r,!1}});"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(r){this._flashError(r)}},_flash_resetMedia:function(){this.internal.flash.jq.css({width:"0px",height:"0px"});this._flash_pause(NaN)},_flash_clearMedia:function(){try{this._getMovie().fl_clearMedia()}catch(n){this._flashError(n)}},_flash_load:function(){try{this._getMovie().fl_load()}catch(n){this._flashError(n)}this.status.waitForLoad=!1},_flash_play:function(n){try{this._getMovie().fl_play(n)}catch(t){this._flashError(t)}this.status.waitForLoad=!1;this._flash_checkWaitForPlay()},_flash_pause:function(n){try{this._getMovie().fl_pause(n)}catch(t){this._flashError(t)}n>0&&(this.status.waitForLoad=!1,this._flash_checkWaitForPlay())},_flash_playHead:function(n){try{this._getMovie().fl_play_head(n)}catch(t){this._flashError(t)}this.status.waitForLoad||this._flash_checkWaitForPlay()},_flash_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.flash.jq.css({width:this.status.width,height:this.status.height})))},_flash_volume:function(n){try{this._getMovie().fl_volume(n)}catch(t){this._flashError(t)}},_flash_mute:function(n){try{this._getMovie().fl_mute(n)}catch(t){this._flashError(t)}},_getMovie:function(){return document[this.internal.flash.id]},_getFlashPluginVersion:function(){var t,i=0,n;if(window.ActiveXObject)try{(t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))&&(n=t.GetVariable("$version"),n&&(n=n.split(" ")[1].split(","),i=parseInt(n[0],10)+"."+parseInt(n[1],10)))}catch(r){}else navigator.plugins&&navigator.mimeTypes.length>0&&(t=navigator.plugins["Shockwave Flash"],t&&(i=navigator.plugins["Shockwave Flash"].description.replace(/.*\s(\d+\.\d+).*/,"$1")));return 1*i},_checkForFlash:function(n){var t=!1;return this._getFlashPluginVersion()>=n&&(t=!0),t},_validString:function(n){return n&&"string"==typeof n},_limitValue:function(n,t,i){return t>n?t:n>i?i:n},_urlNotSetError:function(t){this._error({type:n.jPlayer.error.URL_NOT_SET,context:t,message:n.jPlayer.errorMsg.URL_NOT_SET,hint:n.jPlayer.errorHint.URL_NOT_SET})},_flashError:function(t){var i;i=this.internal.ready?"FLASH_DISABLED":"FLASH";this._error({type:n.jPlayer.error[i],context:this.internal.flash.swf,message:n.jPlayer.errorMsg[i]+t.message,hint:n.jPlayer.errorHint[i]});this.internal.flash.jq.css({width:"1px",height:"1px"})},_error:function(t){this._trigger(n.jPlayer.event.error,t);this.options.errorAlerts&&this._alert("Error!"+(t.message?"\n"+t.message:"")+(t.hint?"\n"+t.hint:"")+"\nContext: "+t.context)},_warning:function(i){this._trigger(n.jPlayer.event.warning,t,i);this.options.warningAlerts&&this._alert("Warning!"+(i.message?"\n"+i.message:"")+(i.hint?"\n"+i.hint:"")+"\nContext: "+i.context)},_alert:function(n){var t="jPlayer "+this.version.script+" : id='"+this.internal.self.id+"' : "+n;this.options.consoleAlerts?window.console&&window.console.log&&window.console.log(t):alert(t)},_emulateHtmlBridge:function(){var t=this;n.each(n.jPlayer.emulateMethods.split(/\s+/g),function(n,i){t.internal.domNode[i]=function(n){t[i](n)}});n.each(n.jPlayer.event,function(i,r){var u=!0;n.each(n.jPlayer.reservedEvent.split(/\s+/g),function(n,t){if(t===i)return(u=!1,!1)});u&&t.element.bind(r+".jPlayer.jPlayerHtml",function(){t._emulateHtmlUpdate();var n=document.createEvent("Event");n.initEvent(i,!1,!0);t.internal.domNode.dispatchEvent(n)})})},_emulateHtmlUpdate:function(){var t=this;n.each(n.jPlayer.emulateStatus.split(/\s+/g),function(n,i){t.internal.domNode[i]=t.status[i]});n.each(n.jPlayer.emulateOptions.split(/\s+/g),function(n,i){t.internal.domNode[i]=t.options[i]})},_destroyHtmlBridge:function(){var i=this,t;this.element.unbind(".jPlayerHtml");t=n.jPlayer.emulateMethods+" "+n.jPlayer.emulateStatus+" "+n.jPlayer.emulateOptions;n.each(t.split(/\s+/g),function(n,t){delete i.internal.domNode[t]})}};n.jPlayer.error={FLASH:"e_flash",FLASH_DISABLED:"e_flash_disabled",NO_SOLUTION:"e_no_solution",NO_SUPPORT:"e_no_support",URL:"e_url",URL_NOT_SET:"e_url_not_set",VERSION:"e_version"};n.jPlayer.errorMsg={FLASH:"jPlayer's Flash fallback is not configured correctly, or a command was issued before the jPlayer Ready event. Details: ",FLASH_DISABLED:"jPlayer's Flash fallback has been disabled by the browser due to the CSS rules you have used. Details: ",NO_SOLUTION:"No solution can be found by jPlayer in this browser. Neither HTML nor Flash can be used.",NO_SUPPORT:"It is not possible to play any media format provided in setMedia() on this browser using your current options.",URL:"Media URL could not be loaded.",URL_NOT_SET:"Attempt to issue media playback commands, while no media url is set.",VERSION:"jPlayer "+n.jPlayer.prototype.version.script+" needs Jplayer.swf version "+n.jPlayer.prototype.version.needFlash+" but found "};n.jPlayer.errorHint={FLASH:"Check your swfPath option and that Jplayer.swf is there.",FLASH_DISABLED:"Check that you have not display:none; the jPlayer entity or any ancestor.",NO_SOLUTION:"Review the jPlayer options: support and supplied.",NO_SUPPORT:"Video or audio formats defined in the supplied option are missing.",URL:"Check media URL is valid.",URL_NOT_SET:"Use setMedia() to set the media URL.",VERSION:"Update jPlayer files."};n.jPlayer.warning={CSS_SELECTOR_COUNT:"e_css_selector_count",CSS_SELECTOR_METHOD:"e_css_selector_method",CSS_SELECTOR_STRING:"e_css_selector_string",OPTION_KEY:"e_option_key"};n.jPlayer.warningMsg={CSS_SELECTOR_COUNT:"The number of css selectors found did not equal one: ",CSS_SELECTOR_METHOD:"The methodName given in jPlayer('cssSelector') is not a valid jPlayer method.",CSS_SELECTOR_STRING:"The methodCssSelector given in jPlayer('cssSelector') is not a String or is empty.",OPTION_KEY:"The option requested in jPlayer('option') is undefined."};n.jPlayer.warningHint={CSS_SELECTOR_COUNT:"Check your css selector and the ancestor.",CSS_SELECTOR_METHOD:"Check your method name.",CSS_SELECTOR_STRING:"Check your css selector is a string.",OPTION_KEY:"Check your option name."}}),function(n){n.fn.qrcode=function(t){function c(n){this.mode=s;this.data=n}function f(n,t){this.typeNumber=n;this.errorCorrectLevel=t;this.modules=null;this.moduleCount=0;this.dataCache=null;this.dataList=[]}function o(n,t){var i,r;if(void 0==n.length)throw Error(n.length+"/"+t);for(i=0;i<n.length&&0==n[i];)i++;for(this.num=Array(n.length-i+t),r=0;r<n.length-i;r++)this.num[r]=n[r+i]}function e(n,t){this.totalCount=n;this.dataCount=t}function h(){this.buffer=[];this.length=0}var s;c.prototype={getLength:function(){return this.data.length},write:function(n){for(var t=0;t<this.data.length;t++)n.put(this.data.charCodeAt(t),8)}};f.prototype={addData:function(n){this.dataList.push(new c(n));this.dataCache=null},isDark:function(n,t){if(0>n||this.moduleCount<=n||0>t||this.moduleCount<=t)throw Error(n+","+t);return this.modules[n][t]},getModuleCount:function(){return this.moduleCount},make:function(){var n;if(1>this.typeNumber){for(n=1,n=1;40>n;n++){for(var t=e.getRSBlocks(n,this.errorCorrectLevel),u=new h,f=0,r=0;r<t.length;r++)f+=t[r].dataCount;for(r=0;r<this.dataList.length;r++)t=this.dataList[r],u.put(t.mode,4),u.put(t.getLength(),i.getLengthInBits(t.mode,n)),t.write(u);if(u.getLengthInBits()<=8*f)break}this.typeNumber=n}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(n,t){var i,r;for(this.moduleCount=4*this.typeNumber+17,this.modules=Array(this.moduleCount),i=0;i<this.moduleCount;i++)for(this.modules[i]=Array(this.moduleCount),r=0;r<this.moduleCount;r++)this.modules[i][r]=null;this.setupPositionProbePattern(0,0);this.setupPositionProbePattern(this.moduleCount-7,0);this.setupPositionProbePattern(0,this.moduleCount-7);this.setupPositionAdjustPattern();this.setupTimingPattern();this.setupTypeInfo(n,t);7<=this.typeNumber&&this.setupTypeNumber(n);null==this.dataCache&&(this.dataCache=f.createData(this.typeNumber,this.errorCorrectLevel,this.dataList));this.mapData(this.dataCache,t)},setupPositionProbePattern:function(n,t){for(var r,i=-1;7>=i;i++)if(!(-1>=n+i||this.moduleCount<=n+i))for(r=-1;7>=r;r++)-1>=t+r||this.moduleCount<=t+r||(this.modules[n+i][t+r]=0<=i&&6>=i&&(0==r||6==r)||0<=r&&6>=r&&(0==i||6==i)||2<=i&&4>=i&&2<=r&&4>=r?!0:!1)},getBestMaskPattern:function(){for(var t,r=0,u=0,n=0;8>n;n++)this.makeImpl(!0,n),t=i.getLostPoint(this),(0==n||r>t)&&(r=t,u=n);return u},createMovieClip:function(n,t,i){var i,r,u;for(n=n.createEmptyMovieClip(t,i),this.make(),t=0;t<this.modules.length;t++)for(i=1*t,r=0;r<this.modules[t].length;r++)u=1*r,this.modules[t][r]&&(n.beginFill(0,100),n.moveTo(u,i),n.lineTo(u+1,i),n.lineTo(u+1,i+1),n.lineTo(u,i+1),n.endFill());return n},setupTimingPattern:function(){for(var n=8;n<this.moduleCount-8;n++)null==this.modules[n][6]&&(this.modules[n][6]=0==n%2);for(n=8;n<this.moduleCount-8;n++)null==this.modules[6][n]&&(this.modules[6][n]=0==n%2)},setupPositionAdjustPattern:function(){for(var f,e,o,n,t,r=i.getPatternPosition(this.typeNumber),u=0;u<r.length;u++)for(f=0;f<r.length;f++)if(e=r[u],o=r[f],null==this.modules[e][o])for(n=-2;2>=n;n++)for(t=-2;2>=t;t++)this.modules[e+n][o+t]=-2==n||2==n||-2==t||2==t||0==n&&0==t?!0:!1},setupTypeNumber:function(n){for(var r,u=i.getBCHTypeNumber(this.typeNumber),t=0;18>t;t++)r=!n&&1==(u>>t&1),this.modules[Math.floor(t/3)][t%3+this.moduleCount-11]=r;for(t=0;18>t;t++)r=!n&&1==(u>>t&1),this.modules[t%3+this.moduleCount-11][Math.floor(t/3)]=r},setupTypeInfo:function(n,t){for(var u,f=i.getBCHTypeInfo(this.errorCorrectLevel<<3|t),r=0;15>r;r++)u=!n&&1==(f>>r&1),6>r?this.modules[r][8]=u:8>r?this.modules[r+1][8]=u:this.modules[this.moduleCount-15+r][8]=u;for(r=0;15>r;r++)u=!n&&1==(f>>r&1),8>r?this.modules[8][this.moduleCount-r-1]=u:9>r?this.modules[8][15-r]=u:this.modules[8][14-r]=u;this.modules[this.moduleCount-8][8]=!n},mapData:function(n,t){for(var f,e,o=-1,r=this.moduleCount-1,s=7,h=0,u=this.moduleCount-1;0<u;u-=2)for(6==u&&u--;;){for(f=0;2>f;f++)null==this.modules[r][u-f]&&(e=!1,h<n.length&&(e=1==(n[h]>>>s&1)),i.getMask(t,r,u-f)&&(e=!e),this.modules[r][u-f]=e,s--,-1==s&&(h++,s=7));if(r+=o,0>r||this.moduleCount<=r){r-=o;o=-o;break}}}};f.PAD0=236;f.PAD1=17;f.createData=function(n,t,r){for(var s,t=e.getRSBlocks(n,t),u=new h,o=0;o<r.length;o++)s=r[o],u.put(s.mode,4),u.put(s.getLength(),i.getLengthInBits(s.mode,n)),s.write(u);for(o=n=0;o<t.length;o++)n+=t[o].dataCount;if(u.getLengthInBits()>8*n)throw Error("code length overflow. ("+u.getLengthInBits()+">"+8*n+")");for(u.getLengthInBits()+4<=8*n&&u.put(0,4);0!=u.getLengthInBits()%8;)u.putBit(!1);for(;!(u.getLengthInBits()>=8*n);){if(u.put(f.PAD0,8),u.getLengthInBits()>=8*n)break;u.put(f.PAD1,8)}return f.createBytes(u,t)};f.createBytes=function(n,t){for(var r,e=0,l=0,a=0,s=Array(t.length),h=Array(t.length),u=0;u<t.length;u++){var f=t[u].dataCount,c=t[u].totalCount-f,l=Math.max(l,f),a=Math.max(a,c);for(s[u]=Array(f),r=0;r<s[u].length;r++)s[u][r]=255&n.buffer[r+e];for(e+=f,r=i.getErrorCorrectPolynomial(c),f=new o(s[u],r.getLength()-1).mod(r),h[u]=Array(r.getLength()-1),r=0;r<h[u].length;r++)c=r+f.getLength()-h[u].length,h[u][r]=0<=c?f.get(c):0}for(r=u=0;r<t.length;r++)u+=t[r].totalCount;for(e=Array(u),r=f=0;r<l;r++)for(u=0;u<t.length;u++)r<s[u].length&&(e[f++]=s[u][r]);for(r=0;r<a;r++)for(u=0;u<t.length;u++)r<h[u].length&&(e[f++]=h[u][r]);return e};s=4;for(var i={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(n){for(var t=n<<10;0<=i.getBCHDigit(t)-i.getBCHDigit(i.G15);)t^=i.G15<<i.getBCHDigit(t)-i.getBCHDigit(i.G15);return(n<<10|t)^i.G15_MASK},getBCHTypeNumber:function(n){for(var t=n<<12;0<=i.getBCHDigit(t)-i.getBCHDigit(i.G18);)t^=i.G18<<i.getBCHDigit(t)-i.getBCHDigit(i.G18);return n<<12|t},getBCHDigit:function(n){for(var t=0;0!=n;)t++,n>>>=1;return t},getPatternPosition:function(n){return i.PATTERN_POSITION_TABLE[n-1]},getMask:function(n,t,i){switch(n){case 0:return 0==(t+i)%2;case 1:return 0==t%2;case 2:return 0==i%3;case 3:return 0==(t+i)%3;case 4:return 0==(Math.floor(t/2)+Math.floor(i/3))%2;case 5:return 0==t*i%2+t*i%3;case 6:return 0==(t*i%2+t*i%3)%2;case 7:return 0==(t*i%3+(t+i)%2)%2;default:throw Error("bad maskPattern:"+n);}},getErrorCorrectPolynomial:function(n){for(var t=new o([1],0),i=0;i<n;i++)t=t.multiply(new o([1,r.gexp(i)],0));return t},getLengthInBits:function(n,t){if(1<=t&&10>t)switch(n){case 1:return 10;case 2:return 9;case s:return 8;case 8:return 8;default:throw Error("mode:"+n);}else if(27>t)switch(n){case 1:return 12;case 2:return 11;case s:return 16;case 8:return 10;default:throw Error("mode:"+n);}else if(41>t)switch(n){case 1:return 14;case 2:return 13;case s:return 16;case 8:return 12;default:throw Error("mode:"+n);}else throw Error("type:"+t);},getLostPoint:function(n){for(var t,f,r=n.getModuleCount(),o=0,i=0;i<r;i++)for(t=0;t<r;t++){for(var u=0,s=n.isDark(i,t),e=-1;1>=e;e++)if(!(0>i+e||r<=i+e))for(f=-1;1>=f;f++)0>t+f||r<=t+f||0==e&&0==f||s==n.isDark(i+e,t+f)&&u++;5<u&&(o+=3+u-5)}for(i=0;i<r-1;i++)for(t=0;t<r-1;t++)(u=0,n.isDark(i,t)&&u++,n.isDark(i+1,t)&&u++,n.isDark(i,t+1)&&u++,n.isDark(i+1,t+1)&&u++,0==u||4==u)&&(o+=3);for(i=0;i<r;i++)for(t=0;t<r-6;t++)n.isDark(i,t)&&!n.isDark(i,t+1)&&n.isDark(i,t+2)&&n.isDark(i,t+3)&&n.isDark(i,t+4)&&!n.isDark(i,t+5)&&n.isDark(i,t+6)&&(o+=40);for(t=0;t<r;t++)for(i=0;i<r-6;i++)n.isDark(i,t)&&!n.isDark(i+1,t)&&n.isDark(i+2,t)&&n.isDark(i+3,t)&&n.isDark(i+4,t)&&!n.isDark(i+5,t)&&n.isDark(i+6,t)&&(o+=40);for(t=u=0;t<r;t++)for(i=0;i<r;i++)n.isDark(i,t)&&u++;return n=Math.abs(100*u/r/r-50)/5,o+10*n}},r={glog:function(n){if(1>n)throw Error("glog("+n+")");return r.LOG_TABLE[n]},gexp:function(n){for(;0>n;)n+=255;for(;256<=n;)n-=255;return r.EXP_TABLE[n]},EXP_TABLE:Array(256),LOG_TABLE:Array(256)},u=0;8>u;u++)r.EXP_TABLE[u]=1<<u;for(u=8;256>u;u++)r.EXP_TABLE[u]=r.EXP_TABLE[u-4]^r.EXP_TABLE[u-5]^r.EXP_TABLE[u-6]^r.EXP_TABLE[u-8];for(u=0;255>u;u++)r.LOG_TABLE[r.EXP_TABLE[u]]=u;return o.prototype={get:function(n){return this.num[n]},getLength:function(){return this.num.length},multiply:function(n){for(var i,u=Array(this.getLength()+n.getLength()-1),t=0;t<this.getLength();t++)for(i=0;i<n.getLength();i++)u[t+i]^=r.gexp(r.glog(this.get(t))+r.glog(n.get(i)));return new o(u,0)},mod:function(n){if(0>this.getLength()-n.getLength())return this;for(var u=r.glog(this.get(0))-r.glog(n.get(0)),i=Array(this.getLength()),t=0;t<this.getLength();t++)i[t]=this.get(t);for(t=0;t<n.getLength();t++)i[t]^=r.gexp(r.glog(n.get(t))+u);return new o(i,0).mod(n)}},e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(n,t){var i=e.getRsBlockTable(n,t);if(void 0==i)throw Error("bad rs block @ typeNumber:"+n+"/errorCorrectLevel:"+t);for(var o=i.length/3,u=[],r=0;r<o;r++)for(var s=i[3*r+0],h=i[3*r+1],c=i[3*r+2],f=0;f<s;f++)u.push(new e(h,c));return u},e.getRsBlockTable=function(n,t){switch(t){case 1:return e.RS_BLOCK_TABLE[4*(n-1)+0];case 0:return e.RS_BLOCK_TABLE[4*(n-1)+1];case 3:return e.RS_BLOCK_TABLE[4*(n-1)+2];case 2:return e.RS_BLOCK_TABLE[4*(n-1)+3]}},h.prototype={get:function(n){return 1==(this.buffer[Math.floor(n/8)]>>>7-n%8&1)},put:function(n,t){for(var i=0;i<t;i++)this.putBit(1==(n>>>t-i-1&1))},getLengthInBits:function(){return this.length},putBit:function(n){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0);n&&(this.buffer[t]|=128>>>this.length%8);this.length++}},"string"==typeof t&&(t={text:t}),t=n.extend({},{render:"canvas",width:256,height:256,typeNumber:-1,correctLevel:2,background:"#ffffff",foreground:"#000000"},t),this.each(function(){var i,e,r,c,l;if("canvas"==t.render){i=new f(t.typeNumber,t.correctLevel);i.addData(t.text);i.make();e=document.createElement("canvas");e.width=t.width;e.height=t.height;for(var h=e.getContext("2d"),o=t.width/i.getModuleCount(),s=t.height/i.getModuleCount(),u=0;u<i.getModuleCount();u++)for(r=0;r<i.getModuleCount();r++)h.fillStyle=i.isDark(u,r)?t.foreground:t.background,c=Math.ceil((r+1)*o)-Math.floor(r*o),l=Math.ceil((u+1)*o)-Math.floor(u*o),h.fillRect(Math.round(r*o),Math.round(u*s),c,l)}else for(i=new f(t.typeNumber,t.correctLevel),i.addData(t.text),i.make(),e=n("<table><\/table>").css("width",t.width+"px").css("height",t.height+"px").css("border","0px").css("border-collapse","collapse").css("background-color",t.background),h=t.width/i.getModuleCount(),o=t.height/i.getModuleCount(),s=0;s<i.getModuleCount();s++)for(u=n("<tr><\/tr>").css("height",o+"px").appendTo(e),r=0;r<i.getModuleCount();r++)n("<td><\/td>").css("width",h+"px").css("background-color",i.isDark(s,r)?t.foreground:t.background).appendTo(u);i=e;jQuery(i).appendTo(this)})}}(jQuery),function(){"undefined"==typeof Math.sgn&&(Math.sgn=function(n){return 0==n?0:n>0?1:-1});var n={subtract:function(n,t){return{x:n.x-t.x,y:n.y-t.y}},dotProduct:function(n,t){return n.x*t.x+n.y*t.y},square:function(n){return Math.sqrt(n.x*n.x+n.y*n.y)},scale:function(n,t){return{x:n.x*t,y:n.y*t}}},e=64,l=Math.pow(2,-e-1),o=function(t,i){for(var f,h=[],a=v(t,i),c=i.length-1,y=2*c-1,p=r(a,y,h,0),e=n.subtract(t,i[0]),o=n.square(e),l=0,s=0;p>s;s++)e=n.subtract(t,u(i,c,h[s],null,null)),f=n.square(e),o>f&&(o=f,l=h[s]);return e=n.subtract(t,i[c]),f=n.square(e),o>f&&(o=f,l=1),{location:l,distance:o}},a=function(n,t){var i=o(n,t);return{point:u(t,t.length-1,i.location,null,null),location:i.location}},v=function(t,i){for(var f,o,p,w,u=i.length-1,l=2*u-1,a=[],h=[],c=[],e=[],b=[[1,.6,.3,.1],[.4,.6,.6,.4],[.1,.3,.6,1]],r=0;u>=r;r++)a[r]=n.subtract(i[r],t);for(r=0;u-1>=r;r++)h[r]=n.subtract(i[r+1],i[r]),h[r]=n.scale(h[r],3);for(f=0;u-1>=f;f++)for(o=0;u>=o;o++)c[f]||(c[f]=[]),c[f][o]=n.dotProduct(h[f],a[o]);for(r=0;l>=r;r++)e[r]||(e[r]=[]),e[r].y=0,e[r].x=parseFloat(r)/l;for(var v=u,y=u-1,s=0;v+y>=s;s++)for(p=Math.max(0,s-y),w=Math.min(s,v),r=p;w>=r;r++)j=s-r,e[r+j].y+=c[j][r]*b[j][r];return e},r=function(n,t,i,f){var s,h,c=[],l=[],a=[],v=[],o;switch(y(n,t)){case 0:return 0;case 1:if(f>=e)return i[0]=(n[0].x+n[t].x)/2,1;if(p(n,t))return i[0]=w(n,t),1}for(u(n,t,.5,c,l),s=r(c,t,a,f+1),h=r(l,t,v,f+1),o=0;s>o;o++)i[o]=a[o];for(o=0;h>o;o++)i[o+s]=v[o];return s+h},y=function(n,t){for(var u,f=0,i=u=Math.sgn(n[0].y),r=1;t>=r;r++)i=Math.sgn(n[r].y),i!=u&&f++,u=i;return f},p=function(n,t){var d,p,w,g,nt,e,o,s,h,c,b,r,k,a,i,v,y,u,f;for(e=n[0].y-n[t].y,o=n[t].x-n[0].x,s=n[0].x*n[t].y-n[t].x*n[0].y,y=max_distance_below=0,u=1;t>u;u++)f=e*n[u].x+o*n[u].y+s,f>y?y=f:max_distance_below>f&&(max_distance_below=f);return b=0,r=1,k=0,a=e,i=o,v=s-y,h=b*i-a*r,c=1/h,p=(r*v-i*k)*c,a=e,i=o,v=s-max_distance_below,h=b*i-a*r,c=1/h,w=(r*v-i*k)*c,g=Math.min(p,w),nt=Math.max(p,w),d=nt-g,l>d?1:0},w=function(n,t){var i=1,r=n[t].x-n[0].x,u=n[t].y-n[0].y,f=n[0].x-0,e=n[0].y-0,o=r*0-u*i,s=1/o,h=(r*e-u*f)*s;return 0+i*h},u=function(n,t,i,r,u){for(var o,e=[[]],f=0;t>=f;f++)e[0][f]=n[f];for(o=1;t>=o;o++)for(f=0;t-o>=f;f++)e[o]||(e[o]=[]),e[o][f]||(e[o][f]={}),e[o][f].x=(1-i)*e[o-1][f].x+i*e[o-1][f+1].x,e[o][f].y=(1-i)*e[o-1][f].y+i*e[o-1][f+1].y;if(null!=r)for(f=0;t>=f;f++)r[f]=e[f][0];if(null!=u)for(f=0;t>=f;f++)u[f]=e[t-f][f];return e[t][0]},s={},b=function(n){var t=s[n],r,u,i;if(!t){t=[];var f=function(){return function(t){return Math.pow(t,n)}},e=function(){return function(t){return Math.pow(1-t,n)}},o=function(n){return function(){return n}},h=function(){return function(n){return n}},c=function(){return function(n){return 1-n}},l=function(n){return function(t){for(var r=1,i=0;i<n.length;i++)r*=n[i](t);return r}};for(t.push(new f),r=1;n>r;r++){for(u=[new o(n)],i=0;n-r>i;i++)u.push(new h);for(i=0;r>i;i++)u.push(new c);t.push(new l(u))}t.push(new e);s[n]=t}return t},t=function(n,t){for(var r=b(n.length-1),u=0,f=0,i=0;i<n.length;i++)u+=n[i].x*r[i](t),f+=n[i].y*r[i](t);return{x:u,y:f}},h=function(n,t){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))},c=function(n){return n[0].x==n[1].x&&n[0].y==n[1].y},i=function(n,i,r){if(c(n))return{point:n[0],location:i};for(var e=t(n,i),o=0,f=i,s=r>0?1:-1,u=null;o<Math.abs(r);)f+=.005*s,u=t(n,f),o+=h(u,e),e=u;return{point:u,location:f}},k=function(n){if(c(n))return 0;for(var u=t(n,0),f=0,i=0,r=null;1>i;)i+=.005*1,r=t(n,i),f+=h(r,u),u=r;return f},d=function(n,t,r){return i(n,t,r).point},g=function(n,t,r){return i(n,t,r).location},f=function(n,i){var r=t(n,i),u=t(n.slice(0,n.length-1),i),f=u.y-r.y,e=u.x-r.x;return 0==f?1/0:Math.atan(f/e)},nt=function(n,t,r){var u=i(n,t,r);return u.location>1&&(u.location=1),u.location<0&&(u.location=0),f(n,u.location)},tt=function(n,t,r,u){u=null==u?0:u;var e=i(n,t,u),c=f(n,e.location),o=Math.atan(-1/c),s=r/2*Math.sin(o),h=r/2*Math.cos(o);return[{x:e.point.x+h,y:e.point.y+s},{x:e.point.x-h,y:e.point.y-s}]};this.jsBezier={distanceFromCurve:o,gradientAtPoint:f,gradientAtPointAlongCurveFrom:nt,nearestPointOnCurve:a,pointOnCurve:t,pointAlongCurveFrom:d,perpendicularToCurveAt:tt,locationAlongCurveFrom:g,getLength:k}}.call("undefined"!=typeof window?window:this),function(){"use strict";var f=this,n=f.Biltong={},r=function(n){return"[object Array]"===Object.prototype.toString.call(n)},t=function(n,t,i){return n=r(n)?n:[n.x,n.y],t=r(t)?t:[t.x,t.y],i(n,t)},i=n.gradient=function(n,i){return t(n,i,function(n,t){return t[0]==n[0]?t[1]>n[1]?1/0:-1/0:t[1]==n[1]?t[0]>n[0]?0:-0:(t[1]-n[1])/(t[0]-n[0])})},u=(n.normal=function(n,t){return-1/i(n,t)},n.lineLength=function(n,i){return t(n,i,function(n,t){return Math.sqrt(Math.pow(t[1]-n[1],2)+Math.pow(t[0]-n[0],2))})},n.quadrant=function(n,i){return t(n,i,function(n,t){return t[0]>n[0]?t[1]>n[1]?2:1:t[0]==n[0]?t[1]>n[1]?2:1:t[1]>n[1]?3:4})}),e=(n.theta=function(n,r){return t(n,r,function(n,t){var e=i(n,t),r=Math.atan(e),f=u(n,t);return(4==f||3==f)&&(r+=Math.PI),0>r&&(r+=2*Math.PI),r})},n.intersects=function(n,t){var i=n.x,s=n.x+n.w,u=n.y,f=n.y+n.h,r=t.x,h=t.x+t.w,e=t.y,o=t.y+t.h;return r>=i&&s>=r&&e>=u&&f>=e||h>=i&&s>=h&&e>=u&&f>=e||r>=i&&s>=r&&o>=u&&f>=o||h>=i&&s>=r&&o>=u&&f>=o||i>=r&&h>=i&&u>=e&&o>=u||s>=r&&h>=s&&u>=e&&o>=u||i>=r&&h>=i&&f>=e&&o>=f||s>=r&&h>=i&&f>=e&&o>=f},n.encloses=function(n,t,i){var u=n.x,f=n.x+n.w,e=n.y,o=n.y+n.h,s=t.x,h=t.x+t.w,c=t.y,l=t.y+t.h,r=function(n,t,r,u){return i?t>=n&&r>=u:t>n&&r>u};return r(u,s,f,h)&&r(e,c,o,l)},[null,[1,-1],[1,1],[-1,1],[-1,-1]]),o=[null,[-1,-1],[-1,1],[1,1],[1,-1]];n.pointOnLine=function(n,t,r){var c=i(n,t),f=u(n,t),s=r>0?e[f]:o[f],h=Math.atan(c),l=Math.abs(r*Math.sin(h))*s[1],a=Math.abs(r*Math.cos(h))*s[0];return{x:n.x+a,y:n.y+l}};n.perpendicularLineTo=function(n,t,r){var o=i(n,t),u=Math.atan(-1/o),f=r/2*Math.sin(u),e=r/2*Math.cos(u);return[{x:t.x+e,y:t.y+f},{x:t.x-e,y:t.y-f}]}}.call("undefined"!=typeof window?window:this),function(){"use strict";var u=this,w={android:navigator.userAgent.toLowerCase().indexOf("android")>-1},f=function(n,t,i){i=i||n.parentNode;for(var u=i.querySelectorAll(t),r=0;r<u.length;r++)if(u[r]===n)return!0;return!1},o=function(n){return"string"==typeof n||n.constructor===String?document.getElementById(n):n},i=function(n){return n.srcElement||n.target},v=function(n,t,i,r){if(r){if("undefined"!=typeof n.path)return{path:n.path,end:n.path.indexOf(i)};var u={path:[],end:-1},f=function(n){u.path.push(n);n===i?u.end=u.path.length-1:null!=n.parentNode&&f(n.parentNode)};return f(t),u}return{path:[t],end:1}},b=function(n,t){for(var i=0,r=n.length;r>i&&n[i]!=t;i++);i<n.length&&n.splice(i,1)},tt=1,k=function(n,t,i){var r=tt++;return n.__ta=n.__ta||{},n.__ta[t]=n.__ta[t]||{},n.__ta[t][r]=i,i.__tauid=r,r},it=function(n,t,i){if(n.__ta&&n.__ta[t]&&delete n.__ta[t][i.__tauid],i.__taExtra){for(var r=0;r<i.__taExtra.length;r++)l(n,i.__taExtra[r][0],i.__taExtra[r][1]);i.__taExtra.length=0}i.__taUnstore&&i.__taUnstore()},s=function(n,t,r,u){if(null==n)return r;var o=n.split(","),e=function(u){var s,h;e.__tauid=r.__tauid;var a=i(u),c=a,l=v(u,a,t,null!=n);if(-1!=l.end)for(s=0;s<l.end;s++)for(c=l.path[s],h=0;h<o.length;h++)f(c,o[h],t)&&r.apply(c,arguments)};return rt(r,u,e),e},rt=function(n,t,i){n.__taExtra=n.__taExtra||[];n.__taExtra.push([t,i])},t=function(t,i,u,f){if(r&&n[i]){var e=s(f,t,u,n[i]);c(t,n[i],e,u)}"focus"===i&&null==t.getAttribute("tabindex")&&t.setAttribute("tabindex","1");c(t,i,s(f,t,u,i),u)},ut=function(n,r,u,f){if(null==n.__taSmartClicks){var e=function(t){n.__tad=h(t)},o=function(t){n.__tau=h(t)},s=function(t){if(n.__tad&&n.__tau&&n.__tad[0]===n.__tau[0]&&n.__tad[1]===n.__tau[1])for(var r=0;r<n.__taSmartClicks.length;r++)n.__taSmartClicks[r].apply(i(t),[t])};t(n,"mousedown",e,f);t(n,"mouseup",o,f);t(n,"click",s,f);n.__taSmartClicks=[]}n.__taSmartClicks.push(u);u.__taUnstore=function(){b(n.__taSmartClicks,u)}},y={tap:{touches:1,taps:1},dbltap:{touches:1,taps:2},contextmenu:{touches:2,taps:1}},ft=function(n,r){return function(u,o,s,h){if("contextmenu"==o&&e)t(u,o,s,h);else{if(null==u.__taTapHandler){var c=u.__taTapHandler={tap:[],dbltap:[],contextmenu:[],down:!1,taps:0,downSelectors:[]},l=function(t){for(var e,o=i(t),l=v(t,o,u,null!=h),a=!1,s=0;s<l.end;s++){if(a)return;for(o=l.path[s],e=0;e<c.downSelectors.length;e++)if(null==c.downSelectors[e]||f(o,c.downSelectors[e],u)){c.down=!0;setTimeout(p,n);setTimeout(w,r);a=!0;break}}},a=function(n){var h,e,l,t,o,r,s;if(c.down){e=i(n);c.taps++;l=lt(n);for(t in y)if(y.hasOwnProperty(t)&&(o=y[t],o.touches===l&&(1===o.taps||o.taps===c.taps)))for(r=0;r<c[t].length;r++)for(h=v(n,e,u,null!=c[t][r][1]),s=0;s<h.end;s++)if(e=h.path[s],null==c[t][r][1]||f(e,c[t][r][1],u)){c[t][r][0].apply(e,[n]);break}}},p=function(){c.down=!1},w=function(){c.taps=0};t(u,"mousedown",l);t(u,"mouseup",a)}u.__taTapHandler.downSelectors.push(h);u.__taTapHandler[o].push([s,h]);s.__taUnstore=function(){b(u.__taTapHandler[o],s)}}}},d=function(n,t,i,r){for(var u in i.__tamee[n])i.__tamee[n].hasOwnProperty(u)&&i.__tamee[n][u].apply(r,[t])},et=function(){var n=[];return function(t,r,u,e){if(!t.__tamee){t.__tamee={over:!1,mouseenter:[],mouseexit:[]};var o=function(r){var u=i(r);(null!=e||u!=t||t.__tamee.over)&&(!f(u,e,t)||null!=u.__tamee&&u.__tamee.over)||(d("mouseenter",r,t,u),u.__tamee=u.__tamee||{},u.__tamee.over=!0,n.push(u))},h=function(r){for(var u=i(r),e=0;e<n.length;e++)u!=n[e]||f(r.relatedTarget||r.toElement,"*",u)||(u.__tamee.over=!1,n.splice(e,1),d("mouseexit",r,t,u))};c(t,"mouseover",s(e,t,o,"mouseover"),o);c(t,"mouseout",s(e,t,h,"mouseout"),h)}u.__taUnstore=function(){delete t.__tamee[r][u.__tauid]};k(t,r,u);t.__tamee[r][u.__tauid]=u}},r="ontouchstart"in document.documentElement,e="onmousedown"in document.documentElement,n={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},g=function(){var n=-1,t,i;return"Microsoft Internet Explorer"==navigator.appName&&(t=navigator.userAgent,i=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),null!=i.exec(t)&&(n=parseFloat(RegExp.$1))),n}(),ot=g>-1&&9>g,p=function(n,t){if(null==n)return[0,0];var r=nt(n),i=ct(r,0);return[i[t+"X"],i[t+"Y"]]},h=function(n){return null==n?[0,0]:ot?[n.clientX+document.documentElement.scrollLeft,n.clientY+document.documentElement.scrollTop]:p(n,"page")},st=function(n){return p(n,"screen")},ht=function(n){return p(n,"client")},ct=function(n,t){return n.item?n.item(t):n[t]},nt=function(n){return n.touches&&n.touches.length>0?n.touches:n.changedTouches&&n.changedTouches.length>0?n.changedTouches:n.targetTouches&&n.targetTouches.length>0?n.targetTouches:[n]},lt=function(n){return nt(n).length},c=function(n,t,i,r){if(k(n,t,i),r.__tauid=i.__tauid,n.addEventListener)n.addEventListener(t,i,!1);else if(n.attachEvent){var u=t+i.__tauid;n["e"+u]=i;n[u]=function(){n["e"+u]&&n["e"+u](window.event)};n.attachEvent("on"+t,n[u])}},l=function(t,i,u){null!=u&&a(t,function(){var f=o(this),e;(it(f,i,u),null!=u.__tauid)&&(f.removeEventListener?(f.removeEventListener(i,u,!1),r&&n[i]&&f.removeEventListener(n[i],u,!1)):this.detachEvent&&(e=i+u.__tauid,f[e]&&f.detachEvent("on"+i,f[e]),f[e]=null,f["e"+e]=null));u.__taTouchProxy&&l(t,u.__taTouchProxy[1],u.__taTouchProxy[0])})},a=function(n,t){if(null!=n){n="undefined"!=typeof Window&&"unknown"!=typeof n.top&&n==n.top?[n]:"string"!=typeof n&&null==n.tagName&&null!=n.length?n:"string"==typeof n?document.querySelectorAll(n):[n];for(var i=0;i<n.length;i++)t.apply(n[i])}};u.Mottle=function(i){i=i||{};var u=i.clickThreshold||250,f=i.dblClickThreshold||450,s=new et,c=new ft(u,f),v=i.smartClicks,y=function(n,i,r,u){null!=r&&a(n,function(){var n=o(this);v&&"click"===i?ut(n,i,r,u):"tap"===i||"dbltap"===i||"contextmenu"===i?c(n,i,r,u):"mouseenter"===i||"mouseexit"==i?s(n,i,r,u):t(n,i,r,u)})};this.remove=function(n){return a(n,function(){var n=o(this),t,i;if(n.__ta)for(t in n.__ta)if(n.__ta.hasOwnProperty(t))for(i in n.__ta[t])n.__ta[t].hasOwnProperty(i)&&l(n,t,n.__ta[t][i]);n.parentNode&&n.parentNode.removeChild(n)}),this};this.on=function(){var n=arguments[0],t=4==arguments.length?arguments[2]:null,i=arguments[1],r=arguments[arguments.length-1];return y(n,i,r,t),this};this.off=function(n,t,i){return l(n,t,i),this};this.trigger=function(t,i,u,f){var y=e&&("undefined"==typeof MouseEvent||null==u||u.constructor===MouseEvent),l=r&&!e&&n[i]?n[i]:i,p=!(r&&!e&&n[i]),v=h(u),s=st(u),c=ht(u);return a(t,function(){var t,e=o(this),h,b,k,a;u=u||{screenX:s[0],screenY:s[1],clientX:c[0],clientY:c[1]};h=function(n){f&&(n.payload=f)};b={TouchEvent:function(n){var t=document.createTouch(window,e,0,v[0],v[1],s[0],s[1],c[0],c[1],0,0,0,0),i=document.createTouchList(t),r=document.createTouchList(t),u=document.createTouchList(t);n.initTouchEvent(l,!0,!0,window,null,s[0],s[1],c[0],c[1],!1,!1,!1,!1,i,r,u,1,0)},MouseEvents:function(n){if(n.initMouseEvent(l,!0,!0,window,0,s[0],s[1],c[0],c[1],!1,!1,!1,!1,1,e),w.android){var t=document.createTouch(window,e,0,v[0],v[1],s[0],s[1],c[0],c[1],0,0,0,0);n.touches=n.targetTouches=n.changedTouches=document.createTouchList(t)}}};document.createEvent?(k=!p&&!y&&r&&n[i]&&!w.android,a=k?"TouchEvent":"MouseEvents",t=document.createEvent(a),b[a](t),h(t),e.dispatchEvent(t)):document.createEventObject&&(t=document.createEventObject(),t.eventType=t.eventName=l,t.screenX=s[0],t.screenY=s[1],t.clientX=c[0],t.clientY=c[1],h(t),e.fireEvent("on"+l,t))}),this}};u.Mottle.consume=function(n,t){n.stopPropagation?n.stopPropagation():n.returnValue=!1;!t&&n.preventDefault&&n.preventDefault()};u.Mottle.pageLocation=h;u.Mottle.setForceTouchEvents=function(n){r=n};u.Mottle.setForceMouseEvents=function(n){e=n}}.call("undefined"==typeof window?this:window),function(){"use strict";var d=this,h=function(n,t,i){return-1===n.indexOf(t)?(i?n.unshift(t):n.push(t),!0):!1},f=function(n,t){var i=n.indexOf(t);-1!=i&&n.splice(i,1)},g=function(n,t){for(var r=[],i=0;i<n.length;i++)-1==t.indexOf(n[i])&&r.push(n[i]);return r},u=function(n){return null==n?!1:"string"==typeof n||n.constructor==String},nt=function(n){var r=n.getBoundingClientRect(),t=document.body,i=document.documentElement,u=window.pageYOffset||i.scrollTop||t.scrollTop,f=window.pageXOffset||i.scrollLeft||t.scrollLeft,e=i.clientTop||t.clientTop||0,o=i.clientLeft||t.clientLeft||0,s=r.top+u-e,h=r.left+f-o;return{top:Math.round(s),left:Math.round(h)}},c=function(n,t,i){i=i||n.parentNode;for(var u=i.querySelectorAll(t),r=0;r<u.length;r++)if(u[r]===n)return!0;return!1},e=function(){var n=-1,t,i;return"Microsoft Internet Explorer"==navigator.appName&&(t=navigator.userAgent,i=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),null!=i.exec(t)&&(n=parseFloat(RegExp.$1))),n}(),tt=50,it=50,rt=e>-1&&9>e,ut=9==e,l=function(n){if(rt)return[n.clientX+document.documentElement.scrollLeft,n.clientY+document.documentElement.scrollTop];var i=et(n),t=ft(i,0);return ut?[t.pageX||t.clientX,t.pageY||t.clientY]:[t.pageX,t.pageY]},ft=function(n,t){return n.item?n.item(t):n[t]},et=function(n){return n.touches&&n.touches.length>0?n.touches:n.changedTouches&&n.changedTouches.length>0?n.changedTouches:n.targetTouches&&n.targetTouches.length>0?n.targetTouches:[n]},o={draggable:"katavorio-draggable",droppable:"katavorio-droppable",drag:"katavorio-drag",selected:"katavorio-drag-selected",active:"katavorio-drag-active",hover:"katavorio-drag-hover",noSelect:"katavorio-drag-no-select",ghostProxy:"katavorio-ghost-proxy"},ot="katavorio-drag-scope",i=["stop","start","drag","drop","over","out","beforeStart"],st=function(){},ht=function(){return!0},t=function(n,t,i){for(var r=0;r<n.length;r++)n[r]!=i&&t(n[r])},a=function(n,i,r,u){t(n,function(n){n.setActive(i);i&&n.updatePosition();r&&n.setHover(u,i)})},n=function(n,t){if(null!=n){n=u(n)||null!=n.tagName||null==n.length?[n]:n;for(var i=0;i<n.length;i++)t.apply(n[i],[n[i]])}},v=function(n){n.stopPropagation?(n.stopPropagation(),n.preventDefault()):n.returnValue=!1},ct="input,textarea,select,button,option",lt=function(n,t,i){var r=n.srcElement||n.target;return!c(r,i.getInputFilterSelector(),t)},y=function(t,i,r,u){this.params=i||{};this.el=t;this.params.addClass(this.el,this._class);this.uuid=s();var f=!0;return this.setEnabled=function(n){f=n},this.isEnabled=function(){return f},this.toggleEnabled=function(){f=!f},this.setScope=function(n){this.scopes=n?n.split(/\s+/):[u]},this.addScope=function(t){var i={},r;n(this.scopes,function(n){i[n]=!0});n(t?t.split(/\s+/):[],function(n){i[n]=!0});this.scopes=[];for(r in i)this.scopes.push(r)},this.removeScope=function(t){var i={},r;n(this.scopes,function(n){i[n]=!0});n(t?t.split(/\s+/):[],function(n){delete i[n]});this.scopes=[];for(r in i)this.scopes.push(r)},this.toggleScope=function(t){var i={},r;n(this.scopes,function(n){i[n]=!0});n(t?t.split(/\s+/):[],function(n){i[n]?delete i[n]:i[n]=!0});this.scopes=[];for(r in i)this.scopes.push(r)},this.setScope(i.scope),this.k=i.katavorio,i.katavorio},p=function(){return!0},w=function(){return!1},b=function(n,t,i){var h,gt,at,vt,yt,wt,f,d,e,g,ft;this._class=i.draggable;h=y.apply(this,arguments);this.rightButtonCanDrag=this.params.rightButtonCanDrag;var b=[0,0],k=null,ot=null,st=[0,0],et=!1,ni=this.params.consumeStartEvent!==!1,r=this.el,bt=this.params.clone,ti=(this.params.scroll,t.multipleDrop!==!1),rt=!1,ct=t.ghostProxy===!0?p:t.ghostProxy&&"function"==typeof t.ghostProxy?t.ghostProxy:w,ii=function(n){return n.cloneNode(!0)},kt=t.snapThreshold||5,dt=function(n,t,i,r,u){r=r||kt;u=u||kt;var h=Math.floor(n[0]/t),f=t*h,o=f+t,c=Math.abs(n[0]-f)<=r?f:Math.abs(o-n[0])<=r?o:n[0],l=Math.floor(n[1]/i),e=i*l,s=e+i,a=Math.abs(n[1]-e)<=u?e:Math.abs(s-n[1])<=u?s:n[1];return[c,a]};this.posses=[];this.posseRoles={};this.toGrid=function(n){return null==this.params.grid?n:dt(n,this.params.grid[0],this.params.grid[1])};this.snap=function(n,t){if(null!=r){n=n||(this.params.grid?this.params.grid[0]:tt);t=t||(this.params.grid?this.params.grid[1]:it);var i=this.params.getPosition(r);this.params.setPosition(r,dt(i,n,t,n,t))}};this.setUseGhostProxy=function(n){ct=n?p:w};at=function(n){return t.allowNegative===!1?[Math.max(0,n[0]),Math.max(0,n[1])]:n};vt=function(n){gt="function"==typeof n?n:n?function(n){return at([Math.max(0,Math.min(wt.w-this.size[0],n[0])),Math.max(0,Math.min(wt.h-this.size[1],n[1]))])}.bind(this):function(n){return at(n)}}.bind(this);vt("function"==typeof this.params.constrain?this.params.constrain:this.params.constrain||this.params.containment);this.setConstrain=function(n){vt(n)};this.setRevert=function(n){yt=n};var ri=function(n){return"function"==typeof n?(n._katavorioId=s(),n._katavorioId):n},ut={},ui=function(n){var r,i,t;for(r in ut)if(i=ut[r],t=i[0](n),i[1]&&(t=!t),!t)return!1;return!0},pt=this.setFilter=function(t,i){if(t){var r=ri(t);ut[r]=[function(i){var r,f=i.srcElement||i.target;return u(t)?r=c(f,t,n):"function"==typeof t&&(r=t(i,n)),r},i!==!1]}};this.addFilter=pt;this.removeFilter=function(n){var t="function"==typeof n?n._katavorioId:n;delete ut[t]};this.clearAllFilters=function(){ut={}};this.canDrag=this.params.canDrag||ht;f=[];d=[];this.downListener=function(n){var f=this.rightButtonCanDrag||3!==n.which&&2!==n.button,u,t;f&&this.isEnabled()&&this.canDrag()&&(u=ui(n)&&lt(n,this.el,this.k),u?(bt?(r=this.el.cloneNode(!0),r.setAttribute("id",null),r.style.position="absolute",t=nt(this.el),r.style.left=t.left+"px",r.style.top=t.top+"px",document.body.appendChild(r)):r=this.el,ni&&v(n),b=l(n),this.params.bind(document,"mousemove",this.moveListener),this.params.bind(document,"mouseup",this.upListener),h.markSelection(this),h.markPosses(this),this.params.addClass(document.body,i.noSelect),g("beforeStart",{el:this.el,pos:k,e:n,drag:this})):this.params.consumeFilteredEvents&&v(n))}.bind(this);this.moveListener=function(n){var r;if(b){if(!et&&(r=g("start",{el:this.el,pos:k,e:n,drag:this}),r!==!1)){if(!b)return;this.mark(!0);et=!0}if(b){d.length=0;var u=l(n),t=u[0]-b[0],i=u[1]-b[1],f=this.params.ignoreZoom?1:h.getZoom();t/=f;i/=f;this.moveBy(t,i,n);h.updateSelection(t,i,this);h.updatePosses(t,i,this)}}}.bind(this);this.upListener=function(n){b&&(b=null,this.params.unbind(document,"mousemove",this.moveListener),this.params.unbind(document,"mouseup",this.upListener),this.params.removeClass(document.body,i.noSelect),this.unmark(n),h.unmarkSelection(this,n),h.unmarkPosses(this,n),this.stop(n),h.notifySelectionDragStop(this,n),h.notifyPosseDragStop(this,n),et=!1,bt&&(r&&r.parentNode&&r.parentNode.removeChild(r),r=null),yt&&yt(this.el,this.params.getPosition(this.el))===!0&&(this.params.setPosition(this.el,k),g("revert",this.el)))}.bind(this);this.getFilters=function(){return ut};this.abort=function(){null!=b&&this.upListener()};this.getDragElement=function(){return r||this.el};e={start:[],drag:[],stop:[],over:[],out:[],beforeStart:[],revert:[]};t.events.start&&e.start.push(t.events.start);t.events.beforeStart&&e.beforeStart.push(t.events.beforeStart);t.events.stop&&e.stop.push(t.events.stop);t.events.drag&&e.drag.push(t.events.drag);t.events.revert&&e.revert.push(t.events.revert);this.on=function(n,t){e[n]&&e[n].push(t)};this.off=function(n,t){if(e[n]){for(var r=[],i=0;i<e[n].length;i++)e[n][i]!==t&&r.push(e[n][i]);e[n]=r}};g=function(n,t){if(e[n])for(var i=0;i<e[n].length;i++)try{e[n][i](t)}catch(r){}};this.notifyStart=function(n){g("start",{el:this.el,pos:this.params.getPosition(r),e:n,drag:this})};this.stop=function(n,t){var i,o;if(t||et){var e=[],u=h.getSelection(),f=this.params.getPosition(r);if(u.length>1)for(i=0;i<u.length;i++)o=this.params.getPosition(u[i].el),e.push([u[i].el,{left:o[0],top:o[1]},u[i]]);else e.push([r,{left:f[0],top:f[1]},this]);g("stop",{el:r,pos:ft||f,finalPos:f,e:n,drag:this,selection:e})}};this.mark=function(n){k=this.params.getPosition(r);ot=this.params.getPosition(r,!0);st=[ot[0]-k[0],ot[1]-k[1]];this.size=this.params.getSize(r);f=h.getMatchingDroppables(this);a(f,!0,!1,this);this.params.addClass(r,this.params.dragClass||i.drag);var t=this.params.getSize(r.parentNode);wt={w:t[0],h:t[1]};n&&h.notifySelectionDragStart(this)};this.unmark=function(n,u){var e,o;if(a(f,!1,!0,this),rt&&ct(this.el)?(ft=[r.offsetLeft,r.offsetTop],this.el.parentNode.removeChild(r),r=this.el):ft=null,this.params.removeClass(r,this.params.dragClass||i.drag),f.length=0,rt=!1,!u)for(d.length>0&&ft&&t.setPosition(this.el,ft),e=0;e<d.length;e++)if(o=d[e].drop(this,n),o===!0)break};this.moveBy=function(n,i,u){var h,s,c,e,v;d.length=0;h=this.toGrid([k[0]+n,k[1]+i]);s=gt(h,r);ct(this.el)&&(h[0]!=s[0]||h[1]!=s[1]?(rt||(c=ii(this.el),t.addClass(c,o.ghostProxy),this.el.parentNode.appendChild(c),r=c,rt=!0),s=h):rt&&(this.el.parentNode.removeChild(r),r=this.el,rt=!1));var l={x:s[0],y:s[1],w:this.size[0],h:this.size[1]},y={x:l.x+st[0],y:l.y+st[1],w:l.w,h:l.h},a=null;for(this.params.setPosition(r,s),e=0;e<f.length;e++)v={x:f[e].pagePosition[0],y:f[e].pagePosition[1],w:f[e].size[0],h:f[e].size[1]},this.params.intersects(y,v)&&(ti||null==a||a==f[e].el)&&f[e].canDrop(this)?(a||(a=f[e].el),d.push(f[e]),f[e].setHover(this,!0,u)):f[e].isHover()&&f[e].setHover(this,!1,u);g("drag",{el:this.el,pos:s,e:u,drag:this})};this.destroy=function(){this.params.unbind(this.el,"mousedown",this.downListener);this.params.unbind(document,"mousemove",this.moveListener);this.params.unbind(document,"mouseup",this.upListener);this.downListener=null;this.upListener=null;this.moveListener=null};this.params.bind(this.el,"mousedown",this.downListener);this.params.handle?pt(this.params.handle,!1):pt(this.params.filter,this.params.filterExclude)},k=function(n,t,i){this._class=i.droppable;this.params=t||{};this._activeClass=this.params.activeClass||i.active;this._hoverClass=this.params.hoverClass||i.hover;y.apply(this,arguments);var r=!1;this.allowLoopback=this.params.allowLoopback!==!1;this.setActive=function(n){this.params[n?"addClass":"removeClass"](this.el,this._activeClass)};this.updatePosition=function(){this.position=this.params.getPosition(this.el);this.pagePosition=this.params.getPosition(this.el,!0);this.size=this.params.getSize(this.el)};this.canDrop=this.params.canDrop||function(){return!0};this.isHover=function(){return r};this.setHover=function(n,t,i){(t||null==this.el._katavorioDragHover||this.el._katavorioDragHover==n.el._katavorio)&&(this.params[t?"addClass":"removeClass"](this.el,this._hoverClass),this.el._katavorioDragHover=t?n.el._katavorio:null,r!==t&&this.params.events[t?"over":"out"]({el:this.el,e:i,drag:n,drop:this}),r=t)};this.drop=function(n,t){return this.params.events.drop({drag:n,e:t,drop:this})};this.destroy=function(){this._class=null;this._activeClass=null;this._hoverClass=null;r=null}},s=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=0|16*Math.random(),i="x"==n?t:8|3&t;return i.toString(16)})},r=function(n){return null==n?null:(n="string"==typeof n||n.constructor==String?document.getElementById(n):n,null==n?null:(n._katavorio=n._katavorio||s(),n))};d.Katavorio=function(e){var s=[],a={},v,w,d,y,nt,c,tt;this._dragsByScope={};this._dropsByScope={};var it=1,p=function(t,i){n(t,function(n){for(var t=0;t<n.scopes.length;t++)i[n.scopes[t]]=i[n.scopes[t]]||[],i[n.scopes[t]].push(n)})},rt=function(t,i){var r=0;return n(t,function(n){for(var u,t=0;t<n.scopes.length;t++)i[n.scopes[t]]&&(u=e.indexOf(i[n.scopes[t]],n),-1!=u&&(i[n.scopes[t]].splice(u,1),r++))}),r>0},ut=(this.getMatchingDroppables=function(n){for(var t,i,u=[],f={},r=0;r<n.scopes.length;r++)if(t=this._dropsByScope[n.scopes[r]],t)for(i=0;i<t.length;i++)t[i].canDrop(n)&&!f[t[i].uuid]&&(t[i].allowLoopback||t[i].el!==n.el)&&(f[t[i].uuid]=!0,u.push(t[i]));return u},function(n){n=n||{};var t,r={events:{}};for(t in e)r[t]=e[t];for(t in n)r[t]=n[t];for(t=0;t<i.length;t++)r.events[i[t]]=n[i[t]]||st;return r.katavorio=this,r}.bind(this)),ht=function(n,t){for(var r=0;r<i.length;r++)t[i[r]]&&n.on(i[r],t[i[r]])}.bind(this),l={},ft=e.css||{},et=e.scope||ot;for(v in o)l[v]=o[v];for(v in ft)l[v]=ft[v];w=e.inputFilterSelector||ct;this.getInputFilterSelector=function(){return w};this.setInputFilterSelector=function(n){return w=n,this};this.draggable=function(t,i){var u=[];return n(t,function(n){if(n=r(n),null!=n)if(null==n._katavorioDrag){var t=ut(i);n._katavorioDrag=new b(n,t,l,et);p(n._katavorioDrag,this._dragsByScope);u.push(n._katavorioDrag);e.addClass(n,l.draggable)}else ht(n._katavorioDrag,i)}.bind(this)),u};this.droppable=function(t,i){var u=[];return n(t,function(n){if(n=r(n),null!=n){var t=new k(n,ut(i),l,et);n._katavorioDrop=n._katavorioDrop||[];n._katavorioDrop.push(t);p(t,this._dropsByScope);u.push(t);e.addClass(n,l.droppable)}}.bind(this)),u};this.select=function(t){return n(t,function(){var n=r(this);n&&n._katavorioDrag&&(a[n._katavorio]||(s.push(n._katavorioDrag),a[n._katavorio]=[n,s.length-1],e.addClass(n,l.selected)))}),this};this.deselect=function(t){return n(t,function(){var n=r(this),u,i,t;if(n&&n._katavorio&&(u=a[n._katavorio],u)){for(i=[],t=0;t<s.length;t++)s[t].el!==n&&i.push(s[t]);s=i;delete a[n._katavorio];e.removeClass(n,l.selected)}}),this};this.deselectAll=function(){var n,t;for(n in a)t=a[n],e.removeClass(t[0],l.selected);s.length=0;a={}};this.markSelection=function(n){t(s,function(n){n.mark()},n)};this.markPosses=function(i){i.posses&&n(i.posses,function(n){i.posseRoles[n]&&c[n]&&t(c[n].members,function(n){n.mark()},i)})};this.unmarkSelection=function(n,i){t(s,function(n){n.unmark(i)},n)};this.unmarkPosses=function(i,r){i.posses&&n(i.posses,function(n){i.posseRoles[n]&&c[n]&&t(c[n].members,function(n){n.unmark(r,!0)},i)})};this.getSelection=function(){return s.slice(0)};this.updateSelection=function(n,i,r){t(s,function(t){t.moveBy(n,i)},r)};d=function(i,r){r.posses&&n(r.posses,function(n){r.posseRoles[n]&&c[n]&&t(c[n].members,function(n){i(n)},r)})};this.updatePosses=function(n,t,i){d(function(i){i.moveBy(n,t)},i)};this.notifyPosseDragStop=function(n,t){d(function(n){n.stop(t,!0)},n)};this.notifySelectionDragStop=function(n,i){t(s,function(n){n.stop(i,!0)},n)};this.notifySelectionDragStart=function(n,i){t(s,function(n){n.notifyStart(i)},n)};this.setZoom=function(n){it=n};this.getZoom=function(){return it};y=function(t,i,r,u){n(t,function(n){rt(n,r);n[u](i);p(n,r)})};n(["set","add","remove","toggle"],function(n){this[n+"Scope"]=function(t,i){y(t._katavorioDrag,i,this._dragsByScope,n+"Scope");y(t._katavorioDrop,i,this._dropsByScope,n+"Scope")}.bind(this);this[n+"DragScope"]=function(t,i){y(t.constructor===b?t:t._katavorioDrag,i,this._dragsByScope,n+"Scope")}.bind(this);this[n+"DropScope"]=function(t,i){y(t.constructor===k?t:t._katavorioDrop,i,this._dropsByScope,n+"Scope")}.bind(this)}.bind(this));this.snapToGrid=function(n,i){for(var r in this._dragsByScope)t(this._dragsByScope[r],function(t){t.snap(n,i)})};this.getDragsForScope=function(n){return this._dragsByScope[n]};this.getDropsForScope=function(n){return this._dropsByScope[n]};nt=function(t,i,u){t=r(t);t[i]&&(rt(t[i],u)&&n(t[i],function(n){n.destroy()}),delete t[i])};this.elementRemoved=function(n){this.destroyDraggable(n);this.destroyDroppable(n)};this.destroyDraggable=function(n){nt(n,"_katavorioDrag",this._dragsByScope)};this.destroyDroppable=function(n){nt(n,"_katavorioDrop",this._dropsByScope)};this.reset=function(){this._dragsByScope={};this._dropsByScope={};s=[];a={};c={}};c={};tt=function(t,i,r){var e=u(i)?i:i.id,o=u(i)?!0:i.active!==!1,f=c[e]||function(){var n={name:e,members:[]};return c[e]=n,n}();return n(t,function(n){if(n._katavorioDrag){if(r&&null!=n._katavorioDrag.posseRoles[f.name])return;h(f.members,n._katavorioDrag);h(n._katavorioDrag.posses,f.name);n._katavorioDrag.posseRoles[f.name]=o}}),f};this.addToPosse=function(n){for(var t=[],i=1;i<arguments.length;i++)t.push(tt(n,arguments[i]));return 1==t.length?t[0]:t};this.setPosse=function(t){for(var i=[],r=1;r<arguments.length;r++)i.push(tt(t,arguments[r],!0).name);return n(t,function(n){var r,u,t;if(n._katavorioDrag)for(r=g(n._katavorioDrag.posses,i),u=[],Array.prototype.push.apply(u,n._katavorioDrag.posses),t=0;t<r.length;t++)this.removeFromPosse(n,r[t])}.bind(this)),1==i.length?i[0]:i};this.removeFromPosse=function(t,i){if(arguments.length<2)throw new TypeError("No posse id provided for remove operation");for(var r=1;r<arguments.length;r++)i=arguments[r],n(t,function(t){if(t._katavorioDrag&&t._katavorioDrag.posses){var r=t._katavorioDrag;n(i,function(n){f(c[n].members,r);f(r.posses,n);delete r.posseRoles[n]})}})};this.removeFromAllPosses=function(t){n(t,function(t){if(t._katavorioDrag&&t._katavorioDrag.posses){var i=t._katavorioDrag;n(i.posses,function(n){f(c[n].members,i)});i.posses.length=0;i.posseRoles={}}})};this.setPosseState=function(t,i,r){var u=c[i];u&&n(t,function(n){n._katavorioDrag&&n._katavorioDrag.posses&&(n._katavorioDrag.posseRoles[u.name]=r)})}}}.call("undefined"!=typeof window?window:this),function(){var t=function(n){return"[object Array]"===Object.prototype.toString.call(n)},s=function(n){return"[object Number]"===Object.prototype.toString.call(n)},r=function(n){return"string"==typeof n},u=function(n){return"boolean"==typeof n},h=function(n){return null==n},i=function(n){return null==n?!1:"[object Object]"===Object.prototype.toString.call(n)},o=function(n){return"[object Date]"===Object.prototype.toString.call(n)},f=function(n){return"[object Function]"===Object.prototype.toString.call(n)},c=function(n){for(var t in n)if(n.hasOwnProperty(t))return!1;return!0},e=this,n=e.jsPlumbUtil={isArray:t,isString:r,isBoolean:u,isNull:h,isObject:i,isDate:o,isFunction:f,isEmpty:c,isNumber:s,clone:function(n){var s,e,h,c;if(r(n))return""+n;if(u(n))return!!n;if(o(n))return new Date(n.getTime());if(f(n))return n;if(t(n)){for(s=[],e=0;e<n.length;e++)s.push(this.clone(n[e]));return s}if(i(n)){h={};for(c in n)h[c]=this.clone(n[c]);return h}return n},merge:function(n,f,e){var h,o,l={},s,c;for(e=e||[],o=0;o<e.length;o++)l[e[o]]=!0;s=this.clone(n);for(o in f)if(null==s[o])s[o]=f[o];else if(r(f[o])||u(f[o]))l[o]?(h=[],h.push.apply(h,t(s[o])?s[o]:[s[o]]),h.push.apply(h,t(f[o])?f[o]:[f[o]]),s[o]=h):s[o]=f[o];else if(t(f[o]))h=[],t(s[o])&&h.push.apply(h,s[o]),h.push.apply(h,f[o]),s[o]=h;else if(i(f[o])){i(s[o])||(s[o]={});for(c in f[o])s[o][c]=f[o][c]}return s},replace:function(n,t,i){if(null!=n){var u=n,r=u;return t.replace(/([^\.])+/g,function(n,t,u,f){var e=n.match(/([^\[0-9]+){1}(\[)([0-9+])/),h=u+n.length>=f.length,s=function(){return r[e[1]]||function(){return r[e[1]]=[],r[e[1]]}()},o;h?e?s()[e[3]]=i:r[n]=i:e?(o=s(),r=o[e[3]]||function(){return o[e[3]]={},o[e[3]]}()):r=r[n]||function(){return r[n]={},r[n]}()}),n}},functionChain:function(n,t,i){for(var u,r=0;r<i.length;r++)if(u=i[r][0][i[r][1]].apply(i[r][0],i[r][2]),u===t)return u;return n},populate:function(n,u,e){var s=function(n){var i=n.match(/(\${.*?})/g),t,r;if(null!=i)for(t=0;t<i.length;t++)r=u[i[t].substring(2,i[t].length-1)]||"",null!=r&&(n=n.replace(i[t],r));return n},o=function(n){var c,h,l,a;if(null!=n){if(r(n))return s(n);if(!f(n)||null!=e&&0!==(n.name||"").indexOf(e)){if(t(n)){for(c=[],h=0;h<n.length;h++)c.push(o(n[h]));return c}if(i(n)){l={};for(a in n)l[a]=o(n[a]);return l}return n}return n(u)}};return o(n)},findWithFunction:function(n,t){if(n)for(var i=0;i<n.length;i++)if(t(n[i]))return i;return-1},removeWithFunction:function(t,i){var r=n.findWithFunction(t,i);return r>-1&&t.splice(r,1),-1!=r},remove:function(n,t){var i=n.indexOf(t);return i>-1&&n.splice(i,1),-1!=i},addWithFunction:function(t,i,r){-1==n.findWithFunction(t,r)&&t.push(i)},addToList:function(n,t,i,r){var u=n[t];return null==u&&(u=[],n[t]=u),u[r?"unshift":"push"](i),u},suggest:function(n,t,i){return-1===n.indexOf(t)?(i?n.unshift(t):n.push(t),!0):!1},extend:function(n,i){var r,u,f,e;for(i=t(i)?i:[i],r=0;r<i.length;r++)for(u in i[r].prototype)i[r].prototype.hasOwnProperty(u)&&(n.prototype[u]=i[r].prototype[u]);if(f=function(n,t){return function(){for(r=0;r<i.length;r++)i[r].prototype[n]&&i[r].prototype[n].apply(this,arguments);return t.apply(this,arguments)}},e=function(t){for(var i in t)n.prototype[i]=f(i,t[i])},arguments.length>2)for(r=2;r<arguments.length;r++)e(arguments[r]);return n},uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=0|16*Math.random(),i="x"==n?t:8|3&t;return i.toString(16)})},logEnabled:!0,log:function(){if(n.logEnabled&&"undefined"!=typeof console)try{var t=arguments[arguments.length-1];console.log(t)}catch(i){}},wrap:function(t,i,r){return t=t||function(){},i=i||function(){},function(){var u=null;try{u=i.apply(this,arguments)}catch(f){n.log("jsPlumb function failed : "+f)}if(null==r||u!==r)try{u=t.apply(this,arguments)}catch(f){n.log("wrapped function failed : "+f)}return u}}};n.EventGenerator=function(){var t={},i=!1,r={ready:!0};this.bind=function(i,r,u){var o=function(i){n.addToList(t,i,r,u);r.__jsPlumb=r.__jsPlumb||{};r.__jsPlumb[e.jsPlumbUtil.uuid()]=i},f;if("string"==typeof i)o(i);else if(null!=i.length)for(f=0;f<i.length;f++)o(i[f]);return this};this.fire=function(u,f,e){if(!i&&t[u]){var c=t[u].length,o=0,s=!1,h=null;if(!this.shouldFireEvent||this.shouldFireEvent(u,f,e))for(;!s&&c>o&&h!==!1;){if(r[u])t[u][o].apply(this,[f,e]);else try{h=t[u][o].apply(this,[f,e])}catch(l){n.log("jsPlumb: fire failed for event "+u+" : "+l)}o++;(null==t||null==t[u])&&(s=!0)}}return this};this.unbind=function(i,r){var u,f;if(0===arguments.length)t={};else if(1===arguments.length){if("string"==typeof i)delete t[i];else if(i.__jsPlumb)for(f in i.__jsPlumb)u=i.__jsPlumb[f],n.remove(t[u]||[],i)}else 2===arguments.length&&n.remove(t[i]||[],r);return this};this.getListener=function(n){return t[n]};this.setSuspendEvents=function(n){i=n};this.isSuspendEvents=function(){return i};this.silently=function(n){this.setSuspendEvents(!0);try{n()}catch(t){e.jsPlumbUtil.log("Cannot execute silent function "+t)}this.setSuspendEvents(!1)};this.cleanupListeners=function(){for(var n in t)t[n]=null}};n.EventGenerator.prototype={cleanup:function(){this.cleanupListeners()}}}.call("undefined"!=typeof window?window:this),function(){"use strict";var t=this,n=t.jsPlumbUtil;n.matchesSelector=function(n,t,i){i=i||n.parentNode;for(var u=i.querySelectorAll(t),r=0;r<u.length;r++)if(u[r]===n)return!0;return!1};n.consume=function(n,t){n.stopPropagation?n.stopPropagation():n.returnValue=!1;!t&&n.preventDefault&&n.preventDefault()};n.sizeElement=function(n,t,i,r,u){n&&(n.style.height=u+"px",n.height=u,n.style.width=r+"px",n.width=r,n.style.left=t+"px",n.style.top=i+"px")}}.call("undefined"!=typeof window?window:this),function(){"use strict";var o,i=this,f=[],n=i.jsPlumbUtil,u=function(){return""+(new Date).getTime()},h=function(n){if(n._jsPlumb.paintStyle&&n._jsPlumb.hoverPaintStyle){var i={};t.extend(i,n._jsPlumb.paintStyle);t.extend(i,n._jsPlumb.hoverPaintStyle);delete n._jsPlumb.hoverPaintStyle;i.gradient&&n._jsPlumb.paintStyle.fillStyle&&delete i.gradient;n._jsPlumb.hoverPaintStyle=i}},c=["tap","dbltap","click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","contextmenu"],w=function(n,t,i,r){var f=n.getAttachedElements(),u,e;if(f)for(u=0,e=f.length;e>u;u++)r&&r==f[u]||f[u].setHover(t,!0,i)},e=function(n){return null==n?null:n.split(" ")},l=function(n,t,i){for(var r in t)n[r]=i},a=function(t,i){i=n.isArray(i)||null!=i.length&&!n.isString(i)?i:[i];for(var r=0;r<i.length;r++)try{t.apply(i[r],[i[r]])}catch(u){n.log(".each iteration failed : "+u)}},r=function(t,i,r){var f,c,e,o;if(t.getDefaultType){var a=t.getTypeDescriptor(),s={},h=t.getDefaultType(),u=n.merge({},h);for(l(s,h,"__default"),f=0,c=t._jsPlumb.types.length;c>f;f++)e=t._jsPlumb.types[f],"__default"!==e&&(o=t._jsPlumb.instance.getType(e,a),null!=o&&(u=n.merge(u,o,["cssClass"]),l(s,o,e)));i&&(u=n.populate(u,i,"_"));t.applyType(u,r,s);r||t.repaint()}},v=i.jsPlumbUIComponent=function(i){var u,f,r,e,o,s;n.EventGenerator.apply(this,arguments);var h=this,c=arguments,l=h.idPrefix,a=l+(new Date).getTime();if(this._jsPlumb={instance:i._jsPlumb,parameters:i.parameters||{},paintStyle:null,hoverPaintStyle:null,paintStyleInUse:null,hover:!1,beforeDetach:i.beforeDetach,beforeDrop:i.beforeDrop,overlayPlacements:[],hoverClass:i.hoverClass||i._jsPlumb.Defaults.HoverClass,types:[],typeCache:{}},this.cacheTypeItem=function(n,t,i){this._jsPlumb.typeCache[i]=this._jsPlumb.typeCache[i]||{};this._jsPlumb.typeCache[i][n]=t},this.getCachedTypeItem=function(n,t){return this._jsPlumb.typeCache[t]?this._jsPlumb.typeCache[t][n]:null},this.getId=function(){return a},u=i.overlays||[],f={},this.defaultOverlayKeys){for(r=0;r<this.defaultOverlayKeys.length;r++)Array.prototype.push.apply(u,this._jsPlumb.instance.Defaults[this.defaultOverlayKeys[r]]||[]);for(r=0;r<u.length;r++)e=t.convertToFullOverlaySpec(u[r]),f[e[1].id]=e}if(o={overlays:f,parameters:i.parameters||{},scope:i.scope||this._jsPlumb.instance.getDefaultScope()},this.getDefaultType=function(){return o},this.appendToDefaultType=function(n){for(var t in n)o[t]=n[t]},i.events)for(r in i.events)h.bind(r,i.events[r]);this.clone=function(){var n=Object.create(this.constructor.prototype);return this.constructor.apply(n,c),n}.bind(this);this.isDetachAllowed=function(t){var i=!0;if(this._jsPlumb.beforeDetach)try{i=this._jsPlumb.beforeDetach(t)}catch(r){n.log("jsPlumb: beforeDetach callback failed",r)}return i};this.isDropAllowed=function(t,i,r,u,f,e,o){var s=this._jsPlumb.instance.checkCondition("beforeDrop",{sourceId:t,targetId:i,scope:r,connection:u,dropEndpoint:f,source:e,target:o});if(this._jsPlumb.beforeDrop)try{s=this._jsPlumb.beforeDrop({sourceId:t,targetId:i,scope:r,connection:u,dropEndpoint:f,source:e,target:o})}catch(h){n.log("jsPlumb: beforeDrop callback failed",h)}return s};s=[];this.setListenerComponent=function(n){for(var t=0;t<s.length;t++)s[t][3]=n}},s=function(n,t){var r=n._jsPlumb.types[t],i=n._jsPlumb.instance.getType(r,n.getTypeDescriptor());null!=i&&i.cssClass&&n.canvas&&n._jsPlumb.instance.removeClass(n.canvas,i.cssClass)},t;n.extend(i.jsPlumbUIComponent,n.EventGenerator,{getParameter:function(n){return this._jsPlumb.parameters[n]},setParameter:function(n,t){this._jsPlumb.parameters[n]=t},getParameters:function(){return this._jsPlumb.parameters},setParameters:function(n){this._jsPlumb.parameters=n},getClass:function(){return t.getClass(this.canvas)},hasClass:function(n){return t.hasClass(this.canvas,n)},addClass:function(n){t.addClass(this.canvas,n)},removeClass:function(n){t.removeClass(this.canvas,n)},updateClasses:function(n,i){t.updateClasses(this.canvas,n,i)},setType:function(n,t,i){this.clearTypes();this._jsPlumb.types=e(n)||[];r(this,t,i)},getType:function(){return this._jsPlumb.types},reapplyTypes:function(n,t){r(this,n,t)},hasType:function(n){return-1!=this._jsPlumb.types.indexOf(n)},addType:function(n,t,i){var f=e(n),o=!1,u,s;if(null!=f){for(u=0,s=f.length;s>u;u++)this.hasType(f[u])||(this._jsPlumb.types.push(f[u]),o=!0);o&&r(this,t,i)}},removeType:function(n,t,i){var f=e(n),o=!1,c=function(n){var t=this._jsPlumb.types.indexOf(n);return-1!=t?(s(this,t),this._jsPlumb.types.splice(t,1),!0):!1}.bind(this),u,h;if(null!=f){for(u=0,h=f.length;h>u;u++)o=c(f[u])||o;o&&r(this,t,i)}},clearTypes:function(n,t){for(var u=this._jsPlumb.types.length,i=0;u>i;i++)s(this,0),this._jsPlumb.types.splice(0,1);r(this,n,t)},toggleType:function(n,t,i){var f=e(n),u,h,o;if(null!=f){for(u=0,h=f.length;h>u;u++)o=this._jsPlumb.types.indexOf(f[u]),-1!=o?(s(this,o),this._jsPlumb.types.splice(o,1)):this._jsPlumb.types.push(f[u]);r(this,t,i)}},applyType:function(n,t){if(this.setPaintStyle(n.paintStyle,t),this.setHoverPaintStyle(n.hoverPaintStyle,t),n.parameters)for(var i in n.parameters)this.setParameter(i,n.parameters[i]);this._jsPlumb.paintStyleInUse=this.getPaintStyle()},setPaintStyle:function(n,t){this._jsPlumb.paintStyle=n;this._jsPlumb.paintStyleInUse=this._jsPlumb.paintStyle;h(this);t||this.repaint()},getPaintStyle:function(){return this._jsPlumb.paintStyle},setHoverPaintStyle:function(n,t){this._jsPlumb.hoverPaintStyle=n;h(this);t||this.repaint()},getHoverPaintStyle:function(){return this._jsPlumb.hoverPaintStyle},destroy:function(n){(n||null==this.typeId)&&(this.cleanupListeners(),this.clone=null,this._jsPlumb=null)},isHover:function(){return this._jsPlumb.hover},setHover:function(n,t,i){if(this._jsPlumb&&!this._jsPlumb.instance.currentlyDragging&&!this._jsPlumb.instance.isHoverSuspended()){if(this._jsPlumb.hover=n,null!=this.canvas){if(null!=this._jsPlumb.instance.hoverClass){var r=n?"addClass":"removeClass";this._jsPlumb.instance[r](this.canvas,this._jsPlumb.instance.hoverClass)}null!=this._jsPlumb.hoverClass&&this._jsPlumb.instance[r](this.canvas,this._jsPlumb.hoverClass)}null!=this._jsPlumb.hoverPaintStyle&&(this._jsPlumb.paintStyleInUse=n?this._jsPlumb.hoverPaintStyle:this._jsPlumb.paintStyle,this._jsPlumb.instance.isSuspendDrawing()||(i=i||u(),this.repaint({timestamp:i,recalc:!1})));this.getAttachedElements&&!t&&w(this,n,u(),this)}}});var y=0,b=function(){var n=y+1;return y++,n},p=i.jsPlumbInstance=function(r){var gt,k,d,nr,ui,fi,tr,ei,si,rr,hi,dt,ci,lt,at,li,ai,vi;this.Defaults={Anchor:"Bottom",Anchors:[null,null],ConnectionsDetachable:!0,ConnectionOverlays:[],Connector:"Bezier",Container:null,DoNotThrowErrors:!1,DragOptions:{},DropOptions:{},Endpoint:"Dot",EndpointOverlays:[],Endpoints:[null,null],EndpointStyle:{fillStyle:"#456"},EndpointStyles:[null,null],EndpointHoverStyle:null,EndpointHoverStyles:[null,null],HoverPaintStyle:null,LabelStyle:{color:"black"},LogEnabled:!1,Overlays:[],MaxConnections:1,PaintStyle:{lineWidth:4,strokeStyle:"#456"},ReattachConnections:!1,RenderMode:"svg",Scope:"jsPlumb_DefaultScope"};r&&t.extend(this.Defaults,r);this.logEnabled=this.Defaults.LogEnabled;this._connectionTypes={};this._endpointTypes={};n.EventGenerator.apply(this);var e=this,yi=b(),ur=e.bind,pi={},vt=1,l=function(t){if(null==t)return null;if(3==t.nodeType||8==t.nodeType)return{el:t,text:!0};var i=e.getElement(t);return{el:i,id:n.isString(t)&&null==i?t:p(i)}};this.getInstanceIndex=function(){return yi};this.setZoom=function(n,t){return vt=n,e.fire("zoom",vt),t&&e.repaintEverything(),!0};this.getZoom=function(){return vt};for(gt in this.Defaults)pi[gt]=this.Defaults[gt];d=[];this.unbindContainer=function(){if(null!=k&&d.length>0)for(var n=0;n<d.length;n++)e.off(k,d[n][0],d[n][1])};this.setContainer=function(n){var i,o,t;this.unbindContainer();n=this.getElement(n);this.select().each(function(t){t.moveParent(n)});this.selectEndpoints().each(function(t){t.moveParent(n)});i=k;k=n;d.length=0;for(var r=function(n,t){var i=t.srcElement||t.target,r=(i&&i.parentNode?i.parentNode._jsPlumb:null)||(i?i._jsPlumb:null)||(i&&i.parentNode&&i.parentNode.parentNode?i.parentNode.parentNode._jsPlumb:null);r&&(r.fire(n,r,t),e.fire(n,r.component||r,t))},u=function(n,t,i){d.push([n,i]);e.on(k,n,t,i)},s=function(n){u(n,".jsplumb-connector > *",function(t){r(n,t)});u(n,".jsplumb-endpoint, .jsplumb-endpoint > *, .jsplumb-endpoint svg *",function(t){r(n,t)});u(n,".jsplumb-overlay, .jsplumb-overlay *",function(t){r(n,t)})},f=0;f<c.length;f++)s(c[f]);for(o in y)t=y[o].el,t.parentNode===i&&(i.removeChild(t),k.appendChild(t))};this.getContainer=function(){return k};this.bind=function(n,t){"ready"===n&&ni?t():ur.apply(e,[n,t])};e.importDefaults=function(n){for(var t in n)e.Defaults[t]=n[t];return n.Container&&e.setContainer(n.Container),e};e.restoreDefaults=function(){return e.Defaults=t.extend({},pi),e};var wi=null,ni=!1,g=[],s={},nt={},y={},h={},yt={},rt={},bi=!1,w=[],ut=!1,ft=null,ki=this.Defaults.Scope,fr=1,ot=function(){return""+fr++},er=function(n,t){k?k.appendChild(n):t?this.getElement(t).appendChild(n):this.appendToRoot(n)}.bind(this),st=function(n,i,r,f){var s,o,c,h,l;if(!t.headless&&!ut){if(s=p(n),o=e.getDragManager().getElementsForDraggable(s),null==r&&(r=u()),c=kt({elId:s,offset:i,recalc:!1,timestamp:r}),o)for(h in o)kt({elId:o[h].id,offset:{left:c.o.left+o[h].offset.left,top:c.o.top+o[h].offset.top},recalc:!1,timestamp:r});if(e.anchorManager.redraw(s,i,r,null,f),o)for(l in o)e.anchorManager.redraw(o[l].id,i,r,o[l].offset,f,!0)}},ht=function(n){return nt[n]},or=function(i,r,u,f,o){var v,s,l,a;if(!t.headless&&(v=null==r?!1:r,v&&t.isDragSupported(i,e)))if(s=u||e.Defaults.DragOptions,s=t.extend({},s),t.isAlreadyDraggable(i,e))u.force&&e.initDraggable(i,s);else{var y=t.dragEvents.drag,w=t.dragEvents.stop,b=t.dragEvents.start,g=e.getElement(i),k=e.getDragManager().getDragAncestor(g),d={left:0,top:0},h=d,c=!1;oi(f,i);s[b]=n.wrap(s[b],function(){return h=null!=k?e.getOffset(k):d,e.setHoverSuspended(!0),e.select({source:i}).addClass(e.elementDraggingClass+" "+e.sourceElementDraggingClass,!0),e.select({target:i}).addClass(e.elementDraggingClass+" "+e.targetElementDraggingClass,!0),e.setConnectionBeingDragged(!0),s.canDrag?u.canDrag():void 0},!1);s[y]=n.wrap(s[y],function(){var n=e.getUIPosition(arguments,e.getZoom());null!=n&&(n.left+=h.left,n.top+=h.top,st(i,n,null,!0),c&&e.addClass(i,"jsplumb-dragged"),c=!0)});s[w]=n.wrap(s[w],function(){for(var t=arguments[0].selection,i=e.getUIPosition(arguments),r=function(n){null!=i&&st(n[0],i);e.removeClass(n[0],"jsplumb-dragged");e.select({source:n[0]}).removeClass(e.elementDraggingClass+" "+e.sourceElementDraggingClass,!0);e.select({target:n[0]}).removeClass(e.elementDraggingClass+" "+e.targetElementDraggingClass,!0);e.getDragManager().dragEnded(n[0])},n=0;n<t.length;n++)r(t[n]);c=!1;e.setHoverSuspended(!1);e.setConnectionBeingDragged(!1)});l=p(i);rt[l]=!0;a=rt[l];s.disabled=null==a?!1:!a;e.initDraggable(i,s);e.getDragManager().register(i);o&&e.fire("elementDraggable",{el:i,options:s})}},sr=function(n,t){for(var i,u=n.scope.split(/\s/),f=t.scope.split(/\s/),r=0;r<u.length;r++)for(i=0;i<f.length;i++)if(f[i]==u[r])return!0;return!1},hr=function(i,r){var u=t.extend({},i),f,o;if(r&&t.extend(u,r),u.source&&(u.source.endpoint?u.sourceEndpoint=u.source:u.source=e.getElement(u.source)),u.target&&(u.target.endpoint?u.targetEndpoint=u.target:u.target=e.getElement(u.target)),i.uuids&&(u.sourceEndpoint=ht(i.uuids[0]),u.targetEndpoint=ht(i.uuids[1])),u.sourceEndpoint&&u.sourceEndpoint.isFull())return n.log(e,"could not add connection; source endpoint is full"),void 0;if(u.targetEndpoint&&u.targetEndpoint.isFull())return n.log(e,"could not add connection; target endpoint is full"),void 0;if(!u.type&&u.sourceEndpoint&&(u.type=u.sourceEndpoint.connectionType),u.sourceEndpoint&&u.sourceEndpoint.connectorOverlays)for(u.overlays=u.overlays||[],f=0,o=u.sourceEndpoint.connectorOverlays.length;o>f;f++)u.overlays.push(u.sourceEndpoint.connectorOverlays[f]);u.sourceEndpoint&&u.sourceEndpoint.scope&&(u.scope=u.sourceEndpoint.scope);!u["pointer-events"]&&u.sourceEndpoint&&u.sourceEndpoint.connectorPointerEvents&&(u["pointer-events"]=u.sourceEndpoint.connectorPointerEvents);var h=function(n,i){var u=t.extend({},n),r;for(r in i)i[r]&&(u[r]=i[r]);return u},c=function(n,t,i){return e.addEndpoint(n,h(t,{anchor:u.anchors?u.anchors[i]:u.anchor,endpoint:u.endpoints?u.endpoints[i]:u.endpoint,paintStyle:u.endpointStyles?u.endpointStyles[i]:u.endpointStyle,hoverPaintStyle:u.endpointHoverStyles?u.endpointHoverStyles[i]:u.endpointHoverStyle}))},s=function(n,t,i,r){var o,f,e;if(u[n]&&!u[n].endpoint&&!u[n+"Endpoint"]&&!u.newConnection&&(o=p(u[n]),f=i[o],f=f?f[r]:null)){if(!f.enabled||(e=null!=f.endpoint&&f.endpoint._jsPlumb?f.endpoint:c(u[n],f.def,t),e.isFull()))return!1;u[n+"Endpoint"]=e;e._doNotDeleteOnDetach=!1;e._deleteOnDetach=!0;f.uniqueEndpoint&&(f.endpoint?e.finalEndpoint=f.endpoint:(f.endpoint=e,e._deleteOnDetach=!1,e._doNotDeleteOnDetach=!0))}};if(s("source",0,this.sourceEndpointDefinitions,u.type||"default")!==!1&&s("target",1,this.targetEndpointDefinitions,u.type||"default")!==!1)return(u.sourceEndpoint&&u.targetEndpoint&&(sr(u.sourceEndpoint,u.targetEndpoint)||(u=null)),u)}.bind(e),ti=function(n){var i=e.Defaults.ConnectionType||e.getDefaultConnectionType(),t;return n._jsPlumb=e,n.newConnection=ti,n.newEndpoint=ii,n.endpointsByUUID=nt,n.endpointsByElement=s,n.finaliseConnection=di,n.id="con_"+ot(),t=new i(n),t.isDetachable()&&(t.endpoints[0].initDraggable("_jsPlumbSource"),t.endpoints[1].initDraggable("_jsPlumbTarget")),t},di=e.finaliseConnection=function(n,t,i,r){if(t=t||{},n.suspendedEndpoint||g.push(n),n.pending=null,n.endpoints[0].isTemporarySource=!1,r!==!1&&e.anchorManager.newConnection(n),st(n.source),!t.doNotFireConnectionEvent&&t.fireEvent!==!1){var u={connection:n,source:n.source,target:n.target,sourceId:n.sourceId,targetId:n.targetId,sourceEndpoint:n.endpoints[0],targetEndpoint:n.endpoints[1]};e.fire("connection",u,i)}},ii=function(n,i){var f=e.Defaults.EndpointType||t.Endpoint,r=t.extend({},n),u;return r._jsPlumb=e,r.newConnection=ti,r.newEndpoint=ii,r.endpointsByUUID=nt,r.endpointsByElement=s,r.fireDetachEvent=fi,r.elementId=i||p(r.source),u=new f(r),u.id="ep_"+ot(),oi(r.elementId,r.source),t.headless||e.getDragManager().endpointAdded(r.source,i),u},ri=function(n,t,i){var r=s[n],u,e,f,o,h;if(r&&r.length)for(u=0,e=r.length;e>u;u++){for(f=0,o=r[u].connections.length;o>f;f++)if(h=t(r[u].connections[f]),h)return;i&&i(r[u])}},cr=function(n,i){return t.each(n,function(n){e.isDragSupported(n)&&(rt[e.getAttribute(n,"id")]=i,e.setElementDraggable(n,i))})},gi=function(n,t,i){var r,u;t="block"===t;r=null;i&&(r=function(n){n.setVisible(t,!0,!0)});u=l(n);ri(u.id,function(n){if(t&&i){var r=n.sourceId===u.id?1:0;n.endpoints[r].isVisible()&&n.setVisible(!0)}else n.setVisible(t)},r)},lr=function(n){var i;return t.each(n,function(n){var t=e.getAttribute(n,"id");return i=null==rt[t]?!1:rt[t],i=!i,rt[t]=i,e.setDraggable(n,i),i}.bind(this)),i},ar=function(n,t){var i=null;t&&(i=function(n){var t=n.isVisible();n.setVisible(!t)});ri(n,function(n){var t=n.isVisible();n.setVisible(!t)},i)},vr=function(n){var t=h[n];return t?{o:t,s:w[n]}:kt({elId:n})},p=function(t,i,r){if(n.isString(t))return t;if(null==t)return null;var u=e.getAttribute(t,"id");return u&&"undefined"!==u||(2==arguments.length&&void 0!==arguments[1]?u=i:(1==arguments.length||3==arguments.length&&!arguments[2])&&(u="jsPlumb_"+yi+"_"+ot()),r||e.setAttribute(t,"id",u)),u};this.setConnectionBeingDragged=function(n){bi=n};this.isConnectionBeingDragged=function(){return bi};this.getManagedElements=function(){return y};this.getRenderMode=function(){return"svg"};this.connectorClass="jsplumb-connector";this.connectorOutlineClass="jsplumb-connector-outline";this.editableConnectorClass="jsplumb-connector-editable";this.connectedClass="jsplumb-connected";this.hoverClass="jsplumb-hover";this.endpointClass="jsplumb-endpoint";this.endpointConnectedClass="jsplumb-endpoint-connected";this.endpointFullClass="jsplumb-endpoint-full";this.endpointDropAllowedClass="jsplumb-endpoint-drop-allowed";this.endpointDropForbiddenClass="jsplumb-endpoint-drop-forbidden";this.overlayClass="jsplumb-overlay";this.draggingClass="jsplumb-dragging";this.elementDraggingClass="jsplumb-element-dragging";this.sourceElementDraggingClass="jsplumb-source-element-dragging";this.targetElementDraggingClass="jsplumb-target-element-dragging";this.endpointAnchorClassPrefix="jsplumb-endpoint-anchor";this.hoverSourceClass="jsplumb-source-hover";this.hoverTargetClass="jsplumb-target-hover";this.dragSelectClass="jsplumb-drag-select";this.Anchors={};this.Connectors={svg:{}};this.Endpoints={svg:{}};this.Overlays={svg:{}};this.ConnectorRenderers={};this.SVG="svg";this.addEndpoint=function(i,r,u){var f;u=u||{};f=t.extend({},u);t.extend(f,r);f.endpoint=f.endpoint||e.Defaults.Endpoint;f.paintStyle=f.paintStyle||e.Defaults.EndpointStyle;for(var h=[],a=n.isArray(i)||null!=i.length&&!n.isString(i)?i:[i],l=0,y=a.length;y>l;l++){f.source=e.getElement(a[l]);bt(f.source);var c=p(f.source),o=ii(f,c),v=oi(c,f.source).info.o;n.addToList(s,c,o);ut||o.paint({anchorLoc:o.anchor.compute({xy:[v.left,v.top],wh:w[c],element:o,timestamp:ft}),timestamp:ft});h.push(o);o._doNotDeleteOnDetach=!0}return 1==h.length?h[0]:h};this.addEndpoints=function(t,i,r){for(var u,f=[],o=0,s=i.length;s>o;o++)u=e.addEndpoint(t,i[o],r),n.isArray(u)?Array.prototype.push.apply(f,u):f.push(u);return f};this.animate=function(i,r,u){if(!this.animationSupported)return!1;u=u||{};var f=e.getElement(i),o=p(f),s=t.animEvents.step,h=t.animEvents.complete;u[s]=n.wrap(u[s],function(){e.revalidate(o)});u[h]=n.wrap(u[h],function(){e.revalidate(o)});e.doAnimate(f,r,u)};this.checkCondition=function(t){var i=e.getListener(t),u=!0,f,r,o;if(i&&i.length>0){f=Array.prototype.slice.call(arguments,1);try{for(r=0,o=i.length;o>r;r++)u=u&&i[r].apply(i[r],f)}catch(s){n.log(e,"cannot check condition ["+t+"]"+s)}}return u};this.connect=function(t,i){var u,r=hr(t,i);if(r){if(null==r.source&&null==r.sourceEndpoint)return n.log("Cannot establish connection - source does not exist"),void 0;if(null==r.target&&null==r.targetEndpoint)return n.log("Cannot establish connection - target does not exist"),void 0;bt(r.source);u=ti(r);di(u,r)}return u};nr=[{el:"source",elId:"sourceId",epDefs:"sourceEndpointDefinitions"},{el:"target",elId:"targetId",epDefs:"targetEndpointDefinitions"}];ui=function(n,i,r,u){var f,h,e,s=nr[r],l=n[s.elId],a=(n[s.el],n.endpoints[r]),c={index:r,originalSourceId:0===r?l:n.sourceId,newSourceId:n.sourceId,originalTargetId:1==r?l:n.targetId,newTargetId:n.targetId,connection:n},o;if(i.constructor==t.Endpoint)f=i,f.addConnection(n),i=f.element;else if(h=p(i),e=this[s.epDefs][h],h===n[s.elId])f=null;else if(e)for(o in e){if(!e[o].enabled)return;f=null!=e[o].endpoint&&e[o].endpoint._jsPlumb?e[o].endpoint:this.addEndpoint(i,e[o].def);e[o].uniqueEndpoint&&(e[o].endpoint=f);f._doNotDeleteOnDetach=!1;f._deleteOnDetach=!0;f.addConnection(n)}else f=n.makeEndpoint(0===r,i,h),f._doNotDeleteOnDetach=!1,f._deleteOnDetach=!0;return null!=f&&(a.detachFromConnection(n),n.endpoints[r]=f,n[s.el]=f.element,n[s.elId]=f.elementId,c[0===r?"newSourceId":"newTargetId"]=f.elementId,tr(c),u||n.repaint()),c.element=i,c}.bind(this);this.setSource=function(n,t,i){var r=ui(n,t,0,i);this.anchorManager.sourceChanged(r.originalSourceId,r.newSourceId,n,r.el)};this.setTarget=function(n,t,i){var r=ui(n,t,1,i);this.anchorManager.updateOtherEndpoint(r.originalSourceId,r.originalTargetId,r.newTargetId,n)};this.deleteEndpoint=function(n,t,i){var r="string"==typeof n?nt[n]:n;return r&&e.deleteObject({endpoint:r,dontUpdateHover:t,deleteAttachedObjects:i}),e};this.deleteEveryEndpoint=function(){var u=e.setSuspendDrawing(!0),i,n,t,r;for(i in s)if(n=s[i],n&&n.length)for(t=0,r=n.length;r>t;t++)e.deleteEndpoint(n[t],!0);return s={},y={},nt={},h={},yt={},e.anchorManager.reset(),e.getDragManager().reset(),u||e.setSuspendDrawing(!1),e};fi=function(n,t,i){var u=e.Defaults.ConnectionType||e.getDefaultConnectionType(),f=n.constructor==u,r=f?{connection:n,source:n.source,target:n.target,sourceId:n.sourceId,targetId:n.targetId,sourceEndpoint:n.endpoints[0],targetEndpoint:n.endpoints[1]}:n;t&&e.fire("connectionDetached",r,i);e.anchorManager.connectionDetached(r)};tr=e.fireMoveEvent=function(n,t){e.fire("connectionMoved",n,t)};this.unregisterEndpoint=function(n){var t,i;n._jsPlumb.uuid&&(nt[n._jsPlumb.uuid]=null);e.anchorManager.deleteEndpoint(n);for(t in s){if(i=s[t],i){for(var u=[],r=0,f=i.length;f>r;r++)i[r]!=n&&u.push(i[r]);s[t]=u}s[t].length<1&&delete s[t]}};this.detach=function(){var r,f,h;if(0!==arguments.length){var c=e.Defaults.ConnectionType||e.getDefaultConnectionType(),o=arguments[0].constructor==c,u=2==arguments.length?o?arguments[1]||{}:arguments[0]:arguments[0],s=u.fireEvent!==!1,l=u.forceDetach,i=o?arguments[0]:u.connection,a=o?null:u.deleteAttachedObjects;i?(l||n.functionChain(!0,!1,[[i.endpoints[0],"isDetachAllowed",[i]],[i.endpoints[1],"isDetachAllowed",[i]],[i,"isDetachAllowed",[i]],[e,"checkCondition",["beforeDetach",i]]]))&&i.endpoints[0].detach({connection:i,ignoreTarget:!1,forceDetach:!0,fireEvent:s,deleteAttachedObjects:a}):(r=t.extend({},u),r.uuids?ht(r.uuids[0]).detachFrom(ht(r.uuids[1]),s):r.sourceEndpoint&&r.targetEndpoint?r.sourceEndpoint.detachFrom(r.targetEndpoint):(f=p(e.getElement(r.source)),h=p(e.getElement(r.target)),ri(f,function(n){(n.sourceId==f&&n.targetId==h||n.targetId==f&&n.sourceId==h)&&e.checkCondition("beforeDetach",n)&&n.endpoints[0].detach({connection:n,ignoreTarget:!1,forceDetach:!0,fireEvent:s})})))}};this.detachAllConnections=function(n,t){var u,i,r,f;if(t=t||{},n=e.getElement(n),u=p(n),i=s[u],i&&i.length)for(r=0,f=i.length;f>r;r++)i[r].detachAll(t.fireEvent!==!1,t.forceDetach);return e};this.detachEveryConnection=function(n){return n=n||{},e.batch(function(){var r,t,i,u;for(r in s)if(t=s[r],t&&t.length)for(i=0,u=t.length;u>i;i++)t[i].detachAll(n.fireEvent!==!1,n.forceDetach);g.length=0}),e};this.deleteObject=function(t){var i={endpoints:{},connections:{},endpointCount:0,connectionCount:0},o=(t.fireEvent!==!1,t.deleteAttachedObjects!==!1),s=function(n){if(null!=n&&null==i.connections[n.id]&&(t.dontUpdateHover||null==n._jsPlumb||n.setHover(!1),i.connections[n.id]=n,i.connectionCount++,o))for(var r=0;r<n.endpoints.length;r++)n.endpoints[r]._deleteOnDetach&&h(n.endpoints[r])},h=function(n){var r,u;if(null!=n&&null==i.endpoints[n.id]&&(t.dontUpdateHover||null==n._jsPlumb||n.setHover(!1),i.endpoints[n.id]=n,i.endpointCount++,o))for(r=0;r<n.connections.length;r++)u=n.connections[r],s(u)},c,r,f,l,u;t.connection?s(t.connection):h(t.endpoint);for(c in i.connections)r=i.connections[c],r._jsPlumb&&(n.removeWithFunction(g,function(n){return r.id==n.id}),fi(r,t.fireEvent===!1?!1:!r.pending,t.originalEvent),f=null==t.deleteAttachedObjects?null:!t.deleteAttachedObjects,r.endpoints[0].detachFromConnection(r,null,f),r.endpoints[1].detachFromConnection(r,null,f),r.cleanup(!0),r.destroy(!0));for(l in i.endpoints)u=i.endpoints[l],u._jsPlumb&&(e.unregisterEndpoint(u),u.cleanup(!0),u.destroy(!0));return i};this.draggable=function(n,t){var i;return a(function(n){i=l(n);i.el&&or(i.el,!0,t,i.id,!0)},n),e};this.droppable=function(n,t){var i;return t=t||{},t.allowLoopback=!1,a(function(n){i=l(n);i.el&&e.initDroppable(i.el,t)},n),e};var yr=function(n,t,i,r){for(var u=0,f=n.length;f>u;u++)n[u][t].apply(n[u],i);return r(n)},pr=function(n,t,i){for(var u=[],r=0,f=n.length;f>r;r++)u.push([n[r][t].apply(n[r],i),n[r]]);return u},et=function(n,t,i){return function(){return yr(n,t,arguments,i)}},pt=function(n,t){return function(){return pr(n,t,arguments)}},tt=function(n,t){var i=[],r,u;if(n)if("string"==typeof n){if("*"===n)return n;i.push(n)}else if(t)i=n;else if(n.length)for(r=0,u=n.length;u>r;r++)i.push(l(n[r]).id);else i.push(l(n).id);return i},it=function(n,t,i){return"*"===n?!0:n.length>0?-1!=n.indexOf(t):!i};this.getConnections=function(n,t){n?n.constructor==String&&(n={scope:n}):n={};for(var o=n.scope||e.getDefaultScope(),u=tt(o,!0),s=tt(n.source),h=tt(n.target),r=!t&&u.length>1?{}:[],c=function(n,i){if(!t&&u.length>1){var f=r[n];null==f&&(f=r[n]=[]);f.push(i)}else r.push(i)},f=0,l=g.length;l>f;f++){var i=g[f],a=i.proxies&&i.proxies[0]?i.proxies[0].originalEp.elementId:i.sourceId,v=i.proxies&&i.proxies[1]?i.proxies[1].originalEp.elementId:i.targetId;it(u,i.scope)&&it(s,a)&&it(h,v)&&c(i.scope,i)}return r};var wr=function(n,t){return function(i){for(var r=0,u=n.length;u>r;r++)i(n[r]);return t(n)}},br=function(n){return function(t){return n[t]}},ir=function(n,t){for(var u={length:n.length,each:wr(n,t),get:br(n)},f=["setHover","removeAllOverlays","setLabel","addClass","addOverlay","removeOverlay","removeOverlays","showOverlay","hideOverlay","showOverlays","hideOverlays","setPaintStyle","setHoverPaintStyle","setSuspendEvents","setParameter","setParameters","setVisible","repaint","addType","toggleType","removeType","removeClass","setType","bind","unbind"],e=["getLabel","getOverlay","isHover","getParameter","getParameters","getPaintStyle","getHoverPaintStyle","isVisible","hasType","getType","isSuspendEvents"],i=0,r=f.length;r>i;i++)u[f[i]]=et(n,f[i],t);for(i=0,r=e.length;r>i;i++)u[e[i]]=pt(n,e[i]);return u},ct=function(n){var i=ir(n,ct);return t.extend(i,{setDetachable:et(n,"setDetachable",ct),setReattach:et(n,"setReattach",ct),setConnector:et(n,"setConnector",ct),detach:function(){for(var t=0,i=n.length;i>t;t++)e.detach(n[t])},isDetachable:pt(n,"isDetachable"),isReattach:pt(n,"isReattach")})},wt=function(n){var i=ir(n,wt);return t.extend(i,{setEnabled:et(n,"setEnabled",wt),setAnchor:et(n,"setAnchor",wt),isEnabled:pt(n,"isEnabled"),detachAll:function(){for(var t=0,i=n.length;i>t;t++)n[t].detachAll()},remove:function(){for(var t=0,i=n.length;i>t;t++)e.deleteObject({endpoint:n[t]})}})};this.select=function(n){return n=n||{},n.scope=n.scope||"*",ct(n.connections||e.getConnections(n,!0))};this.selectEndpoints=function(n){var t,r,h,i,c,l;n=n||{};n.scope=n.scope||"*";var u=!n.element&&!n.source&&!n.target,a=u?"*":tt(n.element),f=u?"*":tt(n.source),e=u?"*":tt(n.target),v=tt(n.scope,!0),o=[];for(t in s){var y=it(a,t,!0),p=it(f,t,!0),w="*"!=f,b=it(e,t,!0),k="*"!=e;if(y||p||b)n:for(r=0,h=s[t].length;h>r;r++)if(i=s[t][r],it(v,i.scope,!0)){if(c=w&&f.length>0&&!i.isSource,l=k&&e.length>0&&!i.isTarget,c||l)continue n;o.push(i)}}return wt(o)};this.getAllConnections=function(){return g};this.getDefaultScope=function(){return ki};this.getEndpoint=ht;this.getEndpoints=function(n){return s[l(n).id]};this.getDefaultEndpointType=function(){return t.Endpoint};this.getDefaultConnectionType=function(){return t.Connection};this.getId=p;this.appendElement=er;ei=!1;this.isHoverSuspended=function(){return ei};this.setHoverSuspended=function(n){ei=n};this.hide=function(n,t){return gi(n,"none",t),e};this.idstamp=ot;this.connectorsInitialized=!1;this.registerConnectorType=function(n,t){f.push([n,t])};var bt=function(n){if(!k&&n){var t=e.getElement(n);t.offsetParent&&e.setContainer(t.offsetParent)}},kr=function(){e.Defaults.Container&&e.setContainer(e.Defaults.Container)},oi=e.manage=function(n,t,i){return y[n]||(y[n]={el:t,endpoints:[],connections:[]},y[n].info=kt({elId:n,timestamp:ft}),i||e.fire("manageElement",{id:n,info:y[n].info,el:t})),y[n]},kt=this.updateOffset=function(n){var i,r=n.timestamp,u=n.recalc,f=n.offset,t=n.elId;return ut&&!r&&(r=ft),!u&&r&&r===yt[t]?{o:n.offset||h[t],s:w[t]}:(u||!f&&null==h[t]?(i=y[t]?y[t].el:null,null!=i&&(w[t]=e.getSize(i),h[t]=e.getOffset(i),yt[t]=r)):(h[t]=f||h[t],null==w[t]&&(i=y[t].el,null!=i&&(w[t]=e.getSize(i))),yt[t]=r),h[t]&&!h[t].right&&(h[t].right=h[t].left+w[t][0],h[t].bottom=h[t].top+w[t][1],h[t].width=w[t][0],h[t].height=w[t][1],h[t].centerx=h[t].left+h[t].width/2,h[t].centery=h[t].top+h[t].height/2),{o:h[t],s:w[t]})};this.init=function(){var u,t,r;if(o=i.jsPlumb.getRenderModes(),u=function(t,r,u){i.jsPlumb.Connectors[t][r]=function(){u.apply(this,arguments);i.jsPlumb.ConnectorRenderers[t].apply(this,arguments)};n.extend(i.jsPlumb.Connectors[t][r],[u,i.jsPlumb.ConnectorRenderers[t]])},!i.jsPlumb.connectorsInitialized){for(t=0;t<f.length;t++)for(r=0;r<o.length;r++)u(o[r],f[t][1],f[t][0]);i.jsPlumb.connectorsInitialized=!0}ni||(kr(),e.anchorManager=new i.jsPlumb.AnchorManager({jsPlumbInstance:e}),ni=!0,e.fire("ready",e))}.bind(this);this.log=wi;this.jsPlumbUIComponent=v;this.makeAnchor=function(){var o,h=function(n,t){if(i.jsPlumb.Anchors[n])return new i.jsPlumb.Anchors[n](t);if(!e.Defaults.DoNotThrowErrors)throw{msg:"jsPlumb: unknown anchor type '"+n+"'"};},s;if(0===arguments.length)return null;var r=arguments[0],f=arguments[1],u=(arguments[2],null);return r.compute&&r.getOrientation?r:("string"==typeof r?u=h(arguments[0],{elementId:f,jsPlumbInstance:e}):n.isArray(r)&&(n.isArray(r[0])||n.isString(r[0])?2==r.length&&n.isObject(r[1])?n.isString(r[0])?(o=i.jsPlumb.extend({elementId:f,jsPlumbInstance:e},r[1]),u=h(r[0],o)):(o=i.jsPlumb.extend({elementId:f,jsPlumbInstance:e,anchors:r[0]},r[1]),u=new i.jsPlumb.DynamicAnchor(o)):u=new t.DynamicAnchor({anchors:r,selector:null,elementId:f,jsPlumbInstance:e}):(s={x:r[0],y:r[1],orientation:r.length>=4?[r[2],r[3]]:[0,0],offsets:r.length>=6?[r[4],r[5]]:[0,0],elementId:f,jsPlumbInstance:e,cssClass:7==r.length?r[6]:null},u=new i.jsPlumb.Anchor(s),u.clone=function(){return new i.jsPlumb.Anchor(s)})),u.id||(u.id="anchor_"+ot()),u)};this.makeAnchors=function(t,r,u){for(var o=[],f=0,s=t.length;s>f;f++)"string"==typeof t[f]?o.push(i.jsPlumb.Anchors[t[f]]({elementId:r,jsPlumbInstance:u})):n.isArray(t[f])&&o.push(e.makeAnchor(t[f],r,u));return o};this.makeDynamicAnchor=function(n,t){return new i.jsPlumb.DynamicAnchor({anchors:n,selector:t,elementId:null,jsPlumbInstance:e})};this.targetEndpointDefinitions={};si=function(){};this.sourceEndpointDefinitions={};rr=function(n,t,i,r,u){for(var s=n.target||n.srcElement,f=!1,o=r.getSelector(t,i),e=0;e<o.length;e++)if(o[e]==s){f=!0;break}return u?!f:f};hi=function(t,r,u,f,o){var s=new v(r),h=r._jsPlumb.EndpointDropHandler({jsPlumb:e,enabled:function(){return t.def.enabled},isFull:function(){var n=e.select({target:t.id}).length;return t.def.maxConnections>0&&n>=t.def.maxConnections},element:t.el,elementId:t.id,isSource:f,isTarget:o,addClass:function(n){e.addClass(t.el,n)},removeClass:function(n){e.removeClass(t.el,n)},onDrop:function(n){var t=n.endpoints[0];t.anchor.locked=!1},isDropAllowed:function(){return s.isDropAllowed.apply(s,arguments)},isRedrop:function(n){return null!=n.suspendedElement&&null!=n.suspendedEndpoint&&n.suspendedEndpoint.element===t.el},getEndpoint:function(n){var u=t.def.endpoint,f,o;if((null==u||null==u._jsPlumb)&&(f=e.deriveEndpointAndAnchorSpec(n.getType().join(" "),!0),o=f.endpoints?i.jsPlumb.extend(r,{endpoint:t.def.def.endpoint||f.endpoints[1]}):r,f.anchors&&(o=i.jsPlumb.extend(o,{anchor:t.def.def.anchor||f.anchors[1]})),u=e.addEndpoint(t.el,o),u._mtNew=!0),r.uniqueEndpoint&&(t.def.endpoint=u),u._doNotDeleteOnDetach=!1,u._deleteOnDetach=!0,n.isDetachable()&&u.initDraggable(),null!=u.anchor.positionFinder){var s=e.getUIPosition(arguments,e.getZoom()),c=e.getOffset(t.el),l=e.getSize(t.el),h=null==s?[0,0]:u.anchor.positionFinder(s,c,l,u.anchor.constructorParams);u.anchor.x=h[0];u.anchor.y=h[1]}return u},maybeCleanup:function(n){n._mtNew&&0===n.connections.length?e.deleteObject({endpoint:n}):delete n._mtNew}}),c=i.jsPlumb.dragEvents.drop;return u.scope=u.scope||r.scope||e.Defaults.Scope,u[c]=n.wrap(u[c],h,!0),o&&(u[i.jsPlumb.dragEvents.over]=function(){return!0}),r.allowLoopback===!1&&(u.canDrop=function(n){var i=n.getDragElement()._jsPlumbRelatedElement;return i!=t.el}),e.initDroppable(t.el,u,"internal"),h};this.makeTarget=function(n,t,r){var u=i.jsPlumb.extend({_jsPlumb:this},r);i.jsPlumb.extend(u,t);si(u,1,this);for(var o=(!(u.deleteEndpointsOnDetach===!1),u.maxConnections||-1),s=function(n){var t=l(n),r=t.id,e=i.jsPlumb.extend({},u.dropOptions||{}),f;this.targetEndpointDefinitions[r]=this.targetEndpointDefinitions[r]||{};bt(r);f={def:i.jsPlumb.extend({},u),uniqueEndpoint:u.uniqueEndpoint,maxConnections:o,enabled:!0};t.def=f;this.targetEndpointDefinitions[r]["default"]=f;hi(t,u,e,u.isSource===!0,!0);t.el._katavorioDrop[t.el._katavorioDrop.length-1].targetDef=f}.bind(this),e=n.length&&n.constructor!=String?n:[n],f=0,h=e.length;h>f;f++)s(e[f]);return this};this.unmakeTarget=function(n,t){var i=l(n);return e.destroyDroppable(i.el,"internal"),t||delete this.targetEndpointDefinitions[i.id],this};this.makeSource=function(t,r,u){var f=i.jsPlumb.extend({_jsPlumb:this},u),o,s;i.jsPlumb.extend(f,r);o=f.connectionType||"default";s=e.deriveEndpointAndAnchorSpec(o);f.endpoint=f.endpoint||s.endpoints[0];f.anchor=f.anchor||s.anchors[0];si(f,0,this);for(var c=f.maxConnections||-1,a=f.onMaxConnections,y=function(t){var u=t.id,d=this.getElement(t.el),h,v,k;this.sourceEndpointDefinitions[u]=this.sourceEndpointDefinitions[u]||{};bt(u);h={def:i.jsPlumb.extend({},f),uniqueEndpoint:f.uniqueEndpoint,maxConnections:c,enabled:!0};this.sourceEndpointDefinitions[u][o]=h;t.def=h;var y=i.jsPlumb.dragEvents.stop,p=i.jsPlumb.dragEvents.drag,s=i.jsPlumb.extend({},f.dragOptions||{}),w=s.drag,b=s.stop,r=null,l=!1;s.scope=s.scope||f.scope;s[p]=n.wrap(s[p],function(){w&&w.apply(this,arguments);l=!1});s[y]=n.wrap(s[y],function(){if(b&&b.apply(this,arguments),this.currentlyDragging=!1,null!=r._jsPlumb){var l=f.anchor||this.Defaults.Anchor,o=r.anchor,s=r.connections[0],n=this.makeAnchor(l,u,this),h=r.element;if(null!=n.positionFinder){var t=e.getOffset(h),i=this.getSize(h),a={left:t.left+o.x*i[0],top:t.top+o.y*i[1]},c=n.positionFinder(a,t,i,n.constructorParams);n.x=c[0];n.y=c[1]}r.setAnchor(n,!0);r.repaint();this.repaint(r.elementId);null!=s&&this.repaint(s.targetId)}}.bind(this));v=function(h){var v,nt,tt,w,y,p,b,k,g;if(3!==h.which&&2!==h.button&&(v=this.sourceEndpointDefinitions[u][o],v.enabled)){if((u=this.getId(this.getElement(t.el)),f.filter)&&(nt=n.isString(f.filter)?rr(h,t.el,f.filter,this,f.filterExclude):f.filter(h,t.el),nt===!1))return;if(tt=this.select({source:u}).length,v.maxConnections>=0&&tt>=v.maxConnections)return a&&a({element:t.el,maxConnections:c},h),!1;if(w=i.jsPlumb.getPositionOnElement(h,d,vt),y={},i.jsPlumb.extend(y,f),y.isTemporarySource=!0,y.anchor=[w[0],w[1],0,0],y.dragOptions=s,v.def.scope&&(y.scope=v.def.scope),r=this.addEndpoint(u,y),l=!0,r._doNotDeleteOnDetach=!1,r._deleteOnDetach=!0,v.uniqueEndpoint&&(v.endpoint?r.finalEndpoint=v.endpoint:(v.endpoint=r,r._deleteOnDetach=!1,r._doNotDeleteOnDetach=!0)),p=function(){e.off(r.canvas,"mouseup",p);e.off(t.el,"mouseup",p);l&&(l=!1,e.deleteEndpoint(r))},e.on(r.canvas,"mouseup",p),e.on(t.el,"mouseup",p),b={},v.def.extract)for(k in v.def.extract)g=(h.srcElement||h.target).getAttribute(k),g&&(b[v.def.extract[k]]=g);e.trigger(r.canvas,"mousedown",h,b);n.consume(h)}}.bind(this);this.on(t.el,"mousedown",v);h.trigger=v;f.filter&&(n.isString(f.filter)||n.isFunction(f.filter))&&e.setDragFilter(t.el,f.filter);k=i.jsPlumb.extend({},f.dropOptions||{});hi(t,f,k,!0,f.isTarget===!0)}.bind(this),v=t.length&&t.constructor!=String?t:[t],h=0,p=v.length;p>h;h++)y(l(v[h]));return this};this.unmakeSource=function(n,t,i){var r=l(n),u,f,o;if(e.destroyDroppable(r.el,"internal"),u=this.sourceEndpointDefinitions[r.id],u)for(f in u)(null==t||t===f)&&(o=u[f].trigger,o&&e.off(r.el,"mousedown",o),i||delete this.sourceEndpointDefinitions[r.id][f]);return this};this.unmakeEverySource=function(){for(var n in this.sourceEndpointDefinitions)e.unmakeSource(n,null,!0);return this.sourceEndpointDefinitions={},this};dt=function(t,i,r){var e,u,f;for(i=n.isArray(i)?i:[i],e=p(t),r=r||"default",u=0;u<i.length;u++)if(f=this[i[u]][e],f&&f[r])return f[r].def.scope||this.Defaults.Scope}.bind(this);ci=function(t,i,r,u){var o,f,e;for(r=n.isArray(r)?r:[r],o=p(t),u=u||"default",f=0;f<r.length;f++)e=this[r[f]][o],e&&e[u]&&(e[u].def.scope=i)}.bind(this);this.getScope=function(n){return dt(n,["sourceEndpointDefinitions","targetEndpointDefinitions"])};this.getSourceScope=function(n){return dt(n,"sourceEndpointDefinitions")};this.getTargetScope=function(n){return dt(n,"targetEndpointDefinitions")};this.setScope=function(n,t,i){this.setSourceScope(n,t,i);this.setTargetScope(n,t,i)};this.setSourceScope=function(n,t,i){ci(n,t,"sourceEndpointDefinitions",i);this.setDragScope(n,t)};this.setTargetScope=function(n,t,i){ci(n,t,"targetEndpointDefinitions",i);this.setDropScope(n,t)};this.unmakeEveryTarget=function(){for(var n in this.targetEndpointDefinitions)e.unmakeTarget(n,!0);return this.targetEndpointDefinitions={},this};lt=function(t,i,r,u,f){var e="source"==t?this.sourceEndpointDefinitions:this.targetEndpointDefinitions,h,c,o,s;if(f=f||"default",n.isString(i)&&e[i]&&e[i][f])e[i][f].enabled=u?!e[i][f].enabled:r;else if(i.length)for(h=0,c=i.length;c>h;h++)o=l(i[h]),e[o.id]&&e[o.id][f]&&(e[o.id][f].enabled=u?!e[o.id][f].enabled:r);else s=l(i).id,e[s]&&e[s][f]&&(e[s][f].enabled=u?!e[s][f].enabled:r);return this}.bind(this);at=function(t,i){return n.isString(t)||!t.length?i.apply(this,[t]):t.length?i.apply(this,[t[0]]):void 0}.bind(this);this.toggleSourceEnabled=function(n,t){return lt("source",n,null,!0,t),this.isSourceEnabled(n,t)};this.setSourceEnabled=function(n,t,i){return lt("source",n,t,null,i)};this.isSource=function(n,t){return t=t||"default",at(n,function(n){var i=this.sourceEndpointDefinitions[l(n).id];return null!=i&&null!=i[t]}.bind(this))};this.isSourceEnabled=function(n,t){return t=t||"default",at(n,function(n){var i=this.sourceEndpointDefinitions[l(n).id];return i&&i[t]&&i[t].enabled===!0}.bind(this))};this.toggleTargetEnabled=function(n,t){return lt("target",n,null,!0,t),this.isTargetEnabled(n,t)};this.isTarget=function(n,t){return t=t||"default",at(n,function(n){var i=this.targetEndpointDefinitions[l(n).id];return null!=i&&null!=i[t]}.bind(this))};this.isTargetEnabled=function(n,t){return t=t||"default",at(n,function(n){var i=this.targetEndpointDefinitions[l(n).id];return i&&i[t]&&i[t].enabled===!0}.bind(this))};this.setTargetEnabled=function(n,t,i){return lt("target",n,t,null,i)};this.ready=function(n){e.bind("ready",n)};li=function(n,t){if("object"==typeof n&&n.length)for(var i=0,r=n.length;r>i;i++)t(n[i]);else t(n);return e};this.repaint=function(n,t,i){return li(n,function(n){st(n,t,i)})};this.revalidate=function(n,t,i){return li(n,function(n){var r=i?n:e.getId(n);e.updateOffset({elId:r,recalc:!0,timestamp:t});e.repaint(n)})};this.repaintEverything=function(){var n,t=u();for(n in s)e.updateOffset({elId:n,recalc:!0,timestamp:t});for(n in s)st(n,null,t);return this};this.removeAllEndpoints=function(n,t,i){i=i||[];var r=function(n){var u,o,f=l(n),h=s[f.id];if(h)for(i.push(f),u=0,o=h.length;o>u;u++)e.deleteEndpoint(h[u],!1);if(delete s[f.id],t&&f.el&&3!=f.el.nodeType&&8!=f.el.nodeType)for(u=0,o=f.el.childNodes.length;o>u;u++)r(f.el.childNodes[u])};return r(n),this};ai=function(n,t){e.removeAllEndpoints(n.id,!0,t);for(var r=function(n){e.getDragManager().elementRemoved(n.id);e.anchorManager.clearFor(n.id);e.anchorManager.removeFloatingConnection(n.id);e.isSource(n.el)&&e.unmakeSource(n.el);e.isTarget(n.el)&&e.unmakeTarget(n.el);e.destroyDraggable(n.el);e.destroyDroppable(n.el);delete e.floatingConnections[n.id];delete y[n.id];delete h[n.id];n.el&&(e.removeElement(n.el),n.el._jsPlumb=null)},i=1;i<t.length;i++)r(t[i]);r(n)};this.remove=function(n,t){var i=l(n),r=[];return i.text?i.el.parentNode.removeChild(i.el):i.id&&e.batch(function(){ai(i,r)},t===!1),e};this.empty=function(n,t){var r=[],i=function(n,t){var u=l(n);if(u.text)u.el.parentNode.removeChild(u.el);else if(u.el){for(;u.el.childNodes.length>0;)i(u.el.childNodes[0]);t||ai(u,r)}};return e.batch(function(){i(n,!0)},t===!1),e};this.reset=function(){e.silently(function(){e.removeAllGroups();e.removeGroupManager();e.deleteEveryEndpoint();e.unbind();this.targetEndpointDefinitions={};this.sourceEndpointDefinitions={};g.length=0;this.doReset&&this.doReset()}.bind(this))};vi=function(n){n.canvas&&n.canvas.parentNode&&n.canvas.parentNode.removeChild(n.canvas);n.cleanup();n.destroy()};this.clear=function(){e.select().each(vi);e.selectEndpoints().each(vi);s={};nt={}};this.setDefaultScope=function(n){return ki=n,e};this.setDraggable=cr;this.deriveEndpointAndAnchorSpec=function(n,t){for(var i,h=((t?"":"default ")+n).split(/[\s]/),r=null,u=null,f=null,o=null,s=0;s<h.length;s++)i=e.getType(h[s],"connection"),i&&(i.endpoints&&(r=i.endpoints),i.endpoint&&(u=i.endpoint),i.anchors&&(o=i.anchors),i.anchor&&(f=i.anchor));return{endpoints:r?r:[u,u],anchors:o?o:[f,f]}};this.setId=function(t,i,r){var u,o,h,f,c,e;for(n.isString(t)?u=t:(t=this.getElement(t),u=this.getId(t)),o=this.getConnections({source:u,scope:"*"},!0),h=this.getConnections({target:u,scope:"*"},!0),i=""+i,r?t=this.getElement(i):(t=this.getElement(u),this.setAttribute(t,"id",i)),s[i]=s[u]||[],f=0,c=s[i].length;c>f;f++)s[i][f].setElementId(i),s[i][f].setReferenceElement(t);delete s[u];this.sourceEndpointDefinitions[i]=this.sourceEndpointDefinitions[u];delete this.sourceEndpointDefinitions[u];this.targetEndpointDefinitions[i]=this.targetEndpointDefinitions[u];delete this.targetEndpointDefinitions[u];this.anchorManager.changeId(u,i);this.getDragManager().changeId(u,i);y[i]=y[u];delete y[u];e=function(n,r,u){for(var f=0,e=n.length;e>f;f++)n[f].endpoints[r].setElementId(i),n[f].endpoints[r].setReferenceElement(t),n[f][u+"Id"]=i,n[f][u]=t};e(o,0,"source");e(h,1,"target");this.repaint(i)};this.setDebugLog=function(n){wi=n};this.setSuspendDrawing=function(n,t){var i=ut;return ut=n,ft=n?(new Date).getTime():null,t&&this.repaintEverything(),i};this.isSuspendDrawing=function(){return ut};this.getSuspendedAt=function(){return ft};this.batch=function(t,i){var r=this.isSuspendDrawing();r||this.setSuspendDrawing(!0);try{t()}catch(u){n.log("Function run while suspended failed",u)}r||this.setSuspendDrawing(!1,!i)};this.doWhileSuspended=this.batch;this.getCachedData=vr;this.timestamp=u;this.show=function(n,t){return gi(n,"block",t),e};this.toggleVisible=ar;this.toggleDraggable=lr;this.addListener=this.bind};n.extend(i.jsPlumbInstance,n.EventGenerator,{setAttribute:function(n,t,i){this.setAttribute(n,t,i)},getAttribute:function(n,t){return this.getAttribute(i.jsPlumb.getElement(n),t)},convertToFullOverlaySpec:function(t){return n.isString(t)&&(t=[t,{}]),t[1].id=t[1].id||n.uuid(),t},registerConnectionType:function(n,t){var u,r,f;if(this._connectionTypes[n]=i.jsPlumb.extend({},t),t.overlays){for(u={},r=0;r<t.overlays.length;r++)f=this.convertToFullOverlaySpec(t.overlays[r]),u[f[1].id]=f;this._connectionTypes[n].overlays=u}},registerConnectionTypes:function(n){for(var t in n)this.registerConnectionType(t,n[t])},registerEndpointType:function(n,t){var u,r,f;if(this._endpointTypes[n]=i.jsPlumb.extend({},t),t.overlays){for(u={},r=0;r<t.overlays.length;r++)f=this.convertToFullOverlaySpec(t.overlays[r]),u[f[1].id]=f;this._endpointTypes[n].overlays=u}},registerEndpointTypes:function(n){for(var t in n)this.registerEndpointType(t,n[t])},getType:function(n,t){return"connection"===t?this._connectionTypes[n]:this._endpointTypes[n]},setIdChanged:function(n,t){this.setId(n,t,!0)},setParent:function(n,t){var i=this.getElement(n),u=this.getId(i),r=this.getElement(t),f=this.getId(r);i.parentNode.removeChild(i);r.appendChild(i);this.getDragManager().setParent(i,u,r,f)},extend:function(n,t,i){var r;if(i)for(r=0;r<i.length;r++)n[i[r]]=t[i[r]];else for(r in t)n[r]=t[r];return n},floatingConnections:{},getFloatingAnchorIndex:function(n){return n.endpoints[0].isFloating()?0:n.endpoints[1].isFloating()?1:-1}});t=new p;i.jsPlumb=t;t.getInstance=function(n){var t=new p(n);return t.init(),t};t.each=function(n,i){if(null!=n)if("string"==typeof n)i(t.getElement(n));else if(null!=n.length)for(var r=0;r<n.length;r++)i(t.getElement(n[r]));else i(n)};"function"==typeof define&&(define("jsplumb",[],function(){return t}),define("jsplumbinstance",[],function(){return t.getInstance()}));"undefined"!=typeof exports&&(exports.jsPlumb=t);"undefined"!=typeof module&&(module.exports=t)}.call("undefined"!=typeof window?window:this),function(){var n=this,u=n.jsPlumbUtil,t=(!!window.SVGAngle||document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),function(n,t){if(null==n)return[0,0];var r=c(n),i=h(r,0);return[i[t+"X"],i[t+"Y"]]}),e=function(n){return null==n?[0,0]:t(n,"page")},o=function(n){return t(n,"screen")},s=function(n){return t(n,"client")},h=function(n,t){return n.item?n.item(t):n[t]},c=function(n){return n.touches&&n.touches.length>0?n.touches:n.changedTouches&&n.changedTouches.length>0?n.changedTouches:n.targetTouches&&n.targetTouches.length>0?n.targetTouches:[n]},l=function(n){var u={},f=[],t={},r={},i={};this.register=function(e){var o=n.getId(e),h=n.getOffset(e),s;u[o]||(u[o]=e,f.push(e),t[o]={});s=function(u){var f,l,e,c;if(u)for(f=0;f<u.childNodes.length;f++)3!=u.childNodes[f].nodeType&&8!=u.childNodes[f].nodeType&&(l=jsPlumb.getElement(u.childNodes[f]),e=n.getId(u.childNodes[f],null,!0),e&&r[e]&&r[e]>0&&(c=n.getOffset(l),t[o][e]={id:e,offset:{left:c.left-h.left,top:c.top-h.top}},i[e]=o),s(u.childNodes[f]))};s(e)};this.updateOffsets=function(r,u){var f,s,h;if(null!=r){u=u||{};var c=jsPlumb.getElement(r),e=n.getId(c),o=t[e],l=n.getOffset(c);if(o)for(f in o)if(o.hasOwnProperty(f)){if(s=jsPlumb.getElement(f),h=u[f]||n.getOffset(s),null==s.offsetParent&&null!=t[e][f])continue;t[e][f]={id:f,offset:{left:h.left-l.left,top:h.top-l.top}};i[f]=e}}};this.endpointAdded=function(f,e){var l,o,s,h,c;for(e=e||n.getId(f),l=document.body,o=f.parentNode,r[e]=r[e]?r[e]+1:1;null!=o&&o!=l;){if(s=n.getId(o,null,!0),s&&u[s]){h=n.getOffset(o);null==t[s][e]&&(c=n.getOffset(f),t[s][e]={id:e,offset:{left:c.left-h.left,top:c.top-h.top}},i[e]=s);break}o=o.parentNode}};this.endpointDeleted=function(n){if(r[n.elementId]&&(r[n.elementId]--,r[n.elementId]<=0))for(var u in t)t.hasOwnProperty(u)&&t[u]&&(delete t[u][n.elementId],delete i[n.elementId])};this.changeId=function(n,r){t[r]=t[n];t[n]={};i[r]=i[n];i[n]=null};this.getElementsForDraggable=function(n){return t[n]};this.elementRemoved=function(n){var r=i[n];r&&(delete t[r][n],delete i[n])};this.reset=function(){u={};f=[];t={};r={}};this.dragEnded=function(t){if(null!=t.offsetParent){var u=n.getId(t),r=i[u];r&&this.updateOffsets(r)}};this.setParent=function(r,u,f,e,o){var c=i[u],s,h;t[e]||(t[e]={});s=n.getOffset(f);h=o||n.getOffset(r);c&&delete t[c][u];t[e][u]={id:u,offset:{left:h.left-s.left,top:h.top-s.top}};i[u]=e};this.clearParent=function(n,r){var u=i[r];u&&(delete t[u][r],delete i[r])};this.revalidateParent=function(t,r,u){var f=i[r],e;f&&(e={},e[r]=u,this.updateOffsets(f,e),n.revalidate(f))};this.getDragAncestor=function(t){var u=jsPlumb.getElement(t),f=n.getId(u),r=i[f];return r?jsPlumb.getElement(r):null}},a=function(n){return null==n?null:n.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},f=function(n,t){t=a(t);"undefined"!=typeof n.className.baseVal?n.className.baseVal=t:n.className=t},i=function(n){return"undefined"==typeof n.className.baseVal?n.className:n.className.baseVal},r=function(n,t,r){t=null==t?[]:u.isArray(t)?t:t.split(/\s+/);r=null==r?[]:u.isArray(r)?r:r.split(/\s+/);var s=i(n),e=s.split(/\s+/),o=function(n,t){for(var r,i=0;i<t.length;i++)n?-1==e.indexOf(t[i])&&e.push(t[i]):(r=e.indexOf(t[i]),-1!=r&&e.splice(r,1))};o(!0,t);o(!1,r);f(n,e.join(" "))};n.jsPlumb.extend(n.jsPlumbInstance.prototype,{headless:!1,pageLocation:e,screenLocation:o,clientLocation:s,getDragManager:function(){return null==this.dragManager&&(this.dragManager=new l(this)),this.dragManager},recalculateOffsets:function(n){this.getDragManager().updateOffsets(n)},createElement:function(n,t,i,r){return this.createElementNS(null,n,t,i,r)},createElementNS:function(n,t,i,r,u){var f,e=null==n?document.createElement(t):document.createElementNS(n,t);i=i||{};for(f in i)e.style[f]=i[f];r&&(e.className=r);u=u||{};for(f in u)e.setAttribute(f,""+u[f]);return e},getAttribute:function(n,t){return null!=n.getAttribute?n.getAttribute(t):null},setAttribute:function(n,t,i){null!=n.setAttribute&&n.setAttribute(t,i)},setAttributes:function(n,t){for(var i in t)t.hasOwnProperty(i)&&n.setAttribute(i,t[i])},appendToRoot:function(n){document.body.appendChild(n)},getRenderModes:function(){return["svg"]},getClass:i,addClass:function(n,t){jsPlumb.each(n,function(n){r(n,t)})},hasClass:function(n,t){return n=jsPlumb.getElement(n),n.classList?n.classList.contains(t):-1!=i(n).indexOf(t)},removeClass:function(n,t){jsPlumb.each(n,function(n){r(n,null,t)})},updateClasses:function(n,t,i){jsPlumb.each(n,function(n){r(n,t,i)})},setClass:function(n,t){jsPlumb.each(n,function(n){f(n,t)})},setPosition:function(n,t){n.style.left=t.left+"px";n.style.top=t.top+"px"},getPosition:function(n){var t=function(t){var i=n.style[t];return i?i.substring(0,i.length-2):0};return{left:t("left"),top:t("top")}},getStyle:function(n,t){return"undefined"!=typeof window.getComputedStyle?getComputedStyle(n,null).getPropertyValue(t):n.currentStyle[t]},getSelector:function(n,t){return 1==arguments.length?null!=n.nodeType?n:document.querySelectorAll(n):n.querySelectorAll(t)},getOffset:function(n,t,i){var f,e;n=jsPlumb.getElement(n);i=i||this.getContainer();for(var u={left:n.offsetLeft,top:n.offsetTop},r=t||null!=i&&n!=i&&n.offsetParent!=i?n.offsetParent:null,o=function(n){null!=n&&n!==document.body&&(n.scrollTop>0||n.scrollLeft>0)&&(u.left-=n.scrollLeft,u.top-=n.scrollTop)}.bind(this);null!=r;)u.left+=r.offsetLeft,u.top+=r.offsetTop,o(r),r=t?r.offsetParent:r.offsetParent==i?null:r.offsetParent;return null!=i&&!t&&(i.scrollTop>0||i.scrollLeft>0)&&(f=null!=n.offsetParent?this.getStyle(n.offsetParent,"position"):"static",e=this.getStyle(n,"position"),"absolute"!==e&&"fixed"!==e&&"absolute"!==f&&"fixed"!=f&&(u.left-=i.scrollLeft,u.top-=i.scrollTop)),u},getPositionOnElement:function(n,t,i){var r="undefined"!=typeof t.getBoundingClientRect?t.getBoundingClientRect():{left:0,top:0,width:0,height:0},u=document.body,f=document.documentElement,o=window.pageYOffset||f.scrollTop||u.scrollTop,s=window.pageXOffset||f.scrollLeft||u.scrollLeft,h=f.clientTop||u.clientTop||0,c=f.clientLeft||u.clientLeft||0,l=r.top+o-h+0*i,a=r.left+s-c+0*i,e=jsPlumb.pageLocation(n),v=r.width||t.offsetWidth*i,y=r.height||t.offsetHeight*i,p=(e[0]-a)/v,w=(e[1]-l)/y;return[p,w]},getAbsolutePosition:function(n){var t=function(t){var i=n.style[t];if(i)return parseFloat(i.substring(0,i.length-2))};return[t("left"),t("top")]},setAbsolutePosition:function(n,t,i,r){i?this.animate(n,{left:"+="+(t[0]-i[0]),top:"+="+(t[1]-i[1])},r):(n.style.left=t[0]+"px",n.style.top=t[1]+"px")},getSize:function(n){return[n.offsetWidth,n.offsetHeight]},getWidth:function(n){return n.offsetWidth},getHeight:function(n){return n.offsetHeight}})}.call("undefined"!=typeof window?window:this),function(){"use strict";var i=this,n=i.jsPlumb,r=i.jsPlumbUtil,t="__label",u=function(i,r){var u={cssClass:r.cssClass,labelStyle:i.labelStyle,id:t,component:i,_jsPlumb:i._jsPlumb.instance},f=n.extend(u,r);return new n.Overlays[i._jsPlumb.instance.getRenderMode()].Label(f)},f=function(t,i){var u=null,e,f;return r.isArray(i)?(e=i[0],f=n.extend({component:t,_jsPlumb:t._jsPlumb.instance},i[1]),3==i.length&&n.extend(f,i[2]),u=new n.Overlays[t._jsPlumb.instance.getRenderMode()][e](f)):u=i.constructor==String?new n.Overlays[t._jsPlumb.instance.getRenderMode()][i]({component:t,_jsPlumb:t._jsPlumb.instance}):i,u.id=u.id||r.uuid(),t.cacheTypeItem("overlay",u,u.id),t._jsPlumb.overlays[u.id]=u,u};n.OverlayCapableJsPlumbUIComponent=function(n){i.jsPlumbUIComponent.apply(this,arguments);this._jsPlumb.overlays={};this._jsPlumb.overlayPositions={};n.label&&(this.getDefaultType().overlays[t]=["Label",{label:n.label,location:n.labelLocation||this.defaultLabelLocation||.5,labelStyle:n.labelStyle||this._jsPlumb.instance.Defaults.LabelStyle,id:t}]);this.setListenerComponent=function(n){if(this._jsPlumb)for(var t in this._jsPlumb.overlays)this._jsPlumb.overlays[t].setListenerComponent(n)}};n.OverlayCapableJsPlumbUIComponent.applyType=function(n,t){var i,u,f,r;if(t.overlays){u={};for(i in t.overlays)f=n._jsPlumb.overlays[t.overlays[i][1].id],f?(f.updateFrom(t.overlays[i][1]),u[t.overlays[i][1].id]=!0):(r=n.getCachedTypeItem("overlay",t.overlays[i][1].id),null!=r?(r.reattach(n._jsPlumb.instance),r.updateFrom(t.overlays[i][1]),n._jsPlumb.overlays[r.id]=r):r=n.addOverlay(t.overlays[i],!0),u[r.id]=!0);for(i in n._jsPlumb.overlays)null==u[n._jsPlumb.overlays[i].id]&&n.removeOverlay(n._jsPlumb.overlays[i].id,!0)}};r.extend(n.OverlayCapableJsPlumbUIComponent,i.jsPlumbUIComponent,{setHover:function(n){if(this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged())for(var t in this._jsPlumb.overlays)this._jsPlumb.overlays[t][n?"addClass":"removeClass"](this._jsPlumb.instance.hoverClass)},addOverlay:function(n,t){var i=f(this,n);return t||this.repaint(),i},getOverlay:function(n){return this._jsPlumb.overlays[n]},getOverlays:function(){return this._jsPlumb.overlays},hideOverlay:function(n){var t=this.getOverlay(n);t&&t.hide()},hideOverlays:function(){for(var n in this._jsPlumb.overlays)this._jsPlumb.overlays[n].hide()},showOverlay:function(n){var t=this.getOverlay(n);t&&t.show()},showOverlays:function(){for(var n in this._jsPlumb.overlays)this._jsPlumb.overlays[n].show()},removeAllOverlays:function(n){for(var t in this._jsPlumb.overlays)this._jsPlumb.overlays[t].cleanup&&this._jsPlumb.overlays[t].cleanup();this._jsPlumb.overlays={};this._jsPlumb.overlayPositions=null;n||this.repaint()},removeOverlay:function(n,t){var i=this._jsPlumb.overlays[n];i&&(!t&&i.cleanup&&i.cleanup(),delete this._jsPlumb.overlays[n],this._jsPlumb.overlayPositions&&delete this._jsPlumb.overlayPositions[n])},removeOverlays:function(){for(var n=0,t=arguments.length;t>n;n++)this.removeOverlay(arguments[n])},moveParent:function(n){var i,t;if(this.bgCanvas&&(this.bgCanvas.parentNode.removeChild(this.bgCanvas),n.appendChild(this.bgCanvas)),this.canvas&&this.canvas.parentNode){this.canvas.parentNode.removeChild(this.canvas);n.appendChild(this.canvas);for(i in this._jsPlumb.overlays)this._jsPlumb.overlays[i].isAppendedAtTopLevel&&(t=this._jsPlumb.overlays[i].getElement(),t.parentNode.removeChild(t),n.appendChild(t))}},getLabel:function(){var n=this.getOverlay(t);return null!=n?n.getLabel():null},getLabelOverlay:function(){return this.getOverlay(t)},setLabel:function(n){var i=this.getOverlay(t),r;i?n.constructor==String||n.constructor==Function?i.setLabel(n):(n.label&&i.setLabel(n.label),n.location&&i.setLocation(n.location)):(r=n.constructor==String||n.constructor==Function?{label:n}:n,i=u(this,r),this._jsPlumb.overlays[t]=i);this._jsPlumb.instance.isSuspendDrawing()||this.repaint()},cleanup:function(n){for(var t in this._jsPlumb.overlays)this._jsPlumb.overlays[t].cleanup(n),this._jsPlumb.overlays[t].destroy(n);n&&(this._jsPlumb.overlays={},this._jsPlumb.overlayPositions=null)},setVisible:function(n){this[n?"showOverlays":"hideOverlays"]()},setAbsoluteOverlayPosition:function(n,t){this._jsPlumb.overlayPositions[n.id]=t},getAbsoluteOverlayPosition:function(n){return this._jsPlumb.overlayPositions?this._jsPlumb.overlayPositions[n.id]:null},_clazzManip:function(n,t,i){if(!i)for(var r in this._jsPlumb.overlays)this._jsPlumb.overlays[r][n+"Class"](t)},addClass:function(n,t){this._clazzManip("add",n,t)},removeClass:function(n,t){this._clazzManip("remove",n,t)}})}.call("undefined"!=typeof window?window:this),function(){"use strict";var i=this,n=i.jsPlumb,t=i.jsPlumbUtil,u=function(n,t,i){var r=!1;return{drag:function(){if(r)return r=!1,!0;if(t.element){var u=i.getUIPosition(arguments,i.getZoom());null!=u&&jsPlumb.setPosition(t.element,u);i.repaint(t.element,u);n.paint({anchorPoint:n.anchor.getCurrentLocation({element:n.element})})}},stopDrag:function(){r=!0}}},f=function(n,t,i,r){var u=jsPlumb.createElement("div",{position:"absolute"}),f;t.appendElement(u);f=t.getId(u);jsPlumb.setPosition(u,i);u.style.width=r[0]+"px";u.style.height=r[1]+"px";t.manage(f,u,!0);n.id=f;n.element=u},e=function(t,i,r,u,f,e,o,s){var h=new n.FloatingAnchor({reference:i,referenceCanvas:u,jsPlumbInstance:e});return o({paintStyle:t,endpoint:r,anchor:h,source:f,scope:s})},r=["connectorStyle","connectorHoverStyle","connectorOverlays","connector","connectionType","connectorClass","connectorHoverClass"],o=function(n,t){var r=0,i;if(null!=t)for(i=0;i<n.connections.length;i++)if(n.connections[i].sourceId==t||n.connections[i].targetId==t){r=i;break}return n.connections[r]};n.Endpoint=function(i){var s=i._jsPlumb,k=i.newConnection,v=i.newEndpoint,h,c,l,a,y,p,w,b;return this.idPrefix="_jsplumb_e_",this.defaultLabelLocation=[.5,.5],this.defaultOverlayKeys=["Overlays","EndpointOverlays"],n.OverlayCapableJsPlumbUIComponent.apply(this,arguments),this.appendToDefaultType({connectionType:i.connectionType,maxConnections:null==i.maxConnections?this._jsPlumb.instance.Defaults.MaxConnections:i.maxConnections,paintStyle:i.endpointStyle||i.paintStyle||i.style||this._jsPlumb.instance.Defaults.EndpointStyle||n.Defaults.EndpointStyle,hoverPaintStyle:i.endpointHoverStyle||i.hoverPaintStyle||this._jsPlumb.instance.Defaults.EndpointHoverStyle||n.Defaults.EndpointHoverStyle,connectorStyle:i.connectorStyle,connectorHoverStyle:i.connectorHoverStyle,connectorClass:i.connectorClass,connectorHoverClass:i.connectorHoverClass,connectorOverlays:i.connectorOverlays,connector:i.connector,connectorTooltip:i.connectorTooltip}),this._jsPlumb.enabled=!(i.enabled===!1),this._jsPlumb.visible=!0,this.element=n.getElement(i.source),this._jsPlumb.uuid=i.uuid,this._jsPlumb.floatingEndpoint=null,h=null,this._jsPlumb.uuid&&(i.endpointsByUUID[this._jsPlumb.uuid]=this),this.elementId=i.elementId,this.dragProxy=i.dragProxy,this._jsPlumb.connectionCost=i.connectionCost,this._jsPlumb.connectionsDirected=i.connectionsDirected,this._jsPlumb.currentAnchorClass="",this._jsPlumb.events={},c=function(){var t=s.endpointAnchorClassPrefix+"-"+this._jsPlumb.currentAnchorClass,n;this._jsPlumb.currentAnchorClass=this.anchor.getCssClass();n=s.endpointAnchorClassPrefix+(this._jsPlumb.currentAnchorClass?"-"+this._jsPlumb.currentAnchorClass:"");this.removeClass(t);this.addClass(n);jsPlumb.updateClasses(this.element,n,t)}.bind(this),this.prepareAnchor=function(n){var t=this._jsPlumb.instance.makeAnchor(n,this.elementId,s);return t.bind("anchorChanged",function(n){this.fire("anchorChanged",{endpoint:this,anchor:n});c()}.bind(this)),t},this.setPreparedAnchor=function(n,t){return this._jsPlumb.instance.continuousAnchorFactory.clear(this.elementId),this.anchor=n,c(),t||this._jsPlumb.instance.repaint(this.elementId),this},this.setAnchor=function(n,t){var i=this.prepareAnchor(n);return this.setPreparedAnchor(i,t),this},l=function(n){if(this.connections.length>0)for(var t=0;t<this.connections.length;t++)this.connections[t].setHover(n,!1);else this.setHover(n)}.bind(this),this.bind("mouseover",function(){l(!0)}),this.bind("mouseout",function(){l(!1)}),i._transient||this._jsPlumb.instance.anchorManager.add(this,this.elementId),this.prepareEndpoint=function(r,u){var e,o=function(t,i){var r=s.getRenderMode();if(n.Endpoints[r][t])return new n.Endpoints[r][t](i);if(!s.Defaults.DoNotThrowErrors)throw{msg:"jsPlumb: unknown endpoint type '"+t+"'"};},f={_jsPlumb:this._jsPlumb.instance,cssClass:i.cssClass,container:i.container,tooltip:i.tooltip,connectorTooltip:i.connectorTooltip,endpoint:this};return t.isString(r)?e=o(r,f):t.isArray(r)?(f=t.merge(r[1],f),e=o(r[0],f)):e=r.clone(),e.clone=function(){return t.isString(r)?o(r,f):t.isArray(r)?(f=t.merge(r[1],f),o(r[0],f)):void 0}.bind(this),e.typeId=u,e},this.setEndpoint=function(n){var t=this.prepareEndpoint(n);this.setPreparedEndpoint(t,!0)},this.setPreparedEndpoint=function(n){null!=this.endpoint&&(this.endpoint.cleanup(),this.endpoint.destroy());this.endpoint=n;this.type=this.endpoint.type;this.canvas=this.endpoint.canvas},n.extend(this,i,r),this.isSource=i.isSource||!1,this.isTemporarySource=i.isTemporarySource||!1,this.isTarget=i.isTarget||!1,this.connections=i.connections||[],this.connectorPointerEvents=i["connector-pointer-events"],this.scope=i.scope||s.getDefaultScope(),this.timestamp=null,this.reattachConnections=i.reattach||s.Defaults.ReattachConnections,this.connectionsDetachable=s.Defaults.ConnectionsDetachable,(i.connectionsDetachable===!1||i.detachable===!1)&&(this.connectionsDetachable=!1),this.dragAllowedWhenFull=i.dragAllowedWhenFull!==!1,i.onMaxConnections&&this.bind("maxConnections",i.onMaxConnections),this.addConnection=function(n){this.connections.push(n);this[(this.connections.length>0?"add":"remove")+"Class"](s.endpointConnectedClass);this[(this.isFull()?"add":"remove")+"Class"](s.endpointFullClass)},this.detachFromConnection=function(n,t,i){t=null==t?this.connections.indexOf(n):t;t>=0&&(this.connections.splice(t,1),this[(this.connections.length>0?"add":"remove")+"Class"](s.endpointConnectedClass),this[(this.isFull()?"add":"remove")+"Class"](s.endpointFullClass));(this._forceDeleteOnDetach||!i&&this._deleteOnDetach)&&0===this.connections.length&&s.deleteObject({endpoint:this,fireEvent:!1,deleteAttachedObjects:i!==!0})},this.detach=function(n){var r=n.connectionIndex,t=n.connection,f=n.ignoreTarget,i=n.fireEvent,e=n.originalEvent,o=n.endpointBeingDeleted,h=n.forceDetach,c=null==r?this.connections.indexOf(t):r,u=!1;return i=i!==!1,c>=0&&(h||t._forceDetach||t.isDetachable()&&t.isDetachAllowed(t)&&this.isDetachAllowed(t)&&s.checkCondition("beforeDetach",t,o))&&(s.deleteObject({connection:t,fireEvent:!f&&i,originalEvent:e,deleteAttachedObjects:n.deleteAttachedObjects}),u=!0),u},this.detachAll=function(n,t){for(var r,i=[];this.connections.length>0;)r=this.detach({connection:this.connections[0],ignoreTarget:!1,forceDetach:t===!0,fireEvent:n!==!1,originalEvent:null,endpointBeingDeleted:this,connectionIndex:0}),r||(i.push(this.connections[0]),this.connections.splice(0,1));return this.connections=i,this},this.detachFrom=function(n,t,i){for(var f,u=[],r=0;r<this.connections.length;r++)(this.connections[r].endpoints[1]==n||this.connections[r].endpoints[0]==n)&&u.push(this.connections[r]);for(f=0;f<u.length;f++)this.detach({connection:u[f],ignoreTarget:!1,forceDetach:!0,fireEvent:t,originalEvent:i});return this},this.getElement=function(){return this.element},this.setElement=function(n){var r=this._jsPlumb.instance.getId(n),u=this.elementId;return t.removeWithFunction(i.endpointsByElement[this.elementId],function(n){return n.id==this.id}.bind(this)),this.element=jsPlumb.getElement(n),this.elementId=s.getId(this.element),s.anchorManager.rehomeEndpoint(this,u,this.element),s.dragManager.endpointAdded(this.element),t.addToList(i.endpointsByElement,r,this),this},this.makeInPlaceCopy=function(){var n=this.anchor.getCurrentLocation({element:this}),t=this.anchor.getOrientation(this),r=this.anchor.getCssClass(),u={bind:function(){},compute:function(){return[n[0],n[1]]},getCurrentLocation:function(){return[n[0],n[1]]},getOrientation:function(){return t},getCssClass:function(){return r}};return v({dropOptions:i.dropOptions,anchor:u,source:this.element,paintStyle:this.getPaintStyle(),endpoint:i.hideOnDrag?"Blank":this.endpoint,_transient:!0,scope:this.scope,reference:this})},this.connectorSelector=function(){var n=this.connections[0];return n?n:this.connections.length<this._jsPlumb.maxConnections||-1==this._jsPlumb.maxConnections?null:n},this.setStyle=this.setPaintStyle,this.paint=function(n){var t,l,c,u,f,a,v,i,r,h;if(n=n||{},t=n.timestamp,l=!(n.recalc===!1),(!t||this.timestamp!==t)&&(c=s.updateOffset({elId:this.elementId,timestamp:t}),u=n.offset?n.offset.o:c.o,null!=u)){if(f=n.anchorPoint,a=n.connectorPaintStyle,null==f){if(v=n.dimensions||c.s,i={xy:[u.left,u.top],wh:v,element:this,timestamp:t},l&&this.anchor.isDynamic&&this.connections.length>0){var e=o(this,n.elementWithPrecedence),y=e.endpoints[0]==this?1:0,b=0===y?e.sourceId:e.targetId,p=s.getCachedData(b),w=p.o,k=p.s;i.txy=[w.left,w.top];i.twh=k;i.tElement=e.endpoints[y]}f=this.anchor.compute(i)}this.endpoint.compute(f,this.anchor.getOrientation(this),this._jsPlumb.paintStyleInUse,a||this.paintStyleInUse);this.endpoint.paint(this._jsPlumb.paintStyleInUse,this.anchor);this.timestamp=t;for(r in this._jsPlumb.overlays)this._jsPlumb.overlays.hasOwnProperty(r)&&(h=this._jsPlumb.overlays[r],h.isVisible()&&(this._jsPlumb.overlayPlacements[r]=h.draw(this.endpoint,this._jsPlumb.paintStyleInUse),h.paint(this._jsPlumb.overlayPlacements[r])))}},this.getTypeDescriptor=function(){return"endpoint"},this.isVisible=function(){return this._jsPlumb.visible},this.repaint=this.paint,a=!1,this.initDraggable=function(){if(!a&&n.isDragSupported(this.element)){var y,c={id:null,element:null},r=null,p=!1,l=null,w=u(this,c,s),o=i.dragOptions||{},b=n.dragEvents.start,d=n.dragEvents.stop,g=n.dragEvents.drag,nt=n.dragEvents.beforeStart,tt=function(n){y=n.e.payload||{}},it=function(){var u,o,h,d,g,nt,tt,n,a;if(r=this.connectorSelector(),u=!0,this.isEnabled()||(u=!1),null!=r||this.isSource||this.isTemporarySource||(u=!1),!this.isSource||!this.isFull()||null!=r&&this.dragAllowedWhenFull||(u=!1),null==r||r.isDetachable(this)||(u=!1),o=s.checkCondition(null==r?"beforeDrag":"beforeStartDetach",{endpoint:this,source:this.element,sourceId:this.elementId,connection:r}),o===!1?u=!1:"object"==typeof o?jsPlumb.extend(o,y||{}):o=y||{},u===!1)return s.stopDrag&&s.stopDrag(this.canvas),w.stopDrag(),!1;for(h=0;h<this.connections.length;h++)this.connections[h].setHover(!1);this.addClass("endpointDrag");s.setConnectionBeingDragged(!0);r&&!this.isFull()&&this.isSource&&(r=null);s.updateOffset({elId:this.elementId});var it=this._jsPlumb.instance.getOffset(this.canvas),b=this.canvas,rt=this._jsPlumb.instance.getSize(this.canvas);f(c,s,it,rt);s.setAttributes(this.canvas,{dragId:c.id,elId:this.elementId});d=this.dragProxy||this.endpoint;null==this.dragProxy&&null!=this.connectionType&&(g=this._jsPlumb.instance.deriveEndpointAndAnchorSpec(this.connectionType),g.endpoints[1]&&(d=g.endpoints[1]));nt=this._jsPlumb.instance.makeAnchor("Center");nt.isFloating=!0;this._jsPlumb.floatingEndpoint=e(this.getPaintStyle(),nt,d,this.canvas,c.element,s,v,this.scope);tt=this._jsPlumb.floatingEndpoint.anchor;null==r?(this.setHover(!1,!1),r=k({sourceEndpoint:this,targetEndpoint:this._jsPlumb.floatingEndpoint,source:this.element,target:c.element,anchors:[this.anchor,this._jsPlumb.floatingEndpoint.anchor],paintStyle:i.connectorStyle,hoverPaintStyle:i.connectorHoverStyle,connector:i.connector,overlays:i.connectorOverlays,type:this.connectionType,cssClass:this.connectorClass,hoverClass:this.connectorHoverClass,scope:i.scope,data:o}),r.pending=!0,r.addClass(s.draggingClass),this._jsPlumb.floatingEndpoint.addClass(s.draggingClass),this._jsPlumb.floatingEndpoint.anchor=tt,s.fire("connectionDrag",r),s.anchorManager.newConnection(r)):(p=!0,r.setHover(!1),n=r.endpoints[0].id==this.id?0:1,this.detachFromConnection(r,null,!0),a=s.getDragScope(b),s.setAttribute(this.canvas,"originalScope",a),s.fire("connectionDrag",r),0===n?(l=[r.source,r.sourceId,b,a],s.anchorManager.sourceChanged(r.endpoints[n].elementId,c.id,r,c.element)):(l=[r.target,r.targetId,b,a],r.target=c.element,r.targetId=c.id,s.anchorManager.updateOtherEndpoint(r.sourceId,r.endpoints[n].elementId,r.targetId,r)),r.suspendedEndpoint=r.endpoints[n],r.suspendedElement=r.endpoints[n].getElement(),r.suspendedElementId=r.endpoints[n].elementId,r.suspendedElementType=0===n?"source":"target",r.suspendedEndpoint.setHover(!1),this._jsPlumb.floatingEndpoint.referenceEndpoint=r.suspendedEndpoint,r.endpoints[n]=this._jsPlumb.floatingEndpoint,r.addClass(s.draggingClass),this._jsPlumb.floatingEndpoint.addClass(s.draggingClass));s.floatingConnections[c.id]=r;t.addToList(i.endpointsByElement,c.id,this._jsPlumb.floatingEndpoint);s.currentlyDragging=!0}.bind(this),rt=function(){var t,n,i;(s.setConnectionBeingDragged(!1),r&&null!=r.endpoints)&&(t=s.getDropEvent(arguments),n=s.getFloatingAnchorIndex(r),(r.endpoints[0===n?1:0].anchor.locked=!1,r.removeClass(s.draggingClass),this._jsPlumb&&(r.deleteConnectionNow||r.endpoints[n]==this._jsPlumb.floatingEndpoint)&&p&&r.suspendedEndpoint)&&(0===n?(r.floatingElement=r.source,r.floatingId=r.sourceId,r.floatingEndpoint=r.endpoints[0],r.floatingIndex=0,r.source=l[0],r.sourceId=l[1]):(r.floatingElement=r.target,r.floatingId=r.targetId,r.floatingEndpoint=r.endpoints[1],r.floatingIndex=1,r.target=l[0],r.targetId=l[1]),i=this._jsPlumb.floatingEndpoint,s.setDragScope(l[2],l[3]),r.endpoints[n]=r.suspendedEndpoint,r.isReattach()||r._forceReattach||r._forceDetach||!r.endpoints[0===n?1:0].detach({connection:r,ignoreTarget:!1,forceDetach:!1,fireEvent:!0,originalEvent:t,endpointBeingDeleted:!0})?(r.setHover(!1),r._forceDetach=null,r._forceReattach=null,this._jsPlumb.floatingEndpoint.detachFromConnection(r),r.suspendedEndpoint.addConnection(r),1==n?s.anchorManager.updateOtherEndpoint(r.sourceId,r.floatingId,r.targetId,r):s.anchorManager.sourceChanged(r.floatingId,r.sourceId,r,r.source),s.repaint(l[1])):s.deleteObject({endpoint:i})),this.deleteAfterDragStop?s.deleteObject({endpoint:this}):this._jsPlumb&&this.paint({recalc:!1}),s.fire("connectionDragStop",r,t),r.pending&&s.fire("connectionAborted",r,t),s.currentlyDragging=!1,r.suspendedElement=null,r.suspendedEndpoint=null,r=null);c&&c.element&&s.remove(c.element,!1,!1);h&&s.deleteObject({endpoint:h});this._jsPlumb&&(this.canvas.style.visibility="visible",this.anchor.locked=!1,this._jsPlumb.floatingEndpoint=null)}.bind(this);o=n.extend({},o);o.scope=this.scope||o.scope;o[nt]=t.wrap(o[nt],tt,!1);o[b]=t.wrap(o[b],it,!1);o[g]=t.wrap(o[g],w.drag);o[d]=t.wrap(o[d],rt);o.multipleDrop=!1;o.canDrag=function(){return this.isSource||this.isTemporarySource||this.connections.length>0}.bind(this);s.initDraggable(this.canvas,o,"internal");this.canvas._jsPlumbRelatedElement=this.element;a=!0}},y=i.endpoint||this._jsPlumb.instance.Defaults.Endpoint||n.Defaults.Endpoint,this.setEndpoint(y,!0),p=i.anchor?i.anchor:i.anchors?i.anchors:s.Defaults.Anchor||"Top",this.setAnchor(p,!0),w=["default",i.type||""].join(" "),this.addType(w,i.data,!0),this.canvas=this.endpoint.canvas,this.canvas._jsPlumb=this,this.initDraggable(),b=function(r,u,f,e){var o;if(n.isDropSupported(this.element)){o=i.dropOptions||s.Defaults.DropOptions||n.Defaults.DropOptions;o=n.extend({},o);o.scope=o.scope||this.scope;var c=n.dragEvents.drop,l=n.dragEvents.over,a=n.dragEvents.out,h=this,v=s.EndpointDropHandler({getEndpoint:function(){return h},jsPlumb:s,enabled:function(){return null!=f?f.isEnabled():!0},isFull:function(){return f.isFull()},element:this.element,elementId:this.elementId,isSource:this.isSource,isTarget:this.isTarget,addClass:function(n){h.addClass(n)},removeClass:function(n){h.removeClass(n)},isDropAllowed:function(){return h.isDropAllowed.apply(h,arguments)},reference:e,isRedrop:function(n,t){return n.suspendedEndpoint&&t.reference&&n.suspendedEndpoint.id===t.reference.id}});o[c]=t.wrap(o[c],v,!0);o[l]=t.wrap(o[l],function(){var f=n.getDragObject(arguments),e=s.getAttribute(n.getElement(f),"dragId"),t=s.floatingConnections[e],i,u,r;null!=t&&(i=s.getFloatingAnchorIndex(t),u=this.isTarget&&0!==i||t.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id==t.suspendedEndpoint.id,u&&(r=s.checkCondition("checkDropAllowed",{sourceEndpoint:t.endpoints[i],targetEndpoint:this,connection:t}),this[(r?"add":"remove")+"Class"](s.endpointDropAllowedClass),this[(r?"remove":"add")+"Class"](s.endpointDropForbiddenClass),t.endpoints[i].anchor.over(this.anchor,this)))}.bind(this));o[a]=t.wrap(o[a],function(){var r=n.getDragObject(arguments),u=null==r?null:s.getAttribute(n.getElement(r),"dragId"),t=u?s.floatingConnections[u]:null,i,f;null!=t&&(i=s.getFloatingAnchorIndex(t),f=this.isTarget&&0!==i||t.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id==t.suspendedEndpoint.id,f&&(this.removeClass(s.endpointDropAllowedClass),this.removeClass(s.endpointDropForbiddenClass),t.endpoints[i].anchor.out()))}.bind(this));s.initDroppable(r,o,"internal",u)}}.bind(this),this.anchor.isFloating||b(this.canvas,!(i._transient||this.anchor.isFloating),this,i.reference),this};t.extend(n.Endpoint,n.OverlayCapableJsPlumbUIComponent,{setVisible:function(n,t,i){var r,u;if(this._jsPlumb.visible=n,this.canvas&&(this.canvas.style.display=n?"block":"none"),this[n?"showOverlays":"hideOverlays"](),!t)for(r=0;r<this.connections.length;r++)(this.connections[r].setVisible(n),i)||(u=this===this.connections[r].endpoints[0]?1:0,1==this.connections[r].endpoints[u].connections.length&&this.connections[r].endpoints[u].setVisible(n,!0,!0))},getAttachedElements:function(){return this.connections},applyType:function(t,i){this.setPaintStyle(t.endpointStyle||t.paintStyle,i);this.setHoverPaintStyle(t.endpointHoverStyle||t.hoverPaintStyle,i);null!=t.maxConnections&&(this._jsPlumb.maxConnections=t.maxConnections);t.scope&&(this.scope=t.scope);n.extend(this,t,r);null!=t.cssClass&&this.canvas&&this._jsPlumb.instance.addClass(this.canvas,t.cssClass);n.OverlayCapableJsPlumbUIComponent.applyType(this,t)},isEnabled:function(){return this._jsPlumb.enabled},setEnabled:function(n){this._jsPlumb.enabled=n},cleanup:function(){var n=this._jsPlumb.instance.endpointAnchorClassPrefix+(this._jsPlumb.currentAnchorClass?"-"+this._jsPlumb.currentAnchorClass:"");jsPlumb.removeClass(this.element,n);this.anchor=null;this.endpoint.cleanup(!0);this.endpoint.destroy();this.endpoint=null;this._jsPlumb.instance.destroyDraggable(this.canvas,"internal");this._jsPlumb.instance.destroyDroppable(this.canvas,"internal")},setHover:function(n){this.endpoint&&this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()&&this.endpoint.setHover(n)},isFull:function(){return 0===this._jsPlumb.maxConnections?!0:!(this.isFloating()||this._jsPlumb.maxConnections<0||this.connections.length<this._jsPlumb.maxConnections)},isFloating:function(){return null!=this.anchor&&this.anchor.isFloating},isConnectedTo:function(n){var i=!1,t;if(n)for(t=0;t<this.connections.length;t++)if(this.connections[t].endpoints[1]==n||this.connections[t].endpoints[0]==n){i=!0;break}return i},getConnectionCost:function(){return this._jsPlumb.connectionCost},setConnectionCost:function(n){this._jsPlumb.connectionCost=n},areConnectionsDirected:function(){return this._jsPlumb.connectionsDirected},setConnectionsDirected:function(n){this._jsPlumb.connectionsDirected=n},setElementId:function(n){this.elementId=n;this.anchor.elementId=n},setReferenceElement:function(t){this.element=n.getElement(t)},setDragAllowedWhenFull:function(n){this.dragAllowedWhenFull=n},equals:function(n){return this.anchor.equals(n.anchor)},getUuid:function(){return this._jsPlumb.uuid},computeAnchor:function(n){return this.anchor.compute(n)}});i.jsPlumbInstance.prototype.EndpointDropHandler=function(n){return function(i){var u=n.jsPlumb,h,e,f,l,o,v,y;n.removeClass(u.endpointDropAllowedClass);n.removeClass(u.endpointDropForbiddenClass);var c=u.getDropEvent(arguments),s=u.getDragObject(arguments),p=u.getAttribute(s,"dragId"),a=(u.getAttribute(s,"elId"),u.getAttribute(s,"originalScope")),r=u.floatingConnections[p];if(null!=r&&(h=null!=r.suspendedEndpoint,(!h||null!=r.suspendedEndpoint._jsPlumb)&&(e=n.getEndpoint(r),null!=e))){if(n.isRedrop(r,n))return r._forceReattach=!0,r.setHover(!1),n.maybeCleanup&&n.maybeCleanup(e),void 0;if(f=u.getFloatingAnchorIndex(r),0===f&&!n.isSource||1===f&&!n.isTarget)return n.maybeCleanup&&n.maybeCleanup(e),void 0;if(n.onDrop&&n.onDrop(r),a&&u.setDragScope(s,a),l=n.isFull(i),l&&e.fire("maxConnections",{endpoint:this,connection:r,maxConnections:e._jsPlumb.maxConnections},c),!l&&n.enabled()){if(o=!0,0===f?(r.floatingElement=r.source,r.floatingId=r.sourceId,r.floatingEndpoint=r.endpoints[0],r.floatingIndex=0,r.source=n.element,r.sourceId=n.elementId):(r.floatingElement=r.target,r.floatingId=r.targetId,r.floatingEndpoint=r.endpoints[1],r.floatingIndex=1,r.target=n.element,r.targetId=n.elementId),h&&r.suspendedEndpoint.id!=e.id&&(r.isDetachAllowed(r)&&r.endpoints[f].isDetachAllowed(r)&&r.suspendedEndpoint.isDetachAllowed(r)&&u.checkCondition("beforeDetach",r)||(o=!1)),v=function(n){var i,o,s,l;r.endpoints[f].detachFromConnection(r);r.suspendedEndpoint&&r.suspendedEndpoint.detachFromConnection(r);r.endpoints[f]=e;e.addConnection(r);i=e.getParameters();for(o in i)r.setParameter(o,i[o]);h?(s=r.suspendedEndpoint.elementId,u.fireMoveEvent({index:f,originalSourceId:0===f?s:r.sourceId,newSourceId:0===f?e.elementId:r.sourceId,originalTargetId:1==f?s:r.targetId,newTargetId:1==f?e.elementId:r.targetId,originalSourceEndpoint:0===f?r.suspendedEndpoint:r.endpoints[0],newSourceEndpoint:0===f?e:r.endpoints[0],originalTargetEndpoint:1==f?r.suspendedEndpoint:r.endpoints[1],newTargetEndpoint:1==f?e:r.endpoints[1],connection:r},c)):i.draggable&&u.initDraggable(this.element,dragOptions,"internal",u);(1==f?u.anchorManager.updateOtherEndpoint(r.sourceId,r.floatingId,r.targetId,r):u.anchorManager.sourceChanged(r.floatingId,r.sourceId,r,r.source),r.endpoints[0].finalEndpoint)&&(l=r.endpoints[0],l.detachFromConnection(r),r.endpoints[0]=r.endpoints[0].finalEndpoint,r.endpoints[0].addConnection(r));t.isObject(n)&&r.mergeData(n);u.finaliseConnection(r,null,c,!1);r.setHover(!1)}.bind(this),y=function(){r.suspendedEndpoint&&(r.endpoints[f]=r.suspendedEndpoint,r.setHover(!1),r._forceDetach=!0,0===f?(r.source=r.suspendedEndpoint.element,r.sourceId=r.suspendedEndpoint.elementId):(r.target=r.suspendedEndpoint.element,r.targetId=r.suspendedEndpoint.elementId),r.suspendedEndpoint.addConnection(r),1==f?u.anchorManager.updateOtherEndpoint(r.sourceId,r.floatingId,r.targetId,r):u.anchorManager.sourceChanged(r.floatingId,r.sourceId,r,r.source),u.repaint(r.sourceId),r._forceDetach=!1)},o=o&&n.isDropAllowed(r.sourceId,r.targetId,r.scope,r,e))return v(o),!0;y()}n.maybeCleanup&&n.maybeCleanup(e);u.currentlyDragging=!1}}}}.call("undefined"!=typeof window?window:this),function(){"use strict";var i=this,n=i.jsPlumb,t=i.jsPlumbUtil,u=function(t,i,r,u,f){if(!t.Defaults.DoNotThrowErrors&&null==jsPlumb.Connectors[i][r])throw{msg:"jsPlumb: unknown connector type '"+r+"'"};return new n.Connectors[i][r](u,f)},r=function(n,t,i){return n?i.makeAnchor(n,t,i):null},f=function(n,i,r,u){null!=i&&(i._jsPlumbConnections=i._jsPlumbConnections||{},u?delete i._jsPlumbConnections[n.id]:i._jsPlumbConnections[n.id]=!0,t.isEmpty(i._jsPlumbConnections)?r.removeClass(i,r.connectedClass):r.addClass(i,r.connectedClass))};n.Connection=function(i){var g=i.newEndpoint,r,c,l,u,y,p,h,f,v;if(this.id=i.id,this.connector=null,this.idPrefix="_jsplumb_c_",this.defaultLabelLocation=.5,this.defaultOverlayKeys=["Overlays","ConnectionOverlays"],this.previousConnection=i.previousConnection,this.source=n.getElement(i.source),this.target=n.getElement(i.target),i.sourceEndpoint&&(this.source=i.sourceEndpoint.getElement()),i.targetEndpoint&&(this.target=i.targetEndpoint.getElement()),n.OverlayCapableJsPlumbUIComponent.apply(this,arguments),this.sourceId=this._jsPlumb.instance.getId(this.source),this.targetId=this._jsPlumb.instance.getId(this.target),this.scope=i.scope,this.endpoints=[],this.endpointStyles=[],r=this._jsPlumb.instance,r.manage(this.sourceId,this.source),r.manage(this.targetId,this.target),this._jsPlumb.visible=!0,this._jsPlumb.editable=i.editable===!0,this._jsPlumb.params={cssClass:i.cssClass,container:i.container,"pointer-events":i["pointer-events"],editorParams:i.editorParams,overlays:i.overlays},this._jsPlumb.lastPaintedAt=null,this.bind("mouseover",function(){this.setHover(!0)}.bind(this)),this.bind("mouseout",function(){this.setHover(!1)}.bind(this)),this.editableRequested=i.editable!==!1,this.setEditable=function(n){return this.connector?this.connector.setEditable(n):!1},this.isEditable=function(){return this.connector?this.connector.isEditable():!1},this.isEditing=function(){return this.connector?this.connector.isEditing():!1},this.makeEndpoint=function(n,t,u,f){return u=u||this._jsPlumb.instance.getId(t),this.prepareEndpoint(r,g,this,f,n?0:1,i,t,u)},i.type&&(i.endpoints=this._jsPlumb.instance.deriveEndpointAndAnchorSpec(i.type).endpoints),c=this.makeEndpoint(!0,this.source,this.sourceId,i.sourceEndpoint),l=this.makeEndpoint(!1,this.target,this.targetId,i.targetEndpoint),c&&t.addToList(i.endpointsByElement,this.sourceId,c),l&&t.addToList(i.endpointsByElement,this.targetId,l),this.scope||(this.scope=this.endpoints[0].scope),null!=i.deleteEndpointsOnDetach?(this.endpoints[0]._deleteOnDetach=i.deleteEndpointsOnDetach,this.endpoints[1]._deleteOnDetach=i.deleteEndpointsOnDetach):(this.endpoints[0]._doNotDeleteOnDetach||(this.endpoints[0]._deleteOnDetach=!0),this.endpoints[1]._doNotDeleteOnDetach||(this.endpoints[1]._deleteOnDetach=!0)),u=r.Defaults.ConnectionsDetachable,i.detachable===!1&&(u=!1),this.endpoints[0].connectionsDetachable===!1&&(u=!1),this.endpoints[1].connectionsDetachable===!1&&(u=!1),y=i.reattach||this.endpoints[0].reattachConnections||this.endpoints[1].reattachConnections||r.Defaults.ReattachConnections,this.appendToDefaultType({detachable:u,reattach:y,paintStyle:this.endpoints[0].connectorStyle||this.endpoints[1].connectorStyle||i.paintStyle||r.Defaults.PaintStyle||jsPlumb.Defaults.PaintStyle,hoverPaintStyle:this.endpoints[0].connectorHoverStyle||this.endpoints[1].connectorHoverStyle||i.hoverPaintStyle||r.Defaults.HoverPaintStyle||jsPlumb.Defaults.HoverPaintStyle}),p=r.getSuspendedAt(),!r.isSuspendDrawing()){var w=r.getCachedData(this.sourceId),e=w.o,b=w.s,k=r.getCachedData(this.targetId),o=k.o,d=k.s,s=p||r.timestamp(),a=this.endpoints[0].anchor.compute({xy:[e.left,e.top],wh:b,element:this.endpoints[0],elementId:this.endpoints[0].elementId,txy:[o.left,o.top],twh:d,tElement:this.endpoints[1],timestamp:s});this.endpoints[0].paint({anchorLoc:a,timestamp:s});a=this.endpoints[1].anchor.compute({xy:[o.left,o.top],wh:d,element:this.endpoints[1],elementId:this.endpoints[1].elementId,txy:[e.left,e.top],twh:b,tElement:this.endpoints[0],timestamp:s});this.endpoints[1].paint({anchorLoc:a,timestamp:s})}this.getTypeDescriptor=function(){return"connection"};this.getAttachedElements=function(){return this.endpoints};this.isDetachable=function(){return this._jsPlumb.detachable===!0};this.setDetachable=function(n){this._jsPlumb.detachable=n===!0};this.isReattach=function(){return this._jsPlumb.reattach===!0||this.endpoints[0].reattachConnections===!0||this.endpoints[1].reattachConnections===!0};this.setReattach=function(n){this._jsPlumb.reattach=n===!0};this._jsPlumb.cost=i.cost||this.endpoints[0].getConnectionCost();this._jsPlumb.directed=i.directed;null==i.directed&&(this._jsPlumb.directed=this.endpoints[0].areConnectionsDirected());h=jsPlumb.extend({},this.endpoints[1].getParameters());n.extend(h,this.endpoints[0].getParameters());n.extend(h,this.getParameters());this.setParameters(h);this.setConnector(this.endpoints[0].connector||this.endpoints[1].connector||i.connector||r.Defaults.Connector||n.Defaults.Connector,!0);i.geometry&&this.connector.setGeometry(i.geometry);f=null!=i.data&&t.isObject(i.data)?i.data:{};this.getData=function(){return f};this.setData=function(n){f=n||{}};this.mergeData=function(n){f=jsPlumb.extend(f,n)};v=["default",this.endpoints[0].connectionType,this.endpoints[1].connectionType,i.type].join(" ");/[^\s]/.test(v)&&this.addType(v,i.data,!0);this.updateConnectedClass()};t.extend(n.Connection,n.OverlayCapableJsPlumbUIComponent,{applyType:function(t,i,r){null!=t.detachable&&this.setDetachable(t.detachable);null!=t.reattach&&this.setReattach(t.reattach);t.scope&&(this.scope=t.scope);null!=t.cssClass&&this.canvas&&this._jsPlumb.instance.addClass(this.canvas,t.cssClass);var u=null;t.anchor?(u=this.getCachedTypeItem("anchors",r.anchor),null==u&&(u=[this._jsPlumb.instance.makeAnchor(t.anchor),this._jsPlumb.instance.makeAnchor(t.anchor)],this.cacheTypeItem("anchors",u,r.anchor))):t.anchors&&(u=this.getCachedTypeItem("anchors",r.anchors),null==u&&(u=[this._jsPlumb.instance.makeAnchor(t.anchors[0]),this._jsPlumb.instance.makeAnchor(t.anchors[1])],this.cacheTypeItem("anchors",u,r.anchors)));null!=u&&(this.endpoints[0].anchor=u[0],this.endpoints[1].anchor=u[1],this.endpoints[1].anchor.isDynamic&&this._jsPlumb.instance.repaint(this.endpoints[1].elementId));n.OverlayCapableJsPlumbUIComponent.applyType(this,t)},addClass:function(n,t){t&&(this.endpoints[0].addClass(n),this.endpoints[1].addClass(n),this.suspendedEndpoint&&this.suspendedEndpoint.addClass(n));this.connector&&this.connector.addClass(n)},removeClass:function(n,t){t&&(this.endpoints[0].removeClass(n),this.endpoints[1].removeClass(n),this.suspendedEndpoint&&this.suspendedEndpoint.removeClass(n));this.connector&&this.connector.removeClass(n)},isVisible:function(){return this._jsPlumb.visible},setVisible:function(n){this._jsPlumb.visible=n;this.connector&&this.connector.setVisible(n);this.repaint()},cleanup:function(){this.updateConnectedClass(!0);this.endpoints=null;this.source=null;this.target=null;null!=this.connector&&(this.connector.cleanup(!0),this.connector.destroy(!0));this.connector=null},updateConnectedClass:function(n){this._jsPlumb&&(f(this,this.source,this._jsPlumb.instance,n),f(this,this.target,this._jsPlumb.instance,n))},setHover:function(n){this.connector&&this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()&&(this.connector.setHover(n),i.jsPlumb[n?"addClass":"removeClass"](this.source,this._jsPlumb.instance.hoverSourceClass),i.jsPlumb[n?"addClass":"removeClass"](this.target,this._jsPlumb.instance.hoverTargetClass))},getUuids:function(){return[this.endpoints[0].getUuid(),this.endpoints[1].getUuid()]},getCost:function(){return this._jsPlumb?this._jsPlumb.cost:-1/0},setCost:function(n){this._jsPlumb.cost=n},isDirected:function(){return this._jsPlumb.directed===!0},getConnector:function(){return this.connector},getGeometry:function(){return this.connector?this.connector.getGeometry():null},setGeometry:function(n){this.connector&&this.connector.setGeometry(n)},prepareConnector:function(n,i){var r,f={_jsPlumb:this._jsPlumb.instance,cssClass:(this._jsPlumb.params.cssClass||"")+(this.isEditable()?this._jsPlumb.instance.editableConnectorClass:""),container:this._jsPlumb.params.container,"pointer-events":this._jsPlumb.params["pointer-events"],editable:this.editableRequested},e=this._jsPlumb.instance.getRenderMode();return t.isString(n)?r=u(this._jsPlumb.instance,e,n,f,this):t.isArray(n)&&(r=1==n.length?u(this._jsPlumb.instance,e,n[0],f,this):u(this._jsPlumb.instance,e,n[0],t.merge(n[1],f),this)),null!=i&&(r.typeId=i),r},setPreparedConnector:function(n,t,i,r){var e,o="",f,u;if(null!=this.connector&&(e=this.connector,o=e.getClass(),this.connector.cleanup(),this.connector.destroy()),this.connector=n,r&&this.cacheTypeItem("connector",n,r),this.canvas=this.connector.canvas,this.bgCanvas=this.connector.bgCanvas,this.addClass(o),this.canvas&&(this.canvas._jsPlumb=this),this.bgCanvas&&(this.bgCanvas._jsPlumb=this),null!=e)for(f=this.getOverlays(),u=0;u<f.length;u++)f[u].transfer&&f[u].transfer(this.connector);i||this.setListenerComponent(this.connector);t||this.repaint()},setConnector:function(n,t,i,r){var u=this.prepareConnector(n,r);this.setPreparedConnector(u,t,i,r)},paint:function(n){var t,i,o,c,l;if(!this._jsPlumb.instance.isSuspendDrawing()&&this._jsPlumb.visible){n=n||{};var r=n.timestamp,e=!1,b=e?this.sourceId:this.targetId,k=e?this.targetId:this.sourceId,a=e?0:1,v=e?1:0;if(null==r||r!=this._jsPlumb.lastPaintedAt){var u=this._jsPlumb.instance.updateOffset({elId:k}).o,f=this._jsPlumb.instance.updateOffset({elId:b}).o,y=this.endpoints[v],p=this.endpoints[a],d=y.anchor.getCurrentLocation({xy:[u.left,u.top],wh:[u.width,u.height],element:y,timestamp:r}),g=p.anchor.getCurrentLocation({xy:[f.left,f.top],wh:[f.width,f.height],element:p,timestamp:r});this.connector.resetBounds();this.connector.compute({sourcePos:d,targetPos:g,sourceEndpoint:this.endpoints[v],targetEndpoint:this.endpoints[a],lineWidth:this._jsPlumb.paintStyleInUse.lineWidth,sourceInfo:u,targetInfo:f});t={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};for(i in this._jsPlumb.overlays)this._jsPlumb.overlays.hasOwnProperty(i)&&(o=this._jsPlumb.overlays[i],o.isVisible()&&(this._jsPlumb.overlayPlacements[i]=o.draw(this.connector,this._jsPlumb.paintStyleInUse,this.getAbsoluteOverlayPosition(o)),t.minX=Math.min(t.minX,this._jsPlumb.overlayPlacements[i].minX),t.maxX=Math.max(t.maxX,this._jsPlumb.overlayPlacements[i].maxX),t.minY=Math.min(t.minY,this._jsPlumb.overlayPlacements[i].minY),t.maxY=Math.max(t.maxY,this._jsPlumb.overlayPlacements[i].maxY)));var s=parseFloat(this._jsPlumb.paintStyleInUse.lineWidth||1)/2,h=parseFloat(this._jsPlumb.paintStyleInUse.lineWidth||0),w={xmin:Math.min(this.connector.bounds.minX-(s+h),t.minX),ymin:Math.min(this.connector.bounds.minY-(s+h),t.minY),xmax:Math.max(this.connector.bounds.maxX+(s+h),t.maxX),ymax:Math.max(this.connector.bounds.maxY+(s+h),t.maxY)};this.connector.paint(this._jsPlumb.paintStyleInUse,null,w);for(c in this._jsPlumb.overlays)this._jsPlumb.overlays.hasOwnProperty(c)&&(l=this._jsPlumb.overlays[c],l.isVisible()&&l.paint(this._jsPlumb.overlayPlacements[c],w))}this._jsPlumb.lastPaintedAt=r}},repaint:function(n){n=n||{};this.paint({elId:this.sourceId,recalc:!(n.recalc===!1),timestamp:n.timestamp})},prepareEndpoint:function(t,i,u,f,e,o,s,h){var a,v,c,l,y,p;return f?(u.endpoints[e]=f,f.addConnection(u)):(o.endpoints||(o.endpoints=[null,null]),v=o.endpoints[e]||o.endpoint||t.Defaults.Endpoints[e]||jsPlumb.Defaults.Endpoints[e]||t.Defaults.Endpoint||jsPlumb.Defaults.Endpoint,o.endpointStyles||(o.endpointStyles=[null,null]),o.endpointHoverStyles||(o.endpointHoverStyles=[null,null]),c=o.endpointStyles[e]||o.endpointStyle||t.Defaults.EndpointStyles[e]||jsPlumb.Defaults.EndpointStyles[e]||t.Defaults.EndpointStyle||jsPlumb.Defaults.EndpointStyle,null==c.fillStyle&&null!=o.paintStyle&&(c.fillStyle=o.paintStyle.strokeStyle),null==c.outlineColor&&null!=o.paintStyle&&(c.outlineColor=o.paintStyle.outlineColor),null==c.outlineWidth&&null!=o.paintStyle&&(c.outlineWidth=o.paintStyle.outlineWidth),l=o.endpointHoverStyles[e]||o.endpointHoverStyle||t.Defaults.EndpointHoverStyles[e]||jsPlumb.Defaults.EndpointHoverStyles[e]||t.Defaults.EndpointHoverStyle||jsPlumb.Defaults.EndpointHoverStyle,null!=o.hoverPaintStyle&&(null==l&&(l={}),null==l.fillStyle&&(l.fillStyle=o.hoverPaintStyle.strokeStyle)),y=o.anchors?o.anchors[e]:o.anchor?o.anchor:r(t.Defaults.Anchors[e],h,t)||r(n.Defaults.Anchors[e],h,t)||r(t.Defaults.Anchor,h,t)||r(n.Defaults.Anchor,h,t),p=o.uuids?o.uuids[e]:null,a=i({paintStyle:c,hoverPaintStyle:l,endpoint:v,connections:[u],uuid:p,anchor:y,source:s,scope:o.scope,reattach:o.reattach||t.Defaults.ReattachConnections,detachable:o.detachable||t.Defaults.ConnectionsDetachable}),u.endpoints[e]=a,o.drawEndpoints===!1&&a.setVisible(!1,!0,!0)),a}})}.call("undefined"!=typeof window?window:this),function(){"use strict";var u=this,n=u.jsPlumbUtil,t=u.jsPlumb,f,i,r;t.AnchorManager=function(i){var f={},a={},h={},y={},b={HORIZONTAL:"horizontal",VERTICAL:"vertical",DIAGONAL:"diagonal",IDENTITY:"identity"},o=["left","top","right","bottom"],r={},c=this,u={},e=i.jsPlumbInstance,v={},k=function(n,t,i,r,u,f){var h,c;if(n===t)return{orientation:b.IDENTITY,a:["top","top"]};var y=Math.atan2(r.centery-i.centery,r.centerx-i.centerx),p=Math.atan2(i.centery-r.centery,i.centerx-r.centerx),e=[],l={};for(!function(n,t){for(var i=0;i<n.length;i++)l[n[i]]={left:[t[i].left,t[i].centery],right:[t[i].right,t[i].centery],top:[t[i].centerx,t[i].top],bottom:[t[i].centerx,t[i].bottom]}}(["source","target"],[i,r]),h=0;h<o.length;h++)for(c=0;c<o.length;c++)e.push({source:o[h],target:o[c],dist:Biltong.lineLength(l.source[o[h]],l.target[o[c]])});e.sort(function(n,t){return n.dist<t.dist?-1:n.dist>t.dist?1:0});for(var a=e[0].source,v=e[0].target,s=0;s<e.length&&(a=!u.isContinuous||u.isEdgeSupported(e[s].source)?e[s].source:null,v=!f.isContinuous||f.isEdgeSupported(e[s].target)?e[s].target:null,null==a||null==v);s++);return{a:[a,v],theta:y,theta2:p}},d=function(n,t,i,r,u,f,e){for(var s,h,c=[],v=t[u?0:1]/(r.length+1),o=0;o<r.length;o++){s=(o+1)*v;h=f*t[u?1:0];e&&(s=t[u?0:1]-s);var l=u?s:h,y=i[0]+l,p=l/t[0],a=u?h:s,w=i[1]+a,b=a/t[1];c.push([y,w,p,b,r[o][1],r[o][2]])}return c},p=function(n){return function(t,i){var r=!0;return r=n?t[0][0]<i[0][0]:t[0][0]>i[0][0],r===!1?-1:1}},g=function(n,t){var i=n[0][0]<0?-Math.PI-n[0][0]:Math.PI-n[0][0],r=t[0][0]<0?-Math.PI-t[0][0]:Math.PI-t[0][0];return i>r?1:n[0][1]>t[0][1]?1:-1},nt={top:function(n,t){return n[0]>t[0]?1:-1},right:p(!0),bottom:p(!0),left:g},tt=function(n,t){return n.sort(t)},it=function(n,t){var f=e.getCachedData(n),r=f.s,i=f.o,u=function(t,i,r,u,f,e,o){if(u.length>0)for(var v=tt(u,nt[t]),p="right"===t||"top"===t,h=d(t,i,r,v,f,e,p),l=function(n,t){a[n.id]=[t[0],t[1],t[2],t[3]];y[n.id]=o},s=0;s<h.length;s++){var c=h[s][4],w=c.endpoints[0].elementId===n,b=c.endpoints[1].elementId===n;w&&l(c.endpoints[0],h[s]);b&&l(c.endpoints[1],h[s])}};u("bottom",r,[i.left,i.top],t.bottom,!0,1,[0,1]);u("top",r,[i.left,i.top],t.top,!0,0,[0,-1]);u("left",r,[i.left,i.top],t.left,!1,0,[-1,0]);u("right",r,[i.left,i.top],t.right,!1,1,[1,0])},l,s,w;this.reset=function(){f={};r={};u={}};this.addFloatingConnection=function(n,t){v[n]=t};this.removeFloatingConnection=function(n){delete v[n]};this.newConnection=function(i){var f=i.sourceId,e=i.targetId,u=i.endpoints,o=!0,s=function(s,h,c,l,a){f==e&&c.isContinuous&&(i._jsPlumb.instance.removeElement(u[1].canvas),o=!1);n.addToList(r,l,[a,h,c.constructor==t.DynamicAnchor])};s(0,u[0],u[0].anchor,e,i);o&&s(1,u[1],u[1].anchor,f,i)};l=function(t){!function(t,i){if(t){var r=function(n){return n[4]==i};n.removeWithFunction(t.top,r);n.removeWithFunction(t.left,r);n.removeWithFunction(t.bottom,r);n.removeWithFunction(t.right,r)}}(u[t.elementId],t.id)};this.connectionDetached=function(t,i){var u=t.connection||t,o=t.sourceId,s=t.targetId,f=u.endpoints,e=function(t,i,u,f,e){n.removeWithFunction(r[f],function(n){return n[0].id==e.id})};e(1,f[1],f[1].anchor,o,u);e(0,f[0],f[0].anchor,s,u);u.floatingId&&(e(u.floatingIndex,u.floatingEndpoint,u.floatingEndpoint.anchor,u.floatingId,u),l(u.floatingEndpoint));l(u.endpoints[0]);l(u.endpoints[1]);i||(c.redraw(u.sourceId),u.targetId!==u.sourceId&&c.redraw(u.targetId))};this.add=function(t,i){n.addToList(f,i,t)};this.changeId=function(n,t){r[t]=r[n];f[t]=f[n];delete r[n];delete f[n]};this.getConnectionsFor=function(n){return r[n]||[]};this.getEndpointsFor=function(n){return f[n]||[]};this.deleteEndpoint=function(t){n.removeWithFunction(f[t.elementId],function(n){return n.id==t.id});l(t)};this.clearFor=function(n){delete f[n];f[n]=[]};s=function(t,r,u,f,e,o,s,h,c,l,a,v){var y,p,tt=-1,k=-1,d=f.endpoints[s],it=d.id,g=[1,0][s],rt=[[r,u],f,e,o,it],w=t[c],b=d._continuousAnchorEdge?t[d._continuousAnchorEdge]:null,nt,ut;if(b&&(nt=n.findWithFunction(b,function(n){return n[4]==it}),-1!=nt))for(b.splice(nt,1),y=0;y<b.length;y++)p=b[y][1],n.addWithFunction(a,p,function(n){return n.id==p.id}),n.addWithFunction(v,b[y][1].endpoints[s],function(n){return n.id==p.endpoints[s].id}),n.addWithFunction(v,b[y][1].endpoints[g],function(n){return n.id==p.endpoints[g].id});for(y=0;y<w.length;y++)p=w[y][1],1==i.idx&&w[y][3]===o&&-1==k&&(k=y),n.addWithFunction(a,p,function(n){return n.id==p.id}),n.addWithFunction(v,w[y][1].endpoints[s],function(n){return n.id==p.endpoints[s].id}),n.addWithFunction(v,w[y][1].endpoints[g],function(n){return n.id==p.endpoints[g].id});-1!=tt?w[tt]=rt:(ut=h?-1!=k?k:0:w.length,w.splice(ut,0,rt));d._continuousAnchorEdge=c};this.updateOtherEndpoint=function(i,u,f,e){var o=n.findWithFunction(r[i],function(n){return n[0].id===e.id}),s=n.findWithFunction(r[u],function(n){return n[0].id===e.id});-1!=o&&(r[i][o][0]=e,r[i][o][1]=e.endpoints[1],r[i][o][2]=e.endpoints[1].anchor.constructor==t.DynamicAnchor);s>-1&&(r[u].splice(s,1),n.addToList(r,f,[e,e.endpoints[0],e.endpoints[0].anchor.constructor==t.DynamicAnchor]));e.updateConnectedClass()};this.sourceChanged=function(i,u,f,e){if(i!==u){f.sourceId=u;f.source=e;n.removeWithFunction(r[i],function(n){return n[0].id===f.id});var o=n.findWithFunction(r[f.targetId],function(n){return n[0].id===f.id});o>-1&&(r[f.targetId][o][0]=f,r[f.targetId][o][1]=f.endpoints[0],r[f.targetId][o][2]=f.endpoints[0].anchor.constructor==t.DynamicAnchor);n.addToList(r,u,[f,f.endpoints[1],f.endpoints[1].anchor.constructor==t.DynamicAnchor]);f.endpoints[1].anchor.isContinuous&&(f.source===f.target?f._jsPlumb.instance.removeElement(f.endpoints[1].canvas):null==f.endpoints[1].canvas.parentNode&&f._jsPlumb.instance.appendElement(f.endpoints[1].canvas));f.updateConnectedClass()}};this.rehomeEndpoint=function(n,t,i){var o=f[t]||[],s=e.getId(i),u,h,r;for(s!==t&&(u=o.indexOf(n),u>-1&&(h=o.splice(u,1)[0],c.add(h,s))),r=0;r<n.connections.length;r++)n.connections[r].sourceId==t?c.sourceChanged(t,n.elementId,n.connections[r],n.element):n.connections[r].targetId==t&&(n.connections[r].targetId=n.elementId,n.connections[r].target=n.element,c.updateOtherEndpoint(n.connections[r].sourceId,t,n.elementId,n.connections[r]))};this.redraw=function(i,o,h,c,l,a){var pt,wt,ct,rt,st,lt;if(!e.isSuspendDrawing()){var tt=f[i]||[],g=r[i]||[],d=[],nt=[],ft=[];h=h||e.timestamp();c=c||{left:0,top:0};o&&(o={left:o.left+c.left,top:o.top+c.top});for(var at=e.updateOffset({elId:i,offset:o,recalc:!1,timestamp:h}),vt={},y=0;y<g.length;y++){var b=g[y][0],p=b.sourceId,w=b.targetId,et=b.endpoints[0].anchor.isContinuous,ot=b.endpoints[1].anchor.isContinuous;if(et||ot){var yt=p+"_"+w,ut=vt[yt],ht=b.sourceId==i?1:0;et&&!u[p]&&(u[p]={top:[],right:[],bottom:[],left:[]});ot&&!u[w]&&(u[w]={top:[],right:[],bottom:[],left:[]});i!=w&&e.updateOffset({elId:w,timestamp:h});i!=p&&e.updateOffset({elId:p,timestamp:h});pt=e.getCachedData(w);wt=e.getCachedData(p);w==p&&(et||ot)?(s(u[p],-Math.PI/2,0,b,!1,w,0,!1,"top",p,d,nt),s(u[w],-Math.PI/2,0,b,!1,p,1,!1,"top",w,d,nt)):(ut||(ut=k(p,w,wt.o,pt.o,b.endpoints[0].anchor,b.endpoints[1].anchor),vt[yt]=ut),et&&s(u[p],ut.theta,0,b,!1,w,0,!1,ut.a[0],p,d,nt),ot&&s(u[w],ut.theta2,-1,b,!0,p,1,!0,ut.a[1],w,d,nt));et&&n.addWithFunction(ft,p,function(n){return n===p});ot&&n.addWithFunction(ft,w,function(n){return n===w});n.addWithFunction(d,b,function(n){return n.id==b.id});(et&&0===ht||ot&&1===ht)&&n.addWithFunction(nt,b.endpoints[ht],function(n){return n.id==b.endpoints[ht].id})}}for(y=0;y<tt.length;y++)0===tt[y].connections.length&&tt[y].anchor.isContinuous&&(u[i]||(u[i]={top:[],right:[],bottom:[],left:[]}),s(u[i],-Math.PI/2,0,{endpoints:[tt[y],tt[y]],paint:function(){}},!1,i,0,!1,tt[y].anchor.getDefaultFace(),i,d,nt),n.addWithFunction(ft,i,function(n){return n===i}));for(y=0;y<ft.length;y++)it(ft[y],u[ft[y]]);for(y=0;y<tt.length;y++)tt[y].paint({timestamp:h,offset:at,dimensions:at.s,recalc:a!==!0});for(y=0;y<nt.length;y++)ct=e.getCachedData(nt[y].elementId),nt[y].paint({timestamp:h,offset:ct,dimensions:ct.s});for(y=0;y<g.length;y++)if(rt=g[y][1],rt.anchor.constructor==t.DynamicAnchor)for(rt.paint({elementWithPrecedence:i,timestamp:h}),n.addWithFunction(d,g[y][0],function(n){return n.id==g[y][0].id}),st=0;st<rt.connections.length;st++)rt.connections[st]!==g[y][0]&&n.addWithFunction(d,rt.connections[st],function(n){return n.id==rt.connections[st].id});else rt.anchor.constructor==t.Anchor&&n.addWithFunction(d,g[y][0],function(n){return n.id==g[y][0].id});for(lt=v[i],lt&&lt.paint({timestamp:h,recalc:!1,elId:i}),y=0;y<d.length;y++)d[y].paint({elId:i,timestamp:h,recalc:!1,clearEdits:l})}};w=function(t){n.EventGenerator.apply(this);this.type="Continuous";this.isDynamic=!0;this.isContinuous=!0;for(var r=t.faces||["top","right","bottom","left"],f=!(t.clockwise===!1),i={},e={top:"bottom",right:"left",left:"right",bottom:"top"},o={top:"right",right:"bottom",left:"top",bottom:"left"},s={top:"left",right:"top",left:"bottom",bottom:"right"},c=f?o:s,l=f?s:o,v=t.cssClass||"",u=0;u<r.length;u++)i[r[u]]=!0;this.getDefaultFace=function(){return 0===r.length?"top":r[0]};this.verifyEdge=function(n){return i[n]?n:i[e[n]]?e[n]:i[c[n]]?c[n]:i[l[n]]?l[n]:n};this.isEdgeSupported=function(n){return i[n]===!0};this.compute=function(n){return h[n.element.id]||a[n.element.id]||[0,0]};this.getCurrentLocation=function(n){return h[n.element.id]||a[n.element.id]||[0,0]};this.getOrientation=function(n){return y[n.id]||[0,0]};this.clearUserDefinedLocation=function(){delete h[t.elementId]};this.setUserDefinedLocation=function(n){h[t.elementId]=n};this.getCssClass=function(){return v}};e.continuousAnchorFactory={get:function(n){return new w(n)},clear:function(n){delete h[n];delete a[n]}}};t.Anchor=function(t){this.x=t.x||0;this.y=t.y||0;this.elementId=t.elementId;this.cssClass=t.cssClass||"";this.userDefinedLocation=null;this.orientation=t.orientation||[0,0];this.lastReturnValue=null;this.offsets=t.offsets||[0,0];this.timestamp=null;n.EventGenerator.apply(this);this.compute=function(n){var i=n.xy,r=n.wh,t=n.timestamp;return n.clearUserDefinedLocation&&(this.userDefinedLocation=null),t&&t===self.timestamp?this.lastReturnValue:(this.lastReturnValue=null!=this.userDefinedLocation?this.userDefinedLocation:[i[0]+this.x*r[0]+this.offsets[0],i[1]+this.y*r[1]+this.offsets[1]],this.timestamp=t,this.lastReturnValue)};this.getCurrentLocation=function(n){return n=n||{},null==this.lastReturnValue||null!=n.timestamp&&this.timestamp!=n.timestamp?this.compute(n):this.lastReturnValue}};n.extend(t.Anchor,n.EventGenerator,{equals:function(n){if(!n)return!1;var t=n.getOrientation(),i=this.getOrientation();return this.x==n.x&&this.y==n.y&&this.offsets[0]==n.offsets[0]&&this.offsets[1]==n.offsets[1]&&i[0]==t[0]&&i[1]==t[1]},getUserDefinedLocation:function(){return this.userDefinedLocation},setUserDefinedLocation:function(n){this.userDefinedLocation=n},clearUserDefinedLocation:function(){this.userDefinedLocation=null},getOrientation:function(){return this.orientation},getCssClass:function(){return this.cssClass}});t.FloatingAnchor=function(n){t.Anchor.apply(this,arguments);var f=n.reference,e=n.referenceCanvas,u=t.getSize(e),o=0,s=0,i=null,r=null;this.orientation=null;this.x=0;this.y=0;this.isFloating=!0;this.compute=function(n){var t=n.xy,i=[t[0]+u[0]/2,t[1]+u[1]/2];return r=i,i};this.getOrientation=function(n){if(i)return i;var t=f.getOrientation(n);return[-1*Math.abs(t[0])*o,-1*Math.abs(t[1])*s]};this.over=function(n,t){i=n.getOrientation(t)};this.out=function(){i=null};this.getCurrentLocation=function(n){return null==r?this.compute(n):r}};n.extend(t.FloatingAnchor,t.Anchor);f=function(n,i,r){return n.constructor==t.Anchor?n:i.makeAnchor(n,r,i)};t.DynamicAnchor=function(n){var r;for(t.Anchor.apply(this,arguments),this.isDynamic=!0,this.anchors=[],this.elementId=n.elementId,this.jsPlumbInstance=n.jsPlumbInstance,r=0;r<n.anchors.length;r++)this.anchors[r]=f(n.anchors[r],this.jsPlumbInstance,this.elementId);this.getAnchors=function(){return this.anchors};this.locked=!1;var i=this.anchors.length>0?this.anchors[0]:null,u=i,e=this,o=function(n,t,i,r,u){var f=r[0]+n.x*u[0],e=r[1]+n.y*u[1],o=r[0]+u[0]/2,s=r[1]+u[1]/2;return Math.sqrt(Math.pow(t-f,2)+Math.pow(i-e,2))+Math.sqrt(Math.pow(o-f,2)+Math.pow(s-e,2))},s=n.selector||function(n,t,i,r,u){for(var e,c=i[0]+r[0]/2,l=i[1]+r[1]/2,s=-1,h=1/0,f=0;f<u.length;f++)e=o(u[f],c,l,n,t),h>e&&(s=f+0,h=e);return u[s]};this.compute=function(n){var o=n.xy,h=n.wh,r=n.txy,f=n.twh,t;return this.timestamp=n.timestamp,t=e.getUserDefinedLocation(),null!=t?t:this.locked||null==r||null==f?i.compute(n):(n.timestamp=null,i=s(o,h,r,f,this.anchors),this.x=i.x,this.y=i.y,i!=u&&this.fire("anchorChanged",i),u=i,i.compute(n))};this.getCurrentLocation=function(n){return this.getUserDefinedLocation()||(null!=i?i.getCurrentLocation(n):null)};this.getOrientation=function(n){return null!=i?i.getOrientation(n):[0,0]};this.over=function(n,t){null!=i&&i.over(n,t)};this.out=function(){null!=i&&i.out()};this.getCssClass=function(){return i&&i.getCssClass()||""}};n.extend(t.DynamicAnchor,t.Anchor);i=function(n,i,r,u,f,e){t.Anchors[f]=function(t){var o=t.jsPlumbInstance.makeAnchor([n,i,r,u,0,0],t.elementId,t.jsPlumbInstance);return o.type=f,e&&e(o,t),o}};i(.5,0,0,-1,"TopCenter");i(.5,1,0,1,"BottomCenter");i(0,.5,-1,0,"LeftMiddle");i(1,.5,1,0,"RightMiddle");i(.5,0,0,-1,"Top");i(.5,1,0,1,"Bottom");i(0,.5,-1,0,"Left");i(1,.5,1,0,"Right");i(.5,.5,0,0,"Center");i(1,0,0,-1,"TopRight");i(1,1,0,1,"BottomRight");i(0,0,0,-1,"TopLeft");i(0,1,0,1,"BottomLeft");t.Defaults.DynamicAnchors=function(n){return n.jsPlumbInstance.makeAnchors(["TopCenter","RightMiddle","BottomCenter","LeftMiddle"],n.elementId,n.jsPlumbInstance)};t.Anchors.AutoDefault=function(n){var i=n.jsPlumbInstance.makeDynamicAnchor(t.Defaults.DynamicAnchors(n));return i.type="AutoDefault",i};r=function(n,i){t.Anchors[n]=function(t){var r=t.jsPlumbInstance.makeAnchor(["Continuous",{faces:i}],t.elementId,t.jsPlumbInstance);return r.type=n,r}};t.Anchors.Continuous=function(n){return n.jsPlumbInstance.continuousAnchorFactory.get(n)};r("ContinuousLeft",["left"]);r("ContinuousTop",["top"]);r("ContinuousBottom",["bottom"]);r("ContinuousRight",["right"]);i(0,0,0,0,"Assign",function(n,t){var i=t.position||"Fixed";n.positionFinder=i.constructor==String?t.jsPlumbInstance.AnchorPositionFinders[i]:i;n.constructorParams=t});u.jsPlumbInstance.prototype.AnchorPositionFinders={Fixed:function(n,t,i){return[(n.left-t.left)/i[0],(n.top-t.top)/i[1]]},Grid:function(n,t,i,r){var e=n.left-t.left,o=n.top-t.top,u=i[0]/r.grid[0],f=i[1]/r.grid[1],s=Math.floor(e/u),h=Math.floor(o/f);return[(s*u+u/2)/i[0],(h*f+f/2)/i[1]]}};t.Anchors.Perimeter=function(n){var t,i,r,f;if(n=n||{},t=n.anchorCount||60,i=n.shape,!i)throw new Error("no shape supplied to Perimeter Anchor type");var e=function(){for(var f,e,n=.5,o=2*Math.PI/t,i=0,r=[],u=0;t>u;u++)f=n+n*Math.sin(i),e=n+n*Math.cos(i),r.push([f,e,0,0]),i+=o;return r},o=function(n){for(var i=t/n.length,u=[],f=function(n,r,f,e,o){i=t*o;for(var h=(f-n)/i,c=(e-r)/i,s=0;i>s;s++)u.push([n+h*s,r+c*s,0,0])},r=0;r<n.length;r++)f.apply(null,n[r]);return u},u=function(n){for(var i=[],t=0;t<n.length;t++)i.push([n[t][0],n[t][1],n[t][2],n[t][3],1/n.length]);return o(i)},s=function(){return u([[0,0,1,0],[1,0,1,1],[1,1,0,1],[0,1,0,0]])},h={Circle:e,Ellipse:e,Diamond:function(){return u([[.5,0,1,.5],[1,.5,.5,1],[.5,1,0,.5],[0,.5,.5,0]])},Rectangle:s,Square:s,Triangle:function(){return u([[.5,0,1,1],[1,1,0,1],[0,1,.5,0]])},Path:function(n){for(var f,u,i=n.points,r=[],e=0,t=0;t<i.length-1;t++)f=Math.sqrt(Math.pow(i[t][2]-i[t][0])+Math.pow(i[t][3]-i[t][1])),e+=f,r.push([i[t][0],i[t][1],i[t+1][0],i[t+1][1],f]);for(u=0;u<r.length;u++)r[u][4]=r[u][4]/e;return o(r)}},c=function(n,t){for(var u,f,e=[],r=t/180*Math.PI,i=0;i<n.length;i++)u=n[i][0]-.5,f=n[i][1]-.5,e.push([.5+(u*Math.cos(r)-f*Math.sin(r)),.5+(u*Math.sin(r)+f*Math.cos(r)),n[i][2],n[i][3]]);return e};if(!h[i])throw new Error("Shape ["+i+"] is unknown by Perimeter Anchor type");return r=h[i](n),n.rotation&&(r=c(r,n.rotation)),f=n.jsPlumbInstance.makeDynamicAnchor(r),f.type="Perimeter",f}}.call("undefined"!=typeof window?window:this),function(){"use strict";var r=this,n=r.jsPlumb,t=r.jsPlumbUtil,i=r.Biltong,e,h,f,u,s,o;n.Segments={AbstractSegment:function(n){this.params=n;this.findClosestPointOnPath=function(){return{d:1/0,x:null,y:null,l:null}};this.getBounds=function(){return{minX:Math.min(n.x1,n.x2),minY:Math.min(n.y1,n.y2),maxX:Math.max(n.x1,n.x2),maxY:Math.max(n.y1,n.y2)}}},Straight:function(t){var s,o,l,r,f,u,e,a=(n.Segments.AbstractSegment.apply(this,arguments),function(){s=Math.sqrt(Math.pow(f-r,2)+Math.pow(e-u,2));o=i.gradient({x:r,y:u},{x:f,y:e});l=-1/o}),h,c;this.type="Straight";this.getLength=function(){return s};this.getGradient=function(){return o};this.getCoordinates=function(){return{x1:r,y1:u,x2:f,y2:e}};this.setCoordinates=function(n){r=n.x1;u=n.y1;f=n.x2;e=n.y2;a()};this.setCoordinates({x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2});this.getBounds=function(){return{minX:Math.min(r,f),minY:Math.min(u,e),maxX:Math.max(r,f),maxY:Math.max(u,e)}};this.pointOnPath=function(n,t){if(0!==n||t){if(1!=n||t){var o=t?n>0?n:s+n:n*s;return i.pointOnLine({x:r,y:u},{x:f,y:e},o)}return{x:f,y:e}}return{x:r,y:u}};this.gradientAtPoint=function(){return o};this.pointAlongPathFrom=function(n,t,o){var s=this.pointOnPath(n,o),h=0>=t?{x:r,y:u}:{x:f,y:e};return 0>=t&&Math.abs(t)>1&&(t*=-1),i.pointOnLine(s,h,t)};h=function(n,t,i){return i>=Math.min(n,t)&&i<=Math.max(n,t)};c=function(n,t,i){return Math.abs(i-n)<Math.abs(i-t)?n:t};this.findClosestPointOnPath=function(n,t){var a={d:1/0,x:null,y:null,l:null,x1:r,x2:f,y1:u,y2:e},w;if(0===o)a.y=u,a.x=h(r,f,n)?n:c(r,f,n);else if(1/0==o||o==-1/0)a.x=r,a.y=h(u,e,t)?t:c(u,e,t);else{var p=u-o*r,b=t-l*n,v=(b-p)/(o-l),y=o*v+p;a.x=h(r,f,v)?v:c(r,f,v);a.y=h(u,e,y)?y:c(u,e,y)}return w=i.lineLength([a.x,a.y],[r,u]),a.d=i.lineLength([n,t],[a.x,a.y]),a.l=w/s,a}},Arc:function(t){var e=(n.Segments.AbstractSegment.apply(this,arguments),function(n,r){return i.theta([t.cx,t.cy],[n,r])}),c=function(n,t){var i,u,f,e;return n.anticlockwise?(i=n.startAngle<n.endAngle?n.startAngle+r:n.startAngle,u=Math.abs(i-n.endAngle),i-u*t):(f=n.endAngle<n.startAngle?n.endAngle+r:n.endAngle,e=Math.abs(f-n.startAngle),n.startAngle+e*t)},r=2*Math.PI,o,u,f;this.radius=t.r;this.anticlockwise=t.ac;this.type="Arc";t.startAngle&&t.endAngle?(this.startAngle=t.startAngle,this.endAngle=t.endAngle,this.x1=t.cx+this.radius*Math.cos(t.startAngle),this.y1=t.cy+this.radius*Math.sin(t.startAngle),this.x2=t.cx+this.radius*Math.cos(t.endAngle),this.y2=t.cy+this.radius*Math.sin(t.endAngle)):(this.startAngle=e(t.x1,t.y1),this.endAngle=e(t.x2,t.y2),this.x1=t.x1,this.y1=t.y1,this.x2=t.x2,this.y2=t.y2);this.endAngle<0&&(this.endAngle+=r);this.startAngle<0&&(this.startAngle+=r);o=this.endAngle<this.startAngle?this.endAngle+r:this.endAngle;this.sweep=Math.abs(o-this.startAngle);this.anticlockwise&&(this.sweep=r-this.sweep);var s=2*Math.PI*this.radius,l=this.sweep/r,h=s*l;this.getLength=function(){return h};this.getBounds=function(){return{minX:t.cx-t.r,maxX:t.cx+t.r,minY:t.cy-t.r,maxY:t.cy+t.r}};u=1e-10;f=function(n){var t=Math.floor(n),i=Math.ceil(n);return u>n-t?t:u>i-n?i:n};this.pointOnPath=function(n,i){if(0===n)return{x:this.x1,y:this.y1,theta:this.startAngle};if(1==n)return{x:this.x2,y:this.y2,theta:this.endAngle};i&&(n/=h);var r=c(this,n),u=t.cx+t.r*Math.cos(r),e=t.cy+t.r*Math.sin(r);return{x:f(u),y:f(e),theta:r}};this.gradientAtPoint=function(n,r){var f=this.pointOnPath(n,r),u=i.normal([t.cx,t.cy],[f.x,f.y]);return this.anticlockwise||1/0!=u&&u!=-1/0||(u*=-1),u};this.pointAlongPathFrom=function(n,i,r){var f=this.pointOnPath(n,r),e=2*(i/s)*Math.PI,o=this.anticlockwise?-1:1,u=f.theta+o*e,h=t.cx+this.radius*Math.cos(u),c=t.cy+this.radius*Math.sin(u);return{x:h,y:c}}},Bezier:function(t){this.curve=[{x:t.x1,y:t.y1},{x:t.cp1x,y:t.cp1y},{x:t.cp2x,y:t.cp2y},{x:t.x2,y:t.y2}];n.Segments.AbstractSegment.apply(this,arguments);this.bounds={minX:Math.min(t.x1,t.x2,t.cp1x,t.cp2x),minY:Math.min(t.y1,t.y2,t.cp1y,t.cp2y),maxX:Math.max(t.x1,t.x2,t.cp1x,t.cp2x),maxY:Math.max(t.y1,t.y2,t.cp1y,t.cp2y)};this.type="Bezier";var i=function(n,t,i){return i&&(t=r.jsBezier.locationAlongCurveFrom(n,t>0?0:1,t)),t};this.pointOnPath=function(n,t){return n=i(this.curve,n,t),r.jsBezier.pointOnCurve(this.curve,n)};this.gradientAtPoint=function(n,t){return n=i(this.curve,n,t),r.jsBezier.gradientAtPoint(this.curve,n)};this.pointAlongPathFrom=function(n,t,u){return n=i(this.curve,n,u),r.jsBezier.pointAlongCurveFrom(this.curve,n,t)};this.getLength=function(){return r.jsBezier.getLength(this.curve)};this.getBounds=function(){return this.bounds}}};e=function(){this.resetBounds=function(){this.bounds={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}};this.resetBounds()};n.Connectors.AbstractConnector=function(r){var b;e.apply(this,arguments);var f=[],u=0,s=[],p=[],h=r.stub||0,c=t.isArray(h)?h[0]:h,l=t.isArray(h)?h[1]:h,a=r.gap||0,v=t.isArray(a)?a[0]:a,y=t.isArray(a)?a[1]:a,k=null,d=!1,o=null,g=null,nt=r.editable!==!1&&null!=jsPlumb.ConnectorEditors&&null!=jsPlumb.ConnectorEditors[this.type],tt=this.setGeometry=function(n,t){d=!t;g=n},it=this.getGeometry=function(){return g};this.hasBeenEdited=function(){return d};this.isEditing=function(){return null!=this.editor&&this.editor.isActive()};this.setEditable=function(n){return nt=n&&null!=jsPlumb.ConnectorEditors&&null!=jsPlumb.ConnectorEditors[this.type]&&(null==this.overrideSetEditable||this.overrideSetEditable())?n:!1};this.isEditable=function(){return nt};this.findSegmentForPoint=function(n,t){for(var r,i={d:1/0,s:null,x:null,y:null,l:null},u=0;u<f.length;u++)r=f[u].findClosestPointOnPath(n,t),r.d<i.d&&(i.d=r.d,i.l=r.l,i.x=r.x,i.y=r.y,i.s=f[u],i.x1=r.x1,i.x2=r.x2,i.y1=r.y1,i.y2=r.y2,i.index=u);return i};var rt=function(){for(var i,t=0,n=0;n<f.length;n++)i=f[n].getLength(),p[n]=i/u,s[n]=[t,t+=i/u]},w=function(n,t){t&&(n=n>0?n/u:(u+n)/u);for(var r=s.length-1,e=1,i=0;i<s.length;i++)if(s[i][1]>=n){r=i;e=1==n?1:0===n?0:(n-s[i][0])/p[i];break}return{segment:f[r],proportion:e,index:r}},ut=function(t,i,r){if(r.x1!=r.x2||r.y1!=r.y2){var e=new n.Segments[i](r);f.push(e);u+=e.getLength();t.updateBounds(e)}},ft=function(){u=f.length=s.length=p.length=0};return this.setSegments=function(n){k=[];u=0;for(var t=0;t<n.length;t++)k.push(n[t]),u+=n[t].getLength()},this.getLength=function(){return u},b=function(n){var u,k;this.lineWidth=n.lineWidth;var tt=i.quadrant(n.sourcePos,n.targetPos),w=n.targetPos[0]<n.sourcePos[0],b=n.targetPos[1]<n.sourcePos[1],it=n.lineWidth||1,t=n.sourceEndpoint.anchor.getOrientation(n.sourceEndpoint),r=n.targetEndpoint.anchor.getOrientation(n.targetEndpoint),g=w?n.targetPos[0]:n.sourcePos[0],nt=b?n.targetPos[1]:n.sourcePos[1],h=Math.abs(n.targetPos[0]-n.sourcePos[0]),a=Math.abs(n.targetPos[1]-n.sourcePos[1]);(0===t[0]&&0===t[1]||0===r[0]&&0===r[1])&&(u=h>a?0:1,k=[1,0][u],t=[],r=[],t[u]=n.sourcePos[u]>n.targetPos[u]?-1:1,r[u]=n.sourcePos[u]>n.targetPos[u]?1:-1,t[k]=0,r[k]=0);var f=w?h+v*t[0]:v*t[0],e=b?a+v*t[1]:v*t[1],o=w?y*r[0]:h+y*r[0],s=b?y*r[1]:a+y*r[1],d=t[0]*r[0]+t[1]*r[1],p={sx:f,sy:e,tx:o,ty:s,lw:it,xSpan:Math.abs(o-f),ySpan:Math.abs(s-e),mx:(f+o)/2,my:(e+s)/2,so:t,to:r,x:g,y:nt,w:h,h:a,segment:tt,startStubX:f+t[0]*c,startStubY:e+t[1]*c,endStubX:o+r[0]*l,endStubY:s+r[1]*l,isXGreaterThanStubTimes2:Math.abs(f-o)>c+l,isYGreaterThanStubTimes2:Math.abs(e-s)>c+l,opposite:-1==d,perpendicular:0===d,orthogonal:1==d,sourceAxis:0===t[0]?"y":"x",points:[g,nt,h,a,f,e,o,s]};return p.anchorOrientation=p.opposite?"opposite":p.orthogonal?"orthogonal":"perpendicular",p},this.getSegments=function(){return f},this.updateBounds=function(n){var t=n.getBounds();this.bounds.minX=Math.min(this.bounds.minX,t.minX);this.bounds.maxX=Math.max(this.bounds.maxX,t.maxX);this.bounds.minY=Math.min(this.bounds.minY,t.minY);this.bounds.maxY=Math.max(this.bounds.maxY,t.maxY)},this.pointOnPath=function(n,t){var i=w(n,t);return i.segment&&i.segment.pointOnPath(i.proportion,!1)||[0,0]},this.gradientAtPoint=function(n,t){var i=w(n,t);return i.segment&&i.segment.gradientAtPoint(i.proportion,!1)||0},this.pointAlongPathFrom=function(n,t,i){var r=w(n,i);return r.segment&&r.segment.pointAlongPathFrom(r.proportion,t,!1)||[0,0]},this.compute=function(n){o=b.call(this,n);ft();this._compute(o,n);this.x=o.points[0];this.y=o.points[1];this.w=o.points[2];this.h=o.points[3];this.segment=o.segment;rt()},{addSegment:ut,prepareCompute:b,sourceStub:c,targetStub:l,maxStub:Math.max(c,l),sourceGap:v,targetGap:y,maxGap:Math.max(v,y),setGeometry:tt,getGeometry:it}};t.extend(n.Connectors.AbstractConnector,e);h=n.Connectors.Straight=function(){this.type="Straight";var t=n.Connectors.AbstractConnector.apply(this,arguments);this._compute=function(n){t.addSegment(this,"Straight",{x1:n.sx,y1:n.sy,x2:n.startStubX,y2:n.startStubY});t.addSegment(this,"Straight",{x1:n.startStubX,y1:n.startStubY,x2:n.endStubX,y2:n.endStubY});t.addSegment(this,"Straight",{x1:n.endStubX,y1:n.endStubY,x2:n.tx,y2:n.ty})}};t.extend(n.Connectors.Straight,n.Connectors.AbstractConnector);n.registerConnectorType(h,"Straight");n.Endpoints.AbstractEndpoint=function(n){e.apply(this,arguments);var t=this.compute=function(){var n=this._compute.apply(this,arguments);return this.x=n[0],this.y=n[1],this.w=n[2],this.h=n[3],this.bounds.minX=this.x,this.bounds.minY=this.y,this.bounds.maxX=this.x+this.w,this.bounds.maxY=this.y+this.h,n};return{compute:t,cssClass:n.cssClass}};t.extend(n.Endpoints.AbstractEndpoint,e);n.Endpoints.Dot=function(t){this.type="Dot";n.Endpoints.AbstractEndpoint.apply(this,arguments);t=t||{};this.radius=t.radius||10;this.defaultOffset=.5*this.radius;this.defaultInnerRadius=this.radius/3;this._compute=function(n,t,i){var r;this.radius=i.radius||this.radius;var u=n[0]-this.radius,f=n[1]-this.radius,e=2*this.radius,o=2*this.radius;return i.strokeStyle&&(r=i.lineWidth||1,u-=r,f-=r,e+=2*r,o+=2*r),[u,f,e,o,this.radius]}};t.extend(n.Endpoints.Dot,n.Endpoints.AbstractEndpoint);n.Endpoints.Rectangle=function(t){this.type="Rectangle";n.Endpoints.AbstractEndpoint.apply(this,arguments);t=t||{};this.width=t.width||20;this.height=t.height||20;this._compute=function(n,t,i){var r=i.width||this.width,u=i.height||this.height,f=n[0]-r/2,e=n[1]-u/2;return[f,e,r,u]}};t.extend(n.Endpoints.Rectangle,n.Endpoints.AbstractEndpoint);f=function(){n.jsPlumbUIComponent.apply(this,arguments);this._jsPlumb.displayElements=[]};t.extend(f,n.jsPlumbUIComponent,{getDisplayElements:function(){return this._jsPlumb.displayElements},appendDisplayElement:function(n){this._jsPlumb.displayElements.push(n)}});n.Endpoints.Image=function(i){this.type="Image";f.apply(this,arguments);n.Endpoints.AbstractEndpoint.apply(this,arguments);var u=i.onload,e=i.src||i.url,o=i.cssClass?" "+i.cssClass:"";this._jsPlumb.img=new Image;this._jsPlumb.ready=!1;this._jsPlumb.initialized=!1;this._jsPlumb.deleted=!1;this._jsPlumb.widthToUse=i.width;this._jsPlumb.heightToUse=i.height;this._jsPlumb.endpoint=i.endpoint;this._jsPlumb.img.onload=function(){null!=this._jsPlumb&&(this._jsPlumb.ready=!0,this._jsPlumb.widthToUse=this._jsPlumb.widthToUse||this._jsPlumb.img.width,this._jsPlumb.heightToUse=this._jsPlumb.heightToUse||this._jsPlumb.img.height,u&&u(this))}.bind(this);this._jsPlumb.endpoint.setImage=function(n,t){var i=n.constructor==String?n:n.src;u=t;this._jsPlumb.img.src=i;null!=this.canvas&&this.canvas.setAttribute("src",this._jsPlumb.img.src)}.bind(this);this._jsPlumb.endpoint.setImage(e,u);this._compute=function(n){return this.anchorPoint=n,this._jsPlumb.ready?[n[0]-this._jsPlumb.widthToUse/2,n[1]-this._jsPlumb.heightToUse/2,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse]:[0,0,0,0]};this.canvas=jsPlumb.createElement("img",{position:"absolute",margin:0,padding:0,outline:0},this._jsPlumb.instance.endpointClass+o);this._jsPlumb.widthToUse&&this.canvas.setAttribute("width",this._jsPlumb.widthToUse);this._jsPlumb.heightToUse&&this.canvas.setAttribute("height",this._jsPlumb.heightToUse);this._jsPlumb.instance.appendElement(this.canvas);this.actuallyPaint=function(){if(!this._jsPlumb.deleted){this._jsPlumb.initialized||(this.canvas.setAttribute("src",this._jsPlumb.img.src),this.appendDisplayElement(this.canvas),this._jsPlumb.initialized=!0);var n=this.anchorPoint[0]-this._jsPlumb.widthToUse/2,i=this.anchorPoint[1]-this._jsPlumb.heightToUse/2;t.sizeElement(this.canvas,n,i,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse)}};this.paint=function(n,t){null!=this._jsPlumb&&(this._jsPlumb.ready?this.actuallyPaint(n,t):r.setTimeout(function(){this.paint(n,t)}.bind(this),200))}};t.extend(n.Endpoints.Image,[f,n.Endpoints.AbstractEndpoint],{cleanup:function(n){n&&(this._jsPlumb.deleted=!0,this.canvas&&this.canvas.parentNode.removeChild(this.canvas),this.canvas=null)}});n.Endpoints.Blank=function(i){n.Endpoints.AbstractEndpoint.apply(this,arguments);this.type="Blank";f.apply(this,arguments);this._compute=function(n){return[n[0],n[1],10,0]};var r=i.cssClass?" "+i.cssClass:"";this.canvas=jsPlumb.createElement("div",{display:"block",width:"1px",height:"1px",background:"transparent",position:"absolute"},this._jsPlumb.instance.endpointClass+r);this._jsPlumb.instance.appendElement(this.canvas);this.paint=function(){t.sizeElement(this.canvas,this.x,this.y,this.w,this.h)}};t.extend(n.Endpoints.Blank,[n.Endpoints.AbstractEndpoint,f],{cleanup:function(){this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)}});n.Endpoints.Triangle=function(t){this.type="Triangle";n.Endpoints.AbstractEndpoint.apply(this,arguments);t=t||{};t.width=t.width||55;t.height=t.height||55;this.width=t.width;this.height=t.height;this._compute=function(n,t,i){var r=i.width||self.width,u=i.height||self.height,f=n[0]-r/2,e=n[1]-u/2;return[f,e,r,u]}};u=n.Overlays.AbstractOverlay=function(n){this.visible=!0;this.isAppendedAtTopLevel=!0;this.component=n.component;this.loc=null==n.location?.5:n.location;this.endpointLoc=null==n.endpointLocation?[.5,.5]:n.endpointLocation;this.visible=n.visible!==!1};u.prototype={cleanup:function(n){n&&(this.component=null,this.canvas=null,this.endpointLoc=null)},reattach:function(){},setVisible:function(n){this.visible=n;this.component.repaint()},isVisible:function(){return this.visible},hide:function(){this.setVisible(!1)},show:function(){this.setVisible(!0)},incrementLocation:function(n){this.loc+=n;this.component.repaint()},setLocation:function(n){this.loc=n;this.component.repaint()},getLocation:function(){return this.loc},updateFrom:function(){}};n.Overlays.Arrow=function(n){this.type="Arrow";u.apply(this,arguments);this.isAppendedAtTopLevel=!1;n=n||{};this.length=n.length||20;this.width=n.width||20;this.id=n.id;var r=(n.direction||1)<0?-1:1,f=n.paintStyle||{lineWidth:1},e=n.foldback||.623;this.computeMaxSize=function(){return 1.5*self.width};this.elementCreated=function(t){if(this.path=t,n.events)for(var i in n.events)jsPlumb.on(t,i,n.events[i])};this.draw=function(n,u){var o,c,s,h,v,l,a,y,p;if(n.pointAlongPathFrom){t.isString(this.loc)||this.loc>1||this.loc<0?(l=parseInt(this.loc,10),a=this.loc<0?1:0,o=n.pointAlongPathFrom(a,l,!1),c=n.pointAlongPathFrom(a,l-r*this.length/2,!1),s=i.pointOnLine(o,c,this.length)):1==this.loc?(o=n.pointOnPath(this.loc),c=n.pointAlongPathFrom(this.loc,-this.length),s=i.pointOnLine(o,c,this.length),-1==r)&&(y=s,s=o,o=y):0===this.loc?(s=n.pointOnPath(this.loc),c=n.pointAlongPathFrom(this.loc,this.length),o=i.pointOnLine(s,c,this.length),-1==r)&&(p=s,s=o,o=p):(o=n.pointAlongPathFrom(this.loc,r*this.length/2),c=n.pointOnPath(this.loc),s=i.pointOnLine(o,c,this.length));h=i.perpendicularLineTo(o,s,this.width);v=i.pointOnLine(o,s,e*this.length);var w={hxy:o,tail:h,cxy:v},b=f.strokeStyle||u.strokeStyle,k=f.fillStyle||u.strokeStyle,d=f.lineWidth||u.lineWidth;return{component:n,d:w,lineWidth:d,strokeStyle:b,fillStyle:k,minX:Math.min(o.x,h[0].x,h[1].x),maxX:Math.max(o.x,h[0].x,h[1].x),minY:Math.min(o.y,h[0].y,h[1].y),maxY:Math.max(o.y,h[0].y,h[1].y)}}return{component:n,minX:0,maxX:0,minY:0,maxY:0}}};t.extend(n.Overlays.Arrow,u,{updateFrom:function(n){this.length=n.length||this.length;this.width=n.width||this.width;this.direction=null!=n.direction?n.direction:this.direction;this.foldback=n.foldback||this.foldback}});n.Overlays.PlainArrow=function(t){t=t||{};var i=n.extend(t,{foldback:1});n.Overlays.Arrow.call(this,i);this.type="PlainArrow"};t.extend(n.Overlays.PlainArrow,n.Overlays.Arrow);n.Overlays.Diamond=function(t){t=t||{};var i=t.length||40,r=jsPlumb.extend(t,{length:i/2,foldback:2});n.Overlays.Arrow.call(this,r);this.type="Diamond"};t.extend(n.Overlays.Diamond,n.Overlays.Arrow);s=function(n,t){return(null==n._jsPlumb.cachedDimensions||t)&&(n._jsPlumb.cachedDimensions=n.getDimensions()),n._jsPlumb.cachedDimensions};o=function(i){n.jsPlumbUIComponent.apply(this,arguments);u.apply(this,arguments);var r=this.fire;this.fire=function(){r.apply(this,arguments);this.component&&this.component.fire.apply(this.component,arguments)};this.detached=!1;this.id=i.id;this._jsPlumb.div=null;this._jsPlumb.initialised=!1;this._jsPlumb.component=i.component;this._jsPlumb.cachedDimensions=null;this._jsPlumb.create=i.create;this._jsPlumb.initiallyInvisible=i.visible===!1;this.getElement=function(){var n,t;return null==this._jsPlumb.div&&(n=this._jsPlumb.div=jsPlumb.getElement(this._jsPlumb.create(this._jsPlumb.component)),n.style.position="absolute",n.className=this._jsPlumb.instance.overlayClass+" "+(this.cssClass?this.cssClass:i.cssClass?i.cssClass:""),this._jsPlumb.instance.appendElement(n),this._jsPlumb.instance.getId(n),this.canvas=n,t="translate(-50%, -50%)",n.style.webkitTransform=t,n.style.mozTransform=t,n.style.msTransform=t,n.style.oTransform=t,n.style.transform=t,n._jsPlumb=this,i.visible===!1&&(n.style.display="none")),this._jsPlumb.div};this.draw=function(n,i,r){var u=s(this),f,h,c,l,e,o;return null!=u&&2==u.length?(f={x:0,y:0},r?f={x:r[0],y:r[1]}:n.pointOnPath?(h=this.loc,c=!1,(t.isString(this.loc)||this.loc<0||this.loc>1)&&(h=parseInt(this.loc,10),c=!0),f=n.pointOnPath(h,c)):(l=this.loc.constructor==Array?this.loc:this.endpointLoc,f={x:l[0]*n.w,y:l[1]*n.h}),e=f.x-u[0]/2,o=f.y-u[1]/2,{component:n,d:{minx:e,miny:o,td:u,cxy:f},minX:e,maxX:e+u[0],minY:o,maxY:o+u[1]}):{minX:0,maxX:0,minY:0,maxY:0}}};t.extend(o,[n.jsPlumbUIComponent,u],{getDimensions:function(){return[1,1]},setVisible:function(n){this._jsPlumb.div&&(this._jsPlumb.div.style.display=n?"block":"none",n&&this._jsPlumb.initiallyInvisible&&(s(this,!0),this.component.repaint(),this._jsPlumb.initiallyInvisible=!1))},clearCachedDimensions:function(){this._jsPlumb.cachedDimensions=null},cleanup:function(n){n?null!=this._jsPlumb.div&&(this._jsPlumb.div._jsPlumb=null,this._jsPlumb.instance.removeElement(this._jsPlumb.div)):(this._jsPlumb&&this._jsPlumb.div&&this._jsPlumb.div.parentNode&&this._jsPlumb.div.parentNode.removeChild(this._jsPlumb.div),this.detached=!0)},reattach:function(n){null!=this._jsPlumb.div&&n.getContainer().appendChild(this._jsPlumb.div);this.detached=!1},computeMaxSize:function(){var n=s(this);return Math.max(n[0],n[1])},paint:function(n){this._jsPlumb.initialised||(this.getElement(),n.component.appendDisplayElement(this._jsPlumb.div),this._jsPlumb.initialised=!0,this.detached&&this._jsPlumb.div.parentNode.removeChild(this._jsPlumb.div));this._jsPlumb.div.style.left=n.component.x+n.d.minx+"px";this._jsPlumb.div.style.top=n.component.y+n.d.miny+"px"}});n.Overlays.Custom=function(){this.type="Custom";o.apply(this,arguments)};t.extend(n.Overlays.Custom,o);n.Overlays.GuideLines=function(){var t=this;t.length=50;t.lineWidth=5;this.type="GuideLines";u.apply(this,arguments);n.jsPlumbUIComponent.apply(this,arguments);this.draw=function(n){var u=n.pointAlongPathFrom(t.loc,t.length/2),e=n.pointOnPath(t.loc),f=i.pointOnLine(u,e,t.length),o=i.perpendicularLineTo(u,f,40),r=i.perpendicularLineTo(f,u,20);return{connector:n,head:u,tail:f,headLine:r,tailLine:o,minX:Math.min(u.x,f.x,r[0].x,r[1].x),minY:Math.min(u.y,f.y,r[0].y,r[1].y),maxX:Math.max(u.x,f.x,r[0].x,r[1].x),maxY:Math.max(u.y,f.y,r[0].y,r[1].y)}}};n.Overlays.Label=function(t){var r,i,u;this.labelStyle=t.labelStyle;this.cssClass=null!=this.labelStyle?this.labelStyle.cssClass:null;r=n.extend({create:function(){return jsPlumb.createElement("div")}},t);(n.Overlays.Custom.call(this,r),this.type="Label",this.label=t.label||"",this.labelText=null,this.labelStyle)&&(i=this.getElement(),(this.labelStyle.font=this.labelStyle.font||"12px sans-serif",i.style.font=this.labelStyle.font,i.style.color=this.labelStyle.color||"black",this.labelStyle.fillStyle&&(i.style.background=this.labelStyle.fillStyle),this.labelStyle.borderWidth>0)&&(u=this.labelStyle.borderStyle?this.labelStyle.borderStyle:"black",i.style.border=this.labelStyle.borderWidth+"px solid "+u),this.labelStyle.padding&&(i.style.padding=this.labelStyle.padding))};t.extend(n.Overlays.Label,n.Overlays.Custom,{cleanup:function(n){n&&(this.div=null,this.label=null,this.labelText=null,this.cssClass=null,this.labelStyle=null)},getLabel:function(){return this.label},setLabel:function(n){this.label=n;this.labelText=null;this.clearCachedDimensions();this.update();this.component.repaint()},getDimensions:function(){return this.update(),o.prototype.getDimensions.apply(this,arguments)},update:function(){if("function"==typeof this.label){var n=this.label(this);this.getElement().innerHTML=n.replace(/\r\n/g,"<br/>")}else null==this.labelText&&(this.labelText=this.label,this.getElement().innerHTML=this.labelText.replace(/\r\n/g,"<br/>"))},updateFrom:function(n){n.label&&this.setLabel(n.label)}})}.call("undefined"!=typeof window?window:this),function(){"use strict";var n=this,t=n.jsPlumb,i=function(t){var i=t._mottle;return i||(i=t._mottle=new n.Mottle),i};t.extend(n.jsPlumbInstance.prototype,{getEventManager:function(){return i(this)},on:function(){return this.getEventManager().on.apply(this,arguments),this},off:function(){return this.getEventManager().off.apply(this,arguments),this}})}.call("undefined"!=typeof window?window:this),function(){"use strict";var r=this,i=r.jsPlumbUtil,t=r.jsPlumbInstance,e="jsplumb-group-collapsed",u="jsplumb-group-expanded",c="[jsplumb-group-content]",l="elementDraggable",o="stop",s="revert",f="_groupManager",n="_jsPlumbGroup",a="_jsPlumbGroupDrag",h="group:addMember",v="group:removeMember",y="group:add",p="group:remove",w="group:expand",b="group:collapse",k=function(t){function a(n){delete n.proxies;var r,t=f[n.id];null!=t&&(r=function(t){return t.id===n.id},i.removeWithFunction(t.connections.source,r),i.removeWithFunction(t.connections.target,r),delete f[n.id]);t=o[n.id];null!=t&&(r=function(t){return t.id===n.id},i.removeWithFunction(t.connections.source,r),i.removeWithFunction(t.connections.target,r),delete o[n.id])}function h(n,i){for(var u=n.getMembers(),r=0;r<u.length;r++)t[i?"show":"hide"](u[r],!0)}function s(n){var r=n.getMembers(),e=t.getConnections({source:r},!0),s=t.getConnections({target:r},!0),u={},i;n.connections.source.length=0;n.connections.target.length=0;i=function(t){for(var i=0;i<t.length;i++)u[t[i].id]||(u[t[i].id]=!0,t[i].source._jsPlumbGroup===n?(t[i].target._jsPlumbGroup!==n&&n.connections.source.push(t[i]),f[t[i].id]=n):t[i].target._jsPlumbGroup===n&&(n.connections.target.push(t[i]),o[t[i].id]=n))};i(e);i(s)}var r={},f={},o={},c,l;t.bind("connection",function(t){null!=t.source[n]&&null!=t.target[n]&&t.source[n]===t.target[n]?(f[t.connection.id]=t.source[n],o[t.connection.id]=t.source[n]):(null!=t.source[n]&&(i.suggest(t.source[n].connections.source,t.connection),f[t.connection.id]=t.source[n]),null!=t.target[n]&&(i.suggest(t.target[n].connections.target,t.connection),o[t.connection.id]=t.target[n]))});t.bind("connectionDetached",function(n){a(n.connection)});t.bind("connectionMoved",function(n){var u=0===n.index?f:o,r=u[n.connection.id],t,i;r&&(t=r.connections[0===n.index?"source":"target"],i=t.indexOf(n.connection),-1!=i&&t.splice(i,1))});this.addGroup=function(n){t.addClass(n.el,u);r[n.id]=n;n.manager=this;s(n);t.fire(y,{group:n})};this.addToGroup=function(n,t,i){n=this.getGroup(n);n&&n.add(t,i)};this.removeFromGroup=function(n,t,i){n=this.getGroup(n);n&&n.remove(t,null,i)};this.getGroup=function(n){var t=n;if(i.isString(n)&&(t=r[n],null==t))throw new TypeError("No such group ["+n+"]");return t};this.getGroups=function(){var n=[],t;for(t in r)n.push(r[t]);return n};this.removeGroup=function(n,i){n=this.getGroup(n);this.expandGroup(n,!0);n[i?"removeAll":"orphanAll"]();t.remove(n.getEl());delete r[n.id];delete t._groups[n.id];t.fire(p,{group:n})};this.removeAllGroups=function(n){for(var t in r)this.removeGroup(r[t],n)};c=this.collapseConnection=function(i,r,u){var f,e=u.getEl(),o=t.getId(e),h=i.endpoints[r].elementId,s=i.endpoints[0===r?1:0].element;s[n]&&!s[n].shouldProxy()&&s[n].collapsed||(i.proxies=i.proxies||[],i.proxies[r]?f=i.proxies[r].ep:(f=t.addEndpoint(e,{endpoint:u.getEndpoint(i,r),anchor:u.getAnchor(i,r),parameters:{isProxyEndpoint:!0}}),f._forceDeleteOnDetach=!0),i.proxies[r]={ep:f,originalEp:i.endpoints[r]},0===r?t.anchorManager.sourceChanged(h,o,i,e):(t.anchorManager.updateOtherEndpoint(i.endpoints[0].elementId,h,o,i),i.target=e,i.targetId=o),i.proxies[r].originalEp.detachFromConnection(i,null,!0),f.connections=[i],i.endpoints[r]=f,i.setVisible(!0))};this.collapseGroup=function(n){var i,r;(n=this.getGroup(n),null==n||n.collapsed)||(i=n.getEl(),(h(n,!1),n.shouldProxy())&&(r=function(t,i){for(var u,r=0;r<t.length;r++)u=t[r],c(u,i,n)},r(n.connections.source,0),r(n.connections.target,1)),n.collapsed=!0,t.removeClass(i,u),t.addClass(i,e),t.revalidate(i),t.fire(b,{group:n}))};l=this.expandConnection=function(n,i,r){if(null!=n.proxies&&null!=n.proxies[i]){var f=t.getId(r.getEl()),e=n.proxies[i].originalEp.element,u=n.proxies[i].originalEp.elementId;n.endpoints[i]=n.proxies[i].originalEp;0===i?t.anchorManager.sourceChanged(f,u,n,e):(t.anchorManager.updateOtherEndpoint(n.endpoints[0].elementId,f,u,n),n.target=e,n.targetId=u);n.proxies[i].ep.detachFromConnection(n,null,!0);n.proxies[i].originalEp.addConnection(n);delete n.proxies[i]}};this.expandGroup=function(n,i){var r,f;(n=this.getGroup(n),null!=n&&n.collapsed)&&(r=n.getEl(),(h(n,!0),n.shouldProxy())&&(f=function(t,i){for(var u,r=0;r<t.length;r++)u=t[r],l(u,i,n)},f(n.connections.source,0),f(n.connections.target,1)),n.collapsed=!1,t.addClass(r,u),t.removeClass(r,e),t.revalidate(r),this.repaintGroup(n),i||t.fire(w,{group:n}))};this.repaintGroup=function(n){n=this.getGroup(n);for(var r=n.getMembers(),i=0;i<r.length;i++)t.revalidate(r[i])};this.updateConnectionsForGroup=s;this.refreshAllGroups=function(){for(var n in r)s(r[n]),t.dragManager.updateOffsets(t.getId(r[n].getEl()))}},d=function(t,u){function st(n){return n.offsetParent}function tt(n,i){var o=st(n),r=t.getSize(o),u=t.getSize(n),f=i[0],s=f+u[0],e=i[1],h=e+u[1];return s>0&&f<r[0]&&h>0&&e<r[1]}function it(n){var i=t.getId(n),r=t.getOffset(n);n.parentNode.removeChild(n);t.getContainer().appendChild(n);t.setPosition(n,r);delete n._jsPlumbGroup;ft(n);t.dragManager.clearParent(n,i)}function rt(n){tt(n.el,n.pos)||(n.el._jsPlumbGroup.remove(n.el),p?t.remove(n.el):it(n.el))}function ut(n){var i=t.getId(n);t.revalidate(n);t.dragManager.revalidateParent(n,i)}function ft(n){(p||w)&&n._katavorioDrag.off(o,rt);p||w||!d||(n._katavorioDrag.off(s,ut),n._katavorioDrag.setRevert(null))}function et(n){(p||w)&&n._katavorioDrag.on(o,rt);ht&&n._katavorioDrag.setConstrain(!0);ot&&n._katavorioDrag.setUseGhostProxy(!0);p||w||!d||(n._katavorioDrag.on(s,ut),n._katavorioDrag.setRevert(function(n,t){return!tt(n,t)}))}var f=this,y=u.el,g,nt;this.getEl=function(){return y};this.id=u.id||i.uuid();y._isJsPlumbGroup=!0;var b=t.getSelector(y,c),k=b&&b.length>0?b[0]:y,ot=u.ghost===!0,ht=ot||u.constrain===!0,d=u.revert!==!1,w=u.orphan===!0,p=u.prune===!0,ct=u.dropOverride===!0,lt=u.proxied!==!1,e=[];(this.connections={source:[],target:[],internal:[]},this.getAnchor=function(){return u.anchor||"Continuous"},this.getEndpoint=function(){return u.endpoint||["Dot",{radius:10}]},this.collapsed=!1,u.draggable!==!1)&&(g={stop:function(n){t.fire("groupDragStop",jsPlumb.extend(n,{group:f}))},scope:a},u.dragOptions&&r.jsPlumb.extend(g,u.dragOptions),t.draggable(u.el,g));u.droppable!==!1&&t.droppable(u.el,{drop:function(n){var e=t.getGroupManager(),i=n.drag.el,r,u,o,s,c;if(!i._isJsPlumbGroup&&(r=i._jsPlumbGroup,r!==f)){if(u=t.getOffset(i,!0),o=f.collapsed?t.getOffset(y,!0):t.getOffset(k,!0),null!=r){if(r.overrideDrop(i,f))return;r.remove(i,!0);e.updateConnectionsForGroup(r)}f.add(i,!0);s=function(n,t){var i=0==t?1:0;n.each(function(n){n.setVisible(!1);n.endpoints[i].element._jsPlumbGroup===f?(n.endpoints[i].setVisible(!1),e.expandConnection(n,i,f)):(n.endpoints[t].setVisible(!1),e.collapseConnection(n,t,f))})};f.collapsed&&(s(t.select({source:i}),0),s(t.select({target:i}),1));c=t.getId(i);t.dragManager.setParent(i,c,y,t.getId(y),u);t.setPosition(i,{left:u.left-o.left,top:u.top-o.top});t.dragManager.revalidateParent(i,c,u);e.updateConnectionsForGroup(f);setTimeout(function(){t.fire(h,{group:f,el:i})},0)}}});nt=function(n,t){for(var r=null==n.nodeType?n:[n],i=0;i<r.length;i++)t(r[i])};this.overrideDrop=function(){return ct&&(d||p||w)};this.add=function(n,i){nt(n,function(n){n._jsPlumbGroup=f;e.push(n);t.isAlreadyDraggable(n)&&et(n);n.parentNode!=k&&k.appendChild(n);i||t.fire(h,{group:f,el:n})})};this.remove=function(n,r,u){nt(n,function(n){if(delete n._jsPlumbGroup,i.removeWithFunction(e,function(t){return t===n}),r)try{f.getEl().removeChild(n)}catch(o){jsPlumbUtil.log("Could not remove element from Group "+o)}ft(n);u||t.fire(v,{group:f,el:n})})};this.removeAll=function(){for(var n=0;n<e.length;n++)t.remove(e[n]);e.length=0};this.orphanAll=function(){for(var n=0;n<e.length;n++)it(e[n]);e.length=0};this.getMembers=function(){return e};y[n]=this;t.bind(l,function(n){n.el._jsPlumbGroup==this&&et(n.el)}.bind(this));this.shouldProxy=function(){return lt};t.getGroupManager().addGroup(this)};t.prototype.addGroup=function(t){var i=this,r;if(i._groups=i._groups||{},null!=i._groups[t.id])throw new TypeError("cannot create Group ["+t.id+"]; a Group with that ID exists");if(null!=t.el[n])throw new TypeError("cannot create Group ["+t.id+"]; the given element is already a Group");return r=new d(i,t),i._groups[r.id]=r,r};t.prototype.addToGroup=function(n,t,i){this.getGroupManager().addToGroup(n,t,i)};t.prototype.removeFromGroup=function(n,t,i){this.getGroupManager().removeFromGroup(n,t,i)};t.prototype.removeGroup=function(n,t){this.getGroupManager().removeGroup(n,t)};t.prototype.removeAllGroups=function(n){this.getGroupManager().removeAllGroups(n)};t.prototype.getGroup=function(n){return this.getGroupManager().getGroup(n)};t.prototype.getGroups=function(){return this.getGroupManager().getGroups()};t.prototype.expandGroup=function(n){this.getGroupManager().expandGroup(n)};t.prototype.collapseGroup=function(n){this.getGroupManager().collapseGroup(n)};t.prototype.repaintGroup=function(n){this.getGroupManager().repaintGroup(n)};t.prototype.toggleGroup=function(n){n=this.getGroupManager().getGroup(n);null!=n&&this.getGroupManager()[n.collapsed?"expandGroup":"collapseGroup"](n)};t.prototype.getGroupManager=function(){var n=this[f];return null==n&&(n=this[f]=new k(this)),n};t.prototype.removeGroupManager=function(){delete this[f]};t.prototype.getGroupFor=function(t){return t=this.getElement(t),t?t[n]:void 0}}.call("undefined"!=typeof window?window:this),function(){"use strict";var t=this,n=t.jsPlumb,r=t.jsPlumbUtil,i=function(t){this.type="Flowchart";t=t||{};t.stub=null==t.stub?30:t.stub;var i,a,r=n.Connectors.AbstractConnector.apply(this,arguments),o=null==t.midpoint?.5:t.midpoint,v=t.alwaysRespectStubs===!0,u=null,f=null,s=null!=t.cornerRadius?t.cornerRadius:0,h=(t.loopbackRadius||25,function(n){return 0>n?-1:0===n?0:1}),e=function(n,t,i,r){if(u!=t||f!=i){var e=null==u?r.sx:u,o=null==f?r.sy:f,s=e==t?"v":"h",c=h(t-e),l=h(i-o);u=t;f=i;n.push([e,o,t,i,s,c,l])}},c=function(n){return Math.sqrt(Math.pow(n[0]-n[2],2)+Math.pow(n[1]-n[3],2))},l=function(n){var t=[];return t.push.apply(t,n),t},y=function(n,t,i){for(var f,e,v,y,u=null,o=0;o<t.length-1;o++){if(u=u||l(t[o]),f=l(t[o+1]),s>0&&u[4]!=f[4]){e=Math.min(s,c(u),c(f));u[2]-=u[5]*e;u[3]-=u[6]*e;f[0]+=f[5]*e;f[1]+=f[6]*e;var h=u[6]==f[5]&&1==f[5]||u[6]==f[5]&&0===f[5]&&u[5]!=f[6]||u[6]==f[5]&&-1==f[5],p=f[1]>u[3]?1:-1,w=f[0]>u[2]?1:-1,a=p==w,b=a&&h||!a&&!h?f[0]:u[2],k=a&&h||!a&&!h?u[3]:f[1];r.addSegment(n,"Straight",{x1:u[0],y1:u[1],x2:u[2],y2:u[3]});r.addSegment(n,"Arc",{r:e,x1:u[2],y1:u[3],x2:f[0],y2:f[1],cx:b,cy:k,ac:h})}else v=u[2]==u[0]?0:u[2]>u[0]?i.lw/2:-(i.lw/2),y=u[3]==u[1]?0:u[3]>u[1]?i.lw/2:-(i.lw/2),r.addSegment(n,"Straight",{x1:u[0]-v,y1:u[1]-y,x2:u[2]+v,y2:u[3]+y});u=f}null!=f&&r.addSegment(n,"Straight",{x1:f[0],y1:f[1],x2:f[2],y2:f[3]})};this._compute=function(n,t){var p;i=[];u=null;f=null;a=null;var b=function(){return[n.startStubX,n.startStubY,n.endStubX,n.endStubY]},g={perpendicular:b,orthogonal:b,opposite:function(t){var i=n,r="x"==t?0:1,u={x:function(){return 1==i.so[r]&&(i.startStubX>i.endStubX&&i.tx>i.startStubX||i.sx>i.endStubX&&i.tx>i.sx)||-1==i.so[r]&&(i.startStubX<i.endStubX&&i.tx<i.startStubX||i.sx<i.endStubX&&i.tx<i.sx)},y:function(){return 1==i.so[r]&&(i.startStubY>i.endStubY&&i.ty>i.startStubY||i.sy>i.endStubY&&i.ty>i.sy)||-1==i.so[r]&&(i.startStubY<i.endStubY&&i.ty<i.startStubY||i.sy<i.endStubY&&i.ty<i.sy)}};return!v&&u[t]()?{x:[(n.sx+n.tx)/2,n.startStubY,(n.sx+n.tx)/2,n.endStubY],y:[n.startStubX,(n.sy+n.ty)/2,n.endStubX,(n.sy+n.ty)/2]}[t]:[n.startStubX,n.startStubY,n.endStubX,n.endStubY]}},s=g[n.anchorOrientation](n.sourceAxis),l="x"==n.sourceAxis?0:1,k="x"==n.sourceAxis?1:0,nt=s[l],tt=s[k],it=s[l+2],rt=s[k+2];e(i,s[0],s[1],n);var h=n.startStubX+(n.endStubX-n.startStubX)*o,c=n.startStubY+(n.endStubY-n.startStubY)*o,d={x:[0,1],y:[1,0]},ut={perpendicular:function(t){var i=n,s={x:[[i.startStubX,i.endStubX],null,[i.endStubX,i.startStubX]],y:[[i.startStubY,i.endStubY],null,[i.endStubY,i.startStubY]]},v={x:[[h,i.startStubY],[h,i.endStubY]],y:[[i.startStubX,c],[i.endStubX,c]]},y={x:[[i.endStubX,i.startStubY]],y:[[i.startStubX,i.endStubY]]},p={x:[[i.startStubX,i.endStubY],[i.endStubX,i.endStubY]],y:[[i.endStubX,i.startStubY],[i.endStubX,i.endStubY]]},w={x:[[i.startStubX,c],[i.endStubX,c],[i.endStubX,i.endStubY]],y:[[h,i.startStubY],[h,i.endStubY],[i.endStubX,i.endStubY]]},u={x:[i.startStubY,i.endStubY],y:[i.startStubX,i.endStubX]},b=d[t][0],f=d[t][1],e=i.so[b]+1,k=i.to[f]+1,o=-1==i.to[f]&&u[t][1]<u[t][0]||1==i.to[f]&&u[t][1]>u[t][0],l=s[t][e][0],a=s[t][e][1],r={x:[[[1,2,3,4],null,[2,1,4,3]],null,[[4,3,2,1],null,[3,4,1,2]]],y:[[[3,2,1,4],null,[2,3,4,1]],null,[[4,1,2,3],null,[1,4,3,2]]]}[t][e][k];return i.segment==r[3]||i.segment==r[2]&&o?v[t]:i.segment==r[2]&&l>a?y[t]:i.segment==r[2]&&a>=l||i.segment==r[1]&&!o?w[t]:i.segment==r[0]||i.segment==r[1]&&o?p[t]:void 0},orthogonal:function(t,i,r,u,f){var o=n,e={x:-1==o.so[0]?Math.min(i,u):Math.max(i,u),y:-1==o.so[1]?Math.min(i,u):Math.max(i,u)}[t];return{x:[[e,r],[e,f],[u,f]],y:[[r,e],[f,e],[f,u]]}[t]},opposite:function(i,u,f,e){var o=n,a={x:"y",y:"x"}[i],v={x:"height",y:"width"}[i],y=o["is"+i.toUpperCase()+"GreaterThanStubTimes2"],s;return t.sourceEndpoint.elementId==t.targetEndpoint.elementId?(s=f+(1-t.sourceEndpoint.anchor[a])*t.sourceInfo[v]+r.maxStub,{x:[[u,s],[e,s]],y:[[s,u],[s,e]]}[i]):!y||1==o.so[l]&&u>e||-1==o.so[l]&&e>u?{x:[[u,c],[e,c]],y:[[h,u],[h,e]]}[i]:1==o.so[l]&&e>u||-1==o.so[l]&&u>e?{x:[[h,o.sy],[h,o.ty]],y:[[o.sx,c],[o.tx,c]]}[i]:void 0}},w=ut[n.anchorOrientation](n.sourceAxis,nt,tt,it,rt);if(w)for(p=0;p<w.length;p++)e(i,w[p][0],w[p][1],n);e(i,s[2],s[3],n);e(i,n.tx,n.ty,n);y(this,i,n)}};r.extend(i,n.Connectors.AbstractConnector);n.registerConnectorType(i,"Flowchart")}.call("undefined"!=typeof window?window:this),function(){"use strict";var i=this,n=i.jsPlumb,r=i.jsPlumbUtil,t;n.Connectors.AbstractBezierConnector=function(t){t=t||{};var u,f=t.showLoopback!==!1,e=(t.curviness||10,t.margin||5),o=(t.proximityLimit||80,t.orientation&&"clockwise"===t.orientation),i=t.loopbackRadius||25,r=!1;return this.overrideSetEditable=function(){return!r},this._compute=function(n,t){var c=t.sourcePos,l=t.targetPos,a=Math.abs(c[0]-l[0]),v=Math.abs(c[1]-l[1]);if(f&&t.sourceEndpoint.elementId===t.targetEndpoint.elementId){r=!0;var y=t.sourcePos[0],p=t.sourcePos[1]-e,w=y,b=p-i,s=w-i,h=b-i;a=2*i;v=2*i;n.points[0]=s;n.points[1]=h;n.points[2]=a;n.points[3]=v;u.addSegment(this,"Arc",{loopback:!0,x1:y-s+4,y1:p-h,startAngle:0,endAngle:2*Math.PI,r:i,ac:!o,x2:y-s-4,y2:p-h,cx:w-s,cy:b-h})}else r=!1,this._computeBezier(n,t,c,l,a,v)},u=n.Connectors.AbstractConnector.apply(this,arguments)};r.extend(n.Connectors.AbstractBezierConnector,n.Connectors.AbstractConnector);t=function(t){t=t||{};this.type="Bezier";var u=n.Connectors.AbstractBezierConnector.apply(this,arguments),r=t.curviness||150,i=10;this.getCurviness=function(){return r};this._findControlPoint=function(n,t,u,f,e,o,s){var c=o[0]!=s[0]||o[1]==s[1],h=[];return c?(0===s[0]?h.push(u[0]<t[0]?n[0]+i:n[0]-i):h.push(n[0]+r*s[0]),0===s[1]?h.push(u[1]<t[1]?n[1]+i:n[1]-i):h.push(n[1]+r*o[1])):(0===o[0]?h.push(t[0]<u[0]?n[0]+i:n[0]-i):h.push(n[0]-r*o[0]),0===o[1]?h.push(t[1]<u[1]?n[1]+i:n[1]-i):h.push(n[1]+r*s[1])),h};this._computeBezier=function(n,t,i,r,f,e){var s,h,o=this.getGeometry(),c=i[0]<r[0]?f:0,l=i[1]<r[1]?e:0,a=i[0]<r[0]?0:f,v=i[1]<r[1]?0:e;(this.hasBeenEdited()||this.isEditing())&&null!=o&&null!=o.controlPoints&&null!=o.controlPoints[0]&&null!=o.controlPoints[1]?(s=o.controlPoints[0],h=o.controlPoints[1]):(s=this._findControlPoint([c,l],i,r,t.sourceEndpoint,t.targetEndpoint,n.so,n.to),h=this._findControlPoint([a,v],r,i,t.targetEndpoint,t.sourceEndpoint,n.to,n.so));u.setGeometry({controlPoints:[s,h]},!0);u.addSegment(this,"Bezier",{x1:c,y1:l,x2:a,y2:v,cp1x:s[0],cp1y:s[1],cp2x:h[0],cp2y:h[1]})}};r.extend(t,n.Connectors.AbstractBezierConnector);n.registerConnectorType(t,"Bezier")}.call("undefined"!=typeof window?window:this),function(){"use strict";var t=this,n=t.jsPlumb,r=t.jsPlumbUtil,u=function(n,t,i,r){return i>=n&&t>=r?1:i>=n&&r>=t?2:n>=i&&r>=t?3:4},f=function(n,t,i,r,u,f,e,o,s){return s>=o?[n,t]:1===i?r[3]<=0&&u[3]>=1?[n+(r[2]<.5?-1*f:f),t]:r[2]>=1&&u[2]<=0?[n,t+(r[3]<.5?-1*e:e)]:[n+-1*f,t+-1*e]:2===i?r[3]>=1&&u[3]<=0?[n+(r[2]<.5?-1*f:f),t]:r[2]>=1&&u[2]<=0?[n,t+(r[3]<.5?-1*e:e)]:[n+f,t+-1*e]:3===i?r[3]>=1&&u[3]<=0?[n+(r[2]<.5?-1*f:f),t]:r[2]<=0&&u[2]>=1?[n,t+(r[3]<.5?-1*e:e)]:[n+-1*f,t+-1*e]:4===i?r[3]<=0&&u[3]>=1?[n+(r[2]<.5?-1*f:f),t]:r[2]<=0&&u[2]>=1?[n,t+(r[3]<.5?-1*e:e)]:[n+f,t+-1*e]:void 0},i=function(t){t=t||{};this.type="StateMachine";var r,e=n.Connectors.AbstractBezierConnector.apply(this,arguments),o=t.curviness||10,i=t.margin||5,s=t.proximityLimit||80;t.orientation&&"clockwise"===t.orientation;this._computeBezier=function(n,t,h,c,l,a){var v=t.sourcePos[0]<t.targetPos[0]?0:l,y=t.sourcePos[1]<t.targetPos[1]?0:a,p=t.sourcePos[0]<t.targetPos[0]?l:0,w=t.sourcePos[1]<t.targetPos[1]?a:0;0===t.sourcePos[2]&&(v-=i);1===t.sourcePos[2]&&(v+=i);0===t.sourcePos[3]&&(y-=i);1===t.sourcePos[3]&&(y+=i);0===t.targetPos[2]&&(p-=i);1===t.targetPos[2]&&(p+=i);0===t.targetPos[3]&&(w-=i);1===t.targetPos[3]&&(w+=i);var k,d,g,nt,tt=(v+p)/2,it=(y+w)/2,rt=u(v,y,p,w),ut=Math.sqrt(Math.pow(p-v,2)+Math.pow(w-y,2)),b=e.getGeometry();(this.hasBeenEdited()||this.isEditing())&&null!=b?(k=b.controlPoints[0][0],g=b.controlPoints[0][1],d=b.controlPoints[1][0],nt=b.controlPoints[1][1]):(r=f(tt,it,rt,t.sourcePos,t.targetPos,o,o,ut,s),k=r[0],d=r[0],g=r[1],nt=r[1],e.setGeometry({controlPoints:[r,r]},!0));e.addSegment(this,"Bezier",{x1:p,y1:w,x2:v,y2:y,cp1x:k,cp1y:g,cp2x:d,cp2y:nt})}};r.extend(i,n.Connectors.AbstractBezierConnector);n.registerConnectorType(i,"StateMachine")}.call("undefined"!=typeof window?window:this),function(){"use strict";var l=this,n=l.jsPlumb,i=l.jsPlumbUtil,a={"stroke-linejoin":"stroke-linejoin","stroke-dashoffset":"stroke-dashoffset","stroke-linecap":"stroke-linecap"},o="stroke-dasharray",h="dashstyle",d="linearGradient",g="radialGradient",nt="defs",v="fill",tt="stop",y="stroke",it="stroke-width",rt="style",p="none",ut="jsplumb_gradient_",ft="lineWidth",w={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml"},r=function(n,t){for(var i in t)n.setAttribute(i,""+t[i])},t=function(n,t){return t=t||{},t.version="1.1",t.xmlns=w.xhtml,jsPlumb.createElementNS(w.svg,n,null,null,t)},s=function(n){return"position:absolute;left:"+n[0]+"px;top:"+n[1]+"px"},b=function(n){for(var i=n.querySelectorAll(" defs,linearGradient,radialGradient"),t=0;t<i.length;t++)i[t].parentNode.removeChild(i[t])},et=function(n,i,r,u,f){var o=ut+f._jsPlumb.instance.idstamp(),s,h,e,c;for(b(n),s=r.gradient.offset?t(g,{id:o}):t(d,{id:o,gradientUnits:"userSpaceOnUse"}),h=t(nt),n.appendChild(h),h.appendChild(s),e=0;e<r.gradient.stops.length;e++){var l=1==f.segment||2==f.segment?e:r.gradient.stops.length-1-e,a=r.gradient.stops[l][1],p=t(tt,{offset:Math.floor(100*r.gradient.stops[e][0])+"%","stop-color":a});s.appendChild(p)}c=r.strokeStyle?y:v;i.setAttribute(c,"url(#"+o+")")},c=function(n,t,i,r,u){var f;if(t.setAttribute(v,i.fillStyle?i.fillStyle:p),t.setAttribute(y,i.strokeStyle?i.strokeStyle:p),i.gradient?et(n,t,i,r,u):(b(n),t.setAttribute(rt,"")),i.lineWidth&&t.setAttribute(it,i.lineWidth),i[h]&&i[ft]&&!i[o]){var e=-1==i[h].indexOf(",")?" ":",",c=i[h].split(e),s="";c.forEach(function(n){s+=Math.floor(n*i.lineWidth)+e});t.setAttribute(o,s)}else i[o]&&t.setAttribute(o,i[o]);for(f in a)i[f]&&t.setAttribute(a[f],i[f])},k=function(n,t,i){n.childNodes.length>i?n.insertBefore(t,n.childNodes[i]):n.appendChild(t)},f,e,u;i.svg={node:t,attr:r,pos:s};f=function(u){var c=u.pointerEventsSpec||"all",o={},f,h,e;return n.jsPlumbUIComponent.apply(this,u.originalArgs),this.canvas=null,this.path=null,this.svg=null,this.bgCanvas=null,f=u.cssClass+" "+(u.originalArgs[0].cssClass||""),h={style:"",width:0,height:0,"pointer-events":c,position:"absolute"},this.svg=t("svg",h),u.useDivWrapper?(this.canvas=jsPlumb.createElement("div",{position:"absolute"}),i.sizeElement(this.canvas,0,0,1,1),this.canvas.className=f):(r(this.svg,{"class":f}),this.canvas=this.svg),u._jsPlumb.appendElement(this.canvas,u.originalArgs[0].parent),u.useDivWrapper&&this.canvas.appendChild(this.svg),e=[this.canvas],this.getDisplayElements=function(){return e},this.appendDisplayElement=function(n){e.push(n)},this.paint=function(n,t,f){if(null!=n){var c,e=[this.x,this.y],h=[this.w,this.h];null!=f&&(f.xmin<0&&(e[0]+=f.xmin),f.ymin<0&&(e[1]+=f.ymin),h[0]=f.xmax+(f.xmin<0?-f.xmin:0),h[1]=f.ymax+(f.ymin<0?-f.ymin:0));u.useDivWrapper?(i.sizeElement(this.canvas,e[0],e[1],h[0],h[1]),e[0]=0,e[1]=0,c=s([0,0])):c=s([e[0],e[1]]);o.paint.apply(this,arguments);r(this.svg,{style:c,width:h[0]||0,height:h[1]||0})}},{renderer:o}};i.extend(f,n.jsPlumbUIComponent,{cleanup:function(n){n||null==this.typeId?(this.canvas&&(this.canvas._jsPlumb=null),this.svg&&(this.svg._jsPlumb=null),this.bgCanvas&&(this.bgCanvas._jsPlumb=null),this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.bgCanvas&&this.bgCanvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.svg=null,this.canvas=null,this.path=null,this.group=null):(this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.bgCanvas&&this.bgCanvas.parentNode&&this.bgCanvas.parentNode.removeChild(this.bgCanvas))},reattach:function(n){var t=n.getContainer();this.canvas&&null==this.canvas.parentNode&&t.appendChild(this.canvas);this.bgCanvas&&null==this.bgCanvas.parentNode&&t.appendChild(this.bgCanvas)},setVisible:function(n){this.canvas&&(this.canvas.style.display=n?"block":"none")}});n.ConnectorRenderers.svg=function(i){var u=this,e=f.apply(this,[{cssClass:i._jsPlumb.connectorClass+(this.isEditable()?" "+i._jsPlumb.editableConnectorClass:""),originalArgs:arguments,pointerEventsSpec:"none",_jsPlumb:i._jsPlumb}]),o=this.setEditable;this.setEditable=function(n){var t=o.apply(this,[n]);jsPlumb[t?"addClass":"removeClass"](this.canvas,this._jsPlumb.instance.editableConnectorClass)};e.renderer.paint=function(f,e,o){var v=u.getSegments(),y="",h=[0,0],l,w,b;if(o.xmin<0&&(h[0]=-o.xmin),o.ymin<0&&(h[1]=-o.ymin),v.length>0){for(l=0;l<v.length;l++)y+=n.Segments.svg.SegmentRenderer.getPath(v[l]),y+=" ";var a={d:y,transform:"translate("+h[0]+","+h[1]+")","pointer-events":i["pointer-events"]||"visibleStroke"},s=null,p=[u.x,u.y,u.w,u.h];f.outlineColor&&(w=f.outlineWidth||1,b=f.lineWidth+2*w,s=n.extend({},f),delete s.gradient,s.strokeStyle=f.outlineColor,s.lineWidth=b,null==u.bgPath?(u.bgPath=t("path",a),n.addClass(u.bgPath,n.connectorOutlineClass),k(u.svg,u.bgPath,0)):r(u.bgPath,a),c(u.svg,u.bgPath,s,p,u));null==u.path?(u.path=t("path",a),k(u.svg,u.path,f.outlineColor?1:0)):r(u.path,a);c(u.svg,u.path,f,p,u)}}};i.extend(n.ConnectorRenderers.svg,f);n.Segments.svg={SegmentRenderer:{getPath:function(n){return{Straight:function(){var t=n.getCoordinates();return"M "+t.x1+" "+t.y1+" L "+t.x2+" "+t.y2},Bezier:function(){var t=n.params;return"M "+t.x1+" "+t.y1+" C "+t.cp1x+" "+t.cp1y+" "+t.cp2x+" "+t.cp2y+" "+t.x2+" "+t.y2},Arc:function(){var t=n.params,i=n.sweep>Math.PI?1:0,r=n.anticlockwise?0:1;return"M"+n.x1+" "+n.y1+" A "+n.radius+" "+t.r+" 0 "+i+","+r+" "+n.x2+" "+n.y2}}[n.type]()}}};e=n.SvgEndpoint=function(t){var i=f.apply(this,[{cssClass:t._jsPlumb.endpointClass,originalArgs:arguments,pointerEventsSpec:"all",useDivWrapper:!0,_jsPlumb:t._jsPlumb}]);i.renderer.paint=function(t){var i=n.extend({},t);i.outlineColor&&(i.strokeWidth=i.outlineWidth,i.strokeStyle=i.outlineColor);null==this.node?(this.node=this.makeNode(i),this.svg.appendChild(this.node)):null!=this.updateNode&&this.updateNode(this.node);c(this.svg,this.node,i,[this.x,this.y,this.w,this.h],this);s(this.node,[this.x,this.y])}.bind(this)};i.extend(e,f);n.Endpoints.svg.Dot=function(){n.Endpoints.Dot.apply(this,arguments);e.apply(this,arguments);this.makeNode=function(){return t("circle",{cx:this.w/2,cy:this.h/2,r:this.radius})};this.updateNode=function(n){r(n,{cx:this.w/2,cy:this.h/2,r:this.radius})}};i.extend(n.Endpoints.svg.Dot,[n.Endpoints.Dot,e]);n.Endpoints.svg.Rectangle=function(){n.Endpoints.Rectangle.apply(this,arguments);e.apply(this,arguments);this.makeNode=function(){return t("rect",{width:this.w,height:this.h})};this.updateNode=function(n){r(n,{width:this.w,height:this.h})}};i.extend(n.Endpoints.svg.Rectangle,[n.Endpoints.Rectangle,e]);n.Endpoints.svg.Image=n.Endpoints.Image;n.Endpoints.svg.Blank=n.Endpoints.Blank;n.Overlays.svg.Label=n.Overlays.Label;n.Overlays.svg.Custom=n.Overlays.Custom;u=function(i,u){i.apply(this,u);n.jsPlumbUIComponent.apply(this,u);this.isAppendedAtTopLevel=!1;this.path=null;this.paint=function(n,i){if(n.component.svg&&i){null==this.path&&(this.path=t("path",{"pointer-events":"all"}),n.component.svg.appendChild(this.path),this.elementCreated&&this.elementCreated(this.path,n.component),this.canvas=n.component.svg);var o=u&&1==u.length?u[0].cssClass||"":"",e=[0,0];i.xmin<0&&(e[0]=-i.xmin);i.ymin<0&&(e[1]=-i.ymin);r(this.path,{d:f(n.d),"class":o,stroke:n.strokeStyle?n.strokeStyle:null,fill:n.fillStyle?n.fillStyle:null,transform:"translate("+e[0]+","+e[1]+")"})}};var f=function(n){return isNaN(n.cxy.x)||isNaN(n.cxy.y)?"":"M"+n.hxy.x+","+n.hxy.y+" L"+n.tail[0].x+","+n.tail[0].y+" L"+n.cxy.x+","+n.cxy.y+" L"+n.tail[1].x+","+n.tail[1].y+" L"+n.hxy.x+","+n.hxy.y};this.transfer=function(n){n.canvas&&this.path&&this.path.parentNode&&(this.path.parentNode.removeChild(this.path),n.canvas.appendChild(this.path))}};i.extend(u,[n.jsPlumbUIComponent,n.Overlays.AbstractOverlay],{cleanup:function(n){null!=this.path&&(n?this._jsPlumb.instance.removeElement(this.path):this.path.parentNode&&this.path.parentNode.removeChild(this.path))},reattach:function(){this.path&&this.canvas&&null==this.path.parentNode&&this.canvas.appendChild(this.path)},setVisible:function(n){null!=this.path&&(this.path.style.display=n?"block":"none")}});n.Overlays.svg.Arrow=function(){u.apply(this,[n.Overlays.Arrow,arguments])};i.extend(n.Overlays.svg.Arrow,[n.Overlays.Arrow,u]);n.Overlays.svg.PlainArrow=function(){u.apply(this,[n.Overlays.PlainArrow,arguments])};i.extend(n.Overlays.svg.PlainArrow,[n.Overlays.PlainArrow,u]);n.Overlays.svg.Diamond=function(){u.apply(this,[n.Overlays.Diamond,arguments])};i.extend(n.Overlays.svg.Diamond,[n.Overlays.Diamond,u]);n.Overlays.svg.GuideLines=function(){var f,e,u=null,i=this,o;n.Overlays.GuideLines.apply(this,arguments);this.paint=function(n,s){null==u&&(u=t("path"),n.connector.svg.appendChild(u),i.attachListeners(u,n.connector),i.attachListeners(u,i),f=t("path"),n.connector.svg.appendChild(f),i.attachListeners(f,n.connector),i.attachListeners(f,i),e=t("path"),n.connector.svg.appendChild(e),i.attachListeners(e,n.connector),i.attachListeners(e,i));var h=[0,0];s.xmin<0&&(h[0]=-s.xmin);s.ymin<0&&(h[1]=-s.ymin);r(u,{d:o(n.head,n.tail),stroke:"red",fill:null,transform:"translate("+h[0]+","+h[1]+")"});r(f,{d:o(n.tailLine[0],n.tailLine[1]),stroke:"blue",fill:null,transform:"translate("+h[0]+","+h[1]+")"});r(e,{d:o(n.headLine[0],n.headLine[1]),stroke:"green",fill:null,transform:"translate("+h[0]+","+h[1]+")"})};o=function(n,t){return"M "+n.x+","+n.y+" L"+t.x+","+t.y}};i.extend(n.Overlays.svg.GuideLines,n.Overlays.GuideLines)}.call("undefined"!=typeof window?window:this),function(){"use strict";var t=this,i=t.jsPlumb,u=t.jsPlumbUtil,f=t.Katavorio,e=t.Biltong,n=function(n,t){t=t||"main";var r="_katavorio_"+t,i=n[r],u=n.getEventManager();return i||(i=new f({bind:u.on,unbind:u.off,getSize:jsPlumb.getSize,getPosition:function(t,i){var r=n.getOffset(t,i,t._katavorioDrag?t.offsetParent:null);return[r.left,r.top]},setPosition:function(n,t){n.style.left=t[0]+"px";n.style.top=t[1]+"px"},addClass:jsPlumb.addClass,removeClass:jsPlumb.removeClass,intersects:e.intersects,indexOf:function(n,t){return n.indexOf(t)},css:{noSelect:n.dragSelectClass,droppable:"jsplumb-droppable",draggable:"jsplumb-draggable",drag:"jsplumb-drag",selected:"jsplumb-drag-selected",active:"jsplumb-drag-active",hover:"jsplumb-drag-hover",ghostProxy:"jsplumb-ghost-proxy"}}),n[r]=i,n.bind("zoom",i.setZoom)),i},o=function(n,t){var i=function(i){if(null!=t[i]){if(u.isString(t[i])){var r=t[i].match(/-=/)?-1:1,f=t[i].substring(2);return n[i]+r*f}return t[i]}return n[i]};return[i("left"),i("top")]},r;i.extend(t.jsPlumbInstance.prototype,{animationSupported:!0,getElement:function(n){return null==n?null:(n="string"==typeof n?n:null!=n.length&&null==n.enctype?n[0]:n,"string"==typeof n?document.getElementById(n):n)},removeElement:function(t){n(this).elementRemoved(t);this.getEventManager().remove(t)},doAnimate:function(n,t,i){i=i||{};var r=this.getOffset(n),s=o(r,t),c=s[0]-r.left,l=s[1]-r.top,e=i.duration||250,f=15,h=e/f,a=f/e*c,v=f/e*l,u=0,y=setInterval(function(){jsPlumb.setPosition(n,{left:r.left+a*(u+1),top:r.top+v*(u+1)});null!=i.step&&i.step(u,Math.ceil(h));u++;u>=h&&(window.clearInterval(y),null!=i.complete&&i.complete())},f)},destroyDraggable:function(t,i){n(this,i).destroyDraggable(t)},destroyDroppable:function(t,i){n(this,i).destroyDroppable(t)},initDraggable:function(t,i,r){n(this,r).draggable(t,i)},initDroppable:function(t,i,r){n(this,r).droppable(t,i)},isAlreadyDraggable:function(n){return null!=n._katavorioDrag},isDragSupported:function(){return!0},isDropSupported:function(){return!0},isElementDraggable:function(n){return n=jsPlumb.getElement(n),n._katavorioDrag&&n._katavorioDrag.isEnabled()},getDragObject:function(n){return n[0].drag.getDragElement()},getDragScope:function(n){return n._katavorioDrag&&n._katavorioDrag.scopes.join(" ")||""},getDropEvent:function(n){return n[0].e},getUIPosition:function(n){var t=n[0].el,r,i,u;return null==t.offsetParent?null:(r=n[0].finalPos||n[0].pos,i={left:r[0],top:r[1]},t._katavorioDrag&&t.offsetParent!==this.getContainer()&&(u=this.getOffset(t.offsetParent),i.left+=u.left,i.top+=u.top),i)},setDragFilter:function(n,t,i){n._katavorioDrag&&n._katavorioDrag.setFilter(t,i)},setElementDraggable:function(n,t){n=jsPlumb.getElement(n);n._katavorioDrag&&n._katavorioDrag.setEnabled(t)},setDragScope:function(n,t){n._katavorioDrag&&n._katavorioDrag.k.setDragScope(n,t)},setDropScope:function(n,t){n._katavorioDrop&&n._katavorioDrop.length>0&&n._katavorioDrop[0].k.setDropScope(n,t)},addToPosse:function(t){var r=Array.prototype.slice.call(arguments,1),i=n(this);jsPlumb.each(t,function(n){n=[jsPlumb.getElement(n)];n.push.apply(n,r);i.addToPosse.apply(i,n)})},setPosse:function(t){var r=Array.prototype.slice.call(arguments,1),i=n(this);jsPlumb.each(t,function(n){n=[jsPlumb.getElement(n)];n.push.apply(n,r);i.setPosse.apply(i,n)})},removeFromPosse:function(t){var r=Array.prototype.slice.call(arguments,1),i=n(this);jsPlumb.each(t,function(n){n=[jsPlumb.getElement(n)];n.push.apply(n,r);i.removeFromPosse.apply(i,n)})},removeFromAllPosses:function(t){var i=n(this);jsPlumb.each(t,function(n){i.removeFromAllPosses(jsPlumb.getElement(n))})},setPosseState:function(t,i,r){var u=n(this);jsPlumb.each(t,function(n){u.setPosseState(jsPlumb.getElement(n),i,r)})},dragEvents:{start:"start",stop:"stop",drag:"drag",step:"step",over:"over",out:"out",drop:"drop",complete:"complete",beforeStart:"beforeStart"},animEvents:{step:"step",complete:"complete"},stopDrag:function(n){n._katavorioDrag&&n._katavorioDrag.abort()},addToDragSelection:function(t){n(this).select(t)},removeFromDragSelection:function(t){n(this).deselect(t)},clearDragSelection:function(){n(this).deselectAll()},trigger:function(n,t,i,r){this.getEventManager().trigger(n,t,i,r)},doReset:function(){for(var n in this)0===n.indexOf("_katavorio_")&&this[n].reset()}});r=function(n){var t=function(){/complete|loaded|interactive/.test(document.readyState)&&"undefined"!=typeof document.body&&null!=document.body?n():setTimeout(t,9)};t()};r(i.init)}.call("undefined"!=typeof window?window:this);jsPlumb.bind("ready",function(){});SBS=SBS||{};SBS.UI=SBS.UI||{};SBS.UI.Views=SBS.UI.Views||{};SBS.UI.Views.Plumb={init:function(){jsPlumb.importDefaults({DragOptions:{cursor:"pointer",zIndex:2e3},EndpointStyles:[{fillStyle:"#225588"},{fillStyle:"#558822"}],Endpoints:[["Dot",{radius:7}],["Dot",{radius:11}]],ConnectionOverlays:[["Arrow",{location:.9}],["Label",{location:.1,id:"label",cssClass:"aLabel"}]]});var n={lineWidth:7,strokeStyle:"#2e2aF8"};sourceEndpoint={endpoint:"Dot",paintStyle:{fillStyle:"#eeeeee",radius:7},isSource:!0,connector:["Flowchart",{stub:40}],connectorStyle:{lineWidth:5,strokeStyle:"#deea18",joinstyle:"round"},hoverPaintStyle:n,connectorHoverStyle:n};targetEndpoint={endpoint:"Rectangle",paintStyle:{fillStyle:"#eeeeee",radius:11},hoverPaintStyle:n,maxConnections:-1,dropOptions:{hoverClass:"hover",activeClass:"active"},isTarget:!0};jsPlumb.bind("jsPlumbConnection",function(n){init(n.connection)})},AddEndpoints:function(n,t,i){for(var o=[],s=[],f,u,e,r=0;r<t.length;r++)f=n+t[r],o.push(jsPlumb.addEndpoint(n,sourceEndpoint,{anchor:t[r],uuid:f}));for(u=0;u<i.length;u++)e=n+i[u],s.push(jsPlumb.addEndpoint(n,targetEndpoint,{anchor:i[u],uuid:e}))}};SBS.UI.Views.Plumb.init();etpl.config({commandOpen:"<%",commandClose:"%>"}),function(){window.UMEDITOR_HOME_URL="/Scripts/UEditor/";var n=window.UMEDITOR_HOME_URL||function(){function n(){this.documentURL=self.document.URL||self.location.href;this.separator="/";this.separatorPattern=/\\|\//g;this.currentDir="./";this.currentDirPattern=/^[.]\/]/;this.path=this.documentURL;this.stack=[];this.push(this.documentURL)}function i(){var t=n.getProtocol(this.path||"");t?(this.protocol=t,this.localSeparator=/\\|\//.exec(this.path.replace(t,""))[0],this.stack=[]):(t=/\\|\//.exec(this.path),t&&(this.localSeparator=t[0]))}function r(){var t=this.path.replace(this.currentDirPattern,"");n.hasProtocol(this.path)&&(t=t.replace(this.protocol,""));t=t.split(this.localSeparator);t.length=t.length-1;for(var r=0,i,f=t.length,u=this.stack;r<f;r++)i=t[r],i&&(n.isParentPath(i)?u.pop():u.push(i))}n.isParentPath=function(n){return n===".."};n.hasProtocol=function(t){return!!n.getProtocol(t)};n.getProtocol=function(n){var t=/^[^:]*:\/*/.exec(n);return t?t[0]:null};n.prototype={push:function(n){return this.path=n,i.call(this),r.call(this),this},getPath:function(){return this+""},toString:function(){return this.protocol+this.stack.concat([""]).join(this.separator)}};var t=document.getElementsByTagName("script");return t=t[t.length-1].src,(new n).push(t)+""}();window.UMEDITOR_CONFIG={UMEDITOR_HOME_URL:n,imageUrl:n+"net/controller.ashx",imagePath:n+"net/",imageFieldName:"upfile",toolbar:["source | undo redo |","emotion image  video ","attachment |","bold italic underline strikethrough | forecolor backcolor","insertorderedlist insertunorderedlist | selectall cleardoc paragraph | fontfamily fontsize","| justifyleft justifycenter justifyright justifyjustify |","link unlink |","| horizontal","formula"],filterRules:{},xssFilterRules:!0,inputXssFilter:!0,outputXssFilter:!0,whiteList:{a:["target","href","title","style","class","id"],abbr:["title","style","class","id"],address:["style","class","id"],area:["shape","coords","href","alt","style","class","id"],article:["style","class","id"],aside:["style","class","id"],audio:["autoplay","controls","loop","preload","src","style","class","id"],b:["style","class","id"],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite","style","class","id"],br:[],caption:["style","class","id"],center:[],cite:[],code:["style","class","id"],col:["align","valign","span","width","style","class","id"],colgroup:["align","valign","span","width","style","class","id"],dd:["style","class","id"],del:["datetime","style","class","id"],details:["open","style","class","id"],div:["style","class","id"],dl:["style","class","id"],dt:["style","class","id"],em:["style","class","id"],embed:["style","class","id","_url","type","pluginspage","src","width","height","wmode","play","loop","menu","allowscriptaccess","allowfullscreen"],font:["color","size","face","style","class","id"],footer:["style","class","id"],h1:["style","class","id"],h2:["style","class","id"],h3:["style","class","id"],h4:["style","class","id"],h5:["style","class","id"],h6:["style","class","id"],header:["style","class","id"],hr:["style","class","id"],i:["style","class","id"],iframe:["style","class","id","src","frameborder","data-latex"],img:["src","alt","title","width","height","style","class","id","_url"],ins:["datetime","style","class","id"],li:["style","class","id"],mark:[],nav:[],ol:["style","class","id"],p:["style","class","id"],pre:["style","class","id"],s:[],section:[],small:["style","class","id"],span:["style","class","id"],sub:["style","class","id"],sup:["style","class","id"],strong:["style","class","id"],table:["width","border","align","valign","style","class","id"],tbody:["align","valign","style","class","id"],td:["width","rowspan","colspan","align","valign","style","class","id"],tfoot:["align","valign","style","class","id"],th:["width","rowspan","colspan","align","valign","style","class","id"],thead:["align","valign","style","class","id"],tr:["rowspan","align","valign","style","class","id"],tt:["style","class","id"],u:[],ul:["style","class","id"],svg:["style","class","id","width","height","xmlns","fill","viewBox"],video:["autoplay","controls","loop","preload","src","height","width","style","class","id"]}}}(),function(n){function h(n,t,i){var r;return t=t.toLowerCase(),(r=n.__allListeners||i&&(n.__allListeners={}))&&(r[t]||i&&(r[t]=[]))}function c(n,t,i,r,u,f){var e=r&&n[t],o;for(e||(e=n[i]);!e&&(o=(o||n).parentNode);){if(o.tagName=="BODY"||f&&!f(o))return null;e=o[i]}return e&&u&&!u(e)?c(e,t,i,!1,u):e}var o,u,v,y,p;UMEDITOR_CONFIG=window.UMEDITOR_CONFIG||{};window.UM={plugins:{},commands:{},I18N:{},version:"1.2.2"};var f=UM.dom={},r=UM.browser=function(){var i=navigator.userAgent.toLowerCase(),e=window.opera,n={ie:/(msie\s|trident.*rv:)([\w.]+)/.test(i),opera:!!e&&e.version,webkit:i.indexOf(" applewebkit/")>-1,mac:i.indexOf("macintosh")>-1,quirks:document.compatMode=="BackCompat"},t,r,u,f;return n.gecko=navigator.product=="Gecko"&&!n.webkit&&!n.opera&&!n.ie,t=0,n.ie&&(r=i.match(/(?:msie\s([\w.]+))/),u=i.match(/(?:trident.*rv:([\w.]+))/),t=r&&u&&r[1]&&u[1]?Math.max(r[1]*1,u[1]*1):r&&r[1]?r[1]*1:u&&u[1]?u[1]*1:0,n.ie11Compat=document.documentMode==11,n.ie9Compat=document.documentMode==9,n.ie8=!!document.documentMode,n.ie8Compat=document.documentMode==8,n.ie7Compat=t==7&&!document.documentMode||document.documentMode==7,n.ie6Compat=t<7||n.quirks,n.ie9above=t>8,n.ie9below=t<9),n.gecko&&(f=i.match(/rv:([\d\.]+)/),f&&(f=f[1].split("."),t=f[0]*1e4+(f[1]||0)*100+(f[2]||0)*1)),/chrome\/(\d+\.\d)/i.test(i)&&(n.chrome=+RegExp.$1),/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(i)&&!/chrome/i.test(i)&&(n.safari=+(RegExp.$1||RegExp.$2)),n.opera&&(t=parseFloat(e.version())),n.webkit&&(t=parseFloat(i.match(/ applewebkit\/(\d+)/)[1])),n.version=t,n.isCompatible=!n.mobile&&(n.ie&&t>=6||n.gecko&&t>=10801||n.opera&&t>=9.5||n.air&&t>=1||n.webkit&&t>=522||!1),n}(),e=r.ie,w=r.webkit,b=r.gecko,k=r.opera,i=UM.utils={each:function(n,t,i){var r,f,u;if(n!=null)if(n.length===+n.length){for(r=0,f=n.length;r<f;r++)if(t.call(i,n[r],r,n)===!1)return!1}else for(u in n)if(n.hasOwnProperty(u)&&t.call(i,n[u],u,n)===!1)return!1},makeInstance:function(n){var t=new Function;return t.prototype=n,n=new t,t.prototype=null,n},extend:function(n,t,i){if(t)for(var r in t)i&&n.hasOwnProperty(r)||(n[r]=t[r]);return n},extend2:function(n){for(var u=arguments,r,i,t=1;t<u.length;t++){r=u[t];for(i in r)n.hasOwnProperty(i)||(n[i]=r[i])}return n},inherits:function(n,t){var u=n.prototype,r=i.makeInstance(t.prototype);return i.extend(r,u,!0),n.prototype=r,r.constructor=n},bind:function(n,t){return function(){return n.apply(t,arguments)}},defer:function(n,t,i){var r;return function(){i&&clearTimeout(r);r=setTimeout(n,t)}},indexOf:function(n,t,i){var r=-1;return i=this.isNumber(i)?i:0,this.each(n,function(n,u){if(u>=i&&n===t)return r=u,!1}),r},removeItem:function(n,t){for(var i=0,r=n.length;i<r;i++)n[i]===t&&(n.splice(i,1),i--)},serializeParam:function(n){var u=[],t,r;for(t in n)if(t!="method"&&t!="timeout"&&t!="async")if((typeof n[t]).toLowerCase()=="function"||(typeof n[t]).toLowerCase()=="object"){if(i.isArray(n[t]))for(r=0;r<n[t].length;r++)u.push(encodeURIComponent(t)+"[]="+encodeURIComponent(n[t][r]))}else u.push(encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return u.join("&")},str2json:function(n){return i.isString(n)?window.JSON?JSON.parse(n):new Function("return "+i.trim(n||""))():null},formatUrl:function(n){var t=n.replace(/&&/g,"&");return t=t.replace(/\?&/g,"?"),t=t.replace(/&$/g,""),t=t.replace(/&#/g,"#"),t.replace(/&+/g,"&")},isCrossDomainUrl:function(n){var t=document.createElement("a");return t.href=n,r.ie&&(t.href=t.href),!(t.protocol==location.protocol&&t.hostname==location.hostname&&(t.port==location.port||t.port=="80"&&location.port==""||t.port==""&&location.port=="80"))},trim:function(n){return n.replace(/(^[ \t\n\r]+)|([ \t\n\r]+$)/g,"")},listToMap:function(n){if(!n)return{};n=i.isArray(n)?n:n.split(",");for(var u=0,t,r={};t=n[u++];)r[t.toUpperCase()]=r[t]=1;return r},unhtml:function(n,t){return n?n.replace(t||/[&<">'](?:(amp|lt|quot|gt|#39|nbsp);)?/g,function(n,t){return t?n:{"<":"&lt;","&":"&amp;",'"':"&quot;",">":"&gt;","'":"&#39;"}[n]}):""},html:function(n){return n?n.replace(/&((g|l|quo)t|amp|#39);/g,function(n){return{"&lt;":"<","&amp;":"&","&quot;":'"',"&gt;":">","&#39;":"'"}[n]}):""},cssStyleToDomStyle:function(){var n=document.createElement("div").style,t={float:n.cssFloat!=undefined?"cssFloat":n.styleFloat!=undefined?"styleFloat":"float"};return function(n){return t[n]||(t[n]=n.toLowerCase().replace(/-./g,function(n){return n.charAt(1).toUpperCase()}))}}(),loadFile:function(){function t(t,i){try{for(var u=0,r;r=n[u++];)if(r.doc===t&&r.url==(i.src||i.href))return r}catch(f){return null}}var n=[];return function(i,r,u){var e=t(i,r),s,f,o;if(e){e.ready?u&&u():e.funs.push(u);return}if(n.push({doc:i,url:r.src||r.href,funs:[u]}),!i.body){s=[];for(o in r)o!="tag"&&s.push(o+'="'+r[o]+'"');i.write("<"+r.tag+" "+s.join(" ")+" ><\/"+r.tag+">");return}if(!r.id||!i.getElementById(r.id)){f=i.createElement(r.tag);delete r.tag;for(o in r)f.setAttribute(o,r[o]);f.onload=f.onreadystatechange=function(){if(!this.readyState||/loaded|complete/.test(this.readyState)){if(e=t(i,r),e.funs.length>0){e.ready=1;for(var n;n=e.funs.pop();)n()}f.onload=f.onreadystatechange=null}};f.onerror=function(){throw Error("The load "+(r.href||r.src)+" fails,check the url settings of file umeditor.config.js ");};i.getElementsByTagName("head")[0].appendChild(f)}}}(),isEmptyObject:function(n){if(n==null)return!0;if(this.isArray(n)||this.isString(n))return n.length===0;for(var t in n)if(n.hasOwnProperty(t))return!1;return!0},fixColor:function(n,t){var r,u,i;if(/color/i.test(n)&&/rgba?/.test(t)){if(r=t.split(","),r.length>3)return"";for(t="#",u=0;i=r[u++];)i=parseInt(i.replace(/[^\d]/gi,""),10).toString(16),t+=i.length==1?"0"+i:i;t=t.toUpperCase()}return t},clone:function(n,t){var u,r;t=t||{};for(r in n)n.hasOwnProperty(r)&&(u=n[r],typeof u=="object"?(t[r]=i.isArray(u)?[]:{},i.clone(n[r],t[r])):t[r]=u);return t},transUnitToPx:function(n){if(!/(pt|cm)/.test(n))return n;var t;n.replace(/([\d.]+)(\w+)/,function(i,r,u){n=r;t=u});switch(t){case"cm":n=parseFloat(n)*25;break;case"pt":n=Math.round(parseFloat(n)*96/72)}return n+(n?"px":"")},cssRule:r.ie&&r.version!=11?function(n,t,i){var r,f,u;if(i=i||document,r=i.indexList?i.indexList:i.indexList={},r[n])u=i.styleSheets[r[n]];else{if(t===undefined)return"";u=i.createStyleSheet("",f=i.styleSheets.length);r[n]=f}if(t===undefined)return u.cssText;u.cssText=t||""}:function(n,t,i){i=i||document;var u=i.getElementsByTagName("head")[0],r;if(!(r=i.getElementById(n))){if(t===undefined)return"";r=i.createElement("style");r.id=n;u.appendChild(r)}if(t===undefined)return r.innerHTML;t!==""?r.innerHTML=t:u.removeChild(r)},render:function(n,t){var i=etpl.compile(n);return i(t)}};i.each(["String","Function","Array","Number","RegExp","Object"],function(n){UM.utils["is"+n]=function(t){return Object.prototype.toString.apply(t)=="[object "+n+"]"}});o=UM.EventBase=function(){};o.prototype={addListener:function(n,t){n=i.trim(n).split(" ");for(var u=0,r;r=n[u++];)h(this,r,!0).push(t)},removeListener:function(n,t){n=i.trim(n).split(" ");for(var u=0,r;r=n[u++];)i.removeItem(h(this,r)||[],t)},fireEvent:function(){for(var u=arguments[0],f,t,e,n,r,u=i.trim(u).split(" "),o=0;f=u[o++];){if(t=h(this,f),t)for(r=t.length;r--;)if(t[r]){if(n=t[r].apply(this,arguments),n===!0)return n;n!==undefined&&(e=n)}(n=this["on"+f.toLowerCase()])&&(e=n.apply(this,arguments))}return e}};u=f.dtd=function(){function n(n){for(var t in n)n[t.toUpperCase()]=n[t];return n}var r=i.extend2,h=n({isindex:1,fieldset:1}),a=n({input:1,button:1,select:1,textarea:1,label:1}),v=r(n({a:1}),a),c=r({iframe:1},v),e=n({hr:1,ul:1,menu:1,div:1,blockquote:1,noscript:1,table:1,center:1,address:1,dir:1,pre:1,h5:1,dl:1,h4:1,noframes:1,h6:1,ol:1,h1:1,h3:1,h2:1}),y=n({ins:1,del:1,script:1,style:1}),p=r(n({b:1,acronym:1,bdo:1,"var":1,"#":1,abbr:1,code:1,br:1,i:1,cite:1,kbd:1,u:1,strike:1,s:1,tt:1,strong:1,q:1,samp:1,em:1,dfn:1,span:1}),y),w=r(n({sub:1,img:1,embed:1,object:1,sup:1,basefont:1,map:1,applet:1,font:1,big:1,small:1}),p),o=r(n({p:1}),w),b=r(n({iframe:1}),w,a),k=n({img:1,embed:1,noscript:1,br:1,kbd:1,center:1,button:1,basefont:1,h5:1,h4:1,samp:1,h6:1,ol:1,h1:1,h3:1,h2:1,form:1,font:1,"#":1,select:1,menu:1,ins:1,abbr:1,label:1,code:1,table:1,script:1,cite:1,input:1,iframe:1,strong:1,textarea:1,noframes:1,big:1,small:1,span:1,hr:1,sub:1,bdo:1,"var":1,div:1,object:1,sup:1,strike:1,dir:1,map:1,dl:1,applet:1,del:1,isindex:1,fieldset:1,ul:1,b:1,acronym:1,a:1,blockquote:1,i:1,u:1,s:1,tt:1,address:1,q:1,pre:1,p:1,em:1,dfn:1}),t=r(n({a:0}),b),l=n({tr:1}),f=n({"#":1}),d=r(n({param:1}),k),u=r(n({form:1}),h,c,e,o),s=n({li:1,ol:1,ul:1}),it=n({style:1,script:1}),g=n({base:1,link:1,meta:1,title:1}),rt=r(g,it),nt=n({head:1,body:1}),ut=n({html:1}),tt=n({address:1,blockquote:1,center:1,dir:1,div:1,dl:1,fieldset:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,hr:1,isindex:1,menu:1,noframes:1,ol:1,p:1,pre:1,table:1,ul:1}),ft=n({area:1,base:1,basefont:1,br:1,col:1,command:1,dialog:1,embed:1,hr:1,img:1,input:1,isindex:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1});return n({$nonBodyContent:r(ut,nt,g),$block:tt,$inline:t,$inlineWithA:r(n({a:1}),t),$body:r(n({script:1,style:1}),tt),$cdata:n({script:1,style:1}),$empty:ft,$nonChild:n({iframe:1,textarea:1}),$listItem:n({dd:1,dt:1,li:1}),$list:n({ul:1,ol:1,dl:1}),$isNotEmpty:n({table:1,ul:1,ol:1,dl:1,iframe:1,area:1,base:1,col:1,hr:1,img:1,embed:1,input:1,link:1,meta:1,param:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1}),$removeEmpty:n({a:1,abbr:1,acronym:1,address:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,"var":1}),$removeEmptyBlock:n({p:1,div:1}),$tableContent:n({caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1,table:1}),$notTransContent:n({pre:1,script:1,style:1,textarea:1}),html:nt,head:rt,style:f,script:f,body:u,base:{},link:{},meta:{},title:f,col:{},tr:n({td:1,th:1}),img:{},embed:{},colgroup:n({thead:1,col:1,tbody:1,tr:1,tfoot:1}),noscript:u,td:u,br:{},th:u,center:u,kbd:t,button:r(o,e),basefont:{},h5:t,h4:t,samp:t,h6:t,ol:s,h1:t,h3:t,option:f,h2:t,form:r(h,c,e,o),select:n({optgroup:1,option:1}),font:t,ins:t,menu:s,abbr:t,label:t,table:n({thead:1,col:1,tbody:1,tr:1,colgroup:1,caption:1,tfoot:1}),code:t,tfoot:l,cite:t,li:u,input:{},iframe:u,strong:t,textarea:f,noframes:u,big:t,small:t,span:n({"#":1,br:1,b:1,strong:1,u:1,i:1,em:1,sub:1,sup:1,strike:1,span:1}),hr:t,dt:t,sub:t,optgroup:n({option:1}),param:{},bdo:t,"var":t,div:u,object:d,sup:t,dd:u,strike:t,area:{},dir:s,map:r(n({area:1,form:1,p:1}),h,y,e),applet:d,dl:n({dt:1,dd:1}),del:t,isindex:{},fieldset:r(n({legend:1}),k),thead:l,ul:s,acronym:t,b:t,a:r(n({a:1}),b),blockquote:r(n({td:1,tr:1,tbody:1,li:1}),u),caption:t,i:t,u:t,tbody:l,s:t,address:r(c,o),tt:t,legend:t,q:t,pre:r(p,v),p:r(n({a:1}),t),em:t,dfn:t})}();var l=e&&r.version<9?{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder"}:{tabindex:"tabIndex",readonly:"readOnly"},a=i.listToMap(["-webkit-box","-moz-box","block","list-item","table","table-row-group","table-header-group","table-footer-group","table-row","table-column-group","table-column","table-cell","table-caption"]),t=f.domUtils={NODE_ELEMENT:1,NODE_DOCUMENT:9,NODE_TEXT:3,NODE_COMMENT:8,NODE_DOCUMENT_FRAGMENT:11,POSITION_IDENTICAL:0,POSITION_DISCONNECTED:1,POSITION_FOLLOWING:2,POSITION_PRECEDING:4,POSITION_IS_CONTAINED:8,POSITION_CONTAINS:16,fillChar:e&&r.version=="6"?"ï»¿":"â",keys:{8:1,46:1,16:1,17:1,18:1,37:1,38:1,39:1,40:1,13:1},breakParent:function(n,i){var r,f=n,o=n,u,e;do{for(f=f.parentNode,u?(r=f.cloneNode(!1),r.appendChild(u),u=r,r=f.cloneNode(!1),r.appendChild(e),e=r):(u=f.cloneNode(!1),e=u.cloneNode(!1));r=o.previousSibling;)u.insertBefore(r,u.firstChild);while(r=o.nextSibling)e.appendChild(r);o=f}while(i!==f);return r=i.parentNode,r.insertBefore(u,i),r.insertBefore(e,i),r.insertBefore(n,e),t.remove(i),n},trimWhiteTextNode:function(n){function i(i){for(var r;(r=n[i])&&r.nodeType==3&&t.isWhitespace(r);)n.removeChild(r)}i("firstChild");i("lastChild")},getPosition:function(n,t){var i,r,u,f;if(n===t)return 0;for(r=[n],u=[t],i=n;i=i.parentNode;){if(i===t)return 10;r.push(i)}for(i=t;i=i.parentNode;){if(i===n)return 20;u.push(i)}if(r.reverse(),u.reverse(),r[0]!==u[0])return 1;for(f=-1;f++,r[f]===u[f];);for(n=r[f],t=u[f];n=n.nextSibling;)if(n===t)return 4;return 2},getNodeIndex:function(n,t){for(var i=n,r=0;i=i.previousSibling;){if(t&&i.nodeType==3){i.nodeType!=i.nextSibling.nodeType&&r++;continue}r++}return r},inDoc:function(n,i){return t.getPosition(n,i)==10},findParent:function(n,i,r){if(n&&!t.isBody(n))for(n=r?n:n.parentNode;n;){if(!i||i(n)||t.isBody(n))return i&&!i(n)&&t.isBody(n)?null:n;n=n.parentNode}return null},findParentByTagName:function(n,r,u,f){return r=i.listToMap(i.isArray(r)?r:[r]),t.findParent(n,function(n){return r[n.tagName]&&!(f&&f(n))},u)},findParents:function(n,i,r,u){for(var f=i&&(r&&r(n)||!r)?[n]:[];n=t.findParent(n,r);)f.push(n);return u?f:f.reverse()},insertAfter:function(n,t){return n.parentNode.insertBefore(t,n.nextSibling)},remove:function(n,t){var i=n.parentNode,r;if(i){if(t&&n.hasChildNodes())while(r=n.firstChild)i.insertBefore(r,n);i.removeChild(n)}return n},getNextDomNode:function(n,t,i,r){return c(n,"firstChild","nextSibling",t,i,r)},getPreDomNode:function(n,t,i,r){return c(n,"lastChild","previousSibling",t,i,r)},isBookmarkNode:function(n){return n.nodeType==1&&n.id&&/^_baidu_bookmark_/i.test(n.id)},getWindow:function(n){var t=n.ownerDocument||n;return t.defaultView||t.parentWindow},getCommonAncestor:function(n,t){if(n===t)return n;for(var u=[n],f=[t],i=n,r=-1;i=i.parentNode;){if(i===t)return i;u.push(i)}for(i=t;i=i.parentNode;){if(i===n)return i;f.push(i)}for(u.reverse(),f.reverse();r++,u[r]===f[r];);return r==0?null:u[r-1]},clearEmptySibling:function(n,i,r){function u(n,i){for(var r;n&&!t.isBookmarkNode(n)&&(t.isEmptyInlineElement(n)||!new RegExp("[^\t\n\r"+t.fillChar+"]").test(n.nodeValue));)r=n[i],t.remove(n),n=r}i||u(n.nextSibling,"nextSibling");r||u(n.previousSibling,"previousSibling")},split:function(n,i){var e=n.ownerDocument,o,u,f;return r.ie&&i==n.nodeValue.length?(o=e.createTextNode(""),t.insertAfter(n,o)):(u=n.splitText(i),r.ie8&&(f=e.createTextNode(""),t.insertAfter(u,f),t.remove(f)),u)},isWhitespace:function(n){return!new RegExp("[^ \t\n\r"+t.fillChar+"]").test(n.nodeValue)},getXY:function(n){for(var t=0,i=0;n.offsetParent;)i+=n.offsetTop,t+=n.offsetLeft,n=n.offsetParent;return{x:t,y:i}},on:function(n,t,r){var o=i.isArray(t)?t:i.trim(t).split(/\s+/),f=o.length,u,e;if(f)while(f--)t=o[f],n.addEventListener?n.addEventListener(t,r,!1):(r._d||(r._d={els:[]}),u=t+r.toString(),e=i.indexOf(r._d.els,n),r._d[u]&&e!=-1||(e==-1&&r._d.els.push(n),r._d[u]||(r._d[u]=function(n){return r.call(n.srcElement,n||window.event)}),n.attachEvent("on"+t,r._d[u])));n=null},un:function(n,t,r){var o=i.isArray(t)?t:i.trim(t).split(/\s+/),f=o.length,u,e;if(f)while(f--)if(t=o[f],n.removeEventListener)n.removeEventListener(t,r,!1);else{u=t+r.toString();try{n.detachEvent("on"+t,r._d?r._d[u]:r)}catch(s){}r._d&&r._d[u]&&(e=i.indexOf(r._d.els,n),e!=-1&&r._d.els.splice(e,1),r._d.els.length==0&&delete r._d[u])}},isEmptyInlineElement:function(n){if(n.nodeType!=1||!u.$removeEmpty[n.tagName])return 0;for(n=n.firstChild;n;){if(t.isBookmarkNode(n)||n.nodeType==1&&!t.isEmptyInlineElement(n)||n.nodeType==3&&!t.isWhitespace(n))return 0;n=n.nextSibling}return 1},isBlockElm:function(n){return n.nodeType==1&&(u.$block[n.tagName]||a[t.getComputedStyle(n,"display")])&&!u.$nonChild[n.tagName]},getElementsByTagName:function(t,r,u){var o,f,s,h,c,l,e;for(u&&i.isString(u)&&(o=u,u=function(t){var r=!1;return n.each(i.trim(o).replace(/[ ]{2,}/g," ").split(" "),function(i,u){if(n(t).hasClass(u))return r=!0,!1}),r}),r=i.trim(r).replace(/[ ]{2,}/g," ").split(" "),f=[],s=0;h=r[s++];)for(c=t.getElementsByTagName(h),l=0;e=c[l++];)(!u||u(e))&&f.push(e);return f},unSelectable:e&&r.ie9below||r.opera?function(n){n.onselectstart=function(){return!1};n.onclick=n.onkeyup=n.onkeydown=function(){return!1};n.unselectable="on";n.setAttribute("unselectable","on");for(var i=0,t;t=n.all[i++];)switch(t.tagName.toLowerCase()){case"iframe":case"textarea":case"input":case"select":break;default:t.unselectable="on";n.setAttribute("unselectable","on")}}:function(n){n.style.MozUserSelect=n.style.webkitUserSelect=n.style.msUserSelect=n.style.KhtmlUserSelect="none"},removeAttributes:function(n,t){t=i.isArray(t)?t:i.trim(t).replace(/[ ]{2,}/g," ").split(" ");for(var f=0,u;u=t[f++];){u=l[u]||u;switch(u){case"className":n[u]="";break;case"style":n.style.cssText="";r.ie||n.removeAttributeNode(n.getAttributeNode("style"))}n.removeAttribute(u)}},createElement:function(n,i,r){return t.setAttributes(n.createElement(i),r)},setAttributes:function(n,t){var i,r;for(i in t)if(t.hasOwnProperty(i)){r=t[i];switch(i){case"class":n.className=r;break;case"style":n.style.cssText=n.style.cssText+";"+r;break;case"innerHTML":n[i]=r;break;case"value":n.value=r;break;default:n.setAttribute(l[i]||i,r)}}return n},getComputedStyle:function(t,r){return i.transUnitToPx(i.fixColor(r,n(t).css(r)))},getComputedStyle:function(n,f){var e,o,s;if("width height top left".indexOf(f)>-1)return n["offset"+f.replace(/^\w/,function(n){return n.toUpperCase()})]+"px";if(n.nodeType==3&&(n=n.parentNode),r.ie&&r.version<9&&f=="font-size"&&!n.style.fontSize&&!u.$empty[n.tagName]&&!u.$nonChild[n.tagName])return e=n.ownerDocument.createElement("span"),e.style.cssText="padding:0;border:0;font-family:simsun;",e.innerHTML=".",n.appendChild(e),o=e.offsetHeight,n.removeChild(e),e=null,o+"px";try{s=t.getStyle(n,f)||(window.getComputedStyle?t.getWindow(n).getComputedStyle(n,"").getPropertyValue(f):(n.currentStyle||n.style)[i.cssStyleToDomStyle(f)])}catch(h){return""}return i.transUnitToPx(i.fixColor(f,s))},removeClasses:function(n,r){r=i.isArray(r)?r:i.trim(r).replace(/[ ]{2,}/g," ").split(" ");for(var e=0,f,u=n.className;f=r[e++];)u=u.replace(new RegExp("\\b"+f+"\\b"),"");u=i.trim(u).replace(/[ ]{2,}/g," ");u?n.className=u:t.removeAttributes(n,["class"])},addClass:function(n,t){if(n){t=i.trim(t).replace(/[ ]{2,}/g," ").split(" ");for(var f=0,r,u=n.className;r=t[f++];)new RegExp("\\b"+r+"\\b").test(u)||(u+=" "+r);n.className=i.trim(u)}},hasClass:function(n,t){if(i.isRegExp(t))return t.test(n.className);t=i.trim(t).replace(/[ ]{2,}/g," ").split(" ");for(var r=0,u,f=n.className;u=t[r++];)if(!new RegExp("\\b"+u+"\\b","i").test(f))return!1;return r-1==t.length},preventDefault:function(n){n.preventDefault?n.preventDefault():n.returnValue=!1},removeStyle:function(n,u){r.ie?(u=="color"&&(u="(^|;)"+u),n.style.cssText=n.style.cssText.replace(new RegExp(u+"[^:]*:[^;]+;?","ig"),"")):n.style.removeProperty?n.style.removeProperty(u):n.style.removeAttribute(i.cssStyleToDomStyle(u));n.style.cssText||t.removeAttributes(n,["style"])},getStyle:function(n,t){var r=n.style[i.cssStyleToDomStyle(t)];return i.fixColor(t,r)},setStyle:function(n,t,r){n.style[i.cssStyleToDomStyle(t)]=r;i.trim(n.style.cssText)||this.removeAttributes(n,"style")},removeDirtyAttr:function(n){for(var i=0,t,r=n.getElementsByTagName("*");t=r[i++];)t.removeAttribute("_moz_dirty");n.removeAttribute("_moz_dirty")},getChildCount:function(n,t){var r=0,i=n.firstChild;for(t=t||function(){return 1};i;)t(i)&&r++,i=i.nextSibling;return r},isEmptyNode:function(n){return!n.firstChild||t.getChildCount(n,function(n){return!t.isBr(n)&&!t.isBookmarkNode(n)&&!t.isWhitespace(n)})==0},isBr:function(n){return n.nodeType==1&&n.tagName=="BR"},isEmptyBlock:function(n,i){if(n.nodeType!=1||(i=i||new RegExp("[ \t\r\n"+t.fillChar+"]","g"),n[r.ie?"innerText":"textContent"].replace(i,"").length>0))return 0;for(var f in u.$isNotEmpty)if(n.getElementsByTagName(f).length)return 0;return 1},isCustomeNode:function(n){return n.nodeType==1&&n.getAttribute("_ue_custom_node_")},fillNode:function(n,i){var u=r.ie?n.createTextNode(t.fillChar):n.createElement("br");i.innerHTML="";i.appendChild(u)},isBoundaryNode:function(n,i){for(var r;!t.isBody(n);)if(r=n,n=n.parentNode,r!==n[i])return!1;return!0},isFillChar:function(n,i){return n.nodeType==3&&!n.nodeValue.replace(new RegExp((i?"^":"")+t.fillChar),"").length},isBody:function(t){return n(t).hasClass("edui-body-container")}},s=new RegExp(t.fillChar,"g");(function(){function v(n){n.collapsed=n.startContainer&&n.endContainer&&n.startContainer===n.endContainer&&n.startOffset==n.endOffset}function y(n){return!n.collapsed&&n.startContainer.nodeType==1&&n.startContainer===n.endContainer&&n.endOffset-n.startOffset==1}function c(n,i,r,f){return i.nodeType==1&&(u.$empty[i.tagName]||u.$nonChild[i.tagName])&&(r=t.getNodeIndex(i)+(n?0:1),i=i.parentNode),n?(f.startContainer=i,f.startOffset=r,f.endContainer||f.collapse(!0)):(f.endContainer=i,f.endOffset=r,f.startContainer||f.collapse(!1)),v(f),f}function a(n,u){try{if(i&&t.inDoc(i,n))if(i.nodeValue.replace(s,"").length)i.nodeValue=i.nodeValue.replace(s,"");else{var f=i.parentNode;for(t.remove(i);f&&t.isEmptyInlineElement(f)&&(r.safari?!(t.getPosition(f,u)&t.POSITION_CONTAINS):!f.contains(u));)i=f.parentNode,t.remove(f),f=i}}catch(e){}}function e(n,i){var r;for(n=n[i];n&&t.isFillChar(n);)r=n[i],t.remove(n),n=r}function p(n,i){var r=n.startContainer,o=n.endContainer,h=n.startOffset,w=n.endOffset,l=n.document,b=l.createDocumentFragment(),k,d,f,y,s,p;if(r.nodeType==1&&(r=r.childNodes[h]||(k=r.appendChild(l.createTextNode("")))),o.nodeType==1&&(o=o.childNodes[w]||(d=o.appendChild(l.createTextNode("")))),r===o&&r.nodeType==3)return b.appendChild(l.createTextNode(r.substringData(h,w-h))),i&&(r.deleteData(h,w-h),n.collapse(!0)),b;var u,a,e=b,c=t.findParents(r,!0),v=t.findParents(o,!0);for(f=0;c[f]==v[f];)f++;for(s=f;y=c[s];s++){for(u=y.nextSibling,y==r?k||(n.startContainer.nodeType==3?(e.appendChild(l.createTextNode(r.nodeValue.slice(h))),i&&r.deleteData(h,r.nodeValue.length-h)):e.appendChild(i?r:r.cloneNode(!0))):(a=y.cloneNode(!1),e.appendChild(a));u;){if(u===o||u===v[s])break;y=u.nextSibling;e.appendChild(i?u:u.cloneNode(!0));u=y}e=a}for(e=b,c[f]||(e.appendChild(c[f-1].cloneNode(!1)),e=e.firstChild),s=f;p=v[s];s++){if(u=p.previousSibling,p==o?d||n.endContainer.nodeType!=3||(e.appendChild(l.createTextNode(o.substringData(0,w))),i&&o.deleteData(0,w)):(a=p.cloneNode(!1),e.appendChild(a)),s!=f||!c[f])while(u){if(u===r)break;p=u.previousSibling;e.insertBefore(i?u:u.cloneNode(!0),e.firstChild);u=p}e=a}return i&&n.setStartBefore(v[f]?c[f]?v[f]:c[f-1]:v[f-1]).collapse(!0),k&&t.remove(k),d&&t.remove(d),b}var h=0,o=t.fillChar,i,l=f.Range=function(n,t){var i=this;i.startContainer=i.startOffset=i.endContainer=i.endOffset=null;i.document=n;i.collapsed=!0;i.body=t};l.prototype={deleteContents:function(){var n;return this.collapsed||p(this,1),r.webkit&&(n=this.startContainer,n.nodeType!=3||n.nodeValue.length||(this.setStartBefore(n).collapse(!0),t.remove(n))),this},inFillChar:function(){var n=this.startContainer;return this.collapsed&&n.nodeType==3&&n.nodeValue.replace(new RegExp("^"+t.fillChar),"").length+1==n.nodeValue.length?!0:!1},setStart:function(n,t){return c(!0,n,t,this)},setEnd:function(n,t){return c(!1,n,t,this)},setStartAfter:function(n){return this.setStart(n.parentNode,t.getNodeIndex(n)+1)},setStartBefore:function(n){return this.setStart(n.parentNode,t.getNodeIndex(n))},setEndAfter:function(n){return this.setEnd(n.parentNode,t.getNodeIndex(n)+1)},setEndBefore:function(n){return this.setEnd(n.parentNode,t.getNodeIndex(n))},setStartAtFirst:function(n){return this.setStart(n,0)},setStartAtLast:function(n){return this.setStart(n,n.nodeType==3?n.nodeValue.length:n.childNodes.length)},setEndAtFirst:function(n){return this.setEnd(n,0)},setEndAtLast:function(n){return this.setEnd(n,n.nodeType==3?n.nodeValue.length:n.childNodes.length)},selectNode:function(n){return this.setStartBefore(n).setEndAfter(n)},selectNodeContents:function(n){return this.setStart(n,0).setEndAtLast(n)},cloneRange:function(){var n=this;return new l(n.document).setStart(n.startContainer,n.startOffset).setEnd(n.endContainer,n.endOffset)},collapse:function(n){var t=this;return n?(t.endContainer=t.startContainer,t.endOffset=t.startOffset):(t.startContainer=t.endContainer,t.startOffset=t.endOffset),t.collapsed=!0,t},shrinkBoundary:function(n){function f(n){return n.nodeType==1&&!t.isBookmarkNode(n)&&!u.$empty[n.tagName]&&!u.$nonChild[n.tagName]}for(var i=this,r,e=i.collapsed;i.startContainer.nodeType==1&&(r=i.startContainer.childNodes[i.startOffset])&&f(r);)i.setStart(r,0);if(e)return i.collapse(!0);if(!n)while(i.endContainer.nodeType==1&&i.endOffset>0&&(r=i.endContainer.childNodes[i.endOffset-1])&&f(r))i.setEnd(r,r.childNodes.length);return i},trimBoundary:function(n){var f;this.txtToElmBoundary();var u=this.startContainer,i=this.startOffset,e=this.collapsed,r=this.endContainer;return u.nodeType==3&&(i==0?this.setStartBefore(u):i>=u.nodeValue.length?this.setStartAfter(u):(f=t.split(u,i),u===r?this.setEnd(f,this.endOffset-i):u.parentNode===r&&(this.endOffset+=1),this.setStartBefore(f)),e)?this.collapse(!0):(n||(i=this.endOffset,r=this.endContainer,r.nodeType==3&&(i==0?this.setEndBefore(r):(i<r.nodeValue.length&&t.split(r,i),this.setEndAfter(r)))),this)},txtToElmBoundary:function(n){function t(n,t){var i=n[t+"Container"],r=n[t+"Offset"];i.nodeType==3&&(r?r>=i.nodeValue.length&&n["set"+t.replace(/(\w)/,function(n){return n.toUpperCase()})+"After"](i):n["set"+t.replace(/(\w)/,function(n){return n.toUpperCase()})+"Before"](i))}return(n||!this.collapsed)&&(t(this,"start"),t(this,"end")),this},insertNode:function(n){var t=n,r=1;n.nodeType==11&&(t=n.firstChild,r=n.childNodes.length);this.trimBoundary(!0);var i=this.startContainer,f=this.startOffset,u=i.childNodes[f];return u?i.insertBefore(n,u):i.appendChild(n),t.parentNode===this.endContainer&&(this.endOffset=this.endOffset+r),this.setStartBefore(t)},setCursor:function(n,t){return this.collapse(!n).select(t)},createBookmark:function(n,t){var i,r=this.document.createElement("span");return r.style.cssText="display:none;line-height:0px;",r.appendChild(this.document.createTextNode("â")),r.id="_baidu_bookmark_start_"+(t?"":h++),this.collapsed||(i=r.cloneNode(!0),i.id="_baidu_bookmark_end_"+(t?"":h++)),this.insertNode(r),i&&this.collapse().insertNode(i).setEndBefore(i),this.setStartAfter(r),{start:n?r.id:r,end:i?n?i.id:i:null,id:n}},moveToBookmark:function(n){var r=n.id?this.document.getElementById(n.start):n.start,i=n.end&&n.id?this.document.getElementById(n.end):n.end;return this.setStartBefore(r),t.remove(r),i?(this.setEndBefore(i),t.remove(i)):this.collapse(!0),this},adjustmentBoundary:function(){if(!this.collapsed){while(!t.isBody(this.startContainer)&&this.startOffset==this.startContainer[this.startContainer.nodeType==3?"nodeValue":"childNodes"].length&&this.startContainer[this.startContainer.nodeType==3?"nodeValue":"childNodes"].length)this.setStartAfter(this.startContainer);while(!t.isBody(this.endContainer)&&!this.endOffset&&this.endContainer[this.endContainer.nodeType==3?"nodeValue":"childNodes"].length)this.setEndBefore(this.endContainer)}return this},getClosedNode:function(){var i,t,n;return this.collapsed||(t=this.cloneRange().adjustmentBoundary().shrinkBoundary(),y(t)&&(n=t.startContainer.childNodes[t.startOffset],n&&n.nodeType==1&&(u.$empty[n.tagName]||u.$nonChild[n.tagName])&&(i=n))),i},select:r.ie?function(n,r){var u,l,h,f,y,v,c,s;if(this.collapsed||this.shrinkBoundary(),l=this.getClosedNode(),l&&!r){try{u=this.document.body.createControlRange();u.addElement(l);u.select()}catch(p){}return this}h=this.createBookmark();f=h.start;u=this.document.body.createTextRange();u.moveToElementText(f);u.moveStart("character",1);this.collapsed?n||this.startContainer.nodeType==3||(c=this.document.createTextNode(o),s=this.document.createElement("span"),s.appendChild(this.document.createTextNode(o)),f.parentNode.insertBefore(s,f),f.parentNode.insertBefore(c,f),a(this.document,c),i=c,e(s,"previousSibling"),e(f,"nextSibling"),u.moveStart("character",-1),u.collapse(!0)):(v=this.document.body.createTextRange(),y=h.end,v.moveToElementText(y),u.setEndPoint("EndToEnd",v));this.moveToBookmark(h);s&&t.remove(s);try{u.select()}catch(p){}return this}:function(n){function v(n){function t(t,i,r){t.nodeType==3&&t.nodeValue.length<i&&(n[r+"Offset"]=t.nodeValue.length)}t(n.startContainer,n.startOffset,"start");t(n.endContainer,n.endOffset,"end")}var l=t.getWindow(this.document),c=l.getSelection(),f,s,h,u;if(r.gecko?this.body.focus():l.focus(),c){if(c.removeAllRanges(),this.collapsed&&!n&&(s=this.startContainer,u=s,s.nodeType==1&&(u=s.childNodes[this.startOffset]),s.nodeType==3&&this.startOffset||(u?u.previousSibling&&u.previousSibling.nodeType==3:s.lastChild&&s.lastChild.nodeType==3)||(f=this.document.createTextNode(o),this.insertNode(f),a(this.document,f),e(f,"previousSibling"),e(f,"nextSibling"),i=f,this.setStart(f,r.webkit?1:0).collapse(!0))),h=this.document.createRange(),this.collapsed&&r.opera&&this.startContainer.nodeType==1)if(u=this.startContainer.childNodes[this.startOffset],u){while(u&&t.isBlockElm(u))if(u.nodeType==1&&u.childNodes[0])u=u.childNodes[0];else break;u&&this.setStartBefore(u).collapse(!0)}else u=this.startContainer.lastChild,u&&t.isBr(u)&&this.setStartBefore(u).collapse(!0);v(this);h.setStart(this.startContainer,this.startOffset);h.setEnd(this.endContainer,this.endOffset);c.addRange(h)}return this},createAddress:function(n,i){function f(n){for(var f=n?r.startContainer:r.endContainer,a=t.findParents(f,!0,function(n){return!t.isBody(n)}),h=[],l,e,o,u,c=0;l=a[c++];)h.push(t.getNodeIndex(l,i));if(e=0,i)if(f.nodeType==3){for(o=f.previousSibling;o&&o.nodeType==3;)e+=o.nodeValue.replace(s,"").length,o=o.previousSibling;e+=n?r.startOffset:r.endOffset}else if(f=f.childNodes[n?r.startOffset:r.endOffset],f)e=t.getNodeIndex(f,i);else for(f=n?r.startContainer:r.endContainer,u=f.firstChild;u;){if(t.isFillChar(u)){u=u.nextSibling;continue}if(e++,u.nodeType==3)while(u&&u.nodeType==3)u=u.nextSibling;else u=u.nextSibling}else e=n?t.isFillChar(f)?0:r.startOffset:r.endOffset;return e<0&&(e=0),h.push(e),h}var u={},r=this;return u.startAddress=f(!0),n||(u.endAddress=r.collapsed?[].concat(u.startAddress):f()),u},moveToAddress:function(n,t){function r(n,t){for(var r=i.body,f,e,o,u=0,s=n.length;u<s;u++)if(o=n[u],f=r,r=r.childNodes[o],!r){e=o;break}t?r?i.setStartBefore(r):i.setStart(f,e):r?i.setEndBefore(r):i.setEnd(f,e)}var i=this;return r(n.startAddress,!0),!t&&n.endAddress&&r(n.endAddress),i},equals:function(n){for(var t in this)if(this.hasOwnProperty(t)&&this[t]!==n[t])return!1;return!0},scrollIntoView:function(){var i=n('<span style="padding:0;margin:0;display:block;border:0">&nbsp;<\/span>');this.cloneRange().insertNode(i.get(0));var r=n(window).scrollTop(),u=n(window).height(),t=i.offset().top;(t<r-u||t>r+u)&&(t>r+u?window.scrollTo(0,t-u+i.height()):window.scrollTo(0,r-t));i.remove()},getOffset:function(){var t=this.createBookmark(),i=n(t.start).css("display","inline-block").offset();return this.moveToBookmark(t),i}}})(),function(){function e(n,i){var l=t.getNodeIndex,e,o,y,p;if(n=n.duplicate(),n.collapse(i),e=n.parentElement(),!e.hasChildNodes())return{container:e,offset:0};for(var s=e.children,r,h=n.duplicate(),a=0,v=s.length-1,c=-1,f;a<=v;)if(c=Math.floor((a+v)/2),r=s[c],h.moveToElementText(r),o=h.compareEndPoints("StartToStart",n),o>0)v=c-1;else if(o<0)a=c+1;else return{container:e,offset:l(r)};if(c==-1){if(h.moveToElementText(e),h.setEndPoint("StartToStart",n),f=h.text.replace(/(\r\n|\r)/g,"\n").length,s=e.childNodes,!f)return r=s[s.length-1],{container:r,offset:r.nodeValue.length};for(y=s.length;f>0;)f-=s[--y].nodeValue.length;return{container:s[y],offset:-f}}if(h.collapse(o>0),h.setEndPoint(o>0?"StartToStart":"EndToStart",n),f=h.text.replace(/(\r\n|\r)/g,"\n").length,!f)return u.$empty[r.tagName]||u.$nonChild[r.tagName]?{container:e,offset:l(r)+(o>0?0:1)}:{container:r,offset:o>0?0:r.childNodes.length};while(f>0)try{p=r;r=r[o>0?"previousSibling":"nextSibling"];f-=r.nodeValue.length}catch(w){return{container:e,offset:l(p)}}return{container:r,offset:o>0?-f:r.nodeValue.length+f}}function o(n,t){if(n.item)t.selectNode(n.item(0));else{var i=e(n,!0);t.setStart(i.container,i.offset);n.compareEndPoints("StartToEnd",n)!=0&&(i=e(n,!1),t.setEnd(i.container,i.offset))}return t}function i(n,t){var i,r;try{i=n.getNative(t).createRange()}catch(u){return null}return(r=i.item?i.item(0):i.parentElement(),(r.ownerDocument||r)===n.document)?i:null}var s=f.Selection=function(t,u){var f=this;if(f.document=t,f.body=u,r.ie9below)n(u).on("beforedeactivate",function(){f._bakIERange=f.getIERange()}).on("activate",function(){try{var n=i(f);n&&f.rangeInBody(n)||!f._bakIERange||f._bakIERange.select()}catch(t){}f._bakIERange=null})};s.prototype={hasNativeRange:function(){var n,t;if(!r.ie||r.ie9above){if(t=this.getNative(),!t.rangeCount)return!1;n=t.getRangeAt(0)}else n=i(this);return this.rangeInBody(n)},getNative:function(n){var i=this.document;try{return i?r.ie9below||n?i.selection:t.getWindow(i).getSelection():null}catch(u){return null}},getIERange:function(n){var t=i(this,n);return(!t||!this.rangeInBody(t,n))&&this._bakIERange?this._bakIERange:t},rangeInBody:function(n,i){var u=r.ie9below||i?n.item?n.item():n.parentElement():n.startContainer;return u===this.body||t.inDoc(u,this.body)},cache:function(){this.clear();this._cachedRange=this.getRange();this._cachedStartElement=this.getStart();this._cachedStartElementPath=this.getStartElementPath()},getStartElementPath:function(){if(this._cachedStartElementPath)return this._cachedStartElementPath;var n=this.getStart();return n?t.findParents(n,!0,null,!0):[]},clear:function(){this._cachedStartElementPath=this._cachedRange=this._cachedStartElement=null},isFocus:function(){return this.hasNativeRange()},getRange:function(){function e(n){for(var t=i.body.firstChild,r=n.collapsed;t&&t.firstChild;)n.setStart(t,0),t=t.firstChild;n.startContainer||n.setStart(i.body,0);r&&n.collapse(!0)}var i=this,n,s,u,h,c;if(i._cachedRange!=null)return this._cachedRange;if(n=new f.Range(i.document,i.body),r.ie9below)if(s=i.getIERange(),s&&this.rangeInBody(s))try{o(s,n)}catch(l){e(n)}else e(n);else if(u=i.getNative(),u&&u.rangeCount&&i.rangeInBody(u.getRangeAt(0)))h=u.getRangeAt(0),c=u.getRangeAt(u.rangeCount-1),n.setStart(h.startContainer,h.startOffset).setEnd(c.endContainer,c.endOffset),n.collapsed&&t.isBody(n.startContainer)&&!n.startOffset&&e(n);else{if(this._bakRange&&(this._bakRange.startContainer===this.body||t.inDoc(this._bakRange.startContainer,this.body)))return this._bakRange;e(n)}return this._bakRange=n},getStart:function(){if(this._cachedStartElement)return this._cachedStartElement;var t=r.ie9below?this.getIERange():this.getRange(),i,n,u,f;if(r.ie9below){if(!t)return this.document.body.firstChild;if(t.item)return t.item(0);for(i=t.duplicate(),i.text.length>0&&i.moveStart("character",1),i.collapse(1),n=i.parentElement(),f=u=t.parentElement();u=u.parentNode;)if(u==n){n=f;break}}else if(n=t.startContainer,n.nodeType==1&&n.hasChildNodes()&&(n=n.childNodes[Math.min(n.childNodes.length-1,t.startOffset)]),n.nodeType==3)return n.parentNode;return n},getText:function(){var n,t;return this.isFocus()&&(n=this.getNative())?(t=r.ie9below?n.createRange():n.getRangeAt(0),r.ie9below?t.text:t.toString()):""}}}(),function(){function s(n,r){var u,e,f,o;if(r.textarea)if(i.isString(r.textarea)){for(e=0,o=t.getElementsByTagName(n,"textarea");f=o[e++];)if(f.id=="umeditor_textarea_"+r.options.textarea){u=f;break}}else u=r.textarea;u||(n.appendChild(u=t.createElement(document,"textarea",{name:r.options.textarea,id:"umeditor_textarea_"+r.options.textarea,style:"display:none"})),r.textarea=u);u.value=r.hasContents()?r.options.allHtmlEnabled?r.getAllHtml():r.getContent(null,null,!0):""}function c(n){for(var t in UM.plugins)n.options.excludePlugins.indexOf(t)==-1&&(UM.plugins[t].call(n),n.plugins[t]=1);n.langIsReady=!0;n.fireEvent("langReady")}function v(n){for(var t in n)return t}var a=0,h,l=UM.Editor=function(n){var t=this;t.uid=a++;o.call(t);t.commands={};t.options=i.extend(i.clone(n||{}),UMEDITOR_CONFIG,!0);t.shortcutkeys={};t.inputRules=[];t.outputRules=[];t.setOpt({isShow:!0,initialContent:"",initialStyle:"",autoClearinitialContent:!1,textarea:"editorValue",focus:!1,focusInEnd:!0,autoClearEmptyNode:!0,fullscreen:!1,readonly:!1,zIndex:999,enterTag:"p",lang:"zh-cn",langPath:t.options.UMEDITOR_HOME_URL+"lang/",theme:"default",themePath:t.options.UMEDITOR_HOME_URL+"themes/",allHtmlEnabled:!1,autoSyncData:!0,autoHeightEnabled:!0,excludePlugins:""});t.loadServerConfig();t.plugins={};i.isEmptyObject(UM.I18N)?i.loadFile(document,{src:t.options.langPath+t.options.lang+"/"+t.options.lang+".js",tag:"script",type:"text/javascript",defer:"defer"},function(){c(t)}):(t.options.lang=v(UM.I18N),c(t))};l.prototype={ready:function(n){var t=this;n&&(t.isReady?n.apply(t):t.addListener("ready",n))},setOpt:function(n,t){var r={};i.isString(n)?r[n]=t:r=n;i.extend(this.options,r,!0)},getOpt:function(n){return this.options[n]||""},destroy:function(){var i=this,u,r,f;i.fireEvent("destroy");u=i.container.parentNode;u===document.body&&(u=i.container);r=i.textarea;r?r.style.display="":(r=document.createElement("textarea"),u.parentNode.insertBefore(r,u));r.style.width=i.body.offsetWidth+"px";r.style.height=i.body.offsetHeight+"px";r.value=i.getContent();r.id=i.key;u.contains(r)&&n(r).insertBefore(u);u.innerHTML="";t.remove(u);UM.clearCache(i.id);for(f in i)i.hasOwnProperty(f)&&delete this[f]},initialCont:function(n){if(n){if(n.getAttribute("name")&&(this.options.textarea=n.getAttribute("name")),n&&/script|textarea/ig.test(n.tagName)){var t=document.createElement("div");n.parentNode.insertBefore(t,n);this.options.initialContent=UM.htmlparser(n.value||n.innerHTML||this.options.initialContent).toHtml();n.className&&(t.className=n.className);n.style.cssText&&(t.style.cssText=n.style.cssText);/textarea/i.test(n.tagName)?(this.textarea=n,this.textarea.style.display="none"):(n.parentNode.removeChild(n),n.id&&(t.id=n.id));n=t;n.innerHTML=""}return n}return null},render:function(t){var o=this,u=o.options,e=function(i){return parseInt(n(t).css(i))},f;i.isString(t)&&(t=document.getElementById(t));t&&(this.id=t.getAttribute("id"),UM.setEditor(this),i.cssRule("edui-style-body",o.options.initialStyle,document),t=this.initialCont(t),t.className+=" edui-body-container",u.minFrameWidth=u.initialFrameWidth?u.initialFrameWidth:u.initialFrameWidth=n(t).width()||UM.defaultWidth,u.initialFrameHeight?u.minFrameHeight=u.initialFrameHeight:u.initialFrameHeight=u.minFrameHeight=n(t).height()||UM.defaultHeight,t.style.width=/%$/.test(u.initialFrameWidth)?"100%":u.initialFrameWidth-e("padding-left")-e("padding-right")+"px",f=/%$/.test(u.initialFrameHeight)?"100%":u.initialFrameHeight-e("padding-top")-e("padding-bottom"),this.options.autoHeightEnabled?(t.style.minHeight=f+"px",t.style.height="",r.ie&&r.version<=6&&(t.style.height=f,t.style.setExpression("height","this.scrollHeight <= "+f+' ? "'+f+'px" : "auto"'))):n(t).height(f),t.style.zIndex=u.zIndex,this._setup(t))},_setup:function(i){var u=this,e=u.options,h,o,c;for(i.contentEditable=!0,document.body.spellcheck=!1,u.document=document,u.window=document.defaultView||document.parentWindow,u.body=i,u.$body=n(i),u.selection=new f.Selection(document,u.body),u._isEnabled=!1,r.gecko&&(h=this.selection.getNative())&&h.removeAllRanges(),this._initEvents(),o=i.parentNode;o&&!t.isBody(o);o=o.parentNode)if(o.tagName=="FORM"){if(u.form=o,u.options.autoSyncData)n(i).on("blur",function(){s(o,u)});else n(o).on("submit",function(){s(this,u)});break}if(e.initialContent&&(e.autoClearinitialContent?(c=u.execCommand,u.execCommand=function(){return u.fireEvent("firstBeforeExecCommand"),c.apply(u,arguments)},this._setDefaultContent(e.initialContent)):this.setContent(e.initialContent,!1,!0)),t.isEmptyNode(u.body)&&(u.body.innerHTML="<p>"+(r.ie?"":"<br/>")+"<\/p>"),e.focus&&setTimeout(function(){u.focus(u.options.focusInEnd);u.options.autoClearinitialContent||u._selectionChange()},0),u.container||(u.container=i.parentNode),u._bindshortcutKeys(),u.isReady=1,u.fireEvent("ready"),e.onready&&e.onready.call(u),!r.ie||r.ie9above)n(u.body).on("blur focus",function(n){var t=u.selection.getNative();if(n.type=="blur")t.rangeCount>0&&(u._bakRange=t.getRangeAt(0));else{try{u._bakRange&&t.addRange(u._bakRange)}catch(n){}u._bakRange=null}});e.isShow||u.setHide();e.readonly&&u.setDisabled()},sync:function(n){var i=this,r=n?document.getElementById(n):t.findParent(i.body.parentNode,function(n){return n.tagName=="FORM"},!0);r&&s(r,i)},setHeight:function(t,i){i||(this.options.initialFrameHeight=t);this.options.autoHeightEnabled?(n(this.body).css({"min-height":t+"px"}),r.ie&&r.version<=6&&this.container&&(this.container.style.height=t,this.container.style.setExpression("height","this.scrollHeight <= "+t+' ? "'+t+'px" : "auto"'))):n(this.body).height(t);this.fireEvent("resize")},setWidth:function(t){this.$container&&this.$container.width(t);n(this.body).width(t-n(this.body).css("padding-left").replace("px","")*1-n(this.body).css("padding-right").replace("px","")*1);this.fireEvent("resize")},addshortcutkey:function(n,t){var r={};t?r[n]=t:r=n;i.extend(this.shortcutkeys,r)},_bindshortcutKeys:function(){var n=this,i=this.shortcutkeys;n.addListener("keydown",function(r,u){var h=u.keyCode||u.which,e,c,l,f,o,s;for(e in i)for(c=i[e].split(","),l=0;f=c[l++];)f=f.split(":"),o=f[0],s=f[1],(/^(ctrl)(\+shift)?\+(\d+)$/.test(o.toLowerCase())||/^(\d+)$/.test(o))&&((RegExp.$1=="ctrl"?u.ctrlKey||u.metaKey:0)&&(RegExp.$2!=""?u[RegExp.$2.slice(1)+"Key"]:1)&&h==RegExp.$3||h==RegExp.$1)&&(n.queryCommandState(e,s)!=-1&&n.execCommand(e,s),t.preventDefault(u))})},getContent:function(n,t,r,u,f){var e=this,o;return(n&&i.isFunction(n)&&(t=n,n=""),t?!t():!this.hasContents())?"":(e.fireEvent("beforegetcontent"),o=UM.htmlparser(e.body.innerHTML,u),e.filterOutputRule(o),e.fireEvent("aftergetcontent",o),o.toHtml(f))},getAllHtml:function(){var n=this,u=[],t;return n.fireEvent("getAllHtml",u),r.ie&&r.version>8&&(t="",i.each(n.document.styleSheets,function(n){t+=n.href?'<link rel="stylesheet" type="text/css" href="'+n.href+'" />':"<style>"+n.cssText+"<\/style>"}),i.each(n.document.getElementsByTagName("script"),function(n){t+=n.outerHTML})),"<html><head>"+(n.options.charset?'<meta http-equiv="Content-Type" content="text/html; charset='+n.options.charset+'"/>':"")+(t||n.document.getElementsByTagName("head")[0].innerHTML)+u.join("\n")+"<\/head><body "+(e&&r.version<9?'class="view"':"")+">"+n.getContent(null,null,!0)+"<\/body><\/html>"},getPlainTxt:function(){var i=new RegExp(t.fillChar,"g"),n=this.body.innerHTML.replace(/[\n\r]/g,"");return n=n.replace(/<(p|div)[^>]*>(<br\/?>|&nbsp;)<\/\1>/gi,"\n").replace(/<br\/?>/gi,"\n").replace(/<[^>/]+>/g,"").replace(/(\n)?<\/([^>]+)>/g,function(n,t,i){return u.$block[i]?"\n":t?t:""}),n.replace(i,"").replace(/\u00a0/g," ").replace(/&nbsp;/g," ")},getContentTxt:function(){var n=new RegExp(t.fillChar,"g");return this.body[r.ie?"innerText":"textContent"].replace(n,"").replace(/\u00a0/g," ")},setContent:function(n,i,f){function v(n){return n.tagName=="DIV"&&n.getAttribute("cdata_tag")}var o=this,c,e,l,h,a;if(o.fireEvent("beforesetcontent",n),c=UM.htmlparser(n),o.filterInputRule(c),n=c.toHtml(),o.body.innerHTML=(i?o.body.innerHTML:"")+n,o.options.enterTag=="p")if(e=this.body.firstChild,!e||e.nodeType==1&&(u.$cdata[e.tagName]||v(e)||t.isCustomeNode(e))&&e===this.body.lastChild)this.body.innerHTML="<p>"+(r.ie?"&nbsp;":"<br/>")+"<\/p>"+this.body.innerHTML;else for(h=o.document.createElement("p");e;){while(e&&(e.nodeType==3||e.nodeType==1&&u.p[e.tagName]&&!u.$cdata[e.tagName]))l=e.nextSibling,h.appendChild(e),e=l;if(h.firstChild)if(e)e.parentNode.insertBefore(h,e),h=o.document.createElement("p");else{o.body.appendChild(h);break}e=e.nextSibling}o.fireEvent("aftersetcontent");o.fireEvent("contentchange");f||o._selectionChange();o._bakRange=o._bakIERange=o._bakNativeRange=null;r.gecko&&(a=this.selection.getNative())&&a.removeAllRanges();o.options.autoSyncData&&o.form&&s(o.form,o)},focus:function(n){try{var t=this,i=t.selection.getRange();n?i.setStartAtLast(t.body.lastChild).setCursor(!1,!0):i.select(!0);this.fireEvent("focus")}catch(r){}},blur:function(){var n=this.selection.getNative();n.empty?n.empty():n.removeAllRanges();this.fireEvent("blur")},isFocus:function(){return this.fireEvent("isfocus")===!0?!0:this.selection.isFocus()},_initEvents:function(){var t=this,r=t.body,i=function(){t._proxyDomEvent.apply(t,arguments)};n(r).on("click contextmenu mousedown keydown keyup keypress mouseup mouseover mouseout selectstart",i).on("focus blur",i).on("mouseup keydown",function(n){n.type=="keydown"&&(n.ctrlKey||n.metaKey||n.shiftKey||n.altKey)||n.button!=2&&t._selectionChange(250,n)})},_proxyDomEvent:function(n){return this.fireEvent(n.type.replace(/^on/,""),n)},_selectionChange:function(n,t){var i=this,u=!1,f,e,o;r.ie&&r.version<9&&t&&t.type=="mouseup"&&(o=this.selection.getRange(),o.collapsed||(u=!0,f=t.clientX,e=t.clientY));clearTimeout(h);h=setTimeout(function(){var n,r;if(i.selection.getNative()){if(u&&i.selection.getNative().type=="None"){n=i.document.body.createTextRange();try{n.moveToPoint(f,e)}catch(o){n=null}}n&&(r=i.selection.getIERange,i.selection.getIERange=function(){return n});i.selection.cache();r&&(i.selection.getIERange=r);i.selection._cachedRange&&i.selection._cachedStartElement&&(i.fireEvent("beforeselectionchange"),i.fireEvent("selectionchange",!!t),i.fireEvent("afterselectionchange"),i.selection.clear())}},n||50)},_callCmdFn:function(n,t){t=Array.prototype.slice.call(t,0);var u=t.shift().toLowerCase(),i,r;if(i=this.commands[u]||UM.commands[u],r=i&&i[n],i&&r||n!="queryCommandState"){if(r)return r.apply(this,[u].concat(t))}else return 0},execCommand:function(n){var r,t,u,i;return(this.isFocus()||(r=this.selection._bakRange,r?r.select():this.focus(!0)),n=n.toLowerCase(),t=this,i=t.commands[n]||UM.commands[n],!i||!i.execCommand)?null:(i.notNeedUndo||t.__hasEnterExecCommand?(u=this._callCmdFn("execCommand",arguments),t.__hasEnterExecCommand||i.ignoreContentChange||t._ignoreContentChange||t.fireEvent("contentchange")):(t.__hasEnterExecCommand=!0,t.queryCommandState.apply(t,arguments)!=-1&&(t.fireEvent("saveScene"),t.fireEvent("beforeexeccommand",n),u=this._callCmdFn("execCommand",arguments),i.ignoreContentChange||t._ignoreContentChange||t.fireEvent("contentchange"),t.fireEvent("afterexeccommand",n),t.fireEvent("saveScene")),t.__hasEnterExecCommand=!1),t.__hasEnterExecCommand||i.ignoreContentChange||t._ignoreContentChange||t._selectionChange(),u)},queryCommandState:function(){try{return this._callCmdFn("queryCommandState",arguments)}catch(n){return 0}},queryCommandValue:function(){try{return this._callCmdFn("queryCommandValue",arguments)}catch(n){return null}},hasContents:function(n){var i,r,u,f,e;if(n)for(i=0;r=n[i++];)if(this.body.getElementsByTagName(r).length>0)return!0;if(!t.isEmptyBlock(this.body))return!0;for(n=["div"],i=0;r=n[i++];)for(u=t.getElementsByTagName(this.body,r),f=0;e=u[f++];)if(t.isCustomeNode(e))return!0;return!1},reset:function(){this.fireEvent("reset")},isEnabled:function(){return this._isEnabled!=!0},setEnabled:function(){var n=this,t;if(n.body.contentEditable=!0,n.lastBk){t=n.selection.getRange();try{t.moveToBookmark(n.lastBk);delete n.lastBk}catch(i){t.setStartAtFirst(n.body).collapse(!0)}t.select(!0)}n.bkqueryCommandState&&(n.queryCommandState=n.bkqueryCommandState,delete n.bkqueryCommandState);n._bkproxyDomEvent&&(n._proxyDomEvent=n._bkproxyDomEvent,delete n._bkproxyDomEvent);n.fireEvent("setEnabled")},enable:function(){return this.setEnabled()},setDisabled:function(n,t){var r=this;r.body.contentEditable=!1;r._except=n?i.isArray(n)?n:[n]:[];r.lastBk||(r.lastBk=r.selection.getRange().createBookmark(!0));r.bkqueryCommandState||(r.bkqueryCommandState=r.queryCommandState,r.queryCommandState=function(n){return i.indexOf(r._except,n)!=-1?r.bkqueryCommandState.apply(r,arguments):-1});t||r._bkproxyDomEvent||(r._bkproxyDomEvent=r._proxyDomEvent,r._proxyDomEvent=function(){return!1});r.fireEvent("selectionchange");r.fireEvent("setDisabled",r._except)},disable:function(n){return this.setDisabled(n)},_setDefaultContent:function(){function n(){var t=this;t.document.getElementById("initContent")&&(t.body.innerHTML="<p>"+(e?"":"<br/>")+"<\/p>",t.removeListener("firstBeforeExecCommand focus",n),setTimeout(function(){t.focus();t._selectionChange()},0))}return function(t){var i=this;i.body.innerHTML='<p id="initContent">'+t+"<\/p>";i.addListener("firstBeforeExecCommand focus",n)}}(),setShow:function(){var n=this,t=n.selection.getRange();if(n.container.style.display=="none"){try{t.moveToBookmark(n.lastBk);delete n.lastBk}catch(i){t.setStartAtFirst(n.body).collapse(!0)}setTimeout(function(){t.select(!0)},100);n.container.style.display=""}},show:function(){return this.setShow()},setHide:function(){var n=this;n.lastBk||(n.lastBk=n.selection.getRange().createBookmark(!0));n.container.style.display="none"},hide:function(){return this.setHide()},getLang:function(n){var t=UM.I18N[this.options.lang],i,r;if(!t)throw Error("not import language file");for(n=(n||"").split("."),i=0;r=n[i++];)if(t=t[r],!t)break;return t},getContentLength:function(n,t){var i=this.getContent(!1,!1,!0).length,r,u;if(n)for(t=(t||[]).concat(["hr","img","iframe"]),i=this.getContentTxt().replace(/[\t\r\n]+/g,"").length,r=0;u=t[r++];)i+=this.body.getElementsByTagName(u).length;return i},addInputRule:function(n,t){n.ignoreUndo=t;this.inputRules.push(n)},filterInputRule:function(n,t){for(var r=0,i;i=this.inputRules[r++];)t&&i.ignoreUndo||i.call(this,n)},addOutputRule:function(n,t){n.ignoreUndo=t;this.outputRules.push(n)},filterOutputRule:function(n,t){for(var r=0,i;i=this.outputRules[r++];)t&&i.ignoreUndo||i.call(this,n)},getActionUrl:function(n){var u=this.getOpt(n)||n,r=this.getOpt("imageUrl"),t=this.getOpt("serverUrl");return!t&&r&&(t=r.replace(/^(.*[\/]).+([\.].+)$/,"$1controller$2")),t?(t=t+(t.indexOf("?")==-1?"?":"&")+"action="+(u||""),i.formatUrl(t)):""}};i.inherits(l,o)}();v=UM.filterWord=function(){function t(n){return/(class="?Mso|style="[^"]*\bmso\-|w:WordDocument|<(v|o):|lang=)/ig.test(n)}function n(n){return n.replace(/[\d.]+\w+/g,function(n){return i.transUnitToPx(n)})}function u(t){return t.replace(/[\t\r\n]+/g," ").replace(/<!--[\s\S]*?-->/ig,"").replace(/<v:shape [^>]*>[\s\S]*?.<\/v:shape>/gi,function(t){if(r.opera)return"";try{if(/Bitmap/i.test(t))return"";var i=t.match(/width:([ \d.]*p[tx])/i)[1],u=t.match(/height:([ \d.]*p[tx])/i)[1],f=t.match(/src=\s*"([^"]*)"/i)[1];return'<img width="'+n(i)+'" height="'+n(u)+'" src="'+f+'" />'}catch(e){return""}}).replace(/<\/?div[^>]*>/g,"").replace(/v:\w+=(["']?)[^'"]+\1/g,"").replace(/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|xml|meta|link|style|\w+:\w+)(?=[\s\/>]))[^>]*>/gi,"").replace(/<p [^>]*class="?MsoHeading"?[^>]*>(.*?)<\/p>/gi,"<p><strong>$1<\/strong><\/p>").replace(/\s+(class|lang|align)\s*=\s*(['"]?)([\w-]+)\2/ig,function(n,t,i,r){return t=="class"&&r=="MsoListParagraph"?n:""}).replace(/<(font|span)[^>]*>(\s*)<\/\1>/gi,function(n,t,i){return i.replace(/[\t\r\n ]+/g," ")}).replace(/(<[a-z][^>]*)\sstyle=(["'])([^\2]*?)\2/gi,function(t,i,r,u){for(var o=[],l=u.replace(/^\s+|\s+$/,"").replace(/&#39;/g,"'").replace(/&quot;/gi,"'").split(/;\s*/g),c,s,f,h,e=0;c=l[e];e++)if(h=c.split(":"),h.length==2){if(s=h[0].toLowerCase(),f=h[1].toLowerCase(),/^(background)\w*/.test(s)&&f.replace(/(initial|\s)/g,"").length==0||/^(margin)\w*/.test(s)&&/^0\w+$/.test(f))continue;switch(s){case"mso-padding-alt":case"mso-padding-top-alt":case"mso-padding-right-alt":case"mso-padding-bottom-alt":case"mso-padding-left-alt":case"mso-margin-alt":case"mso-margin-top-alt":case"mso-margin-right-alt":case"mso-margin-bottom-alt":case"mso-margin-left-alt":case"mso-height":case"mso-width":case"mso-vertical-align-alt":/<table/.test(i)||(o[e]=s.replace(/^mso-|-alt$/g,"")+":"+n(f));continue;case"horiz-align":o[e]="text-align:"+f;continue;case"vert-align":o[e]="vertical-align:"+f;continue;case"font-color":case"mso-foreground":o[e]="color:"+f;continue;case"mso-background":case"mso-highlight":o[e]="background:"+f;continue;case"mso-default-height":o[e]="min-height:"+n(f);continue;case"mso-default-width":o[e]="min-width:"+n(f);continue;case"mso-padding-between-alt":o[e]="border-collapse:separate;border-spacing:"+n(f);continue;case"text-line-through":(f=="single"||f=="double")&&(o[e]="text-decoration:line-through");continue;case"mso-zero-height":f=="yes"&&(o[e]="display:none");continue;case"margin":if(!/[1-9]/.test(f))continue}if(/^(mso|column|font-emph|lang|layout|line-break|list-image|nav|panose|punct|row|ruby|sep|size|src|tab-|table-border|text-(?:decor|trans)|top-bar|version|vnd|word-break)/.test(s)||/text\-indent|padding|margin/.test(s)&&/\-[\d.]+/.test(f))continue;o[e]=s+":"+h[1]}return i+(o.length?' style="'+o.join(";").replace(/;{2,}/g,";")+'"':"")}).replace(/[\d.]+(cm|pt)/g,function(n){return i.transUnitToPx(n)})}return function(n){return t(n)?u(n):n}}(),function(){function r(n,t,i){return n.push(v),t+(i?1:-1)}function f(n,t){for(var i=0;i<t;i++)n.push(a)}function e(n,t,i,o){switch(n.type){case"root":for(var h=0,s;s=n.children[h++];)i&&s.type=="element"&&!u.$inlineWithA[s.tagName]&&h>1&&(r(t,o,!0),f(t,o)),e(s,t,i,o);break;case"text":y(n,t);break;case"element":p(n,t,i,o);break;case"comment":w(n,t,i)}return t}function y(n,t){n.parentNode.tagName=="pre"?t.push(n.data):t.push(l[n.parentNode.tagName]?i.html(n.data):n.data.replace(/[ ]{2}/g," &nbsp;"))}function p(n,t,o,s){var h="",a,l,y,v;if(n.attrs){h=[];a=n.attrs;for(l in a)h.push(l+(a[l]!==undefined?'="'+(c[l]?i.html(a[l]).replace(/["]/g,function(){return"&quot;"}):i.unhtml(a[l]))+'"':""));h=h.join(" ")}if(t.push("<"+n.tagName+(h?" "+h:"")+(u.$empty[n.tagName]?"/":"")+">"),o&&!u.$inlineWithA[n.tagName]&&n.tagName!="pre"&&n.children&&n.children.length&&(s=r(t,s,!0),f(t,s)),n.children&&n.children.length)for(y=0;v=n.children[y++];)o&&v.type=="element"&&!u.$inlineWithA[v.tagName]&&y>1&&(r(t,s),f(t,s)),e(v,t,o,s);u.$empty[n.tagName]||(o&&!u.$inlineWithA[n.tagName]&&n.tagName!="pre"&&n.children&&n.children.length&&(s=r(t,s),f(t,s)),t.push("<\/"+n.tagName+">"))}function w(n,t){t.push("<!--"+n.data+"-->")}function o(n,t){var i,r,u;if(n.type=="element"&&n.getAttr("id")==t)return n;if(n.children&&n.children.length)for(r=0;u=n.children[r++];)if(i=o(u,t))return i}function s(n,t,i){if(n.type=="element"&&n.tagName==t&&i.push(n),n.children&&n.children.length)for(var u=0,r;r=n.children[u++];)s(r,t,i)}function h(n,t){if(n.children&&n.children.length)for(var r=0,i;i=n.children[r];)h(i,t),i.parentNode&&(i.children&&i.children.length&&t(i),i.parentNode&&r++);else t(n)}var t=UM.uNode=function(n){this.type=n.type;this.data=n.data;this.tagName=n.tagName;this.parentNode=n.parentNode;this.attrs=n.attrs||{};this.children=n.children},c={href:1,src:1,_src:1,_href:1,cdata_data:1},l={style:1,script:1},a="    ",v="\n";t.createElement=function(n){return/[<>]/.test(n)?UM.htmlparser(n).children[0]:new t({type:"element",children:[],tagName:n})};t.createText=function(n,t){return new UM.uNode({type:"text",data:t?n:i.unhtml(n||"")})};t.prototype={toHtml:function(n){var t=[];return e(this,t,n,0),t.join("")},innerHTML:function(n){var t,r,f;if(this.type!="element"||u.$empty[this.tagName])return this;if(i.isString(n)){if(this.children)for(t=0;r=this.children[t++];)r.parentNode=null;for(this.children=[],f=UM.htmlparser(n),t=0;r=f.children[t++];)this.children.push(r),r.parentNode=this;return this}return f=new UM.uNode({type:"root",children:this.children}),f.toHtml()},innerText:function(n,i){if(this.type!="element"||u.$empty[this.tagName])return this;if(n){if(this.children)for(var f=0,r;r=this.children[f++];)r.parentNode=null;return this.children=[],this.appendChild(t.createText(n,i)),this}return this.toHtml().replace(/<[^>]+>/g,"")},getData:function(){return this.type=="element"?"":this.data},firstChild:function(){return this.children?this.children[0]:null},lastChild:function(){return this.children?this.children[this.children.length-1]:null},previousSibling:function(){for(var t=this.parentNode,i,n=0;i=t.children[n];n++)if(i===this)return n==0?null:t.children[n-1]},nextSibling:function(){for(var t=this.parentNode,i,n=0;i=t.children[n++];)if(i===this)return t.children[n]},replaceChild:function(n,t){if(this.children){n.parentNode&&n.parentNode.removeChild(n);for(var i=0,r;r=this.children[i];i++)if(r===t)return this.children.splice(i,1,n),t.parentNode=null,n.parentNode=this,n}},appendChild:function(n){if(this.type=="root"||this.type=="element"&&!u.$empty[this.tagName]){this.children||(this.children=[]);n.parentNode&&n.parentNode.removeChild(n);for(var t=0,i;i=this.children[t];t++)if(i===n){this.children.splice(t,1);break}return this.children.push(n),n.parentNode=this,n}},insertBefore:function(n,t){if(this.children){n.parentNode&&n.parentNode.removeChild(n);for(var i=0,r;r=this.children[i];i++)if(r===t)return this.children.splice(i,0,n),n.parentNode=this,n}},insertAfter:function(n,t){if(this.children){n.parentNode&&n.parentNode.removeChild(n);for(var i=0,r;r=this.children[i];i++)if(r===t)return this.children.splice(i+1,0,n),n.parentNode=this,n}},removeChild:function(n,t){var r,i,u,f;if(this.children)for(r=0;i=this.children[r];r++)if(i===n){if(this.children.splice(r,1),i.parentNode=null,t&&i.children&&i.children.length)for(u=0;f=i.children[u];u++)this.children.splice(r+u,0,f),f.parentNode=this;return i}},getAttr:function(n){return this.attrs&&this.attrs[n.toLowerCase()]},setAttr:function(n,t){if(!n){delete this.attrs;return}if(this.attrs||(this.attrs={}),i.isObject(n))for(var r in n)n[r]?this.attrs[r.toLowerCase()]=n[r]:delete this.attrs[r];else t?this.attrs[n.toLowerCase()]=t:delete this.attrs[n]},hasAttr:function(n){var t=this.getAttr(n);return t!==null&&t!==undefined},getIndex:function(){for(var i=this.parentNode,t,n=0;t=i.children[n];n++)if(t===this)return n;return-1},getNodeById:function(n){var t,i,r;if(this.children&&this.children.length)for(i=0;r=this.children[i++];)if(t=o(r,n))return t},getNodesByTagName:function(n){n=i.trim(n).replace(/[ ]{2,}/g," ").split(" ");var r=[],t=this;return i.each(n,function(n){if(t.children&&t.children.length)for(var u=0,i;i=t.children[u++];)s(i,n,r)}),r},getStyle:function(n){var i=this.getAttr("style"),r,t;return i?(r=new RegExp("(^|;)\\s*"+n+":([^;]+)","i"),t=i.match(r),t&&t[0])?t[2]:"":""},setStyle:function(n,t){function f(n,t){var u=new RegExp("(^|;)\\s*"+n+":([^;]+;?)","gi");r=r.replace(u,"$1");t&&(r=n+":"+i.unhtml(t)+";"+r)}var r=this.getAttr("style"),u;if(r||(r=""),i.isObject(n))for(u in n)f(u,n[u]);else f(n,t);this.setAttr("style",i.trim(r))},hasClass:function(t){if(this.hasAttr("class")){var r=this.getAttr("class").split(/\s+/),i=!1;return n.each(r,function(n,r){r===t&&(i=!0)}),i}return!1},addClass:function(n){var t=null,i=!1;this.hasAttr("class")?(t=this.getAttr("class"),t=t.split(/\s+/),t.forEach(function(t){if(t===n){i=!0;return}}),i||t.push(n),this.setAttr("class",t.join(" "))):this.setAttr("class",n)},removeClass:function(n){if(this.hasAttr("class")){var t=this.getAttr("class");t=t.replace(new RegExp("\\b"+n+"\\b","g"),"");this.setAttr("class",i.trim(t).replace(/[ ]{2,}/g," "))}},traversal:function(n){return this.children&&this.children.length&&h(this,n),this}}}();y=UM.htmlparser=function(n,r){function h(n,t){if(a[n.tagName]){var i=o.createElement(a[n.tagName]);n.appendChild(i);i.appendChild(o.createText(t));n=i}else n.appendChild(o.createText(t))}function v(n,t,r){var e,s,l,h,c,f;if(e=d[t]){for(s=n;s.type!="root";){if(i.isArray(e)?i.indexOf(e,s.tagName)!=-1:e==s.tagName){n=s;l=!0;break}s=s.parentNode}l||(n=v(n,i.isArray(e)?e[0]:e))}if(h=new o({parentNode:n,type:"element",tagName:t.toLowerCase(),children:u.$empty[t]?null:[]}),r){for(c={};f=w.exec(r);)c[f[1].toLowerCase()]=k[f[1].toLowerCase()]?f[2]||f[3]||f[4]:i.unhtml(f[2]||f[3]||f[4]);h.attrs=c}return n.children.push(h),u.$empty[t]?n:h}function g(n,t){n.children.push(new o({type:"comment",data:t,parentNode:n}))}var l=/<(?:(?:\/([^>]+)>)|(?:!--([\S|\s]*?)-->)|(?:([^\s\/>]+)\s*((?:(?:"[^"]*")|(?:'[^']*')|[^"'<>])*)\/?>))/g,w=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,b={b:1,code:1,i:1,u:1,strike:1,s:1,tt:1,strong:1,q:1,samp:1,em:1,span:1,sub:1,img:1,sup:1,font:1,big:1,small:1,iframe:1,a:1,br:1,pre:1},p;n=n.replace(new RegExp(t.fillChar,"g"),"");r||(n=n.replace(new RegExp("[\\r\\t\\n"+(r?"":" ")+"]*<\/?(\\w+)\\s*(?:[^>]*)>[\\r\\t\\n"+(r?"":" ")+"]*","g"),function(n,t){return t&&b[t.toLowerCase()]?n.replace(/(^[\n\r]+)|([\n\r]+$)/g,""):n.replace(new RegExp("^[\\r\\n"+(r?"":" ")+"]+"),"").replace(new RegExp("[\\r\\n"+(r?"":" ")+"]+$"),"")}));for(var k={href:1,src:1},o=UM.uNode,d={td:"tr",tr:["tbody","thead","tfoot"],tbody:"table",th:"tr",thead:"table",tfoot:"table",caption:"table",li:["ul","ol"],dt:"dl",dd:"dl",option:"select"},a={ol:"li",ul:"li"},e,c=0,s=0,y=new o({type:"root",children:[]}),f=y;e=l.exec(n);){c=e.index;try{if(c>s&&h(f,n.slice(s,c)),e[3])u.$cdata[f.tagName]?h(f,e[0]):f=v(f,e[3].toLowerCase(),e[4]);else if(e[1]){if(f.type!="root")if(u.$cdata[f.tagName]&&!u.$cdata[e[1]])h(f,e[0]);else{for(p=f;f.type=="element"&&f.tagName!=e[1].toLowerCase();)if(f=f.parentNode,f.type=="root"){f=p;throw"break";}f=f.parentNode}}else e[2]&&g(f,e[2])}catch(nt){}s=l.lastIndex}return s<n.length&&h(f,n.slice(s)),y};p=UM.filterNode=function(){function n(t,r){var s,l,v,a,o,y,h,c,f,e;switch(t.type){case"element":if(s=r[t.tagName])if(s==="-")t.parentNode.removeChild(t);else if(i.isFunction(s))if(h=t.parentNode,c=t.getIndex(),s(t),t.parentNode){if(t.children)for(f=0;e=t.children[f];)n(e,r),e.parentNode&&f++}else for(f=c;e=h.children[f];)n(e,r),e.parentNode&&f++;else{if(l=s.$,l&&t.attrs){v={};for(o in l)a=t.getAttr(o),o=="style"&&i.isArray(l[o])&&(y=[],i.each(l[o],function(n){var i;(i=t.getStyle(n))&&y.push(n+":"+i)}),a=y.join(";")),a&&(v[o]=a);t.attrs=v}if(t.children)for(f=0;e=t.children[f];)n(e,r),e.parentNode&&f++}else if(u.$cdata[t.tagName])t.parentNode.removeChild(t);else for(h=t.parentNode,c=t.getIndex(),t.parentNode.removeChild(t,!0),f=c;e=h.children[f];)n(e,r),e.parentNode&&f++;break;case"comment":t.parentNode.removeChild(t)}}return function(t,r){var e,u,f;if(i.isEmptyObject(r))return t;for((e=r["-"])&&i.each(e.split(" "),function(n){r[n]="-"}),u=0;f=t.children[u];)n(f,r),f.parentNode&&u++;return t}}();UM.commands.inserthtml={execCommand:function(n,f,e){var a=this,o,b,k,l,h,p,w,d,v,g,y,tt,c,nt;if(f&&a.fireEvent("beforeinserthtml",f)!==!0){if(o=a.selection.getRange(),b=o.document.createElement("div"),b.style.display="inline",e||(k=UM.htmlparser(f),a.options.filterRules&&UM.filterNode(k,a.options.filterRules),a.filterInputRule(k),f=k.toHtml()),b.innerHTML=i.trim(f),!o.collapsed&&(l=o.startContainer,t.isFillChar(l)&&o.setStartBefore(l),l=o.endContainer,t.isFillChar(l)&&o.setEndAfter(l),o.txtToElmBoundary(),o.endContainer&&o.endContainer.nodeType==1&&(l=o.endContainer.childNodes[o.endOffset],l&&t.isBr(l)&&o.setEndAfter(l)),o.startOffset==0&&(l=o.startContainer,t.isBoundaryNode(l,"firstChild")&&(l=o.endContainer,o.endOffset==(l.nodeType==3?l.nodeValue.length:l.childNodes.length)&&t.isBoundaryNode(l,"lastChild")&&(a.body.innerHTML="<p>"+(r.ie?"":"<br/>")+"<\/p>",o.setStart(a.body.firstChild,0).collapse(!0)))),o.collapsed||o.deleteContents(),o.startContainer.nodeType==1&&(h=o.startContainer.childNodes[o.startOffset],h&&t.isBlockElm(h)&&(c=h.previousSibling)&&t.isBlockElm(c)))){for(o.setEnd(c,c.childNodes.length).collapse();h.firstChild;)c.appendChild(h.firstChild);t.remove(h)}for(d=0,o.inFillChar()&&(h=o.startContainer,t.isFillChar(h)?(o.setStartBefore(h).collapse(!0),t.remove(h)):t.isFillChar(h,!0)&&(h.nodeValue=h.nodeValue.replace(s,""),o.startOffset--,o.collapsed&&o.collapse(!0)));h=b.firstChild;){if(d){for(g=a.document.createElement("p");h&&(h.nodeType==3||!u.$block[h.tagName]);)v=h.nextSibling,g.appendChild(h),h=v;g.firstChild&&(h=g)}if(o.insertNode(h),v=h.nextSibling,!d&&h.nodeType==t.NODE_ELEMENT&&t.isBlockElm(h)&&(p=t.findParent(h,function(n){return t.isBlockElm(n)}),p&&p.tagName.toLowerCase()!="body"&&!(u[p.tagName][h.nodeName]&&h.parentNode===p))){if(u[p.tagName][h.nodeName])for(w=h.parentNode;w!==p;)c=w,w=w.parentNode;else c=p;t.breakParent(h,c||w);c=h.previousSibling;t.trimWhiteTextNode(c);c.childNodes.length||t.remove(c);!r.ie&&(y=h.nextSibling)&&t.isBlockElm(y)&&y.lastChild&&!t.isBr(y.lastChild)&&y.appendChild(a.document.createElement("br"));d=1}if(y=h.nextSibling,!b.firstChild&&y&&t.isBlockElm(y)){o.setStart(y,0).collapse(!0);break}o.setEndAfter(h).collapse()}if(h=o.startContainer,v&&t.isBr(v)&&t.remove(v),t.isBlockElm(h)&&t.isEmptyNode(h))if(v=h.nextSibling)t.remove(h),v.nodeType==1&&u.$block[v.tagName]&&o.setStart(v,0).collapse(!0).shrinkBoundary();else try{h.innerHTML=r.ie?t.fillChar:"<br/>"}catch(it){o.setStartBefore(h);t.remove(h)}try{r.ie9below&&o.startContainer.nodeType==1&&!o.startContainer.childNodes[o.startOffset]&&(tt=o.startContainer,c=tt.childNodes[o.startOffset-1],c&&c.nodeType==1&&u.$empty[c.tagName]&&(nt=this.document.createTextNode(t.fillChar),o.insertNode(nt).setStart(nt,0).collapse(!0)));setTimeout(function(){o.select(!0)})}catch(it){}setTimeout(function(){o=a.selection.getRange();o.scrollIntoView();a.fireEvent("afterinserthtml")},200)}}};UM.commands.insertimage={execCommand:function(n,t){var e;if(t=i.isArray(t)?t:[t],t.length){var o=this,f=[],u="",r;if(r=t[0],t.length==1)u='<img src="'+r.src+'" '+(r._src?' _src="'+r._src+'" ':"")+(r.width?'width="'+r.width+'" ':"")+(r.height?' height="'+r.height+'" ':"")+(r.floatStyle=="left"||r.floatStyle=="right"?' style="float:'+r.floatStyle+';"':"")+(r.title&&r.title!=""?' title="'+r.title+'"':"")+(r.border&&r.border!="0"?' border="'+r.border+'"':"")+(r.alt&&r.alt!=""?' alt="'+r.alt+'"':"")+(r.hspace&&r.hspace!="0"?' hspace = "'+r.hspace+'"':"")+(r.vspace&&r.vspace!="0"?' vspace = "'+r.vspace+'"':"")+"/>",r.floatStyle=="center"&&(u='<p style="text-align: center">'+u+"<\/p>"),f.push(u);else for(e=0;r=t[e++];)u="<p "+(r.floatStyle=="center"?'style="text-align: center" ':"")+'><img src="'+r.src+'" '+(r.width?'width="'+r.width+'" ':"")+(r._src?' _src="'+r._src+'" ':"")+(r.height?' height="'+r.height+'" ':"")+' style="'+(r.floatStyle&&r.floatStyle!="center"?"float:"+r.floatStyle+";":"")+(r.border||"")+'" '+(r.title?' title="'+r.title+'"':"")+" /><\/p>",f.push(u);o.execCommand("insertHtml",f.join(""),!0)}}};UM.commands.insertfile={execCommand:function(n,t){function c(n){var i=n.substr(n.lastIndexOf(".")+1).toLowerCase(),t={rar:"icon_rar.gif",zip:"icon_rar.gif",tar:"icon_rar.gif",gz:"icon_rar.gif",bz2:"icon_rar.gif",doc:"icon_doc.gif",docx:"icon_doc.gif",pdf:"icon_pdf.gif",mp3:"icon_mp3.gif",xls:"icon_xls.gif",chm:"icon_chm.gif",ppt:"icon_ppt.gif",pptx:"icon_ppt.gif",avi:"icon_mv.gif",rmvb:"icon_mv.gif",wmv:"icon_mv.gif",flv:"icon_mv.gif",swf:"icon_mv.gif",rm:"icon_mv.gif",exe:"icon_exe.gif",psd:"icon_psd.gif",txt:"icon_txt.gif",jpg:"icon_jpg.gif",png:"icon_jpg.gif",jpeg:"icon_jpg.gif",gif:"icon_jpg.gif",ico:"icon_jpg.gif",bmp:"icon_jpg.gif"};return t[i]?t[i]:t.txt}var h=this,u,r,f,e,o,s;for(t=i.isArray(t)?t:[t],o="",s=UMEDITOR_CONFIG.UMEDITOR_HOME_URL+"dialogs/attachment/fileTypeImages/",u=0;u<t.length;u++)r=t[u],f=s+c(r.url),e=r.title||r.url.substr(r.url.lastIndexOf("/")+1),o+='<p style="line-height: 16px;"><img style="vertical-align: middle; margin-right: 2px;" src="'+f+'" _src="'+f+'" /><a style="font-size:12px; color:#0066cc;"  target="_blank" href="'+r.url+'" title="'+e+'">'+e+"<\/a><br/><\/p>";h.execCommand("insertHtml",o,!0)}};UM.plugins.justify=function(){var t=this;n.each("justifyleft justifyright justifycenter justifyfull".split(" "),function(n,i){t.commands[i]={execCommand:function(n){return this.document.execCommand(n)},queryCommandValue:function(n){var t=this.document.queryCommandValue(n);return t===!0||t==="true"?n.replace(/justify/,""):""},queryCommandState:function(n){return this.document.queryCommandState(n)?1:0}}})};UM.plugins.font=function(){var t=this,u={forecolor:"forecolor",backcolor:"backcolor",fontsize:"fontsize",fontfamily:"fontname"},f={forecolor:"color",backcolor:"background-color",fontsize:"font-size",fontfamily:"font-family"},o={forecolor:"color",fontsize:"size",fontfamily:"face"},e;t.setOpt({fontfamily:[{name:"songti",val:"å®ä½,SimSun"},{name:"yahei",val:"å¾®è½¯éé»,Microsoft YaHei"},{name:"kaiti",val:"æ¥·ä½,æ¥·ä½_GB2312, SimKai"},{name:"heiti",val:"é»ä½, SimHei"},{name:"lishu",val:"é¶ä¹¦, SimLi"},{name:"andaleMono",val:"andale mono"},{name:"arial",val:"arial, helvetica,sans-serif"},{name:"arialBlack",val:"arial black,avant garde"},{name:"comicSansMs",val:"comic sans ms"},{name:"impact",val:"impact,chicago"},{name:"timesNewRoman",val:"times new roman"},{name:"sans-serif",val:"sans-serif"}],fontsize:[10,12,16,18,24,32,48]});t.addOutputRule(function(t){i.each(t.getNodesByTagName("font"),function(t){var i,r,u;if(t.tagName=="font"){i=[];for(r in t.attrs)switch(r){case"size":u=t.attrs[r];n.each({"10":"1","12":"2","16":"3","18":"4","24":"5","32":"6","48":"7"},function(n,t){if(t==u)return u=n,!1});i.push("font-size:"+u+"px");break;case"color":i.push("color:"+t.attrs[r]);break;case"face":i.push("font-family:"+t.attrs[r]);break;case"style":i.push(t.attrs[r])}t.attrs={style:i.join(";")}}t.tagName="span";t.parentNode.tagName=="span"&&t.parentNode.children.length==1&&(n.each(t.attrs,function(n,i){t.parentNode.attrs[n]=n=="style"?t.parentNode.attrs[n]+i:i}),t.parentNode.removeChild(t,!0))})});for(e in u)(function(e){t.commands[e]={execCommand:function(t,i){var e,o;if(i!="transparent")if(e=this.selection.getRange(),e.collapsed)o=n("<span><\/span>").css(f[t],i)[0],e.insertNode(o).setStart(o,0).setCursor();else{if(t=="fontsize"&&(i={"10":"1","12":"2","16":"3","18":"4","24":"5","32":"6","48":"7"}[(i+"").replace(/px/,"")]),this.document.execCommand(u[t],!1,i),r.gecko&&n.each(this.$body.find("a"),function(t,i){var r=i.parentNode,u;r.lastChild===r.firstChild&&/FONT|SPAN/.test(r.tagName)&&(u=r.cloneNode(!1),u.innerHTML=i.innerHTML,n(i).html("").append(u).insertBefore(r),n(r).remove())}),!r.ie){var s=this.selection.getNative().getRangeAt(0),h=s.commonAncestorContainer,e=this.selection.getRange(),c=e.createBookmark(!0);n(h).find("a").each(function(t,i){var u=i.parentNode,r;u.nodeName=="FONT"&&(r=u.cloneNode(!1),r.innerHTML=i.innerHTML,n(i).html("").append(r))});e.moveToBookmark(c).select()}return!0}},queryCommandValue:function(r){var e=t.selection.getStart(),u=n(e).css(f[r]);return u===undefined&&(u=n(e).attr(o[r])),u?i.fixColor(r,u).replace(/px/,""):""},queryCommandState:function(n){return this.queryCommandValue(n)}}})(e)};UM.plugins.link=function(){var u=this;u.setOpt("autourldetectinie",!1);r.ie&&this.options.autourldetectinie===!1&&this.addListener("keyup",function(n,i){var o=this,f=i.keyCode,e,r,u;(f==13||f==32)&&(e=o.selection.getRange(),r=e.startContainer,f==13?r.nodeName=="P"&&(u=r.previousSibling,u&&u.nodeType==1&&(u=u.lastChild,u&&u.nodeName=="A"&&!u.getAttribute("_href")&&t.remove(u,!0))):f==32&&r.nodeType==3&&/^\s$/.test(r.nodeValue)&&(r=r.previousSibling,r&&r.nodeName=="A"&&!r.getAttribute("_href")&&t.remove(r,!0)))});this.addOutputRule(function(t){n.each(t.getNodesByTagName("a"),function(n,t){var i=t.getAttr("_href");i||(i=t.getAttr("href"));/^(ftp|https?|\/|file)/.test(i)||(i="http://"+i);t.setAttr("href",i);t.setAttr("_href");t.getAttr("title")==""&&t.setAttr("title")})});this.addInputRule(function(t){n.each(t.getNodesByTagName("a"),function(n,t){t.setAttr("_href",t.getAttr("href"))})});u.commands.link={execCommand:function(r,u){var o=this,f=o.selection.getRange(),e;u._href&&(u._href=i.unhtml(u._href,/[<">'](?:(amp|lt|quot|gt|#39|nbsp);)?/g));u.href&&(u.href=i.unhtml(u.href,/[<">'](?:(amp|lt|quot|gt|#39|nbsp);)?/g));f.collapsed?(e=f.startContainer,(e=t.findParentByTagName(e,"a",!0))?(n(e).attr(u),f.selectNode(e).select()):f.insertNode(n("<a>"+u.href+"<\/a>").attr(u)[0]).select()):(o.document.execCommand("createlink",!1,"_umeditor_link"),i.each(t.getElementsByTagName(o.body,"a",function(n){return n.getAttribute("href")=="_umeditor_link"}),function(i){n(i).text()=="_umeditor_link"&&n(i).text(u.href);t.setAttributes(i,u);f.selectNode(i).select()}))},queryCommandState:function(){return this.queryCommandValue("link")?1:0},queryCommandValue:function(){var i=this.selection.getStartElementPath(),t;return n.each(i,function(n,i){if(i.nodeName=="A")return t=i,!1}),t}};u.commands.unlink={execCommand:function(){this.document.execCommand("unlink")}}};UM.commands.print={execCommand:function(){var u=this,t="editor_print_"+ +new Date,r,i;n('<iframe src="" id="'+t+'" name="'+t+'" frameborder="0"><\/iframe>').attr("id",t).css({width:"0px",height:"0px",overflow:"hidden",float:"left",position:"absolute",top:"-10000px",left:"-10000px"}).appendTo(u.$container.find(".edui-dialog-container"));r=window.open("",t,"");i=r.document;i.open();i.write("<html><head><\/head><body><div>"+this.getContent(null,null,!0)+"<\/div><script>setTimeout(function(){window.print();setTimeout(function(){window.parent.$('#"+t+"').remove();},100);},200);<\/script><\/body><\/html>");i.close()},notNeedUndo:1};UM.plugins.paragraph=function(){var n=this;n.setOpt("paragraph",{p:"",h1:"",h2:"",h3:"",h4:"",h5:"",h6:""});n.commands.paragraph={execCommand:function(n,t){return this.document.execCommand("formatBlock",!1,"<"+t+">")},queryCommandValue:function(){try{var n=this.document.queryCommandValue("formatBlock")}catch(t){}return n}}};UM.plugins.horizontal=function(){var i=this;i.commands.horizontal={execCommand:function(){var e,f,s,h,o,c;if(this.document.execCommand("insertHorizontalRule"),e=i.selection.getRange().txtToElmBoundary(!0),f=e.startContainer,t.isBody(e.startContainer))s=e.startContainer.childNodes[e.startOffset],s||(s=n("<p><\/p>").appendTo(e.startContainer).html(r.ie?"&nbsp;":"<br/>")[0]),e.setStart(s,0).setCursor();else{while(u.$inline[f.tagName]&&f.lastChild===f.firstChild)h=f.parentNode,h.appendChild(f.firstChild),h.removeChild(f),f=h;while(u.$inline[f.tagName])f=f.parentNode;f.childNodes.length==1&&f.lastChild.nodeName=="HR"?(o=f.lastChild,n(o).insertBefore(f),e.setStart(f,0).setCursor()):(o=n("hr",f)[0],t.breakParent(o,f),c=o.previousSibling,c&&t.isEmptyBlock(c)&&n(c).remove(),e.setStart(o.nextSibling,0).setCursor())}}}};UM.commands.cleardoc={execCommand:function(){var n=this,t=n.selection.getRange();n.body.innerHTML="<p>"+(e?"":"<br/>")+"<\/p>";t.setStart(n.body.firstChild,0).setCursor(!1,!0);setTimeout(function(){n.fireEvent("clearDoc")},0)}};UM.plugins.undo=function(){function a(n,t){if(n.length!=t.length)return 0;for(var i=0,r=n.length;i<r;i++)if(n[i]!=t[i])return 0;return 1}function g(n,t){return n.collapsed!=t.collapsed?0:!a(n.startAddress,t.startAddress)||!a(n.endAddress,t.endAddress)?0:1}function nt(){this.list=[];this.index=0;this.hasUndo=!1;this.hasRedo=!1;this.undo=function(){if(this.hasUndo){if(!this.list[this.index-1]&&this.list.length==1){this.reset();return}while(this.list[this.index].content==this.list[this.index-1].content)if(this.index--,this.index==0)return this.restore(0);this.restore(--this.index)}};this.redo=function(){if(this.hasRedo){while(this.list[this.index].content==this.list[this.index+1].content)if(this.index++,this.index==this.list.length-1)return this.restore(this.index);this.restore(++this.index)}};this.restore=function(){var n=this.editor,s=this.list[this.index],h=UM.htmlparser(s.content.replace(k,"")),e,o;n.options.autoClearEmptyNode=!1;n.filterInputRule(h,!0);n.options.autoClearEmptyNode=l;n.body.innerHTML=h.toHtml();n.fireEvent("afterscencerestore");r.ie&&i.each(t.getElementsByTagName(n.document,"td th caption p"),function(i){t.isEmptyNode(i)&&t.fillNode(n.document,i)});try{e=new f.Range(n.document,n.body).moveToAddress(s.address);r.ie&&e.collapsed&&e.startContainer.nodeType==1&&(o=e.startContainer.childNodes[e.startOffset],(!o||o.nodeType==1&&u.$empty[o])&&e.insertNode(n.document.createTextNode(" ")).collapse(!0));e.select(d[e.startContainer.nodeName.toLowerCase()])}catch(c){}this.update();this.clearKey();n.fireEvent("reset",!0)};this.getScene=function(){var n=this.editor,u=n.selection.getRange(),f=u.createAddress(!1,!0),i,t;return n.fireEvent("beforegetscene"),i=UM.htmlparser(n.body.innerHTML,!0),n.options.autoClearEmptyNode=!1,n.filterOutputRule(i,!0),n.options.autoClearEmptyNode=l,t=i.toHtml(),r.ie&&(t=t.replace(/>&nbsp;</g,"><").replace(/\s*</g,"<").replace(/>\s*/g,">")),n.fireEvent("aftergetscene"),{address:f,content:t}};this.save=function(n,t){clearTimeout(h);var i=this.getScene(t),r=this.list[this.index];r&&r.content==i.content&&(n?1:g(r.address,i.address))||(this.list=this.list.slice(0,this.index+1),this.list.push(i),this.list.length>w&&this.list.shift(),this.index=this.list.length-1,this.clearKey(),this.update())};this.update=function(){this.hasRedo=!!this.list[this.index+1];this.hasUndo=!!this.list[this.index-1]};this.reset=function(){this.list=[];this.index=0;this.hasUndo=!1;this.hasRedo=!1;this.clearKey()};this.clearKey=function(){c=0;p=null}}function v(){this.undoManger.save()}var h,e=this,w=e.options.maxUndoCount||20,b=e.options.maxInputCount||20,k=new RegExp(t.fillChar+"|<\/hr>","gi"),d={ol:1,ul:1,table:1,tbody:1,tr:1,body:1},l=e.options.autoClearEmptyNode,s;e.undoManger=new nt;e.undoManger.editor=e;e.addListener("saveScene",function(){var n=Array.prototype.splice.call(arguments,1);this.undoManger.save.apply(this.undoManger,n)});e.addListener("beforeexeccommand",v);e.addListener("afterexeccommand",v);e.addListener("reset",function(n,t){t||this.undoManger.reset()});e.commands.redo=e.commands.undo={execCommand:function(n){this.undoManger[n]()},queryCommandState:function(n){return this.undoManger["has"+(n.toLowerCase()=="undo"?"Undo":"Redo")]?0:-1},notNeedUndo:1};var y={16:1,17:1,18:1,37:1,38:1,39:1,40:1},c=0,p,o=!1;e.addListener("ready",function(){n(this.body).on("compositionstart",function(){o=!0}).on("compositionend",function(){o=!1})});e.addshortcutkey({Undo:"ctrl+90",Redo:"ctrl+89,shift+ctrl+z"});s=!0;e.addListener("keydown",function(n,t){var i=this,u=t.keyCode||t.which;if(!y[u]&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&!t.altKey){if(o)return;if(!i.selection.getRange().collapsed){i.undoManger.save(!1,!0);s=!1;return}i.undoManger.list.length==0&&i.undoManger.save(!0);clearTimeout(h);function r(n){n.selection.getRange().collapsed&&n.fireEvent("contentchange");n.undoManger.save(!1,!0);n.fireEvent("selectionchange")}h=setTimeout(function(){if(o){var n=setInterval(function(){o||(r(i),clearInterval(n))},300);return}r(i)},200);p=u;c++;c>=b&&r(i)}});e.addListener("keyup",function(n,t){var i=t.keyCode||t.which;if(!y[i]&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&!t.altKey){if(o)return;s||(this.undoManger.save(!1,!0),s=!0)}})};UM.plugins.paste=function(){function f(i){var f=this.document;if(!f.getElementById("baidu_pastebin")){var e=this.selection.getRange(),o=e.createBookmark(),u=f.createElement("div");u.id="baidu_pastebin";r.webkit&&u.appendChild(f.createTextNode(t.fillChar+t.fillChar));this.body.appendChild(u);o.start.style.display="";u.style.cssText="position:absolute;width:1px;height:1px;overflow:hidden;left:-1000px;white-space:nowrap;top:"+n(o.start).position().top+"px";e.selectNodeContents(u).select(!0);setTimeout(function(){if(r.webkit)for(var s=0,h=f.querySelectorAll("#baidu_pastebin"),n;n=h[s++];)if(t.isEmptyNode(n))t.remove(n);else{u=n;break}try{u.parentNode.removeChild(u)}catch(c){}e.moveToBookmark(o).select(!0);i(u)},0)}}function e(n){var e,p,v,w,l,b,h,y,k,c,d,g,f,o,s,a;if(n.firstChild){for(p=t.getElementsByTagName(n,"span"),f=0;v=p[f++];)(v.id=="_baidu_cut_start"||v.id=="_baidu_cut_end")&&t.remove(v);if(r.webkit){for(c=n.querySelectorAll("div br"),f=0;w=c[f++];)l=w.parentNode,l.tagName=="DIV"&&l.childNodes.length==1&&(l.innerHTML="<p><br/><\/p>",t.remove(l));for(b=n.querySelectorAll("#baidu_pastebin"),f=0;h=b[f++];){for(y=u.document.createElement("p"),h.parentNode.insertBefore(y,h);h.firstChild;)y.appendChild(h.firstChild);t.remove(h)}for(k=n.querySelectorAll("meta"),f=0;o=k[f++];)t.remove(o);for(c=n.querySelectorAll("br"),f=0;o=c[f++];)/^apple-/i.test(o.className)&&t.remove(o)}if(r.gecko)for(d=n.querySelectorAll("[_moz_dirty]"),f=0;o=d[f++];)o.removeAttribute("_moz_dirty");if(!r.ie)for(g=n.querySelectorAll("span.Apple-style-span"),f=0;o=g[f++];)t.remove(o,!0);if(e=n.innerHTML,e=UM.filterWord(e),s=UM.htmlparser(e),u.options.filterRules&&UM.filterNode(s,u.options.filterRules),u.filterInputRule(s),r.webkit&&(a=s.lastChild(),a&&a.type=="element"&&a.tagName=="br"&&s.removeChild(a),i.each(u.body.querySelectorAll("div"),function(n){t.isEmptyBlock(n)&&t.remove(n)})),e={html:s.toHtml()},u.fireEvent("beforepaste",e,s),!e.html)return;u.execCommand("insertHtml",e.html,!0);u.fireEvent("afterpaste",e)}}var u=this;u.addListener("ready",function(){n(u.body).on("cut",function(){var n=u.selection.getRange();!n.collapsed&&u.undoManger&&u.undoManger.save()}).on(r.ie||r.opera?"keydown":"paste",function(n){(r.ie||r.opera)&&(!n.ctrlKey&&!n.metaKey||n.keyCode!="86")||f.call(u,function(n){e(n)})})})};UM.plugins.list=function(){var r=this;r.setOpt({insertorderedlist:{decimal:"","lower-alpha":"","lower-roman":"","upper-alpha":"","upper-roman":""},insertunorderedlist:{circle:"",disc:"",square:""}});this.addInputRule(function(n){i.each(n.getNodesByTagName("li"),function(n){n.children.length==0&&n.parentNode.removeChild(n)})});r.commands.insertorderedlist=r.commands.insertunorderedlist={execCommand:function(i){this.document.execCommand(i);var r=this.selection.getRange(),f=r.createBookmark(!0);return this.$body.find("ol,ul").each(function(i,r){var f=r.parentNode;f.tagName=="P"&&f.lastChild===f.firstChild&&(n(r).children().each(function(t,i){var r=f.cloneNode(!1);n(r).append(i.innerHTML);n(i).html("").append(r)}),n(r).insertBefore(f),n(f).remove());u.$inline[f.tagName]&&(f.tagName=="SPAN"&&n(r).children().each(function(t,i){var r=f.cloneNode(!1);if(i.firstChild.nodeName!="P"){while(i.firstChild)r.appendChild(i.firstChild);n("<p><\/p>").appendTo(i).append(r)}else{while(i.firstChild)r.appendChild(i.firstChild);n(i.firstChild).append(r)}}),t.remove(f,!0))}),r.moveToBookmark(f).select(),!0},queryCommandState:function(n){return this.document.queryCommandState(n)}}},function(){var t={textarea:function(n,t){var i=t.ownerDocument.createElement("textarea");return i.style.cssText="resize:none;border:0;padding:0;margin:0;overflow-y:auto;outline:0",r.ie&&r.version<8&&(i.style.width=t.offsetWidth+"px",i.style.height=t.offsetHeight+"px",t.onresize=function(){i.style.width=t.offsetWidth+"px";i.style.height=t.offsetHeight+"px"}),t.appendChild(i),{container:i,setContent:function(n){i.value=n},getContent:function(){return i.value},select:function(){var n;r.ie?(n=i.createTextRange(),n.collapse(!0),n.select()):(i.setSelectionRange(0,0),i.focus())},dispose:function(){t.removeChild(i);t.onresize=null;i=null;t=null}}}};UM.plugins.source=function(){function l(n){return t.textarea(i,n)}var i=this,c=this.options,e=!1,f,s,h,o;c.sourceEditor="textarea";i.setOpt({sourceEditorFirst:!1});s=i.getContent;i.commands.source={execCommand:function(){var t,a,c,o,v;if(e=!e,e)h=i.selection.getRange().createAddress(!1,!0),i.undoManger&&i.undoManger.save(!0),r.gecko&&(i.body.contentEditable=!1),i.body.style.cssText+=";position:absolute;left:-32768px;top:-32768px;",i.fireEvent("beforegetcontent"),t=UM.htmlparser(i.body.innerHTML),i.filterOutputRule(t),t.traversal(function(n){if(n.type=="element")switch(n.tagName){case"td":case"th":case"caption":n.children&&n.children.length==1&&n.firstChild().tagName=="br"&&n.removeChild(n.firstChild());break;case"pre":n.innerText(n.innerText().replace(/&nbsp;/g," "))}}),i.fireEvent("aftergetcontent"),a=t.toHtml(!0),f=l(i.body.parentNode),f.setContent(a),c=function(t){return parseInt(n(i.body).css(t))},n(f.container).width(n(i.body).width()+c("padding-left")+c("padding-right")).height(n(i.body).height()),setTimeout(function(){f.select()}),i.getContent=function(){return f.getContent()||"<p>"+(r.ie?"":"<br/>")+"<\/p>"};else{i.$body.css({position:"",left:"",top:""});o=f.getContent()||"<p>"+(r.ie?"":"<br/>")+"<\/p>";o=o.replace(new RegExp("[\\r\\t\\n ]*<\/?(\\w+)\\s*(?:[^>]*)>","g"),function(n,t){return t&&!u.$inlineWithA[t.toLowerCase()]?n.replace(/(^[\n\r\t ]*)|([\n\r\t ]*$)/g,""):n.replace(/(^[\n\r\t]*)|([\n\r\t]*$)/g,"")});i.setContent(o);f.dispose();f=null;i.getContent=s;v=i.body.firstChild;v||(i.body.innerHTML="<p>"+(r.ie?"":"<br/>")+"<\/p>");i.undoManger&&i.undoManger.save(!0);r.gecko&&(i.body.contentEditable=!0);try{i.selection.getRange().moveToAddress(h).select()}catch(y){}}this.fireEvent("sourcemodechanged",e)},queryCommandState:function(){return e|0},notNeedUndo:1};o=i.queryCommandState;i.queryCommandState=function(n){return(n=n.toLowerCase(),e)?n in{source:1,fullscreen:1}?o.apply(this,arguments):-1:o.apply(this,arguments)}}}();UM.plugins.enterkey=function(){var u,i=this,f=i.options.enterTag;i.addListener("keyup",function(n,f){var v=f.keyCode||f.which,o,h,c,a,s,e,l;if(v==13)if(o=i.selection.getRange(),h=o.startContainer,r.ie)i.fireEvent("saveScene",!0,!0);else{if(/h\d/i.test(u)){if(r.gecko)a=t.findParentByTagName(h,["h1","h2","h3","h4","h5","h6","blockquote","caption","table"],!0),a||(i.document.execCommand("formatBlock",!1,"<p>"),c=1);else if(h.nodeType==1){if(s=i.document.createTextNode(""),o.insertNode(s),e=t.findParentByTagName(s,"div",!0),e){for(l=i.document.createElement("p");e.firstChild;)l.appendChild(e.firstChild);e.parentNode.insertBefore(l,e);t.remove(e);o.setStartBefore(s).setCursor();c=1}t.remove(s)}i.undoManger&&c&&i.undoManger.save()}r.opera&&o.select()}});i.addListener("keydown",function(n,e){var l=e.keyCode||e.which,s;if(l==13){if(i.fireEvent("beforeenterkeydown")){t.preventDefault(e);return}if(i.fireEvent("saveScene",!0,!0),u="",s=i.selection.getRange(),!s.collapsed){var o=s.startContainer,a=s.endContainer,h=t.findParentByTagName(o,"td",!0),c=t.findParentByTagName(a,"td",!0);if(h&&c&&h!==c||!h&&c||h&&!c){e.preventDefault?e.preventDefault():e.returnValue=!1;return}}f=="p"&&(r.ie||(o=t.findParentByTagName(s.startContainer,["ol","ul","p","h1","h2","h3","h4","h5","h6","blockquote","caption"],!0),o||r.opera?(u=o.tagName,o.tagName.toLowerCase()=="p"&&r.gecko&&t.removeDirtyAttr(o)):(i.document.execCommand("formatBlock",!1,"<p>"),r.gecko&&(s=i.selection.getRange(),o=t.findParentByTagName(s.startContainer,"p",!0),o&&t.removeDirtyAttr(o)))))}});r.ie&&i.addListener("setDisabled",function(){n(i.body).find("p").each(function(n,i){t.isEmptyBlock(i)&&(i.innerHTML="&nbsp;")})})};UM.commands.preview={execCommand:function(){var r=window.open("","_blank",""),n=r.document,i=this.getContent(null,null,!0),t=this.getOpt("UMEDITOR_HOME_URL"),u=i.indexOf("mathquill-embedded-latex")!=-1?'<link rel="stylesheet" href="'+t+'third-party/mathquill/mathquill.css"/><script src="'+t+'third-party/jquery.min.js"><\/script><script src="'+t+'third-party/mathquill/mathquill.min.js"><\/script>':"";n.open();n.write("<html><head>"+u+"<\/head><body><div>"+i+"<\/div><\/body><\/html>");n.close()},notNeedUndo:1};UM.plugins.basestyle=function(){var t=this;t.addshortcutkey({Bold:"ctrl+66",Italic:"ctrl+73",Underline:"ctrl+shift+85",strikeThrough:"ctrl+shift+83"});t.addOutputRule(function(t){n.each(t.getNodesByTagName("b i u strike s"),function(n,t){switch(t.tagName){case"b":t.tagName="strong";break;case"i":t.tagName="em";break;case"u":t.tagName="span";t.setStyle("text-decoration","underline");break;case"s":case"strike":t.tagName="span";t.setStyle("text-decoration","line-through")}})});n.each(["bold","underline","superscript","subscript","italic","strikethrough"],function(i,u){t.commands[u]={execCommand:function(n){var i=this.selection.getRange(),t;return i.collapsed&&this.queryCommandState(n)!=1?(t=this.document.createElement({bold:"strong",underline:"u",superscript:"sup",subscript:"sub",italic:"em",strikethrough:"strike"}[n]),i.insertNode(t).setStart(t,0).setCursor(!1),!0):this.document.execCommand(n)},queryCommandState:function(t){if(r.gecko)return this.document.queryCommandState(t);var u=this.selection.getStartElementPath(),i=!1;return n.each(u,function(r,u){switch(t){case"bold":if(u.nodeName=="STRONG"||u.nodeName=="B")return i=1,!1;break;case"underline":if(u.nodeName=="U"||u.nodeName=="SPAN"&&n(u).css("text-decoration")=="underline")return i=1,!1;break;case"superscript":if(u.nodeName=="SUP")return i=1,!1;break;case"subscript":if(u.nodeName=="SUB")return i=1,!1;break;case"italic":if(u.nodeName=="EM"||u.nodeName=="I")return i=1,!1;break;case"strikethrough":if(u.nodeName=="S"||u.nodeName=="STRIKE"||u.nodeName=="SPAN"&&n(u).css("text-decoration")=="line-through")return i=1,!1}}),i}}})};UM.plugins.video=function(){function t(t,i,r,u,f,e){return e?'<embed type="application/x-shockwave-flash" class="edui-faked-video" pluginspage="http://www.macromedia.com/go/getflashplayer" src="'+t+'" width="'+i+'" height="'+r+'"'+(f?' style="float:'+f+'"':"")+' wmode="transparent" play="true" loop="false" menu="false" allowscriptaccess="never" allowfullscreen="true" >':"<img "+(u?'id="'+u+'"':"")+' width="'+i+'" height="'+r+'" _url="'+t+'" class="edui-faked-video" src="'+n.options.UMEDITOR_HOME_URL+'themes/default/images/spacer.gif" style="background:url('+n.options.UMEDITOR_HOME_URL+"themes/default/images/videologo.gif) no-repeat center center; border:1px solid gray;"+(f?"float:"+f+";":"")+'" />'}function r(n,r){i.each(n.getNodesByTagName(r?"img":"embed"),function(n){if(n.getAttr("class")=="edui-faked-video"){var i=t(r?n.getAttr("_url"):n.getAttr("src"),n.getAttr("width"),n.getAttr("height"),null,n.getStyle("float")||"",r);n.parentNode.replaceChild(UM.uNode.createElement(i),n)}})}var n=this;n.addOutputRule(function(n){r(n,!0)});n.addInputRule(function(n){r(n)});n.commands.insertvideo={execCommand:function(r,u){var o,s,e,f,h;for(u=i.isArray(u)?u:[u],o=[],s="tmpVedio",e=0,h=u.length;e<h;e++)f=u[e],f.url=i.unhtml(f.url,/[<">'](?:(amp|lt|quot|gt|#39|nbsp);)?/g),o.push(t(f.url,f.width||420,f.height||280,s+e,f.align,!1));n.execCommand("inserthtml",o.join(""),!0)},queryCommandState:function(){var t=n.selection.getRange().getClosedNode(),i=t&&t.className=="edui-faked-video";return i?1:0}}},function(){UM.Editor.prototype.loadServerConfig=function(){function t(n){console&&console.error(n)}var n=this;setTimeout(function(){try{n.options.imageUrl&&n.setOpt("serverUrl",n.options.imageUrl.replace(/^(.*[\/]).+([\.].+)$/,"$1controller$2"));var r=n.getActionUrl("config"),u=i.isCrossDomainUrl(r);n._serverConfigLoaded=!1;r&&UM.ajax.request(r,{method:"GET",dataType:u?"jsonp":"",onsuccess:function(r){try{var config=u?r:eval("("+r.responseText+")");i.extend(n.options,config);n.fireEvent("serverConfigLoaded");n._serverConfigLoaded=!0}catch(e){t(n.getLang("loadconfigFormatError"))}},onerror:function(){t(n.getLang("loadconfigHttpError"))}})}catch(f){t(n.getLang("loadconfigError"))}})};UM.Editor.prototype.isServerConfigLoaded=function(){var n=this;return n._serverConfigLoaded||!1};UM.Editor.prototype.afterConfigReady=function(n){if(n&&i.isFunction(n)){var t=this,r=function(){n.apply(t,arguments);t.removeListener("serverConfigLoaded",r)};t.isServerConfigLoaded()?n.call(t,"serverConfigLoaded"):t.addListener("serverConfigLoaded",r)}}}();UM.ajax=function(){function n(n){var u=[],t,r;for(t in n)if(t!="method"&&t!="timeout"&&t!="async"&&t!="dataType"&&t!="callback"&&n[t]!=undefined&&n[t]!=null)if((typeof n[t]).toLowerCase()=="function"||(typeof n[t]).toLowerCase()=="object"){if(i.isArray(n[t]))for(r=0;r<n[t].length;r++)u.push(encodeURIComponent(t)+"[]="+encodeURIComponent(n[t][r]))}else u.push(encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return u.join("&")}function f(t,u,f){var o=r(),l=!1,a={method:"POST",timeout:5e3,async:!0,data:{},onsuccess:function(){},onerror:function(){}},s,h;if(typeof t=="object"&&(u=t,t=u.url),o&&t){s=u?i.extend(a,u):a;h=n(s);i.isEmptyObject(s.data)||(h+=(h?"&":"")+n(s.data));var v=setTimeout(function(){o.readyState!=4&&(l=!0,o.abort(),clearTimeout(v))},s.timeout),c=s.method.toUpperCase(),y=t+(t.indexOf("?")==-1?"?":"&")+(c=="POST"?"":h+"&noCache="+ +new Date);return o.open(c,y,s.async),o.onreadystatechange=function(){if(o.readyState==4)if(l||o.status!=200)s.onerror(o);else s.onsuccess(o)},f&&e(o),c=="POST"?(o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send(h)):o.send(null),o}}function e(n){for(var i=document.cookie.split(";"),r,t=0;t<i.length;t++)i[t].indexOf("access_token")>-1&&(r=i[t].split("=")[1]);n.setRequestHeader("Authorization","Bearer "+r)}function u(t,r){function w(n,t,i){n.setAttribute("type","text/javascript");n.setAttribute("defer","defer");i&&n.setAttribute("charset",i);n.setAttribute("src",t);document.getElementsByTagName("head")[0].appendChild(n)}function l(n){return function(){try{if(n)u.onerror&&u.onerror();else try{clearTimeout(v);s.apply(window,arguments)}catch(i){}}catch(t){u.onerror&&u.onerror.call(window,t)}finally{u.oncomplete&&u.oncomplete.apply(window,arguments);e.parentNode&&e.parentNode.removeChild(e);window[f]=null;try{delete window[f]}catch(i){}}}}var s=r.onsuccess||function(){},e=document.createElement("SCRIPT"),u=r||{},p=u.charset,h=u.jsonp||"callback",f,a=u.timeOut||0,v,c=new RegExp("(\\?|&)"+h+"=([^&]*)"),y,o;i.isFunction(s)?(f="bd__editor__"+Math.floor(Math.random()*2147483648).toString(36),window[f]=l(0)):i.isString(s)?f=s:(y=c.exec(t))&&(f=y[2]);t=t.replace(c,"$1"+h+"="+f);t.search(c)<0&&(t+=(t.indexOf("?")<0?"?":"&")+h+"="+f);o=n(r);i.isEmptyObject(r.data)||(o+=(o?"&":"")+n(r.data));o&&(t=t.replace(/\?/,"?"+o+"&"));e.onerror=l(1);a&&(v=setTimeout(l(1),a));w(e,t,p)}var t="XMLHttpRequest()",r;try{new ActiveXObject("Msxml2.XMLHTTP");t="ActiveXObject('Msxml2.XMLHTTP')"}catch(o){try{new ActiveXObject("Microsoft.XMLHTTP");t="ActiveXObject('Microsoft.XMLHTTP')"}catch(o){}}return r=new Function("return new "+t),{request:function(n,t,i){if(t&&t.dataType=="jsonp")u(n,t);else var r=f(n,t,i)},getJSONP:function(n,t,i){var r={data:t,oncomplete:i};u(n,r)}}}();UM.plugins.selectall=function(){var n=this;n.commands.selectall={execCommand:function(){var u=this,n=u.body,i=u.selection.getRange();i.selectNodeContents(n);t.isEmptyBlock(n)&&(r.opera&&n.firstChild&&n.firstChild.nodeType==1&&i.setStartAtFirst(n.firstChild),i.collapse(!0));i.select(!0)},notNeedUndo:1};n.addshortcutkey({selectAll:"ctrl+65"})};UM.plugins.removeformat=function(){var n=this;n.setOpt({removeFormatTags:"b,big,code,del,dfn,em,font,i,ins,kbd,q,samp,small,span,strike,strong,sub,sup,tt,u,var",removeFormatAttributes:"class,style,lang,width,height,align,hspace,valign"});n.commands.removeformat={execCommand:function(n,i,e,o,s){function y(n){var t,i,u;if(n.nodeType==3||n.tagName.toLowerCase()!="span")return 0;if(r.ie&&(t=n.attributes,t.length)){for(i=0,u=t.length;i<u;i++)if(t[i].specified)return 0;return 1}return!n.attributes.length}function w(n){var k=n.createBookmark(),o,r,w,f,i,l,b;for(n.collapsed&&n.enlarge(!0),s||(o=t.findParentByTagName(n.startContainer,"a",!0),o&&n.setStartBefore(o),o=t.findParentByTagName(n.endContainer,"a",!0),o&&n.setEndAfter(o)),h=n.createBookmark(),i=h.start;(c=i.parentNode)&&!t.isBlockElm(c);)t.breakParent(i,c),t.clearEmptySibling(i);if(h.end){for(i=h.end;(c=i.parentNode)&&!t.isBlockElm(c);)t.breakParent(i,c),t.clearEmptySibling(i);for(r=t.getNextDomNode(h.start,!1,v);r;){if(r==h.end)break;w=t.getNextDomNode(r,!0,v);u.$empty[r.tagName.toLowerCase()]||t.isBookmarkNode(r)||(p.test(r.tagName)?e?(t.removeStyle(r,e),y(r)&&e!="text-decoration"&&t.remove(r,!0)):t.remove(r,!0):u.$tableContent[r.tagName]||u.$list[r.tagName]||(t.removeAttributes(r,a),y(r)&&t.remove(r,!0)));r=w}}for(f=h.start.parentNode,!t.isBlockElm(f)||u.$tableContent[f.tagName]||u.$list[f.tagName]||t.removeAttributes(f,a),f=h.end.parentNode,h.end&&t.isBlockElm(f)&&!u.$tableContent[f.tagName]&&!u.$list[f.tagName]&&t.removeAttributes(f,a),n.moveToBookmark(h).moveToBookmark(k),i=n.startContainer,b=n.collapsed;i.nodeType==1&&t.isEmptyNode(i)&&u.$removeEmpty[i.tagName];)l=i.parentNode,n.setStartBefore(i),n.startContainer===n.endContainer&&n.endOffset--,t.remove(i),i=l;if(!b)for(i=n.endContainer;i.nodeType==1&&t.isEmptyNode(i)&&u.$removeEmpty[i.tagName];)l=i.parentNode,n.setEndBefore(i),t.remove(i),i=l}var p=new RegExp("^(?:"+(i||this.options.removeFormatTags).replace(/,/g,"|")+")$","i"),a=e?[]:(o||this.options.removeFormatAttributes).split(","),l=new f.Range(this.document),h,c,v=function(n){return n.nodeType==1};l=this.selection.getRange();l.collapsed||(w(l),l.select())}}};UM.plugins.keystrokes=function(){var i=this,u=!0;i.addListener("keydown",function(f,e){var c=e.keyCode||e.which,o=i.selection.getRange(),h,s,y,a,v,p,l;if(!o.collapsed&&!(e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)&&(c>=65&&c<=90||c>=48&&c<=57||c>=96&&c<=111||{13:1,8:1,46:1}[c])&&(h=o.startContainer,t.isFillChar(h)&&o.setStartBefore(h),h=o.endContainer,t.isFillChar(h)&&o.setEndAfter(h),o.txtToElmBoundary(),o.endContainer&&o.endContainer.nodeType==1&&(h=o.endContainer.childNodes[o.endOffset],h&&t.isBr(h)&&o.setEndAfter(h)),o.startOffset==0&&(h=o.startContainer,t.isBoundaryNode(h,"firstChild")&&(h=o.endContainer,o.endOffset==(h.nodeType==3?h.nodeValue.length:h.childNodes.length)&&t.isBoundaryNode(h,"lastChild"))))){i.fireEvent("saveScene");i.body.innerHTML="<p>"+(r.ie?"":"<br/>")+"<\/p>";o.setStart(i.body.firstChild,0).setCursor(!1,!0);i._selectionChange();return}if(c==8){if(o=i.selection.getRange(),u=o.collapsed,i.fireEvent("delkeydown",e))return;if(o.collapsed&&o.inFillChar()&&(s=o.startContainer,t.isFillChar(s)?(o.setStartBefore(s).shrinkBoundary(!0).collapse(!0),t.remove(s)):(s.nodeValue=s.nodeValue.replace(new RegExp("^"+t.fillChar),""),o.startOffset--,o.collapse(!0).select(!0))),s=o.getClosedNode()){i.fireEvent("saveScene");o.setStartBefore(s);t.remove(s);o.setCursor();i.fireEvent("saveScene");t.preventDefault(e);return}if(!r.ie&&(s=t.findParentByTagName(o.startContainer,"table",!0),y=t.findParentByTagName(o.endContainer,"table",!0),s&&!y||!s&&y||s!==y)){e.preventDefault();return}if(s=o.startContainer,o.collapsed&&s.nodeType==1&&(a=s.childNodes[o.startOffset-1],a&&a.nodeType==1&&a.tagName=="BR"&&(i.fireEvent("saveScene"),o.setStartBefore(a).collapse(!0),t.remove(a),o.select(),i.fireEvent("saveScene"))),r.chrome&&o.collapsed){while(o.startOffset==0&&!t.isEmptyBlock(o.startContainer))o.setStartBefore(o.startContainer);v=o.startContainer.childNodes[o.startOffset-1];v&&v.nodeName=="BR"&&(o.setStartBefore(v),i.fireEvent("saveScene"),n(v).remove(),o.setCursor(),i.fireEvent("saveScene"))}}if(r.gecko&&c==46&&(p=i.selection.getRange(),p.collapsed&&(s=p.startContainer,t.isEmptyBlock(s)))){for(l=s.parentNode;t.getChildCount(l)==1&&!t.isBody(l);)s=l,l=l.parentNode;s===l.lastChild&&e.preventDefault();return}});i.addListener("keyup",function(n,i){var a=i.keyCode||i.which,f,c=this,l,o,s,e,h;if(a==8){if(c.fireEvent("delkeyup"))return;if(f=c.selection.getRange(),f.collapsed){if(l=["h1","h2","h3","h4","h5","h6"],(e=t.findParentByTagName(f.startContainer,l,!0))&&t.isEmptyBlock(e)){if(o=e.previousSibling,o&&o.nodeName!="TABLE"){t.remove(e);f.setStartAtLast(o).setCursor(!1,!0);return}if(s=e.nextSibling,s&&s.nodeName!="TABLE"){t.remove(e);f.setStartAtFirst(s).setCursor(!1,!0);return}}t.isBody(f.startContainer)&&(e=t.createElement(c.document,"p",{innerHTML:r.ie?t.fillChar:"<br/>"}),f.insertNode(e).setStart(e,0).setCursor(!1,!0))}!u&&(f.startContainer.nodeType==3||f.startContainer.nodeType==1&&t.isEmptyBlock(f.startContainer))&&(r.ie?(h=f.document.createElement("span"),f.insertNode(h).setStartBefore(h).collapse(!0),f.select(),t.remove(h)):f.select())}})};UM.plugins.autosave=function(){function f(r){var f=null;if(!(new Date-u<e)){if(!r.hasContents()){t&&i.removeItem(t);return}(u=new Date,r._saveFlag=null,f=n.body.innerHTML,r.fireEvent("beforeautosave",{content:f})!==!1)&&(i.saveLocalData(t,f),r.fireEvent("afterautosave",{content:f}))}}var n=this,u=new Date,e=20,t=null,i;n.setOpt("saveInterval",500);i=UM.LocalStorage=function(){function i(){var n=document.createElement("div");return(n.style.display="none",!n.addBehavior)?null:(n.addBehavior("#default#userdata"),{getItem:function(i){var r=null;try{document.body.appendChild(n);n.load(t);r=n.getAttribute(i);document.body.removeChild(n)}catch(u){}return r},setItem:function(i,r){document.body.appendChild(n);n.setAttribute(i,r);n.save(t);document.body.removeChild(n)},removeItem:function(i){document.body.appendChild(n);n.removeAttribute(i);n.save(t);document.body.removeChild(n)}})}var n=window.localStorage||i()||null,t="localStorage";return{saveLocalData:function(t,i){return n&&i?(n.setItem(t,i),!0):!1},getLocalData:function(t){return n?n.getItem(t):null},removeItem:function(t){n&&n.removeItem(t)}}}();n.addListener("ready",function(){var i="-drafts-data",r=null;r=n.key?n.key+i:(n.container.parentNode.id||"ue-common")+i;t=(location.protocol+location.host+location.pathname).replace(/[.:\/]/g,"_")+r});n.addListener("contentchange",function(){t&&(n._saveFlag&&window.clearTimeout(n._saveFlag),n.options.saveInterval>0?n._saveFlag=window.setTimeout(function(){f(n)},n.options.saveInterval):f(n))});n.commands.clearlocaldata={execCommand:function(){t&&i.getLocalData(t)&&i.removeItem(t)},notNeedUndo:!0,ignoreContentChange:!0};n.commands.getlocaldata={execCommand:function(){return t?i.getLocalData(t)||"":""},notNeedUndo:!0,ignoreContentChange:!0};n.commands.drafts={execCommand:function(){t&&(n.body.innerHTML=i.getLocalData(t)||"<p>"+(r.ie?"&nbsp;":"<br/>")+"<\/p>",n.focus(!0))},queryCommandState:function(){return t?i.getLocalData(t)===null?-1:0:-1},notNeedUndo:!0,ignoreContentChange:!0}};UM.plugins.autoupload=function(){function i(n){return n.clipboardData&&n.clipboardData.items&&n.clipboardData.items.length==1&&/^image\//.test(n.clipboardData.items[0].type)?n.clipboardData.items:null}function r(n){return n.dataTransfer&&n.dataTransfer.files?n.dataTransfer.files:null}var n=this,t;n.setOpt("pasteImageEnabled",!0);n.setOpt("dropFileEnabled",!0);t=function(t,i){var u=new FormData,r;u.append(i.options.imageFieldName||"upfile",t,t.name||"blob."+t.type.substr(6));u.append("type","ajax");r=new XMLHttpRequest;r.open("post",n.options.imageUrl,!0);r.setRequestHeader("X-Requested-With","XMLHttpRequest");r.addEventListener("load",function(e){try{var json=eval("("+e.target.response+")"),link=json.url,picLink=n.options.imagePath+link;i.execCommand("insertimage",{src:picLink,_src:picLink})}catch(er){}});r.send(u)};n.addListener("ready",function(){if(window.FormData&&window.FileReader){var u=function(u){var s=!1,e,o,f;if(e=u.type=="paste"?i(u.originalEvent):r(u.originalEvent),e){for(o=e.length;o--;)f=e[o],f.getAsFile&&(f=f.getAsFile()),f&&f.size>0&&/image\/\w+/i.test(f.type)&&(t(f,n),s=!0);if(s)return!1}};n.getOpt("pasteImageEnabled")&&n.$body.on("paste",u);n.getOpt("dropFileEnabled")&&n.$body.on("drop",u);n.$body.on("dragover",function(n){if(n.originalEvent.dataTransfer.types[0]=="Files")return!1})}})};UM.plugins.formula=function(){function u(){return t.$body.find("iframe.edui-formula-active")[0]||null}function f(){var n=u();n&&n.contentWindow.formula.blur()}var t=this;t.addInputRule(function(r){n.each(r.getNodesByTagName("span"),function(n,r){if(r.hasClass("mathquill-embedded-latex")){for(var u,f="";u=r.firstChild();)f+=u.data,r.removeChild(u);r.tagName="iframe";r.setAttr({frameborder:"0",src:t.getOpt("UMEDITOR_HOME_URL")+"dialogs/formula/formula.html","data-latex":i.unhtml(f)})}})});t.addOutputRule(function(t){n.each(t.getNodesByTagName("iframe"),function(n,t){t.hasClass("mathquill-embedded-latex")&&(t.tagName="span",t.appendChild(UM.uNode.createText(t.getAttr("data-latex"))),t.setAttr({frameborder:"",src:"","data-latex":""}))})});t.addListener("click",function(){f()});t.addListener("afterexeccommand",function(n,t){t!="formula"&&f()});t.commands.formula={execCommand:function(n,i){var f=u();f?f.contentWindow.formula.insertLatex(i):(t.execCommand("inserthtml",'<span class="mathquill-embedded-latex">'+i+"<\/span>"),r.ie&&r.ie9below&&setTimeout(function(){var n=t.selection.getRange(),i=n.startContainer;i.nodeType!=1||i.childNodes[n.startOffset]||(n.insertNode(t.document.createTextNode(" ")),n.setCursor())},100))},queryCommandState:function(){return 0},queryCommandValue:function(){var n=u();return n&&n.contentWindow.formula.getLatex()}}};UM.plugins.xssFilter=function(){function i(t){var i=t.tagName,r=t.attrs;if(!n.hasOwnProperty(i))return t.parentNode.removeChild(t),!1;UM.utils.each(r,function(r,u){n[i].indexOf(u)===-1&&t.setAttr(u)})}var t=UMEDITOR_CONFIG,n=t.whiteList,r;n&&t.xssFilterRules&&(this.options.filterRules=function(){var t={};return UM.utils.each(n,function(n,r){t[r]=function(n){return i(n)}}),t}());r=[];UM.utils.each(n,function(n,t){r.push(t)});n&&t.inputXssFilter&&this.addInputRule(function(n){n.traversal(function(n){if(n.type!=="element")return!1;i(n)})});n&&t.outputXssFilter&&this.addOutputRule(function(n){n.traversal(function(n){if(n.type!=="element")return!1;i(n)})})},function(n){function f(t,r,u){if(t.prototype=n.extend2(n.extend({},r),(UM.ui[u]||i).prototype,!0),t.prototype.supper=(UM.ui[u]||i).prototype,UM.ui[u]&&UM.ui[u].prototype.defaultOpt){var f=UM.ui[u].prototype.defaultOpt,e=t.prototype.defaultOpt;t.prototype.defaultOpt=n.extend({},f,e||{})}return t}function e(i,r){n[t+r]=i;n.fn[t+r]=function(t){var r,u=Array.prototype.slice.call(arguments,1);return this.each(function(f,e){var s=n(e),o=s.edui();if(o||(i(!t||!n.isPlainObject(t)?{}:t,s),s.edui(o)),n.type(t)=="string")if(t=="this")r=o;else{if(r=o[t].apply(o,u),r!==o&&r!==undefined)return!1;r=null}}),r!==null?r:this}}var u;n.parseTmpl=function(n,t){var r="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+n.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/<%=([\s\S]+?)%>/g,function(n,t){return"',obj."+t.replace(/\\'/g,"'")+",'"}).replace(/<%([\s\S]+?)%>/g,function(n,t){return"');"+t.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",i=new Function("obj",r);return t?i(t):i};n.extend2=function(t){for(var i=arguments,e=n.type(i[i.length-1])=="boolean"?i[i.length-1]:!1,o=n.type(i[i.length-1])=="boolean"?i.length-1:i.length,f,u,r=1;r<o;r++){f=i[r];for(u in f)e&&t.hasOwnProperty(u)||(t[u]=f[u])}return t};n.IE6=!!window.ActiveXObject&&parseFloat(navigator.userAgent.match(/msie (\d+)/i)[1])==6;var r=[],i=function(){},t="edui";i.prototype={on:function(t,i){this.root().on(t,n.proxy(i,this));return this},off:function(t,i){return this.root().off(t,n.proxy(i,this)),this},trigger:function(n,t){return this.root().trigger(n,t)===!1?!1:this},root:function(n){return this._$el||(this._$el=n)},destroy:function(){},data:function(n,i){return i!==undefined?(this.root().data(t+n,i),this):this.root().data(t+n)},register:function(t,i,u){r.push({evtname:t,$els:n.isArray(i)?i:[i],handler:n.proxy(u,i)})}};n.fn.edui=function(n){return n?this.data("eduiwidget",n):this.data("eduiwidget")};u=1;UM.ui={define:function(i,r,o){var s=UM.ui[i]=f(function(r,f){var o=function(){},e;if(n.extend(o.prototype,s.prototype,{guid:i+u++,widgetName:i}),e=new o,n.type(r)=="string")return e.init&&e.init({}),e.root().edui(e),e.root().find("a").click(function(n){n.preventDefault()}),e.root()[t+i].apply(e.root(),arguments);f&&e.root(f);e.init&&e.init(!r||n.isPlainObject(r)?n.extend2(r||{},e.defaultOpt||{},!0):r);try{e.root().find("a").click(function(n){n.preventDefault()})}catch(h){}return e.root().edui(e)},r,o);e(s,i)}};n(function(){n(document).on("click mouseup mousedown dblclick mouseover",function(t){n.each(r,function(i,r){r.evtname==t.type&&n.each(r.$els,function(i,u){u[0]===t.target||n.contains(u[0],t.target)||r.handler(t)})})})})}(jQuery);UM.ui.define("button",{tpl:'<<%if(!texttype){%>div class="edui-btn edui-btn-<%=icon%> <%if(name){%>edui-btn-name-<%=name%><%}%>" unselectable="on" onmousedown="return false" <%}else{%>a class="edui-text-btn"<%}%><% if(title) {%> data-original-title="<%=title%>" <%};%>> '+'<% if(icon) {%><div unselectable="on" class="edui-icon-<%=icon%> edui-icon"><\/div><% }; %><%if(text) {%><span unselectable="on" onmousedown="return false" class="edui-button-label"><%=text%><\/span><%}%>'+'<%if(caret && text){%><span class="edui-button-spacing"><\/span><%}%>'+'<% if(caret) {%><span unselectable="on" onmousedown="return false" class="edui-caret"><\/span><% };%><\/<%if(!texttype){%>div<%}else{%>a<%}%>>',defaultOpt:{text:"",title:"",icon:"",width:"",caret:!1,texttype:!1,click:function(){}},init:function(t){var i=this;return i.root(n(n.parseTmpl(i.tpl,t))).click(function(n){i.wrapclick(t.click,n)}),i.root().hover(function(){i.root().hasClass("edui-disabled")||i.root().toggleClass("edui-hover")}),i},wrapclick:function(t,i){return this.disabled()||(this.root().trigger("wrapclick"),n.proxy(t,this,i)()),this},label:function(n){return n===undefined?this.root().find(".edui-button-label").text():(this.root().find(".edui-button-label").text(n),this)},disabled:function(n){return n===undefined?this.root().hasClass("edui-disabled"):(this.root().toggleClass("edui-disabled",n),this.root().hasClass("edui-disabled")&&this.root().removeClass("edui-hover"),this)},active:function(n){return n===undefined?this.root().hasClass("edui-active"):(this.root().toggleClass("edui-active",n),this)},mergeWith:function(t){var i=this;i.data("$mergeObj",t);t.edui().data("$mergeObj",i.root());n.contains(document.body,t[0])||t.appendTo(i.root());i.on("click",function(){i.wrapclick(function(){t.edui().show()})}).register("click",i.root(),function(){t.hide()})}}),function(){UM.ui.define("toolbar",{tpl:'<div class="edui-toolbar"  ><div class="edui-btn-toolbar" unselectable="on" onmousedown="return false"  ><\/div><\/div>',init:function(){var t=this.root(n(this.tpl));this.data("$btnToolbar",t.find(".edui-btn-toolbar"))},appendToBtnmenu:function(t){var i=this.data("$btnToolbar");t=n.isArray(t)?t:[t];n.each(t,function(n,t){i.append(t)})}})}();UM.ui.define("menu",{show:function(t,i,r,u,f){(r=r||"position",this.trigger("beforeshow")!==!1)&&(this.root().css(n.extend({display:"block"},t?{top:t[r]().top+(i=="right"?0:t.outerHeight())-(u||0),left:t[r]().left+(i=="right"?t.outerWidth():0)-(f||0)}:{})),this.trigger("aftershow"))},hide:function(n){var t;this.trigger("beforehide")!==!1&&((t=this.root().data("parentmenu"))&&(t.data("parentmenu")||n)&&t.edui().hide(),this.root().css("display","none"),this.trigger("afterhide"))},attachTo:function(n){var t=this;if(!n.data("$mergeObj")){n.data("$mergeObj",t.root());n.on("wrapclick",function(){t.show()});t.register("click",n,function(){t.hide()});t.data("$mergeObj",n)}}});UM.ui.define("dropmenu",{tmpl:'<ul class="edui-dropdown-menu" aria-labelledby="dropdownMenu" >'+"<%for(var i=0,ci;ci=data[i++];){%>"+'<%if(ci.divider){%><li class="edui-divider"><\/li><%}else{%>'+"<li <%if(ci.active||ci.disabled){%>class=\"<%= ci.active|| '' %> <%=ci.disabled||'' %>\" <%}%> data-value=\"<%= ci.value%>\">"+'<a href="#" tabindex="-1"><em class="edui-dropmenu-checkbox"><i class="edui-icon-ok"><\/i><\/em><%= ci.label%><\/a>'+"<\/li><%}%>"+"<%}%>"+"<\/ul>",defaultOpt:{data:[],click:function(){}},init:function(t){var i=this,r={click:1,mouseover:1,mouseout:1};this.root(n(n.parseTmpl(this.tmpl,t))).on("click",'li[class!="edui-disabled edui-divider edui-dropdown-submenu"]',function(r){n.proxy(t.click,i,r,n(this).data("value"),n(this))()}).find("li").each(function(u,f){var o=n(this),e;o.hasClass("edui-disabled edui-divider edui-dropdown-submenu")||(e=t.data[u],n.each(r,function(t){e[t]&&o[t](function(r){n.proxy(e[t],f)(r,e,i.root)})}))})},disabled:function(t){n("li[class!=edui-divider]",this.root()).each(function(){var i=n(this);t===!0?i.addClass("edui-disabled"):n.isFunction(t)?i.toggleClass("edui-disabled",t(li)):i.removeClass("edui-disabled")})},val:function(t){var i;return n('li[class!="edui-divider edui-disabled edui-dropdown-submenu"]',this.root()).each(function(){var r=n(this);if(t===undefined){if(r.find("em.edui-dropmenu-checked").length)return i=r.data("value"),!1}else r.find("em").toggleClass("edui-dropmenu-checked",r.data("value")==t)}),t===undefined?i:void 0},addSubmenu:function(t,i,r){r=r||0;var u=n("li[class!=edui-divider]",this.root()),f=n('<li class="edui-dropdown-submenu"><a tabindex="-1" href="#">'+t+"<\/a><\/li>").append(i);r>=0&&r<u.length?f.insertBefore(u[r]):r<0?f.insertBefore(u[0]):r>=u.length&&f.appendTo(u)}},"menu");UM.ui.define("splitbutton",{tpl:'<div class="edui-splitbutton <%if (name){%>edui-splitbutton-<%= name %><%}%>"  unselectable="on" <%if(title){%>data-original-title="<%=title%>"<%}%>><div class="edui-btn"  unselectable="on" ><%if(icon){%><div  unselectable="on" class="edui-icon-<%=icon%> edui-icon"><\/div><%}%><%if(text){%><%=text%><%}%><\/div>'+'<div  unselectable="on" class="edui-btn edui-dropdown-toggle" ><div  unselectable="on" class="edui-caret"><\/div><\/div><\/div>',defaultOpt:{text:"",title:"",click:function(){}},init:function(t){var i=this;return i.root(n(n.parseTmpl(i.tpl,t))),i.root().find(".edui-btn:first").click(function(){i.disabled()||n.proxy(t.click,i)()}),i.root().find(".edui-dropdown-toggle").click(function(){i.disabled()||i.trigger("arrowclick")}),i.root().hover(function(){i.root().hasClass("edui-disabled")||i.root().toggleClass("edui-hover")}),i},wrapclick:function(t,i){return this.disabled()||n.proxy(t,this,i)(),this},disabled:function(n){return n===undefined?this.root().hasClass("edui-disabled"):(this.root().toggleClass("edui-disabled",n).find(".edui-btn").toggleClass("edui-disabled",n),this)},active:function(n){return n===undefined?this.root().hasClass("edui-active"):(this.root().toggleClass("edui-active",n).find(".edui-btn:first").toggleClass("edui-active",n),this)},mergeWith:function(t){var i=this;i.data("$mergeObj",t);t.edui().data("$mergeObj",i.root());n.contains(document.body,t[0])||t.appendTo(i.root());i.root().delegate(".edui-dropdown-toggle","click",function(){i.wrapclick(function(){t.edui().show()})});i.register("click",i.root().find(".edui-dropdown-toggle"),function(){t.hide()})}});UM.ui.define("colorsplitbutton",{tpl:'<div class="edui-splitbutton <%if (name){%>edui-splitbutton-<%= name %><%}%>"  unselectable="on" <%if(title){%>data-original-title="<%=title%>"<%}%>><div class="edui-btn"  unselectable="on" ><%if(icon){%><div  unselectable="on" class="edui-icon-<%=icon%> edui-icon"><\/div><%}%><div class="edui-splitbutton-color-label" <%if (color) {%>style="background: <%=color%>"<%}%>><\/div><%if(text){%><%=text%><%}%><\/div>'+'<div  unselectable="on" class="edui-btn edui-dropdown-toggle" ><div  unselectable="on" class="edui-caret"><\/div><\/div><\/div>',defaultOpt:{color:""},init:function(n){var t=this;t.supper.init.call(t,n)},colorLabel:function(){return this.root().find(".edui-splitbutton-color-label")}},"splitbutton");UM.ui.define("popup",{tpl:'<div class="edui-dropdown-menu edui-popup"'+'<%if(!<%=stopprop%>){%>onmousedown="return false"<%}%>'+'><div class="edui-popup-body" unselectable="on" onmousedown="return false"><%=subtpl%><\/div>'+'<div class="edui-popup-caret"><\/div><\/div>',defaultOpt:{stopprop:!1,subtpl:"",width:"",height:""},init:function(t){return this.root(n(n.parseTmpl(this.tpl,t))),this},mergeTpl:function(t){return n.parseTmpl(this.tpl,{subtpl:t})},show:function(t,i){i||(i={});var r=i.fnname||"position";this.trigger("beforeshow")!==!1&&(this.root().css(n.extend({display:"block"},t?{top:t[r]().top+(i.dir=="right"?0:t.outerHeight())-(i.offsetTop||0),left:t[r]().left+(i.dir=="right"?t.outerWidth():0)-(i.offsetLeft||0),position:"absolute"}:{})),this.root().find(".edui-popup-caret").css({top:i.caretTop||0,left:i.caretLeft||0,position:"absolute"}).addClass(i.caretDir||"up"),this.trigger("aftershow"))},hide:function(){this.root().css("display","none");this.trigger("afterhide")},attachTo:function(n,t){var i=this;if(!n.data("$mergeObj")){n.data("$mergeObj",i.root());n.on("wrapclick",function(){i.show(n,t)});i.register("click",n,function(){i.hide()});i.data("$mergeObj",n)}},getBodyContainer:function(){return this.root().find(".edui-popup-body")}});UM.ui.define("scale",{tpl:'<div class="edui-scale" unselectable="on"><span class="edui-scale-hand0"><\/span><span class="edui-scale-hand1"><\/span><span class="edui-scale-hand2"><\/span><span class="edui-scale-hand3"><\/span><span class="edui-scale-hand4"><\/span><span class="edui-scale-hand5"><\/span><span class="edui-scale-hand6"><\/span><span class="edui-scale-hand7"><\/span><\/div>',defaultOpt:{$doc:n(document),$wrap:n(document)},init:function(t){return t.$doc&&(this.defaultOpt.$doc=t.$doc),t.$wrap&&(this.defaultOpt.$wrap=t.$wrap),this.root(n(n.parseTmpl(this.tpl,t))),this.initStyle(),this.startPos=this.prePos={x:0,y:0},this.dragId=-1,this},initStyle:function(){i.cssRule("edui-style-scale",".edui-scale{display:none;position:absolute;border:1px solid #38B2CE;cursor:hand;}.edui-scale span{position:absolute;left:0;top:0;width:7px;height:7px;overflow:hidden;font-size:0px;display:block;background-color:#3C9DD0;}.edui-scale .edui-scale-hand0{cursor:nw-resize;top:0;margin-top:-4px;left:0;margin-left:-4px;}.edui-scale .edui-scale-hand1{cursor:n-resize;top:0;margin-top:-4px;left:50%;margin-left:-4px;}.edui-scale .edui-scale-hand2{cursor:ne-resize;top:0;margin-top:-4px;left:100%;margin-left:-3px;}.edui-scale .edui-scale-hand3{cursor:w-resize;top:50%;margin-top:-4px;left:0;margin-left:-4px;}.edui-scale .edui-scale-hand4{cursor:e-resize;top:50%;margin-top:-4px;left:100%;margin-left:-3px;}.edui-scale .edui-scale-hand5{cursor:sw-resize;top:100%;margin-top:-3px;left:0;margin-left:-4px;}.edui-scale .edui-scale-hand6{cursor:s-resize;top:100%;margin-top:-3px;left:50%;margin-left:-4px;}.edui-scale .edui-scale-hand7{cursor:se-resize;top:100%;margin-top:-3px;left:100%;margin-left:-3px;}")},_eventHandler:function(t){var i=this,u=i.defaultOpt.$doc,r,f;switch(t.type){case"mousedown":r=t.target||t.srcElement;r.className.indexOf("edui-scale-hand")!=-1&&(i.dragId=r.className.slice(-1),i.startPos.x=i.prePos.x=t.clientX,i.startPos.y=i.prePos.y=t.clientY,u.bind("mousemove",n.proxy(i._eventHandler,i)));break;case"mousemove":i.dragId!=-1&&(i.updateContainerStyle(i.dragId,{x:t.clientX-i.prePos.x,y:t.clientY-i.prePos.y}),i.prePos.x=t.clientX,i.prePos.y=t.clientY,i.updateTargetElement());break;case"mouseup":i.dragId!=-1&&(i.dragId=-1,i.updateTargetElement(),f=i.data("$scaleTarget"),f.parent()&&i.attachTo(i.data("$scaleTarget")));u.unbind("mousemove",n.proxy(i._eventHandler,i))}},updateTargetElement:function(){var n=this,t=n.root(),i=n.data("$scaleTarget");i.css({width:t.width(),height:t.height()});n.attachTo(i)},updateContainerStyle:function(n,t){var f=this,i=f.root(),r,u=[[0,0,-1,-1],[0,0,0,-1],[0,0,1,-1],[0,0,-1,0],[0,0,1,0],[0,0,-1,1],[0,0,0,1],[0,0,1,1]];u[n][0]!=0&&(r=parseInt(i.offset().left)+t.x,i.css("left",f._validScaledProp("left",r)));u[n][1]!=0&&(r=parseInt(i.offset().top)+t.y,i.css("top",f._validScaledProp("top",r)));u[n][2]!=0&&(r=i.width()+u[n][2]*t.x,i.css("width",f._validScaledProp("width",r)));u[n][3]!=0&&(r=i.height()+u[n][3]*t.y,i.css("height",f._validScaledProp("height",r)))},_validScaledProp:function(n,t){var i=this.root(),r=this.defaultOpt.$doc,u=function(n,i,r){return n+i>r?r-i:t};t=isNaN(t)?0:t;switch(n){case"left":return t<0?0:u(t,i.width(),r.width());case"top":return t<0?0:u(t,i.height(),r.height());case"width":return t<=0?1:u(t,i.offset().left,r.width());case"height":return t<=0?1:u(t,i.offset().top,r.height())}},show:function(t){var i=this;t&&i.attachTo(t);i.root().bind("mousedown",n.proxy(i._eventHandler,i));i.defaultOpt.$doc.bind("mouseup",n.proxy(i._eventHandler,i));i.root().show();i.trigger("aftershow")},hide:function(){var t=this;t.root().unbind("mousedown",n.proxy(t._eventHandler,t));t.defaultOpt.$doc.unbind("mouseup",n.proxy(t._eventHandler,t));t.root().hide();t.trigger("afterhide")},attachTo:function(n){var t=this,r=n.offset(),u=t.root(),i=t.defaultOpt.$wrap,f=i.offset();t.data("$scaleTarget",n);t.root().css({position:"absolute",width:n.width(),height:n.height(),left:r.left-f.left-parseInt(i.css("border-left-width"))-parseInt(u.css("border-left-width")),top:r.top-f.top-parseInt(i.css("border-top-width"))-parseInt(u.css("border-top-width"))})},getScaleTarget:function(){return this.data("$scaleTarget")[0]}});UM.ui.define("colorpicker",{tpl:function(n){for(var i="ffffff,000000,eeece1,1f497d,4f81bd,c0504d,9bbb59,8064a2,4bacc6,f79646,f2f2f2,7f7f7f,ddd9c3,c6d9f0,dbe5f1,f2dcdb,ebf1dd,e5e0ec,dbeef3,fdeada,d8d8d8,595959,c4bd97,8db3e2,b8cce4,e5b9b7,d7e3bc,ccc1d9,b7dde8,fbd5b5,bfbfbf,3f3f3f,938953,548dd4,95b3d7,d99694,c3d69b,b2a2c7,92cddc,fac08f,a5a5a5,262626,494429,17365d,366092,953734,76923c,5f497a,31859b,e36c09,7f7f7f,0c0c0c,1d1b10,0f243e,244061,632423,4f6128,3f3151,205867,974806,c00000,ff0000,ffc000,ffff00,92d050,00b050,00b0f0,0070c0,002060,7030a0,".split(","),r='<div unselectable="on" onmousedown="return false" class="edui-colorpicker<%if (name){%> edui-colorpicker-<%=name%><%}%>" >'+'<table unselectable="on" onmousedown="return false"><tr><td colspan="10">'+n.lang_themeColor+'<\/td> <\/tr><tr class="edui-colorpicker-firstrow" >',t=0;t<i.length;t++)t&&t%10==0&&(r+="<\/tr>"+(t==60?'<tr><td colspan="10">'+n.lang_standardColor+"<\/td><\/tr>":"")+"<tr"+(t==60?' class="edui-colorpicker-firstrow"':"")+">"),r+=t<70?'<td><a unselectable="on" onmousedown="return false" title="'+i[t]+'" class="edui-colorpicker-colorcell" data-color="#'+i[t]+'" style="background-color:#'+i[t]+";border:solid #ccc;"+(t<10||t>=60?"border-width:1px;":t>=10&&t<20?"border-width:1px 1px 0 1px;":"border-width:0 1px 0 1px;")+'"><\/a><\/td>':"";return r+"<\/tr><\/table><\/div>"},init:function(t){var i=this;i.root(n(n.parseTmpl(i.supper.mergeTpl(i.tpl(t)),t)));i.root().on("click",function(t){i.trigger("pickcolor",n(t.target).data("color"))})}},"popup"),function(){var t="edui-combobox-item",r="edui-combobox-item-hover",u="edui-combobox-checked-icon",i="edui-combobox-item-label";UM.ui.define("combobox",function(){return{tpl:'<ul class="dropdown-menu edui-combobox-menu<%if: ${comboboxName} !==\'\'%> edui-combobox-${comboboxName}<%/if%>" unselectable="on" onmousedown="return false" role="menu" aria-labelledby="dropdownMenu">'+"<%if: ${autoRecord} %>"+"<%for : ${recordStack} as ${recordItem}, ${index}%>"+"<%var : style = ${itemStyles}[${recordItem}]%><%var : record = ${items}[${recordItem}]%>"+'<li class="${itemClassName}<%if: ${selected} == ${recordItem}%> edui-combobox-checked<%/if%>" data-item-index="${recordItem}" unselectable="on" onmousedown="return false">'+'<span class="edui-combobox-icon" unselectable="on" onmousedown="return false"><\/span><label class="${labelClassName}" style="${style}" unselectable="on" onmousedown="return false">${record}<\/label><\/li>'+"<%/for%>"+"<%if: ${index} %>"+'<li class="edui-combobox-item-separator"><\/li>'+"<%/if%>"+"<%/if%>"+"<%for: ${items} as ${item}, ${itemIndex}%>"+"<%var : labelStyle = ${itemStyles}[${itemIndex}]%>"+'<li class="${itemClassName}<%if: ${selected} == ${item} %> edui-combobox-checked<%/if%> edui-combobox-item-${itemIndex}" data-item-index="${itemIndex}" unselectable="on" onmousedown="return false">'+'<span class="edui-combobox-icon" unselectable="on" onmousedown="return false"><\/span><label class="${labelClassName}" style="${labelStyle}" unselectable="on" onmousedown="return false">${item}<\/label><\/li>'+"<%/for%>"+"<\/ul>",defaultOpt:{recordStack:[],items:[],value:[],comboboxName:"",selected:"",autoRecord:!0,recordCount:5},init:function(r){var f=this;n.extend(f._optionAdaptation(r),f._createItemMapping(r.recordStack,r.items),{itemClassName:t,iconClass:u,labelClassName:i});this._transStack(r);f.root(n(UM.utils.render(f.tpl,r)));this.data("options",r).initEvent()},initEvent:function(){var n=this;n.initSelectItem();this.initItemActive()},initSelectItem:function(){var r=this,u="."+i;r.root().delegate("."+t,"click",function(){var i=n(this),t=i.attr("data-item-index");return r.trigger("comboboxselect",{index:t,label:i.find(u).text(),value:r.data("options").value[t]}).select(t),r.hide(),!1})},initItemActive:function(){var i={mouseenter:"addClass",mouseleave:"removeClass"};if(n.IE6)this.root().delegate("."+t,"mouseenter mouseleave",function(t){n(this)[i[t.type]](r)}).one("afterhide",function(){})},select:function(n){var t=this.data("options").itemCount,i=this.data("options").autowidthitem;return(i&&!i.length&&(i=this.data("options").items),t==0)?null:(n<0?n=t+n%t:n>=t&&(n=t-1),this.trigger("changebefore",i[n]),this._update(n),this.trigger("changeafter",i[n]),null)},selectItemByLabel:function(t){var r=this.data("options").itemMapping,u=this,i=null;n.isArray(t)||(t=[t]);n.each(t,function(n,t){return i=r[t],i!==undefined?(u.select(i),!1):void 0})},_transStack:function(t){var r=[],i=-1,u=-1;n.each(t.recordStack,function(f,e){i=t.itemMapping[e];n.isNumeric(i)&&(r.push(i),e==t.selected&&(u=i))});t.recordStack=r;t.selected=u;r=null},_optionAdaptation:function(n){if(!("itemStyles"in n)){n.itemStyles=[];for(var t=0,i=n.items.length;t<i;t++)n.itemStyles.push("")}return n.autowidthitem=n.autowidthitem||n.items,n.itemCount=n.items.length,n},_createItemMapping:function(t,i){var r={},u={recordStack:[],mapping:{}};return n.each(i,function(n,t){r[t]=n}),u.itemMapping=r,n.each(t,function(n,t){r[t]!==undefined&&(u.recordStack.push(r[t]),u.mapping[t]=r[t])}),u},_update:function(t){var i=this.data("options"),r=[],u=null;n.each(i.recordStack,function(n,i){i!=t&&r.push(i)});r.unshift(t);r.length>i.recordCount&&(r.length=i.recordCount);i.recordStack=r;i.selected=t;u=n(UM.utils.render(this.tpl,i));this.root().html(u.html());u=null;r=null}}}(),"menu")}(),function(){UM.ui.define("buttoncombobox",function(){return{defaultOpt:{label:"",title:""},init:function(t){var i=this,r=n.eduibutton({caret:!0,name:t.comboboxName,title:t.title,text:t.label,click:function(){i.show(this.root())}});i.supper.init.call(i,t);i.on("changebefore",function(n,t){r.eduibutton("label",t)});i.data("button",r);i.attachTo(r)},button:function(){return this.data("button")}}}(),"combobox")}();UM.ui.define("modal",{tpl:'<div class="edui-modal" tabindex="-1" ><div class="edui-modal-header"><div class="edui-close" data-hide="modal"><\/div>'+'<h3 class="edui-title"><%=title%><\/h3>'+"<\/div>"+'<div class="edui-modal-body"  style="<%if(width){%>width:<%=width%>px;<%}%>'+'<%if(height){%>height:<%=height%>px;<%}%>">'+" <\/div>"+"<% if(cancellabel || oklabel) {%>"+'<div class="edui-modal-footer"><div class="edui-modal-tip"><\/div>'+'<%if(oklabel){%><div class="edui-btn edui-btn-primary" data-ok="modal"><%=oklabel%><\/div><%}%>'+'<%if(cancellabel){%><div class="edui-btn" data-hide="modal"><%=cancellabel%><\/div><%}%>'+"<\/div>"+"<%}%><\/div>",defaultOpt:{title:"",cancellabel:"",oklabel:"",width:"",height:"",backdrop:!0,keyboard:!0},init:function(t){var i=this;if(i.root(n(n.parseTmpl(i.tpl,t||{}))),i.data("options",t),t.okFn)i.on("ok",n.proxy(t.okFn,i));if(t.cancelFn)i.on("beforehide",n.proxy(t.cancelFn,i));i.root().delegate('[data-hide="modal"]',"click",n.proxy(i.hide,i)).delegate('[data-ok="modal"]',"click",n.proxy(i.ok,i));n('[data-hide="modal"],[data-ok="modal"]',i.root()).hover(function(){n(this).toggleClass("edui-hover")})},toggle:function(){var n=this;return n[n.data("isShown")?"hide":"show"]()},show:function(){var n=this;(n.trigger("beforeshow"),n.data("isShown"))||(n.data("isShown",!0),n.escape(),n.backdrop(function(){n.autoCenter();n.root().show().focus().trigger("aftershow")}))},showTip:function(t){n(".edui-modal-tip",this.root()).html(t).fadeIn()},hideTip:function(){n(".edui-modal-tip",this.root()).fadeOut(function(){n(this).html("")})},autoCenter:function(){n.IE6||this.root().css("margin-left",-(this.root().width()/2))},hide:function(){var n=this;(n.trigger("beforehide"),n.data("isShown"))&&(n.data("isShown",!1),n.escape(),n.hideModal())},escape:function(){var n=this;if(n.data("isShown")&&n.data("options").keyboard)n.root().on("keyup",function(t){t.which==27&&n.hide()});else n.data("isShown")||n.root().off("keyup")},hideModal:function(){var n=this;n.root().hide();n.backdrop(function(){n.removeBackdrop();n.trigger("afterhide")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null},backdrop:function(t){var i=this;i.data("isShown")&&i.data("options").backdrop&&(i.$backdrop=n('<div class="edui-modal-backdrop" />').click(i.data("options").backdrop=="static"?n.proxy(i.root()[0].focus,i.root()[0]):n.proxy(i.hide,i)));i.trigger("afterbackdrop");t&&t()},attachTo:function(n){var t=this;if(!n.data("$mergeObj")){n.data("$mergeObj",t.root());n.on("click",function(){t.toggle(n)});t.data("$mergeObj",n)}},ok:function(){var n=this;(n.trigger("beforeok"),n.trigger("ok",n)!==!1)&&n.hide()},getBodyContainer:function(){return this.root().find(".edui-modal-body")}});UM.ui.define("tooltip",{tpl:'<div class="edui-tooltip" unselectable="on" onmousedown="return false"><div class="edui-tooltip-arrow" unselectable="on" onmousedown="return false"><\/div><div class="edui-tooltip-inner" unselectable="on" onmousedown="return false"><\/div><\/div>',init:function(t){var i=this;i.root(n(n.parseTmpl(i.tpl,t||{})))},content:function(t){var i=this,r=n(t.currentTarget).attr("data-original-title");i.root().find(".edui-tooltip-inner").text(r)},position:function(t){var r=this,i=n(t.currentTarget);r.root().css(n.extend({display:"block"},i?{top:i.outerHeight(),left:(i.outerWidth()-r.root().outerWidth())/2}:{}))},show:function(t){if(!n(t.currentTarget).hasClass("edui-disabled")){var i=this;i.content(t);i.root().appendTo(n(t.currentTarget));i.position(t);i.root().css("display","block")}},hide:function(){var n=this;n.root().css("display","none")},attachTo:function(t){function r(t){var i=this;n.contains(document.body,i.root()[0])||i.root().appendTo(t);i.data("tooltip",i.root());t.each(function(){if(n(this).attr("data-original-title"))n(this).on("mouseenter",n.proxy(i.show,i)).on("mouseleave click",n.proxy(i.hide,i))})}var i=this;n.type(t)==="undefined"?n("[data-original-title]").each(function(t,u){r.call(i,n(u))}):t.data("tooltip")||r.call(i,t)}});UM.ui.define("tab",{init:function(t){var i=this,r=t.selector;if(n.type(r)){i.root(n(r,t.context));i.data("context",t.context);n(r,i.data("context")).on("click",function(n){i.show(n)})}},show:function(t){var i=this,r=n(t.target),s=r.closest("ul"),u,f,e,t,o;(u=r.attr("data-context"),u=u&&u.replace(/.*(?=#[^\s]*$)/,""),o=r.parent("li"),o.length&&!o.hasClass("edui-active"))&&((f=s.find(".edui-active:last a")[0],t=n.Event("beforeshow",{target:r[0],relatedTarget:f}),i.trigger(t),t.isDefaultPrevented())||(e=n(u,i.data("context")),i.activate(r.parent("li"),s),i.activate(e,e.parent(),function(){i.trigger({type:"aftershow",relatedTarget:f})})))},activate:function(t,i,r){if(t===undefined)return n(".edui-tab-item.edui-active",this.root()).index();var u=i.find("> .edui-active");u.removeClass("edui-active");t.addClass("edui-active");r&&r()}});UM.ui.define("separator",{tpl:'<div class="edui-separator" unselectable="on" onmousedown="return false" ><\/div>',init:function(t){var i=this;return i.root(n(n.parseTmpl(i.tpl,t))),i}}),function(){var e={},t={},o=[],c=null,u={},s={},h={},f=null;i.extend(UM,{defaultWidth:500,defaultHeight:500,registerUI:function(n,t){i.each(n.split(/\s+/),function(n){e[n]=t})},setEditor:function(n){t[n.id]||(t[n.id]=n)},registerWidget:function(t,i,r){u[t]=n.extend2(i,{$root:"",_preventDefault:!1,root:function(n){return this.$root||(this.$root=n)},preventDefault:function(){this._preventDefault=!0},clear:!1});r&&(s[t]=r)},getWidgetData:function(n){return u[n]},setWidgetBody:function(t,r,f){f._widgetData||i.extend(f,{_widgetData:{},getWidgetData:function(n){return this._widgetData[n]},getWidgetCallback:function(n){var t=this;return function(){return s[n].apply(t,[t,r].concat(Array.prototype.slice.call(arguments,0)))}}});var e=u[t];if(!e)return null;e=f._widgetData[t];e||(e=u[t],e=f._widgetData[t]=n.type(e)=="function"?e:i.clone(e));e.root(r.edui().getBodyContainer());e.initContent(f,r);e._preventDefault||e.initEvent(f,r);e.width&&r.width(e.width)},setActiveWidget:function(n){c=n},getEditor:function(n,i){var r=t[n]||(t[n]=this.createEditor(n,i));return f=f?Math.max(r.getOpt("zIndex"),f):r.getOpt("zIndex"),r},setTopEditor:function(i){n.each(t,function(n,t){i==t?i.$container&&i.$container.css("zIndex",f+1):t.$container&&t.$container.css("zIndex",t.getOpt("zIndex"))})},clearCache:function(n){t[n]&&delete t[n]},delEditor:function(n){var i;(i=t[n])&&i.destroy()},ready:function(n){o.push(n)},createEditor:function(t,i){function f(){var u=this.createUI("#"+t,r),i;r.key=t;r.ready(function(){n.each(o,function(t,i){n.proxy(i,r)()})});i=r.options;i.minFrameWidth=i.initialFrameWidth?i.initialFrameWidth:i.initialFrameWidth=r.$body.width()||UM.defaultWidth;u.css({width:i.initialFrameWidth,zIndex:r.getOpt("zIndex")});UM.browser.ie&&UM.browser.version===6&&document.execCommand("BackgroundImageCache",!1,!0);r.render(t);n.eduitooltip&&n.eduitooltip("attachTo",n("[data-original-title]",u)).css("z-index",r.getOpt("zIndex")+1);u.find("a").click(function(n){n.preventDefault()});r.fireEvent("afteruiready")}var r=new UM.Editor(i),u=this;return r.langIsReady?n.proxy(f,u)():r.addListener("langReady",n.proxy(f,u)),r},createUI:function(t,i){var f=n(t),u=n('<div class="edui-container"><div class="edui-editor-body"><\/div><\/div>').insertBefore(f),o;return i.$container=u,i.container=u[0],i.$body=f,r.ie&&r.ie9above&&(o=n('<span style="padding:0;margin:0;height:0;width:0"><\/span>'),o.insertAfter(u)),n.each(e,function(n,t){var r=t.call(i,n);r&&(h[n]=r)}),u.find(".edui-editor-body").append(f).before(this.createToolbar(i.options,i)),u.find(".edui-toolbar").append(n('<div class="edui-dialog-container"><\/div>')),u},createToolbar:function(t){var r=n.eduitoolbar(),u=r.edui(),i;return t.toolbar&&t.toolbar.length?(i=[],n.each(t.toolbar,function(t,r){n.each(r.split(/\s+/),function(t,r){if(r=="|")n.eduiseparator&&i.push(n.eduiseparator());else{var u=h[r];r=="fullscreen"?u&&i.unshift(u):u&&i.push(u)}});i.length&&u.appendToBtnmenu(i)})):r.find(".edui-btn-toolbar").remove(),r}})}();UM.registerUI("bold italic redo undo underline strikethrough superscript subscript insertorderedlist insertunorderedlist cleardoc selectall link unlink print preview justifyleft justifycenter justifyright justifyfull removeformat horizontal drafts button",function(t){var r=this,i=n.eduibutton({icon:t,click:function(){r.execCommand(t)},title:this.getLang("labelMap")[t]||""});return this.addListener("selectionchange",function(){var n=this.queryCommandState(t);i.edui().disabled(n==-1).active(n==1)}),i}),function(){function i(n){var t=this;if(!n)throw new Error("invalid params, notfound editor");t.editor=n;r[n.uid]=this;n.addListener("destroy",function(){delete r[n.uid];t.editor=null})}var u={},f=["width","height","position","top","left","margin","padding","overflowX","overflowY"],e={},o={},s={},r={};UM.registerUI("fullscreen",function(t){var r=this,u=n.eduibutton({icon:"fullscreen",title:r.options.labelMap&&r.options.labelMap[t]||r.getLang("labelMap."+t),click:function(){r.execCommand(t);UM.setTopEditor(r)}});return r.addListener("selectionchange",function(){var n=this.queryCommandState(t);u.edui().disabled(n==-1).active(n==1)}),r.addListener("ready",function(){r.options.fullscreen&&i.getInstance(r).toggle()}),u});UM.commands.fullscreen={execCommand:function(){i.getInstance(this).toggle()},queryCommandState:function(){return this._edui_fullscreen_status},notNeedUndo:1};i.prototype={toggle:function(){var n=this.editor,t=this.isFullState();n.fireEvent("beforefullscreenchange",!t);this.update(!t);t?this.revert():this.enlarge();n.fireEvent("afterfullscreenchange",!t);n.body.contentEditable==="true"&&n.fireEvent("fullscreenchanged",!t);n.fireEvent("selectionchange")},enlarge:function(){this.saveSataus();this.setDocumentStatus();this.resize()},revert:function(){var t=this.editor.options,i=/%$/.test(t.initialFrameHeight)?"100%":t.initialFrameHeight-this.getStyleValue("padding-top")-this.getStyleValue("padding-bottom")-this.getStyleValue("border-width");n.IE6&&this.getEditorHolder().style.setExpression("height","this.scrollHeight <= "+i+' ? "'+i+'px" : "auto"');this.revertContainerStatus();this.revertContentAreaStatus();this.revertDocumentStatus()},update:function(n){this.editor._edui_fullscreen_status=n},resize:function(){var f=null,e=0,o=0,u=0,h=0,r=this.editor,c=this,s=null,i=null;this.isFullState()&&(f=n(window),o=f.width(),e=f.height(),i=this.getEditorHolder(),u=parseInt(t.getComputedStyle(i,"border-width"),10)||0,u+=parseInt(t.getComputedStyle(r.container,"border-width"),10)||0,h+=parseInt(t.getComputedStyle(i,"padding-left"),10)+parseInt(t.getComputedStyle(i,"padding-right"),10)||0,n.IE6&&i.style.setExpression("height",null),s=this.getBound(),n(r.container).css({width:o+"px",height:e+"px",position:n.IE6?"absolute":"fixed",top:s.top,left:s.left,margin:0,padding:0,overflowX:"hidden",overflowY:"hidden"}),n(i).css({width:o-2*u-h+"px",height:e-2*u-(r.options.withoutToolbar?0:n(".edui-toolbar",r.container).outerHeight())-n(".edui-bottombar",r.container).outerHeight()+"px",overflowX:"hidden",overflowY:"auto"}))},saveSataus:function(){for(var e=this.editor.container.style,t=null,i={},n=0,r=f.length;n<r;n++)t=f[n],i[t]=e[t];u[this.editor.uid]=i;this.saveContentAreaStatus();this.saveDocumentStatus()},saveContentAreaStatus:function(){var t=n(this.getEditorHolder());e[this.editor.uid]={width:t.css("width"),overflowX:t.css("overflowX"),overflowY:t.css("overflowY"),height:t.css("height")}},saveDocumentStatus:function(){var t=n(this.getEditorDocumentBody());o[this.editor.uid]={overflowX:t.css("overflowX"),overflowY:t.css("overflowY")};s[this.editor.uid]={overflowX:n(this.getEditorDocumentElement()).css("overflowX"),overflowY:n(this.getEditorDocumentElement()).css("overflowY")}},revertContainerStatus:function(){n(this.editor.container).css(this.getEditorStatus())},revertContentAreaStatus:function(){var t=this.getEditorHolder(),i=this.getContentAreaStatus();this.supportMin()&&(delete i.height,t.style.height=null);n(t).css(i)},revertDocumentStatus:function(){var t=this.getDocumentStatus();n(this.getEditorDocumentBody()).css("overflowX",t.body.overflowX);n(this.getEditorDocumentElement()).css("overflowY",t.html.overflowY)},setDocumentStatus:function(){n(this.getEditorDocumentBody()).css({overflowX:"hidden",overflowY:"hidden"});n(this.getEditorDocumentElement()).css({overflowX:"hidden",overflowY:"hidden"})},isFullState:function(){return!!this.editor._edui_fullscreen_status},getEditorStatus:function(){return u[this.editor.uid]},getContentAreaStatus:function(){return e[this.editor.uid]},getEditorDocumentElement:function(){return this.editor.container.ownerDocument.documentElement},getEditorDocumentBody:function(){return this.editor.container.ownerDocument.body},getEditorHolder:function(){return this.editor.body},getDocumentStatus:function(){return{body:o[this.editor.uid],html:s[this.editor.uid]}},supportMin:function(){var n=null;return this._support||(n=document.createElement("div"),this._support="minWidth"in n.style,n=null),this._support},getBound:function(){var t={html:!0,body:!0},i={top:0,left:0},r=null;return n.IE6?(r=this.editor.container.offsetParent,r&&!t[r.nodeName.toLowerCase()]&&(t=r.getBoundingClientRect(),i.top=-t.top,i.left=-t.left),i):i},getStyleValue:function(n){return parseInt(t.getComputedStyle(this.getEditorHolder(),n))}};n.extend(i,{listen:function(){var t=null;if(!i._hasFullscreenListener){i._hasFullscreenListener=!0;n(window).on("resize",function(){t!==null&&(window.clearTimeout(t),t=null);t=window.setTimeout(function(){for(var n in r)r[n].resize();t=null},50)})}},getInstance:function(n){return r[n.uid]||new i(n),r[n.uid]}});i.listen()}();UM.registerUI("link image video map formula attachment",function(t){var r=this,e,f,u={title:r.options.labelMap&&r.options.labelMap[t]||r.getLang("labelMap."+t),url:r.options.UMEDITOR_HOME_URL+"dialogs/"+t+"/"+t+".js"},o=n.eduibutton({icon:t,title:this.getLang("labelMap")[t]||""});return i.loadFile(document,{src:u.url,tag:"script",type:"text/javascript",defer:"defer"},function(){var i=UM.getWidgetData(t),s,h;i&&(i.buttons&&(s=i.buttons.ok,s&&(u.oklabel=s.label||r.getLang("ok"),s.exec&&(u.okFn=function(){return n.proxy(s.exec,null,r,f)()})),h=i.buttons.cancel,h&&(u.cancellabel=h.label||r.getLang("cancel"),h.exec&&(u.cancelFn=function(){return n.proxy(h.exec,null,r,f)()}))),i.width&&(u.width=i.width),i.height&&(u.height=i.height),f=n.eduimodal(u),f.attr("id","edui-dialog-"+t).addClass("edui-dialog-"+t).find(".edui-modal-body").addClass("edui-dialog-"+t+"-body"),f.edui().on("beforehide",function(){var n=r.selection.getRange();n.equals(e)&&n.select()}).on("beforeshow",function(){var i=this.root(),o=null,u=null;e=r.selection.getRange();i.parent()[0]||r.$container.find(".edui-dialog-container").append(i);n.IE6&&(o={width:n(window).width(),height:n(window).height()},u=i.parents(".edui-toolbar")[0].getBoundingClientRect(),i.css({position:"absolute",margin:0,left:(o.width-i.width())/2-u.left,top:100-u.top}));UM.setWidgetBody(t,f,r);UM.setTopEditor(r)}).on("afterbackdrop",function(){this.$backdrop.css("zIndex",r.getOpt("zIndex")+1).appendTo(r.$container.find(".edui-dialog-container"));f.css("zIndex",r.getOpt("zIndex")+2)}).on("beforeok",function(){try{e.select()}catch(n){}}).attachTo(o))}),r.addListener("selectionchange",function(){var n=this.queryCommandState(t);o.edui().disabled(n==-1).active(n==1)}),o});UM.registerUI("emotion formula",function(t){var r=this,f=r.options.UMEDITOR_HOME_URL+"dialogs/"+t+"/"+t+".js",u=n.eduibutton({icon:t,title:this.getLang("labelMap")[t]||""});return i.loadFile(document,{src:f,tag:"script",type:"text/javascript",defer:"defer"},function(){var e={url:f},i=UM.getWidgetData(t);i.width&&(e.width=i.width);i.height&&(e.height=i.height);n.eduipopup(e).css("zIndex",r.options.zIndex+1).addClass("edui-popup-"+t).edui().on("beforeshow",function(){var n=this.root();n.parent().length||r.$container.find(".edui-dialog-container").append(n);UM.setWidgetBody(t,n,r);UM.setTopEditor(r)}).attachTo(u,{offsetTop:-5,offsetLeft:10,caretLeft:11,caretTop:-8});r.addListener("selectionchange",function(){var n=this.queryCommandState(t);u.edui().disabled(n==-1).active(n==1)})}),u});UM.registerUI("imagescale",function(){var t=this,i;t.setOpt("imageScaleEnabled",!0);r.webkit&&t.getOpt("imageScaleEnabled")&&(t.addListener("click",function(r,u){var h=t.selection.getRange(),f=h.getClosedNode(),c=u.target,e,o,s;if(f&&f.tagName=="IMG"&&c==f){if(!i){i=n.eduiscale({$wrap:t.$container}).css("zIndex",t.options.zIndex);t.$container.append(i);e=function(){i.edui().hide()};o=function(n){var t=n.target||n.srcElement;t&&t.className.indexOf("edui-scale")==-1&&e(n)};i.edui().on("aftershow",function(){n(document).bind("keydown",e);n(document).bind("mousedown",o);t.selection.getNative().removeAllRanges()}).on("afterhide",function(){n(document).unbind("keydown",e);n(document).unbind("mousedown",o);var r=i.edui().getScaleTarget();r.parentNode&&t.selection.getRange().selectNode(r).select()}).on("mousedown",function(n){t.selection.getNative().removeAllRanges();var r=n.target||n.srcElement;r&&r.className.indexOf("edui-scale-hand")==-1&&(s=setTimeout(function(){i.edui().hide()},200))}).on("mouseup",function(n){var t=n.target||n.srcElement;t&&t.className.indexOf("edui-scale-hand")==-1&&clearTimeout(s)})}i.edui().show(n(f))}else i&&i.css("display")!="none"&&i.edui().hide()}),t.addListener("click",function(n,i){if(i.target.tagName=="IMG"){var r=new f.Range(t.document,t.body);r.selectNode(i.target).select()}}))});UM.registerUI("autofloat",function(){var u=this,o=u.getLang(),e,f;(u.setOpt({autoFloatEnabled:!0,topOffset:0}),e=u.options.autoFloatEnabled!==!1,f=u.options.topOffset,e)&&u.ready(function(){function b(){return UM.ui?1:(alert(o.autofloatMsg),0)}function k(){var n=document.body.style;n.backgroundImage='url("about:blank")';n.backgroundAttachment="fixed"}function g(){if(!c){var i=t.getXY(e),n=t.getComputedStyle(e,"position"),o=t.getComputedStyle(e,"left");e.style.width=e.offsetWidth+"px";e.style.zIndex=u.options.zIndex*1+1;e.parentNode.insertBefore(h,e);a||w&&r.ie?(e.style.position!="absolute"&&(e.style.position="absolute"),e.style.top=(document.body.scrollTop||document.documentElement.scrollTop)-y+f+"px"):e.style.position!="fixed"&&(e.style.position="fixed",e.style.top=f+"px",(n=="absolute"||n=="relative")&&parseFloat(o)&&(e.style.left=i.x+"px"))}}function l(){h.parentNode&&h.parentNode.removeChild(h);e.style.cssText=v}function s(){var n=d(u.container),t=u.options.toolbarTopOffset||0;n.top<0&&n.bottom-e.offsetHeight>t?g():l()}var a=r.ie&&r.version<=6,w=r.quirks,v,h=document.createElement("div"),e,y,d=function(n){var i,r,u;try{i=n.getBoundingClientRect()}catch(f){i={left:0,top:0,height:0,width:0}}for(r={left:Math.round(i.left),top:Math.round(i.top),height:Math.round(i.bottom-i.top),width:Math.round(i.right-i.left)};(u=n.ownerDocument)!==document&&(n=t.getWindow(u).frameElement);)i=n.getBoundingClientRect(),r.left+=i.left,r.top+=i.top;return r.bottom=r.top+r.height,r.right=r.left+r.width,r},c=!1,p=i.defer(function(){s()},r.ie?200:100,!0);if(u.addListener("destroy",function(){n(window).off("scroll resize",s);u.removeListener("keydown",p)}),b(u)){e=n(".edui-toolbar",u.container)[0];u.addListener("afteruiready",function(){setTimeout(function(){y=n(e).offset().top},100)});v=e.style.cssText;h.style.height=e.offsetHeight+"px";a&&k();n(window).on("scroll resize",s);u.addListener("keydown",p);u.addListener("resize",function(){l();h.style.height=e.offsetHeight+"px";s()});u.addListener("beforefullscreenchange",function(n,t){t&&(l(),c=t)});u.addListener("fullscreenchanged",function(n,t){t||s();c=t});u.addListener("sourcemodechanged",function(){setTimeout(function(){s()},0)});u.addListener("clearDoc",function(){setTimeout(function(){s()},0)})}})});UM.registerUI("source",function(t){var i=this,r;return i.addListener("fullscreenchanged",function(){i.$container.find("textarea").width(i.$body.width()-10).height(i.$body.height())}),r=n.eduibutton({icon:t,click:function(){i.execCommand(t);UM.setTopEditor(i)},title:this.getLang("labelMap")[t]||""}),this.addListener("selectionchange",function(){var n=this.queryCommandState(t);r.edui().disabled(n==-1).active(n==1)}),r});UM.registerUI("paragraph fontfamily fontsize",function(t){function e(t,i){var r=n("<span>").html(t).css({display:"inline",position:"absolute",top:-1e7,left:-1e5}).appendTo(document.body),u=r.width();return r.remove(),r=null,u<50?t:(t=t.slice(0,i?-4:-1),!t.length)?"...":e(t+"...",!0)}function s(n){var i=[],t;for(t in n.items)n.value.push(t),i.push(t),n.autowidthitem.push(e(t));return n.items=i,n.autoRecord=!1,n}function h(n){for(var i=null,r=[],t=0,u=n.items.length;t<u;t++)i=n.items[t].val,r.push(i.split(/\s*,\s*/)[0]),n.itemStyles.push("font-family: "+i),n.value.push(i),n.autowidthitem.push(e(r[t]));return n.items=r,n}function c(n){var i=null,r=[],t,u;for(n.itemStyles=[],n.value=[],t=0,u=n.items.length;t<u;t++)i=n.items[t],r.push(i),n.itemStyles.push("font-size: "+i+"px");return n.value=n.items,n.items=r,n.autoRecord=!1,n}var i=this,o=i.options.labelMap&&i.options.labelMap[t]||i.getLang("labelMap."+t),r={label:o,title:o,comboboxName:t,items:i.options[t]||[],itemStyles:[],value:[],autowidthitem:[]},f=null,u=null;if(r.items.length==0)return null;switch(t){case"paragraph":r=s(r);break;case"fontfamily":r=h(r);break;case"fontsize":r=c(r)}f=n.eduibuttoncombobox(r).css("zIndex",i.getOpt("zIndex")+1);u=f.edui();u.on("comboboxselect",function(n,r){i.execCommand(t,r.value)}).on("beforeshow",function(){f.parent().length===0&&f.appendTo(i.$container.find(".edui-dialog-container"));UM.setTopEditor(i)});return this.addListener("selectionchange",function(){var i=this.queryCommandState(t),n=this.queryCommandValue(t);u.button().edui().disabled(i==-1).active(i==1);n&&(n=n.replace(/['"]/g,"").toLowerCase().split(/['|"]?\s*,\s*[\1]?/),u.selectItemByLabel(n))}),u.button().addClass("edui-combobox")});UM.registerUI("forecolor backcolor",function(i){function o(){return t.getComputedStyle(e[0],"background-color")}var r=this,f=null,e=null,u=null;return this.addListener("selectionchange",function(){var n=this.queryCommandState(i);u.edui().disabled(n==-1).active(n==1)}),u=n.eduicolorsplitbutton({icon:i,caret:!0,name:i,title:r.getLang("labelMap")[i],click:function(){r.execCommand(i,o())}}),e=u.edui().colorLabel(),f=n.eduicolorpicker({name:i,lang_clearColor:r.getLang("clearColor")||"",lang_themeColor:r.getLang("themeColor")||"",lang_standardColor:r.getLang("standardColor")||""}).on("pickcolor",function(n,t){window.setTimeout(function(){e.css("backgroundColor",t);r.execCommand(i,t)},0)}).on("show",function(){UM.setActiveWidget(colorPickerWidget.root())}).css("zIndex",r.getOpt("zIndex")+1),u.edui().on("arrowclick",function(){f.parent().length||r.$container.find(".edui-dialog-container").append(f);f.edui().show(u,{caretDir:"down",offsetTop:-5,offsetLeft:8,caretLeft:11,caretTop:-8});UM.setTopEditor(r)}).register("click",u,function(){f.edui().hide()}),u})}(jQuery);UM.I18N["zh-cn"]={labelMap:{anchor:"éç¹",undo:"æ¤é",redo:"éå",bold:"å ç²",indent:"é¦è¡ç¼©è¿",snapscreen:"æªå¾",italic:"æä½",underline:"ä¸åçº¿",strikethrough:"å é¤çº¿",subscript:"ä¸æ ",fontborder:"å­ç¬¦è¾¹æ¡",superscript:"ä¸æ ",formatmatch:"æ ¼å¼å·",source:"æºä»£ç ",blockquote:"å¼ç¨",pasteplain:"çº¯ææ¬ç²è´´æ¨¡å¼",selectall:"å¨é",print:"æå°",preview:"é¢è§",horizontal:"åéçº¿",removeformat:"æ¸é¤æ ¼å¼",time:"æ¶é´",date:"æ¥æ",unlink:"åæ¶é¾æ¥",insertrow:"åæå¥è¡",insertcol:"åæå¥å",mergeright:"å³åå¹¶ååæ ¼",mergedown:"ä¸åå¹¶ååæ ¼",deleterow:"å é¤è¡",deletecol:"å é¤å",splittorows:"æåæè¡",splittocols:"æåæå",splittocells:"å®å¨æåååæ ¼",mergecells:"åå¹¶å¤ä¸ªååæ ¼",deletetable:"å é¤è¡¨æ ¼",cleardoc:"æ¸ç©ºææ¡£",insertparagraphbeforetable:"è¡¨æ ¼åæå¥è¡",insertcode:"ä»£ç è¯­è¨",fontfamily:"å­ä½",fontsize:"å­å·",paragraph:"æ®µè½æ ¼å¼",image:"å¾ç",edittable:"è¡¨æ ¼å±æ§",edittd:"ååæ ¼å±æ§",link:"è¶é¾æ¥",emotion:"è¡¨æ",spechars:"ç¹æ®å­ç¬¦",searchreplace:"æ¥è¯¢æ¿æ¢",map:"ç¾åº¦å°å¾",gmap:"Googleå°å¾",video:"è§é¢",help:"å¸®å©",justifyleft:"å±å·¦å¯¹é½",justifyright:"å±å³å¯¹é½",justifycenter:"å±ä¸­å¯¹é½",justifyjustify:"ä¸¤ç«¯å¯¹é½",forecolor:"å­ä½é¢è²",backcolor:"èæ¯è²",insertorderedlist:"æåºåè¡¨",insertunorderedlist:"æ åºåè¡¨",fullscreen:"å¨å±",directionalityltr:"ä»å·¦åå³è¾å¥",directionalityrtl:"ä»å³åå·¦è¾å¥",rowspacingtop:"æ®µåè·",rowspacingbottom:"æ®µåè·",highlightcode:"æå¥ä»£ç ",pagebreak:"åé¡µ",insertframe:"æå¥Iframe",imagenone:"é»è®¤",imageleft:"å·¦æµ®å¨",imageright:"å³æµ®å¨",attachment:"éä»¶",imagecenter:"å±ä¸­",wordimage:"å¾çè½¬å­",lineheight:"è¡é´è·",edittip:"ç¼è¾æç¤º",customstyle:"èªå®ä¹æ é¢",autotypeset:"èªå¨æç",webapp:"ç¾åº¦åºç¨",touppercase:"å­æ¯å¤§å",tolowercase:"å­æ¯å°å",background:"èæ¯",template:"æ¨¡æ¿",scrawl:"æ¶é¸¦",music:"é³ä¹",inserttable:"æå¥è¡¨æ ¼",drafts:"èç¨¿ç®±",formula:"æ°å­¦å¬å¼"},paragraph:{p:"æ®µè½",h1:"æ é¢ 1",h2:"æ é¢ 2",h3:"æ é¢ 3",h4:"æ é¢ 4",h5:"æ é¢ 5",h6:"æ é¢ 6"},fontfamily:{songti:"å®ä½",kaiti:"æ¥·ä½",heiti:"é»ä½",lishu:"é¶ä¹¦",yahei:"å¾®è½¯éé»",andaleMono:"andale mono",arial:"arial",arialBlack:"arial black",comicSansMs:"comic sans ms",impact:"impact",timesNewRoman:"times new roman"},ok:"ç¡®è®¤",cancel:"åæ¶",closeDialog:"å³é­å¯¹è¯æ¡",tableDrag:"è¡¨æ ¼æå¨å¿é¡»å¼å¥uiUtils.jsæä»¶ï¼",autofloatMsg:"å·¥å·æ æµ®å¨ä¾èµç¼è¾å¨UIï¼æ¨é¦åéè¦å¼å¥UIæä»¶!",anthorMsg:"é¾æ¥",clearColor:"æ¸ç©ºé¢è²",standardColor:"æ åé¢è²",themeColor:"ä¸»é¢é¢è²",property:"å±æ§","default":"é»è®¤",modify:"ä¿®æ¹",justifyleft:"å·¦å¯¹é½",justifyright:"å³å¯¹é½",justifycenter:"å±ä¸­",justify:"é»è®¤",clear:"æ¸é¤",anchorMsg:"éç¹","delete":"å é¤",clickToUpload:"ç¹å»ä¸ä¼ ",unset:"å°æªè®¾ç½®è¯­è¨æä»¶",t_row:"è¡",t_col:"å",more:"æ´å¤",pasteOpt:"ç²è´´éé¡¹",pasteSourceFormat:"ä¿çæºæ ¼å¼",tagFormat:"åªä¿çæ ç­¾",pasteTextFormat:"åªä¿çææ¬",image:{static:{lang_tab_local:"æ¬å°ä¸ä¼ ",lang_tab_imgSearch:"ç½ç»å¾ç",lang_input_dragTip:"æ¯æå¾çææ½ä¸ä¼ ",lang_btn_add:"æ·»å "},uploadError:"ä¸ä¼ åºé"},attachment:{static:{lang_tab_upload:"ä¸ä¼ éä»¶",lang_tab_online:"å¨çº¿éä»¶",lang_start_upload:"å¼å§ä¸ä¼ ",lang_drop_remind:"å¯ä»¥å°æä»¶æå°è¿éï¼åæ¬¡æå¤å¯é100ä¸ªæä»¶"},uploadSelectFile:"ç¹å»éæ©æä»¶",uploadAddFile:"ç»§ç»­æ·»å ",uploadStart:"å¼å§ä¸ä¼ ",uploadPause:"æåä¸ä¼ ",uploadContinue:"ç»§ç»­ä¸ä¼ ",uploadRetry:"éè¯ä¸ä¼ ",uploadDelete:"å é¤",uploadTurnLeft:"åå·¦æè½¬",uploadTurnRight:"åå³æè½¬",uploadPreview:"é¢è§ä¸­",updateStatusReady:"éä¸­_ä¸ªæä»¶ï¼å±_KBã",updateStatusConfirm:"å·²æåä¸ä¼ _ä¸ªæä»¶ï¼_ä¸ªæä»¶ä¸ä¼ å¤±è´¥",updateStatusFinish:"å±_ä¸ªï¼_KBï¼ï¼_ä¸ªä¸ä¼ æå",updateStatusError:"ï¼_å¼ ä¸ä¼ å¤±è´¥ã",errorNotSupport:"WebUploader ä¸æ¯ææ¨çæµè§å¨ï¼å¦æä½ ä½¿ç¨çæ¯IEæµè§å¨ï¼è¯·å°è¯åçº§ flash æ­æ¾å¨ã",errorLoadConfig:"åç«¯éç½®é¡¹æ²¡ææ­£å¸¸å è½½ï¼ä¸ä¼ æä»¶ä¸è½æ­£å¸¸ä½¿ç¨ï¼",errorExceedSize:"æä»¶å¤§å°è¶åº",errorFileType:"æä»¶æ ¼å¼ä¸åè®¸",errorInterrupt:"æä»¶ä¼ è¾ä¸­æ­",errorUploadRetry:"ä¸ä¼ å¤±è´¥ï¼è¯·éè¯",errorHttp:"httpè¯·æ±éè¯¯",errorServerUpload:"æå¡å¨è¿ååºé"},emotion:{static:{lang_input_choice:"ç²¾é",lang_input_Tuzki:"åæ¯åº",lang_input_BOBO:"BOBO",lang_input_lvdouwa:"ç»¿è±è",lang_input_babyCat:"babyç«",lang_input_bubble:"æ³¡æ³¡",lang_input_youa:"æå"}},gmap:{static:{lang_input_address:"å°å",lang_input_search:"æç´¢",address:{value:"åäº¬"}},searchError:"æ æ³å®ä½å°è¯¥å°å!"},link:{static:{lang_input_text:"ææ¬åå®¹ï¼",lang_input_url:"é¾æ¥å°åï¼",lang_input_title:"æ é¢ï¼",lang_input_target:"æ¯å¦å¨æ°çªå£æå¼ï¼"},validLink:"åªæ¯æéä¸­ä¸ä¸ªé¾æ¥æ¶çæ",httpPrompt:"æ¨è¾å¥çè¶é¾æ¥ä¸­ä¸åå«httpç­åè®®åç§°ï¼é»è®¤å°ä¸ºæ¨æ·»å http://åç¼"},map:{static:{lang_city:"åå¸",lang_address:"å°å",city:{value:"åäº¬"},lang_search:"æç´¢",lang_dynamicmap:"æå¥å¨æå°å¾"},cityMsg:"è¯·éæ©åå¸",errorMsg:"æ±æ­ï¼æ¾ä¸å°è¯¥ä½ç½®ï¼"},video:{static:{lang_tab_insertV:"æå¥è§é¢",lang_video_url:"è§é¢ç½å",lang_video_size:"è§é¢å°ºå¯¸",lang_videoW:"å®½åº¦",lang_videoH:"é«åº¦",lang_alignment:"å¯¹é½æ¹å¼",videoSearchTxt:{value:"è¯·è¾å¥æç´¢å³é®å­ï¼"},videoType:{options:["å¨é¨","ç­é¨","å¨±ä¹","æç¬","ä½è²","ç§æ","ç»¼èº"]},videoSearchBtn:{value:"ç¾åº¦ä¸ä¸"},videoSearchReset:{value:"æ¸ç©ºç»æ"}},numError:"è¯·è¾å¥æ­£ç¡®çæ°å¼ï¼å¦123,400",floatLeft:"å·¦æµ®å¨",floatRight:"å³æµ®å¨","default":"é»è®¤",block:"ç¬å ä¸è¡",urlError:"è¾å¥çè§é¢å°åæè¯¯ï¼è¯·æ£æ¥ååè¯ï¼",loading:" &nbsp;è§é¢å è½½ä¸­ï¼è¯·ç­å¾â¦â¦",clickToSelect:"ç¹å»éä¸­",goToSource:"è®¿é®æºè§é¢",noVideo:" &nbsp; &nbsp;æ±æ­ï¼æ¾ä¸å°å¯¹åºçè§é¢ï¼è¯·éè¯ï¼"},formula:{static:{lang_tab_common:"å¸¸ç¨å¬å¼",lang_tab_symbol:"ç¬¦å·",lang_tab_letter:"å­æ¯"}}}
function IEVersion(){var n=navigator.userAgent,i=n.indexOf("compatible")>-1&&n.indexOf("MSIE")>-1,u=n.indexOf("Edge")>-1&&!i,f=n.indexOf("Trident")>-1&&n.indexOf("rv:11.0")>-1,r,t;return i?(r=new RegExp("MSIE (\\d+\\.\\d+);"),r.test(n),t=parseFloat(RegExp.$1),t==7?7:t==8?8:t==9?9:t==10?10:6):u?"edge":f?11:-1}function dateTimeFormat(n,t){var r={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()},i;/(y+)/.test(n)&&(n=n.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));for(i in r)new RegExp("("+i+")").test(n)&&(n=n.replace(RegExp.$1,RegExp.$1.length==1?r[i]:("00"+r[i]).substr((""+r[i]).length)));return n}function lfForm(n){var t;deviceFn=function(n){var t=navigator.userAgent.toLowerCase(),r=function(n){var i=new RegExp(n+"/([^\\s\\_\\-]+)");return n=(t.match(i)||[])[1],n||!1},i={os:function(){return/windows/.test(t)?"windows":/linux/.test(t)?"linux":/mac/.test(t)?"mac":/iphone|ipod|ipad|ios/.test(t)?"ios":void 0}(),ie:function(){return!!window.ActiveXObject||"ActiveXObject"in window?(t.match(/msie\s(\d+)/)||[])[1]||"11":!1}(),weixin:r("micromessenger")};return n&&!i[n]&&(i[n]=r(n)),i.android=/android/.test(t),i.ios=i.os==="ios",i};Layeach=function(n,t){var r=this,i;if(typeof t!="function")return r;if(n=n||[],n.constructor===Object){for(i in n)if(t.call(n[i],i,n[i]))break}else for(i=0;i<n.length;i++)if(t.call(n[i],i,n[i]))break;return r};t={};t.event={};Layonevent=function(n,i,r){return typeof n!="string"||typeof r!="function"?this:(t.event[n+"."+i]=[r],this)};Layevent=function(n,i,r){var o=this,u=null,f=i.match(/\(.*\)$/)||[],s=(i=n+"."+i).replace(f,""),e=function(n,t){var i=t&&t.call(o,r);i===!1&&u===null&&(u=!1)};return Layeach(t.event[s],e),f[0]&&Layeach(t.event[i],e),u};var s=window.layer,r=deviceFn(),u="form",f=".lf-form",i=function(){this.config={verify:{required:[/[\S]+/,"必填项不能为空"],phone:[/^1\d{10}$/,"请输入正确的手机号"],email:[/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,"邮箱格式不正确"],url:[/(^#)|(^http(s*):\/\/[^\s]+\.[^\s]+)/,"链接格式不正确"],number:[/^\d+$/,"只能填写数字"],date:[/^(\d{4})[-\/](\d{1}|0\d{1}|1[0-2])([-\/](\d{1}|0\d{1}|[1-2][0-9]|3[0-1]))*$/,"日期格式不正确"],identity:[/(^\d{15}$)|(^\d{17}(x|X|\d)$)/,"请输入正确的身份证号"]}}};i.prototype.set=function(n){var t=this;return $.extend(!0,t.config,n),t};i.prototype.verify=function(n){var t=this;return $.extend(!0,t.config.verify,n),t};i.prototype.on=function(n,t){return Layonevent(u,n,t)};var e=function(){var i=$(this),n=o.config.verify,t=null,e="learnfuture_dangerous",h={},c=i.parents(f),l=c.find("*[lf-verify]"),a=i.parents("form")[0],v=c.find("input,select,textarea"),y=i.attr("lf-filter");return(Layeach(l,function(i,u){var f=$(this),c=f.attr("lf-verify").split("|"),o="",h=f.val();return f.removeClass(e),Layeach(c,function(i,c){var l=typeof n[c]=="function";if(n[c]&&(l?o=n[c](h,u):!n[c][0].test(h)))return s.msg(o||n[c][1],{icon:5,shift:6}),r.android||r.ios||u.focus(),f.addClass(e),t=!0}),t?t:void 0}),t)?!1:(Layeach(v,function(n,t){t.name&&(!/^checkbox|radio$/.test(t.type)||t.checked)&&(h[t.name]=t.value)}),Layevent.call(this,u,"submit("+y+")",{elem:this,form:a,field:h}))},o=new i,h=$(document);h.on("submit",f,e).on("click","*[lf-submit]",e);return o.set(n)}for(var app=angular.module("O2OWebApp",["webApiService","ngSanitize","ui.bootstrap","ui.router","utilServices","exclusiveUtilServices","O2ODirective","O2OController","ngBusy","cgBusy","ngNotify"]),controllers=angular.module("O2OController",[]),directives=angular.module("O2ODirective",[]),cookies=document.cookie.split(";"),curWwwPath=window.document.location.href,protocol=window.location.protocol,host=window.location.host,reqCount=0,req401Count=0,access_token,loadingInstance,loadingStack,randomIndex,linkTargetTo,i=0;i<cookies.length;i++)cookies[i].indexOf("access_token")>-1&&(access_token=cookies[i].split("=")[1]);loadingInstance=null;app.config(["$stateProvider","$urlRouterProvider","$httpProvider",function(n,t,i){i.interceptors.push(["$rootScope","$q",function(){return{request:function(n){return n.headers.Authorization="Bearer "+access_token,n}}}]);n.state("MyStudy",{url:"/mystudy",controller:"MyStudyCtrl",templateUrl:"/Client/Views/UserCenter/MyStudy.html"}).state("MyOrder",{url:"/newmyorder",controller:"NewMyOrderCtrl",templateUrl:"/Client/Views/UserCenter/NewMyOrder.html"}).state("MyClass",{url:"/myclass",controller:"MyClassCtrl",templateUrl:"/Client/Views/UserCenter/Class/MyClass.html"}).state("ClassIndex",{url:"/classindex/:Id",controller:"ClassIndexCtrl",templateUrl:"/Client/Views/UserCenter/Class/ClassIndex.html"}).state("ClassInfo",{url:"/classinfo/:Id",controller:"ClassInfoCtrl",templateUrl:"/Client/Views/UserCenter/Class/ClassInfo.html"}).state("ClassStudy",{url:"/classstudy/:Id",controller:"ClassStudyCtrl",templateUrl:"/Client/Views/UserCenter/Class/ClassStudy.html"}).state("Classmates",{url:"/classmates/:Id",controller:"ClassmatesCtrl",templateUrl:"/Client/Views/UserCenter/Class/Classmates.html"}).state("TopicDetail",{url:"/topicdetail/:Id/:ClassID",controller:"TopicDetailCtrl",templateUrl:"/Client/Views/UserCenter/Class/TopicDetail.html"}).state("ClassLab",{url:"/ClassLab/:Id/:ClassID",controller:"ClassLabCtrl",templateUrl:"/Client/Views/UserCenter/Class/ClassLab.html"}).state("ClassShare",{url:"/classshare/:Id",controller:"ClassShareCtrl",templateUrl:"/Client/Views/UserCenter/Class/ClassShare.html"}).state("ClassManage",{url:"/classmanage/:Id",controller:"ClassManageCtrl",templateUrl:"/Client/Views/UserCenter/Class/ClassManage.html"}).state("MyStep",{url:"/mystep",controller:"MyStepCtrl",templateUrl:"/Client/Views/UserCenter/MyStep.html"}).state("MyCredentials",{url:"/mycredentials",controller:"MyCredentialsCtrl",templateUrl:"/Client/Views/UserCenter/MyCredentials.html"}).state("MySetting",{url:"/mysetting",controller:"MySettingCtrl",templateUrl:"/Client/Views/UserCenter/MySetting.html"}).state("MyLearningCurrency",{url:"/mylearningcurrency",controller:"MyLearningCurrencyCtrl",templateUrl:"/Client/Views/UserCenter/MyLearningCurrency.html"}).state("MyLive",{url:"/mylive",controller:"MyLiveCtrl",templateUrl:"/Client/Views/UserCenter/MyLive.html"}).state("MyMemberLevel",{url:"/mymemberlevel",controller:"MyMemberLevelCtrl",templateUrl:"/Client/Views/UserCenter/MyMemberLevel.html"}).state("MyMessage",{url:"/mymessage",controller:"MyMessageCtrl",templateUrl:"/Client/Views/UserCenter/MyMessage.html"}).state("NeedsResearch",{url:"/needsresearch/:Id/:ClassID/:Type",controller:"NeedsResearchCtrl",templateUrl:"/Client/Views/UserCenter/NeedsResearch.html"}).state("CredentialsDetail",{url:"/credentialsdetail/:Id",controller:"CredentialsDetailCtrl",templateUrl:"/Client/Views/UserCenter/CredentialsDetail.html"}).state("MyCoupon",{url:"/mycoupon",controller:"MyCouponCtrl",templateUrl:"/Client/Views/UserCenter/MyCoupon.html"}).state("OrderDetail",{url:"/orderdetail/:id",controller:"OrderDetailCtrl",templateUrl:"/Client/Views/UserCenter/OrderDetail.html"}).state("StudyCenter",{url:"/studycenter",controller:"StudyCenterCtrl",templateUrl:"/Client/Views/UserCenter/StudyCenter.html"});i.interceptors.push("authHttpResponseInterceptor");i.defaults.headers.get||(i.defaults.headers.get={});i.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";i.defaults.headers.get["Cache-Control"]="no-cache";i.defaults.headers.get.Pragma="no-cache";i.interceptors.push("authHttpResponseInterceptor")}]).factory("authHttpResponseInterceptor",["$q","loading",function(n){return{request:function(n){return n&&n.showLoadingTip&&loadingInstance==null&&(n.method=="GET"?loadingInstance=layer.msg("正在加载中，请耐心等待....",{icon:16,shade:.2,time:0}):n.method=="POST"&&(loadingInstance=layer.msg("正在请求中，请耐心等待....",{icon:16,shade:.2,time:0}))),n},response:function(t){return layer.close(loadingInstance),loadingInstance=null,t||n.when(t)},responseError:function(t){if(t.config.url.toLowerCase().indexOf("/publiclive/ask")>-1&&t.status!=401)return{Success:!1};if(t.config.url.toLowerCase().indexOf("/publiclive/sendstatement")>-1&&t.status!=401)return{Success:!1};if(t.config.url.toLowerCase().indexOf("/publiclive/getlivingroom")>-1&&t.status!=401)return{};if(t.config.url.toLowerCase().indexOf("/publiclive/getlivinginfo")>-1&&t.status!=401)return{};if(t.config.url.toLowerCase().indexOf("/publiclive/updatereplaystudentlearntime")>-1&&t.status!=401)return{};if(t.status===500&&!t.config.ignoreErrorTips){$("#id-global-tips").css("display","block");var i=t.data.Message}return t.status===401&&req401Count<=1&&(t.data&&t.data.Code==401?(layer.msg(t.data.Message,{icon:5,time:1e7}),req401Count++,location.href=protocol+"//"+window.location.host+"/usercenter/index"):location.href=protocol+"//"+window.location.host+"/Account/Login/?ReturnUrl="+encodeURIComponent(curWwwPath)),n.reject(t)}}}]),function(n,t,i){"use strict";t.module("ngBusy.interceptor",[]).provider("busyInterceptor",function(){this.$get=["$rootScope","$q",function(n,t){function f(){i=r=0}function u(t){t.config.notBusy||(n.$broadcast("busy.end",{url:t.config.url,name:t.config.name,remaining:i-++r}),r>=i&&f())}var i=0,r=0;return{outstanding:function(){return i-r},request:function(r){return r.notBusy||(n.$broadcast("busy.begin",{url:r.url,name:r.name}),i++),r||t.when(r)},response:function(n){return u(n),n},responseError:function(n){return u(n),t.reject(n)}}}]}).config(["$httpProvider",function(n){n.interceptors.push("busyInterceptor")}]);t.module("ngBusy.busy",[]).directive("busy",["$parse","$timeout",function(n,r){return{restrict:"A",tranclude:!0,scope:{},controller:["$scope",function(n){this.setBusyMessageElement=function(t){n.busyMessageElement=t}}],link:function(u,f,e){e.$observe("busy",function(n){u.busyMessage=n});e.$observe("busyWhenUrl",function(n){u.busyWhenUrl=n!=i?sourceUrl+n:n});e.$observe("busyWhenName",function(n){u.busyWhenName=n});e.$observe("busyAddClasses",function(n){u.busyAddClasses=n});e.$observe("busyRemoveClasses",function(n){u.busyRemoveClasses=n});e.$observe("busyDisabled",function(i){var r=n(i)(u);u.busyDisabled=t.isDefined(r)?r:!0});e.$observe("notBusyWhenUrl",function(n){u.notBusyWhenUrl=n!=i?sourceUrl+n:n});e.$observe("notBusyWhenName",function(n){u.notBusyWhenName=n});e.$observe("notBusyAddClasses",function(n){u.notBusyAddClasses=n});e.$observe("notBusyRemoveClasses",function(n){u.notBusyRemoveClasses=n});e.$observe("notBusyDisabled",function(i){var r=n(i)(u);u.notBusyDisabled=t.isDefined(r)?r:!1});u.isBusyFor=function(n,t){var i;return u[i=t?"busyWhenName":"notBusyWhenName"]?n.name==u[i]:u[i=t?"busyWhenUrl":"notBusyWhenUrl"]?n.url==u[i]:t===!0||n.remaining<=0};u.$on("busy.begin",function(n,t){if(!u.busy&&u.isBusyFor(t,!0)){u.originalContent=f.html();u.busyDisabled&&r(function(){f.attr("disabled",!0)});var i=u.busyMessageElement?u.busyMessageElement.clone():null;(i||u.busyMessage)&&f.html("").append(i||u.busyMessage);f.removeClass(u.busyRemoveClasses).addClass(u.busyAddClasses);u.busy=!0}});u.$on("busy.end",function(n,t){u.busy&&u.isBusyFor(t)&&(u.originalContent&&f.html(u.originalContent),f.attr("disabled",u.notBusyDisabled===!0),f.removeClass(u.notBusyRemoveClasses).addClass(u.notBusyAddClasses),u.busy=!1)})}}}]).directive("busyMessage",function(){return{restrict:"AE",transclude:!0,require:"^busy",template:"",replace:!0,compile:function(n,t,i){return function(n,t,r,u){u.setBusyMessageElement(i(n,function(){}))}}}});t.module("ngBusy",["ngBusy.interceptor","ngBusy.busy"])}(window,window.angular);angular.module("cgBusy",[]);angular.module("cgBusy").factory("_cgBusyTrackerFactory",["$timeout","$q",function(n,t){return function(){var i={},r;return i.promises=[],i.delayPromise=null,i.durationPromise=null,i.delayJustFinished=!1,i.reset=function(t){(i.minDuration=t.minDuration,i.promises=[],angular.forEach(t.promises,function(n){n&&!n.$cgBusyFulfilled&&r(n)}),i.promises.length!==0)&&(i.delayJustFinished=!1,t.delay&&(i.delayPromise=n(function(){i.delayPromise=null;i.delayJustFinished=!0},parseInt(t.delay,10))),t.minDuration&&(i.durationPromise=n(function(){i.durationPromise=null},parseInt(t.minDuration,10)+(t.delay?parseInt(t.delay,10):0))))},i.isPromise=function(n){var t=n&&(n.then||n.$then||n.$promise&&n.$promise.then);return typeof t!="undefined"},i.callThen=function(n,i,r){var u,f;n.then||n.$then?u=n:n.$promise?u=n.$promise:n.denodeify&&(u=t.when(n));f=u.then||u.$then;f.call(u,i,r)},r=function(n){if(!i.isPromise(n))throw new Error("cgBusy expects a promise (or something that has a .promise or .$promise");i.promises.indexOf(n)===-1&&(i.promises.push(n),i.callThen(n,function(){(n.$cgBusyFulfilled=!0,i.promises.indexOf(n)!==-1)&&i.promises.splice(i.promises.indexOf(n),1)},function(){(n.$cgBusyFulfilled=!0,i.promises.indexOf(n)!==-1)&&i.promises.splice(i.promises.indexOf(n),1)}))},i.active=function(){return i.delayPromise?!1:i.delayJustFinished?(i.delayJustFinished=!1,i.promises.length===0&&(i.durationPromise=null),i.promises.length>0):i.durationPromise?!0:i.promises.length>0},i}}]);angular.module("cgBusy").value("cgBusyDefaults",{});angular.module("cgBusy").directive("cgBusy",["$compile","$templateCache","cgBusyDefaults","$http","_cgBusyTrackerFactory",function(n,t,i,r,u){return{restrict:"A",link:function(f,e,o){var v=e.css("position"),s,l,y,h,p,c,a;(v==="static"||v===""||typeof v=="undefined")&&e.css("position","relative");c=u();a={templateUrl:"angular-busy.html",delay:0,minDuration:0,backdrop:!0,message:"Please Wait...",wrapperClass:"cg-busy cg-busy-animation"};angular.extend(a,i);f.$watchCollection(o.cgBusy,function(i){if(i||(i={promise:null}),angular.isString(i))throw new Error("Invalid value for cg-busy. cgBusy no longer accepts string ids to represent promises/trackers.");(angular.isArray(i)||c.isPromise(i))&&(i={promise:i});i=angular.extend(angular.copy(a),i);i.templateUrl||(i.templateUrl=a.templateUrl);angular.isArray(i.promise)||(i.promise=[i.promise]);h||(h=f.$new());h.$message=i.message;var u=angular.equals(c.promises,i.promise);u||c.reset({promises:i.promise,delay:i.delay,minDuration:i.minDuration});h.$cgBusyIsActive=function(){return c.active()};s&&y===i.templateUrl&&p===i.backdrop||(s&&s.remove(),l&&l.remove(),y=i.templateUrl,p=i.backdrop,r.get(y,{cache:t}).then(function(t){var u,r;i.backdrop=typeof i.backdrop=="undefined"?!0:i.backdrop;i.backdrop&&(u='<div class="cg-busy cg-busy-backdrop cg-busy-backdrop-animation ng-hide" ng-show="$cgBusyIsActive()"><\/div>',l=n(u)(h),e.append(l));r='<div class="'+i.wrapperClass+' ng-hide" ng-show="$cgBusyIsActive()">'+t.data+"<\/div>";switch(i.type){case 1:r='<td class="'+i.wrapperClass+' ng-hide" ng-show="$cgBusyIsActive()" style="height: 50px;position:relative;" colspan="'+i.colspan+'">'+t.data+"<\/td>"}s=n(r)(h);angular.element(s.children()[0]).css("position","absolute").css("top",0).css("left",0).css("right",0).css("bottom",0);e.append(s)},function(n){throw new Error("Template specified for cgBusy ("+i.templateUrl+") could not be loaded. "+n);}))},!0)}}}]);angular.module("cgBusy").run(["$templateCache",function(n){"use strict";n.put("angular-busy.html",'<div class="cg-busy-default-wrapper">\n\n   <div class="cg-busy-default-sign">\n\n      <div class="cg-busy-default-spinner">\n         <div class="bar1"><\/div>\n         <div class="bar2"><\/div>\n         <div class="bar3"><\/div>\n         <div class="bar4"><\/div>\n         <div class="bar5"><\/div>\n         <div class="bar6"><\/div>\n         <div class="bar7"><\/div>\n         <div class="bar8"><\/div>\n         <div class="bar9"><\/div>\n         <div class="bar10"><\/div>\n         <div class="bar11"><\/div>\n         <div class="bar12"><\/div>\n      <\/div>\n\n      <div class="cg-busy-default-text">{{$message}}<\/div>\n\n   <\/div>\n\n<\/div>');n.put("angular-busy-forTable.html",'<div class="cg-busy-default-wrapper" >\n\n   <div class="cg-busy-default-sign" style="background: none; border: none; box-shadow: none;">\n\n      <div class="cg-busy-default-spinner">\n         <div class="bar1"><\/div>\n         <div class="bar2"><\/div>\n         <div class="bar3"><\/div>\n         <div class="bar4"><\/div>\n         <div class="bar5"><\/div>\n         <div class="bar6"><\/div>\n         <div class="bar7"><\/div>\n         <div class="bar8"><\/div>\n         <div class="bar9"><\/div>\n         <div class="bar10"><\/div>\n         <div class="bar11"><\/div>\n         <div class="bar12"><\/div>\n      <\/div>\n\n      <div class="cg-busy-default-text">{{$message}}<\/div>\n\n   <\/div>\n\n<\/div>')}]);var sourceUrl="http://api.learnfuture.com/",sourceRoute=sourceUrl+"api",guacamoleUrl="http://116.62.244.57:8080/guacamole/#/",fileType="/",POST="POST",GET="GET";services=angular.module("webApiService",["ngResource","utilServices"]);services.factory("ProductService",["$resource",function(n){return n(sourceRoute+"/Product/:actionName"+fileType,{},{GetNotRelatedItems:{method:GET,params:{actionName:"GetNotRelatedItems"},isArray:!0},GetByCategoryId:{method:GET,params:{actionName:"GetByCategoryId"},isArray:!0},GetList:{method:GET,params:{actionName:"GetList"},isArray:!0},GetById:{method:GET,params:{actionName:"GetById"},isArray:!1},Update:{method:POST,params:{actionName:"Update"},isArray:!1},Create:{method:POST,params:{actionName:"Create"},isArray:!1},CreateAndCheckIn:{method:POST,params:{actionName:"CreateAndCheckIn"},isArray:!1},UpdateAndCheckIn:{method:POST,params:{actionName:"UpdateAndCheckIn"},isArray:!1},CheckIn:{method:POST,params:{actionName:"CheckIn"},isArray:!1},CheckOut:{method:POST,params:{actionName:"CheckOut"},isArray:!1},Delete:{method:POST,params:{actionName:"Delete"},isArray:!1},RemoveRelation:{method:POST,params:{actionName:"RemoveRelation"},isArray:!1},AddRelation:{method:POST,params:{actionName:"AddRelation"},isArray:!1},GetLearningRouteById:{method:GET,params:{actionName:"GetLearningRouteById"},isArray:!1},GetByParentId:{method:GET,params:{actionName:"GetByParentId"},isArray:!0},GetPageList:{method:GET,params:{actionName:"GetPageList"},isArray:!1}})}]);services.factory("ProductCategoryService",["$resource",function(n){return n(sourceRoute+"/ProductCategory/:actionName"+fileType,{},{GetAll:{method:GET,params:{actionName:"GetAll"},isArray:!0},GetByParentId:{method:GET,params:{actionName:"GetByParentId"},isArray:!0},GetById:{method:GET,params:{actionName:"GetById"},isArray:!1},Update:{method:POST,params:{actionName:"Update"},isArray:!1},Create:{method:POST,params:{actionName:"Create"},isArray:!1},Delete:{method:POST,params:{actionName:"Delete"},isArray:!1},Enable:{method:POST,params:{actionName:"Enable"},isArray:!1},Disable:{method:POST,params:{actionName:"Disable"},isArray:!1},GetProductMenuSummary:{method:GET,params:{actionName:"GetProductMenuSummary"},isArray:!1},GetProductMenu:{method:GET,params:{actionName:"GetProductMenu"},isArray:!1},GetCourseCategories:{method:GET,params:{actionName:"GetCourseCategories"},isArray:!0}})}]);services.factory("OrganizationService",["$resource",function(n){return n(sourceRoute+"/Organization/:actionName"+fileType,{},{GetAll:{method:GET,params:{actionName:"GetAll"},isArray:!0},Edit:{method:POST,params:{actionName:"Edit"},isArray:!1},Create:{method:POST,params:{actionName:"Create"},isArray:!1}})}]);services.factory("CertificationService",["$resource",function(n){return n(sourceRoute+"/Certification/:actionName"+fileType,{},{GetPageList:{method:GET,params:{actionName:"GetPageList"},isArray:!1}})}]);services.factory("SMSService",["$resource",function(n){return n(sourceRoute+"/SMS/:actionName"+fileType,{},{Send:{method:POST,params:{actionName:"Send"},isArray:!1},SendSMS:{method:POST,params:{actionName:"SendSMS"},isArray:!1}})}]);services.factory("UserService",["$resource",function(n){return n(sourceRoute+"/User/:actionName"+fileType,{},{GetUser:{method:POST,params:{actionName:"GetUser"},isArray:!0},PasswordEdit:{method:POST,params:{actionName:"PasswordEdit"},isArray:!1},Create:{method:POST,params:{actionName:"Create"},isArray:!1},Enable:{method:POST,params:{actionName:"Enable"},isArray:!1},Disable:{method:POST,params:{actionName:"Disable"},isArray:!1},SetOrganization:{method:POST,params:{actionName:"SetOrganization"},isArray:!1},SetRole:{method:POST,params:{actionName:"SetRole"},isArray:!1},Edit:{method:POST,params:{actionName:"Edit"},isArray:!1}})}]);services.factory("GeneralService",["$resource",function(n){return n(sourceRoute+"/General/:actionName"+fileType,{},{GetAllLocation:{method:GET,params:{actionName:"GetAllLocation"},isArray:!0},GetCourseType:{method:GET,params:{actionName:"GetCourseType"},isArray:!0},GetCurrentUser:{method:GET,params:{actionName:"GetCurrentUser"},isArray:!1}})}]);services.factory("RoleService",["$resource",function(n){return n(sourceRoute+"/Role/:actionName"+fileType,{},{GetAll:{method:GET,params:{actionName:"GetAll"},isArray:!0},Create:{method:POST,params:{actionName:"Create"},isArray:!1},Delete:{method:POST,params:{actionName:"Delete"},isArray:!1},SetPermission:{method:POST,params:{actionName:"SetPermission"},isArray:!1}})}]);services.factory("CourseRedPacketService",["$resource",function(n){return n(sourceRoute+"/CourseRedPacket/:actionName"+fileType,{},{CreateRedPacketShare:{method:POST,params:{actionName:"CreateRedPacketShare"},isArray:!1}})}]);services.factory("StudyService",["$resource",function(n){return n(sourceRoute+"/Study/:actionName"+fileType,{},{GetList:{method:GET,params:{actionName:"GetList"},isArray:!1},GetNote:{method:GET,params:{actionName:"GetNote"},isArray:!0},CreateNote:{method:POST,params:{actionName:"CreateNote"},isArray:!1},DeleteNote:{method:POST,params:{actionName:"DeleteNote"},isArray:!1},UpdatePlayRecord:{method:POST,params:{actionName:"UpdatePlayRecord"},isArray:!1,ignoreErrorTips:!0},GetCourseNoteCount:{method:GET,params:{actionName:"GetCourseNoteCount"},isArray:!1},GetMyCourseList:{method:GET,params:{actionName:"GetMyCourseList"},isArray:!0},GetMyCourseByClassID:{method:GET,params:{actionName:"GetMyCourseByClassID"},isArray:!0},GetMyClassStudyManage:{method:GET,params:{actionName:"GetMyClassStudyManage"},isArray:!1},SubmitClassHomework:{method:POST,params:{actionName:"SubmitClassHomework"},isArray:!1},DeleteClassHomework:{method:POST,params:{actionName:"DeleteClassHomework"},isArray:!1},GetMyClassWorkList:{method:GET,params:{actionName:"GetMyClassWorkList"},isArray:!0},CreateFootprint:{method:POST,params:{actionName:"CreateFootprint"},isArray:!1}})}]);services.factory("ArticleCategoryService",["$resource",function(n){return n(sourceRoute+"/ArticleCategory/:actionName"+fileType,{},{GetByParentId:{method:GET,params:{actionName:"GetByParentId"},isArray:!0}})}]);services.factory("DynamicsService",["$resource",function(n){return n(sourceRoute+"/Dynamics/:actionName"+fileType,{},{GetDynamicsList:{method:GET,params:{actionName:"GetDynamicsList"},isArray:!0}})}]);services.factory("TodoService",["$resource",function(n){return n(sourceRoute+"/Todo/:actionName"+fileType,{},{GetMyTodoList:{method:GET,params:{actionName:"GetMyTodoList"},isArray:!0},GetStudyCenterTodoInfoList:{method:GET,params:{actionName:"GetStudyCenterTodoInfoList"},isArray:!0},UpdatePersonTodo:{method:POST,params:{actionName:"UpdatePersonTodo"},isArray:!1},GetClassIndexTodoInfoList:{method:GET,params:{actionName:"GetClassIndexTodoInfoList"},isArray:!0}})}]);services.factory("ClassService",["$resource",function(n){return n(sourceRoute+"/Class/:actionName"+fileType,{},{GetMyList:{method:GET,params:{actionName:"GetMyList"},isArray:!0},GetDetail:{method:GET,params:{actionName:"GetDetail"},isArray:!1},GetCourseMaterials:{method:GET,params:{actionName:"GetCourseMaterials"},isArray:!0},GetHomeWork:{method:GET,params:{actionName:"GetHomeWork"},isArray:!0},NewClassIdentifie:{method:POST,params:{actionName:"NewClassIdentifie"},isArray:!1},GetListAsAdmin:{method:GET,params:{actionName:"GetListAsAdmin"},isArray:!0},GetFeedbackRecord:{method:GET,params:{actionName:"GetFeedbackRecord"},isArray:!1},GetNeedRecord:{method:GET,params:{actionName:"GetNeedRecord"},isArray:!1},GetGroupingStatistics:{method:GET,params:{actionName:"GetGroupingStatistics"},isArray:!0},GetStudyResearchResult:{method:GET,params:{actionName:"GetStudyResearchResult"},isArray:!1},GetClassFeedbackResult:{method:GET,params:{actionName:"GetClassFeedbackResult"},isArray:!1},GetPublicClassStudent:{method:GET,params:{actionName:"GetPublicClassStudent"},isArray:!0},GetPublicClassStudentTotal:{method:GET,params:{actionName:"GetPublicClassStudentTotal"},isArray:!0},CourseNotification:{method:POST,params:{actionName:"CourseNotification"},isArray:!1},GetClassNotices:{method:GET,params:{actionName:"GetClassNotices"},isArray:!1},GetClassStatistics:{method:GET,params:{actionName:"GetClassStatistics"},isArray:!1},GetClassStatisticsPaged:{method:GET,params:{actionName:"GetClassStatisticsPaged"},isArray:!1},OutputStudentInfo:{method:GET,params:{actionName:"OutputStudentInfo"},isArray:!1},GetGroupingRecord:{method:GET,params:{actionName:"GetGroupingRecord"},isArray:!1},OutputStudentSigninMessageForManager:{method:GET,params:{actionName:"OutputStudentSigninMessageForManager"},isArray:!1},GetNewNeedRecord:{method:GET,params:{actionName:"GetNewNeedRecord"},isArray:!1},GetClassIdentification:{method:GET,params:{actionName:"GetClassIdentification"},isArray:!1},GetClassUserLab:{method:GET,params:{actionName:"GetClassUserLab"},isArray:!1,showLoadingTip:!0},GetVmTemplates:{method:GET,params:{actionName:"GetVmTemplates"},isArray:!1,showLoadingTip:!0},CreateVmApply:{method:POST,params:{actionName:"CreateVmApply"},isArray:!1,showLoadingTip:!0},StopVm:{method:POST,params:{actionName:"StopVm"},isArray:!1,showLoadingTip:!0},StartVm:{method:POST,params:{actionName:"StartVm"},isArray:!1,showLoadingTip:!0},GetClassUserLabByLivePublicCourse:{method:GET,params:{actionName:"GetClassUserLabByLivePublicCourse"},isArray:!1}})}]);services.factory("TopicService",["$resource",function(n){return n(sourceRoute+"/Topic/:actionName"+fileType,{},{GetList:{method:GET,params:{actionName:"GetList"},isArray:!1},Create:{method:POST,params:{actionName:"Create"},isArray:!1},Update:{method:POST,params:{actionName:"Update"},isArray:!1},CreatePost:{method:POST,params:{actionName:"CreatePost"},isArray:!1},DeletePost:{method:POST,params:{actionName:"DeletePost"},isArray:!1},GetAnswerPostList:{method:GET,params:{actionName:"GetAnswerPostList"},isArray:!1},GetCommentPostList:{method:GET,params:{actionName:"GetCommentPostList"},isArray:!1},ThumbsUpTopic:{method:POST,params:{actionName:"ThumbsUpTopic"},isArray:!1},ThumbsUpPost:{method:POST,params:{actionName:"ThumbsUpPost"},isArray:!1},GetPostInfo:{method:GET,params:{actionName:"GetPostInfo"},isArray:!1},GetTopicInfo:{method:GET,params:{actionName:"GetTopicInfo"},isArray:!1},GetExpandTypeList:{method:GET,params:{actionName:"GetExpandTypeList"},isArray:!0}})}]);services.factory("ClassQAService",["$resource",function(n){return n(sourceRoute+"/ClassQA/:actionName"+fileType,{},{Create:{method:POST,params:{actionName:"Create"},isArray:!1},GetListByClassId:{method:GET,params:{actionName:"GetListByClassId"},isArray:!1}})}]);services.factory("OrderService",["$resource",function(n){return n(sourceRoute+"/Order/:actionName"+fileType,{},{GetOrderList:{method:GET,params:{actionName:"GetOrderList"},isArray:!1},GetMyOrderList:{method:GET,params:{actionName:"GetMyOrderList"},isArray:!1},Delete:{method:POST,params:{actionName:"Delete"},isArray:!1},SumbmitOrder:{method:POST,params:{actionName:"SumbmitOrder"},isArray:!1},GetDetail:{method:GET,params:{actionName:"GetDetail"},isArray:!1},UpdateOrderState:{method:POST,params:{actionName:"UpdateOrderState"},isArray:!1},GetOrderState:{method:GET,params:{actionName:"GetOrderState"},isArray:!1,ignoreErrorTips:!0},Cancel:{method:POST,params:{actionName:"Cancel"},isArray:!1},SubmitBookingBag:{method:POST,params:{actionName:"SubmitBookingBag"},isArray:!1},SubmitBookingBagOrder:{method:POST,params:{actionName:"SubmitBookingBagOrder"},isArray:!1},SubmitCourseOrder:{method:POST,params:{actionName:"SubmitCourseOrder"},isArray:!1},SubmitCurrencyOrder:{method:POST,params:{actionName:"SubmitCurrencyOrder"},isArray:!1},EnsureOrder:{method:POST,params:{actionName:"EnsureOrder"},isArray:!1}})}]);services.factory("ShoppingService",["$resource",function(n){return n(sourceRoute+"/Shopping/:actionName"+fileType,{},{GetShoppingCart:{method:GET,params:{actionName:"GetShoppingCart"},isArray:!0},Select:{method:POST,params:{actionName:"Select"},isArray:!1},CancelSelect:{method:POST,params:{actionName:"CancelSelect"},isArray:!1},Delete:{method:POST,params:{actionName:"Delete"},isArray:!1},Add:{method:POST,params:{actionName:"Add"},isArray:!1},GetSelectedWares:{method:GET,params:{actionName:"GetSelectedWares"},isArray:!0},GetWareById:{method:GET,params:{actionName:"GetWareById"},isArray:!1},GetCourseWareById:{method:GET,params:{actionName:"GetCourseWareById"},isArray:!1}})}]);services.factory("StudyAdvisorService",["$resource",function(n){return n(sourceRoute+"/StudyAdvisor/:actionName"+fileType,{},{GetStudyAdvisorList:{method:GET,params:{actionName:"GetStudyAdvisorList"},isArray:!0},HideStudyAdvisor:{method:GET,params:{actionName:"HideStudyAdvisor"},isArray:!1},ShowAllStudyAdvisor:{method:POST,params:{actionName:"ShowAllStudyAdvisorList"},isArray:!1},DeleteStudyAdvisor:{method:POST,params:{actionName:"DeleteStudyAdvisor"},isArray:!1},GetQuizListByAdvisorId:{method:GET,params:{actionName:"GetQuizListByAdvisorId"},isArray:!0},GetPathByAdvisorId:{method:GET,params:{actionName:"GetPathByAdvisorId"},isArray:!1},EnableStudyAdvisor:{method:POST,params:{actionName:"EnableStudyAdvisor"},isArray:!1},GetExamResultByAdvisorId:{method:GET,params:{actionName:"GetExamResultByAdvisorId"},isArray:!1},GetById:{method:GET,params:{actionName:"GetById"},isArray:!1},GetStudyAdvisorListByCateName:{method:GET,params:{actionName:"GetStudyAdvisorListByCateName"},isArray:!1}})}]);services.factory("PermissionService",["$resource",function(n){return n(sourceRoute+"/Permission/:actionName"+fileType,{},{GetAll:{method:GET,params:{actionName:"GetAll"},isArray:!0}})}]);services.factory("VIPService",["$resource",function(n){return n(sourceRoute+"/VIP/:actionName"+fileType,{},{GetById:{method:GET,params:{actionName:"GetById"},isArray:!1},UnBindVipEnterprise:{method:POST,params:{actionName:"UnBindVipEnterprise"},isArray:!1}})}]);services.factory("StudyInvestigationService",["$resource",function(n){return n(sourceRoute+"/StudyInvestigation/:actionName"+fileType,{},{GetByProductId:{method:GET,params:{actionName:"GetByProductId"},isArray:!0},GetByQuizID:{method:GET,params:{actionName:"GetByQuizID"},isArray:!1}})}]);services.factory("GuideInvestigationService",["$resource",function(n){return n(sourceRoute+"/GuideInvestigation/:actionName"+fileType,{},{GetFirstQuiz:{method:GET,params:{actionName:"GetFirstQuiz"},isArray:!1},GetQuizByOptionId:{method:GET,params:{actionName:"GetQuizByOptionId"},isArray:!1},GetQuizById:{method:GET,params:{actionName:"GetQuizById"},isArray:!1}})}]);services.factory("PaperService",["$resource",function(n){return n(sourceRoute+"/Paper/:actionName"+fileType,{},{GetByProductId:{method:GET,params:{actionName:"GetByProductId"},isArray:!1},GetByCourses:{method:POST,params:{actionName:"GetByCourses"},isArray:!1},SubmitAnswerSheet:{method:POST,params:{actionName:"SubmitAnswerSheet"},isArray:!1},SubmitCourseAnswerSheet:{method:POST,params:{actionName:"SubmitCourseAnswerSheet"},isArray:!1},SubmitClassAnswerSheet:{method:POST,params:{actionName:"SubmitClassAnswerSheet"},isArray:!1},GetByChapters:{method:GET,params:{actionName:"GetByChapters"},isArray:!1},GetClassPaperAndAnswerSheet:{method:GET,params:{actionName:"GetClassPaperAndAnswerSheet"},isArray:!1},GetExamResultSummary:{method:GET,params:{actionName:"GetExamResultSummary"},isArray:!1},GetClassTrend:{method:GET,params:{actionName:"GetClassTrend"},isArray:!1},GetPaperFeedback:{method:GET,params:{actionName:"GetPaperFeedback"},isArray:!1},SubmitAnswerFeedback:{method:POST,params:{actionName:"SubmitAnswerFeedback"},isArray:!1},GetAnsweredPaperFeedback:{method:GET,params:{actionName:"GetAnsweredPaperFeedback"},isArray:!1},GetClassExamResult:{method:GET,params:{actionName:"GetClassExamResult"},isArray:!1},SubmitLevelAnswerSheet:{method:POST,params:{actionName:"SubmitLevelAnswerSheet"},isArray:!1},SubmitGroupAnswerSheet:{method:POST,params:{actionName:"SubmitGroupAnswerSheet"},isArray:!1},GetByID:{method:GET,params:{actionName:"GetByID"},isArray:!1},GetByPaperName:{method:GET,params:{actionName:"GetByPaperName"},isArray:!1},GetCourseExamResult:{method:GET,params:{actionName:"GetCourseExamResult"},isArray:!1},SubmitCertificationPathAnswerSheet:{method:POST,params:{actionName:"SubmitCertificationPathAnswerSheet"},isArray:!1},GetExamResultAnalyze:{method:GET,params:{actionName:"GetExamResultAnalyze"},isArray:!1},CheckPaperCanDoMoreThanOnce:{method:GET,params:{actionName:"CheckPaperCanDoMoreThanOnce"},isArray:!1}})}]);services.factory("ExamService",["$resource",function(n){return n(sourceRoute+"/Exam/:actionName"+fileType,{},{GetPaperToExam:{method:GET,params:{actionName:"GetPaperToExam"},isArray:!1},Answer:{method:POST,params:{actionName:"Answer"},isArray:!1},AnswerAndSubmit:{method:POST,params:{actionName:"AnswerAndSubmit"},isArray:!1},CleanAnswer:{method:POST,params:{actionName:"CleanAnswer"},isArray:!1}})}]);services.factory("QuestionService",["$resource",function(n){return n(sourceRoute+"/QuestionManage/:actionName"+fileType,{},{GetById:{method:GET,params:{actionName:"GetById"},isArray:!1}})}]);services.factory("TeacherService",["$resource",function(n){return n(sourceRoute+"/Teacher/:actionName"+fileType,{},{GetByCourseId:{method:GET,params:{actionName:"GetByCourseId"},isArray:!0}})}]);services.factory("CourseService",["$resource",function(n){return n(sourceRoute+"/course/:actionName"+fileType,{},{GetDetail:{method:GET,params:{actionName:"GetDetail"},isArray:!1},GetByOptionIdList:{method:POST,params:{actionName:"GetByOptionIdList"},isArray:!0},CreatePath:{method:POST,params:{actionName:"CreatePath"},isArray:!1},GetTargetCoursesBySource:{method:GET,params:{actionName:"GetTargetCoursesBySource"},isArray:!1},GetByCategoryId:{method:GET,params:{actionName:"GetByCategoryId"},isArray:!0},GetOfflineResource:{method:GET,params:{actionName:"GetOfflineResource"},isArray:!1},GetOnlineResource:{method:GET,params:{actionName:"GetOnlineResource"},isArray:!1},GetCaseArticles:{method:GET,params:{actionName:"GetCaseArticles"},isArray:!1},GetNoticeArticles:{method:GET,params:{actionName:"GetNoticeArticles"},isArray:!1},GetLatestedOfflineCourse:{method:GET,params:{actionName:"GetLatestedOfflineCourse"},isArray:!1},GetByCourseId:{method:GET,params:{actionName:"GetByCourseId"},isArray:!0},GetByKeyword:{method:GET,params:{actionName:"GetByKeyword"},isArray:!0},GetPageByKeyword:{method:GET,params:{actionName:"GetPageByKeyword"},isArray:!1},GetSimilarCoursePageList:{method:GET,params:{actionName:"GetSimilarCoursePageList"},isArray:!1},GetOfflineCoursePagedList:{method:GET,params:{actionName:"GetOfflineCoursePagedList"},isArray:!1}})}]);services.factory("StudyOnlineService",["$resource",function(n){return n(sourceRoute+"/StudyOnline/:actionName"+fileType,{},{GetCourseById:{method:GET,params:{actionName:"GetCourseById"},isArray:!0},GetAllCourse:{method:GET,params:{actionName:"GetAllCourse"},isArray:!0}})}]);services.factory("StudyOnlineOldService",["$resource",function(n){return n(sourceRoute+"/StudyOnlineOld/:actionName"+fileType,{},{GetCourseById:{method:GET,params:{actionName:"GetCourseById"},isArray:!0},GetAllCourse:{method:GET,params:{actionName:"GetAllCourse"},isArray:!0}})}]);services.factory("ChapterService",["$resource",function(n){return n(sourceRoute+"/Chapter/:actionName"+fileType,{},{GetChapterByParentId:{method:GET,params:{actionName:"GetChapterByParentId"},isArray:!0},AddChapter:{method:POST,params:{actionName:"AddChapter"},isArray:!1},DeleteChapter:{method:POST,params:{actionName:"DeleteChapter"},isArray:!1},ModifyChapter:{method:POST,params:{actionName:"ModifyChapter"},isArray:!1},GetById:{method:GET,params:{actionName:"GetById"},isArray:!1}})}]);services.factory("ResourceService",["$resource",function(n){return n(sourceRoute+"/Resource/:actionName"+fileType,{},{GetFiles:{method:GET,params:{actionName:"GetFiles"},isArray:!0},GetVideoes:{method:GET,params:{actionName:"GetVideoes"},isArray:!0},GetVideo:{method:GET,params:{actionName:"GetVideo"},isArray:!1},DeleteFile:{method:POST,params:{actionName:"DeleteFile"},isArray:!1},GetOffLineResource:{method:GET,params:{actionName:"GetOffLineResource"},isArray:!1},saveOffLineCourse:{method:POST,params:{actionName:"SaveOffLineCourse"},isArray:!1},GetOnline:{method:GET,params:{actionName:"GetOnline"},isArray:!1},UpdateOnline:{method:POST,params:{actionName:"UpdateOnline"},isArray:!1}})}]);services.factory("VideoRecommendService",["$resource",function(n){return n(sourceRoute+"/VideoRecommend/:actionName"+fileType,{},{GetHotPageList:{method:GET,params:{actionName:"GetHotPageList"},isArray:!1}})}]);services.factory("DownloadFileService",["$resource",function(n){return n(sourceRoute+"/DownloadFile/:actionName"+fileType,{},{GetByLocation:{method:GET,params:{actionName:"GetByLocation"},isArray:!0}})}]);services.factory("CourseSuggestService",["$resource",function(n){return n(sourceRoute+"/course/:actionName"+fileType,{},{AddCourseSuggest:{method:GET,params:{actionName:"AddCourseSuggest"},isArray:!1}})}]);services.factory("LikeService",["$resource",function(n){return n(sourceRoute+"/Like/:actionName"+fileType,{},{GetCoureseLikedCount:{method:GET,params:{actionName:"GetCoureseLikedCount"},isArray:!1},ClickLike:{method:POST,params:{actionName:"ClickLike"},isArray:!1}})}]);services.factory("FileService",["$resource",function(n){return n(sourceRoute+"/File/:actionName"+fileType,{},{GetFile:{method:GET,params:{actionName:"GetFile"},isArray:!1},GetVideo:{method:GET,params:{actionName:"GetVideo"},isArray:!1},CreateAttachments:{method:POST,params:{actionName:"CreateAttachments"},isArray:!1}})}]);services.factory("CouponsService",["$resource",function(n){return n(sourceRoute+"/Coupons/:actionName"+fileType,{},{GetMyAvailableList:{method:GET,params:{actionName:"GetMyAvailableList"},isArray:!0},ApplyCoupon:{method:POST,params:{actionName:"ApplyCoupon"},isArray:!1},GetMyList:{method:GET,params:{actionName:"GetMyList"},isArray:!0},GetPublicCoupons:{method:GET,params:{actionName:"GetPublicCoupons"},isArray:!0},Take:{method:POST,params:{actionName:"Take"},isArray:!1},GetById:{method:GET,params:{actionName:"GetById"},isArray:!1}})}]);services.factory("StudentService",["$resource",function(n){return n(sourceRoute+"/Student/:actionName"+fileType,{},{GetLists:{method:GET,params:{actionName:"GetLists"},isArray:!0},GetById:{method:GET,params:{actionName:"GetById"},isArray:!1},GetAccountBalance:{method:GET,params:{actionName:"GetAccountBalance"},isArray:!1},Create:{method:POST,params:{actionName:"Create"},isArray:!1},Update:{method:POST,params:{actionName:"Update"},isArray:!1},ChangePhone:{method:POST,params:{actionName:"ChangePhone"},isArray:!1},ChangePassword:{method:POST,params:{actionName:"ChangePassword"},isArray:!1},GetByClassId:{method:GET,params:{actionName:"GetByClassId"},isArray:!0},ModifyPasswordByTel:{method:POST,params:{actionName:"ModifyPasswordByTel"},isArray:!1},EnterpriseCertification:{method:POST,params:{actionName:"EnterpriseCertification"},isArray:!1},ValidateEnterpriseCert:{method:POST,params:{actionName:"ValidateEnterpriseCert"},isArray:!1},GetMyAccountStatistics:{method:GET,params:{actionName:"GetMyAccountStatistics"},isArray:!1},GetUserFootprint:{method:GET,params:{actionName:"GetUserFootprint"},isArray:!1},GetMyLearningTime:{method:GET,params:{actionName:"GetMyLearningTime"},isArray:!0},GetPersonPromotion:{method:GET,params:{actionName:"GetPersonPromotion"},isArray:!1},SendPromotionShareEmail:{method:POST,params:{actionName:"SendPromotionShareEmail"},isArray:!1},UpdateSecond:{method:POST,params:{actionName:"UpdateSecond"},isArray:!1},Demo_AngularBusy_Get:{method:GET,params:{actionName:"Demo_AngularBusy_Get"},isArray:!1},Demo_AngularBusy_Post:{method:POST,params:{actionName:"Demo_AngularBusy_Post"},isArray:!1}})}]);services.factory("EnterpriseService",["$resource",function(n){return n(sourceRoute+"/Enterprise/:actionName"+fileType,{},{GetLists:{method:GET,params:{actionName:"GetLists"},isArray:!0},GetById:{method:GET,params:{actionName:"GetById"},isArray:!1},Create:{method:POST,params:{actionName:"Create"},isArray:!1},Update:{method:POST,params:{actionName:"Update"},isArray:!1}})}]);services.factory("EnterpriseAdministratorService",["$resource",function(n){return n(sourceRoute+"/EnterpriseAdministrator/:actionName"+fileType,{},{GetListsByEnterpriseName:{method:GET,params:{actionName:"GetListsByEnterpriseName"},isArray:!0},Create:{method:POST,params:{actionName:"Create"},isArray:!1},GetById:{method:GET,params:{actionName:"GetById"},isArray:!1},Update:{method:POST,params:{actionName:"Update"},isArray:!1}})}]);services.factory("CredentialsService",["$resource",function(n){return n(sourceRoute+"/Credentials/:actionName"+fileType,{},{GetList:{method:GET,params:{actionName:"GetList"},isArray:!0},CreateApply:{method:POST,params:{actionName:"CreateApply"},isArray:!1}})}]);services.factory("MyCouponsService",["$resource",function(n){return n(sourceRoute+"/MyCoupons/:actionName"+fileType,{},{GetMyList:{method:GET,params:{actionName:"GetMyList"},isArray:!0}})}]);services.factory("LiveService",["$resource",function(n){return n(sourceRoute+"/Live/:actionName"+fileType,{},{GetMyLiveList:{method:GET,params:{actionName:"GetMyLiveList"},isArray:!1}})}]);services.factory("PublicLiveService",["$resource",function(n){return n(sourceRoute+"/PublicLive/:actionName"+fileType,{},{GetLivingInfo:{method:GET,params:{actionName:"GetLivingInfo"},isArray:!1},GetLivingPlayBackInfo:{method:GET,params:{actionName:"GetLivingPlayBackInfo"},isArray:!1},GetLivingPlayBackInfoFree:{method:GET,params:{actionName:"GetLivingPlayBackInfoFree"},isArray:!1},GetLivingRoom:{method:GET,params:{actionName:"GetLivingRoom"},isArray:!1},SendStatement:{method:POST,params:{actionName:"SendStatement"},isArray:!1},Ask:{method:POST,params:{actionName:"Ask"},isArray:!1},ThumbsUp:{method:POST,params:{actionName:"ThumbsUp"},isArray:!1},StudentCloseRedPacket:{method:POST,params:{actionName:"StudentCloseRedPacket"},isArray:!1},StudentOpenLatestRedPacket:{method:POST,params:{actionName:"StudentOpenLatestRedPacket"},isArray:!1},StudentCloseSignin:{method:POST,params:{actionName:"StudentCloseSignin"},isArray:!1},StudentClickSignin:{method:POST,params:{actionName:"StudentClickSignin"},isArray:!1},StudentAnswerQuestion:{method:POST,params:{actionName:"StudentAnswerQuestion"},isArray:!1},GetMyPublicLiveByClassID:{method:GET,params:{actionName:"GetMyPublicLiveByClassID"},isArray:!0},GetLiveStudent:{method:GET,params:{actionName:"GetLiveStudent"},isArray:!0},GetFinishChapterList:{method:GET,params:{actionName:"GetFinishChapterList"},isArray:!0},GetVideoUrl:{method:GET,params:{actionName:"GetVideoUrl"},isArray:!1},GetVideoUrlFree:{method:GET,params:{actionName:"GetVideoUrlFree"},isArray:!1},CreateOrderTip:{method:POST,params:{actionName:"CreateOrderTip"},isArray:!1},StundentIgnoreQuestion:{method:POST,params:{actionName:"StundentIgnoreQuestion"},isArray:!1},StudentIgnoreClassPaperRemind:{method:POST,params:{actionName:"StudentIgnoreClassPaperRemind"},isArray:!1},GetLivingRoomWithoutCurrentUser:{method:GET,params:{actionName:"GetLivingRoomWithoutCurrentUser"},isArray:!1},GetLivingRoomLatest:{method:GET,params:{actionName:"GetLivingRoomLatest"},isArray:!1},GetLivingRoomLatestFree:{method:GET,params:{actionName:"GetLivingRoomLatestFree"},isArray:!1},GetFreeAndFinishChapterList:{method:GET,params:{actionName:"GetFreeAndFinishChapterList"},isArray:!0},GetPublicChapter:{method:GET,params:{actionName:"GetPublicChapter"},isArray:!1},GetPublicLiveState:{method:GET,params:{actionName:"GetPublicLiveState"},isArray:!1},GetMyLiveList:{method:GET,params:{actionName:"GetMyLiveList"},isArray:!0},UpdateReplayStudentLearnTime:{method:POST,params:{actionName:"UpdateReplayStudentLearnTime"},isArray:!1}})}]);services.factory("CourseEvaluationService",["$resource",function(n){return n(sourceRoute+"/CourseEvaluation/:actionName"+fileType,{},{SubmitEvaluate:{method:POST,params:{actionName:"SubmitEvaluate"},isArray:!1},GetEvaluateList:{method:GET,params:{actionName:"GetEvaluateList"},isArray:!1},GetEvaluateCount:{method:GET,params:{actionName:"GetEvaluateCount"},isArray:!1},GetMyEvaluate:{method:GET,params:{actionName:"GetMyEvaluate"},isArray:!1}})}]);services.factory("OnceCardRecordService",["$resource",function(n){return n(sourceRoute+"/OnceCardRecord/:actionName"+fileType,{},{GetLists:{method:GET,params:{actionName:"GetLists"},isArray:!0},GetRecords:{method:GET,params:{actionName:"GetRecords"},isArray:!0},GetById:{method:GET,params:{actionName:"GetById"},isArray:!1}})}]);services.factory("RecruitService",["$resource",function(n){return n(sourceRoute+"/Recruit/:actionName"+fileType,{},{GetByTMId:{method:GET,params:{actionName:"GetByTMId"},isArray:!0},GetByKey:{method:GET,params:{actionName:"GetByKey"},isArray:!1}})}]);services.factory("MarketingEventService",["$resource",function(n){return n(sourceRoute+"/MarketingEvent/:actionName"+fileType,{},{GetList:{method:GET,params:{actionName:"GetList"},isArray:!1},Delete:{method:POST,params:{actionName:"Delete"},isArray:!1},Create:{method:POST,params:{actionName:"Create"},isArray:!1},GetById:{method:GET,params:{actionName:"GetById"},isArray:!1},GetRegistrationList:{method:GET,params:{actionName:"GetRegistrationList"},isArray:!0},Update:{method:POST,params:{actionName:"Update"},isArray:!1}})}]);services.factory("CourseAskService",["$resource",function(n){return n(sourceRoute+"/CourseAsk/:actionName"+fileType,{},{Create:{method:POST,params:{actionName:"Create"},isArray:!1},GetListByCourseId:{method:GET,params:{actionName:"GetListByCourseId"},isArray:!1},GetCourseQACount:{method:GET,params:{actionName:"GetCourseQACount"},isArray:!1}})}]);services.factory("TMProductService",["$resource",function(n){return n(sourceRoute+"/Product/:actionName"+fileType,{},{GetById:{method:GET,params:{actionName:"GetById"},isArray:!1}})}]);services.factory("NoticeService",["$resource",function(n){return n(sourceRoute+"/Notice/:actionName"+fileType,{},{GetMyNotices:{method:GET,params:{actionName:"GetMyNotices"},isArray:!1},DeleteMyNotice:{method:POST,params:{actionName:"DeleteMyNotice"},isArray:!1}})}]);services.factory("ArticleService",["$resource",function(n){return n(sourceRoute+"/Article/:actionName"+fileType,{},{GetCaseArticles:{method:GET,params:{actionName:"GetCaseArticles"},isArray:!1},GetNoticeArticles:{method:GET,params:{actionName:"GetNoticeArticles"},isArray:!1},GetArticlesByCateName:{method:GET,params:{actionName:"GetArticlesByCateName"},isArray:!1},GetArticlesByCateNameAndSubcatename:{method:GET,params:{actionName:"GetArticlesByCateNameAndSubcatename"},isArray:!1},GetPageByKeyword:{method:GET,params:{actionName:"GetPageByKeyword"},isArray:!1},GetArticlesByKeyAndCateName:{method:GET,params:{actionName:"GetArticlesByKeyAndCateName"},isArray:!1}})}]);services.factory("LearningCurrencyService",["$resource",function(n){return n(sourceRoute+"/LearningCurrency/:actionName"+fileType,{},{GetLearningCurrency:{method:GET,params:{actionName:"GetLearningCurrency"},isArray:!0},GetCurrencyInOrder:{method:GET,params:{actionName:"GetCurrencyInOrder"},isArray:!0},GetMyAllLearningCurrency:{method:GET,params:{actionName:"GetMyAllLearningCurrency"},isArray:!1}})}]);services.factory("BookingBagService",["$resource",function(n){return n(sourceRoute+"/BookingBag/:actionName"+fileType,{},{GetBagDetailByID:{method:GET,params:{actionName:"GetBagDetailByID"},isArray:!1},GetBagCoursesByID:{method:GET,params:{actionName:"GetBagCoursesByID"},isArray:!0}})}]);services.factory("RecommendationService",["$resource",function(n){return n(sourceRoute+"/Recommendation/:actionName"+fileType,{},{GetRecommendationInfoList:{method:GET,params:{actionName:"GetRecommendationInfoList"},isArray:!1}})}]).factory("urlHandler",["$location",function(n){return{exportData:function(t){var i=n.absUrl().replace("#"+n.path(),"");return(i+t).replace("//api","/api")},exportCouserData:function(t){var i=n.absUrl().replace("#"+n.path(),"").split("?")[0];return(i+t).replace("//api","/api")}}}]);services.factory("anchorScroll",function(){function t(t,i,r){var u=$(window).height();t=$(t);r=r>0?r:u/10;$("html, body").animate({scrollTop:i?t.offset().top-r:t.offset().top+t.outerHeight()+r-u},{duration:200,easing:"linear",complete:function(){n(t)||t[0].scrollIntoView(!!i)}})}function n(n){function e(n){return n>f&&n<o}n=$(n);var r=$(window),t=r.height(),u=n.offset().top,i=n.outerHeight(),f=r.scrollTop(),o=f+t;return e(u+(i>t?t:i)/2)?!0:i>t?e(u+i-t/2):!1}return{toView:t,inView:n}});services.factory("SynchronousQuery",["$http",function(n){return{SearchEnterprise:function(t){return n.get(sourceRoute+"/Enterprise/GetLists/?",{params:{keyword:t}}).then(function(n){return n.data})}}}]);app.directive("dragable",["$modalStack",function(n){return{restrict:"EA",template:' <div class="modal-header"  ng-mouseup="releaseMe()" ng-mousedown="dragMe()">                        <span>{{dialogTitle}}<\/span>                            <div class="close_white" ng-click="closeDialog();">                                <img src="/Content/Images/delete.png" />                            <\/div>                    <\/div>',scope:{dialogTitle:"@"},replace:!0,transclude:!0,link:function(t){t.dragMe=function(){};t.releaseMe=function(){};t.closeDialog=function(){var t=n.getTop();n.dismiss(t.key,"backdrop click")}}}}]);app.directive("dragablewindow",["$modalStack",function(n){return{restrict:"EA",template:' <div class="modal-header"  ng-mouseup="releaseMe()" ng-mousedown="dragMe()">                        <div class="my_academic_advisor_bj" id="my_academic_advisor_bj" style="width:998px;"><span style="padding-left:39px;padding-right:9px;line-height:53px;">{{dialogTitle}}<\/span><img src="/Content/Images/delete.png" style="margin-top: 13px;margin-right: 19px;" class="close_white" ng-click="closeDialog();"/><\/div>                    <\/div>',scope:{dialogTitle:"@",timer:"=timerid"},replace:!0,transclude:!0,link:function(t){t.dragMe=function(){};t.releaseMe=function(){};t.closeDialog=function(){var i=n.getTop();n.dismiss(i.key,"backdrop click");window.clearInterval(t.timer)}}}}]);app.directive("dragablewindowsmall",["$modalStack",function(n){return{restrict:"EA",template:' <div class="modal-header"  ng-mouseup="releaseMe()" ng-mousedown="dragMe()">                        <div class="my_academic_advisor_bj" id="my_academic_advisor_bj" style="width:600px;"><span style="padding-left:39px;padding-right:9px;line-height:53px;">{{dialogTitle}}<\/span><img src="/Content/Images/delete.png" style="margin-top: 13px;margin-right: 19px;" class="close_white" ng-click="closeDialog();"/><\/div>                    <\/div>',scope:{dialogTitle:"@",timer:"=timerid"},replace:!0,transclude:!0,link:function(t){t.dragMe=function(){};t.releaseMe=function(){};t.closeDialog=function(){var i=n.getTop();n.dismiss(i.key,"backdrop click");window.clearInterval(t.timer)}}}}]);app.directive("cwDatepicker",function(){return{require:"?ngModel",restrict:"A",replace:!1,link:function(n,t){var i=$(t);i.datepicker({dateFormat:"yy-mm-dd",monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayNamesShort:["周日","周一","周二","周三","周四","周五","周六"],dayNamesMin:["日","一","二","三","四","五","六"]});i.after('<span style="font-size: 16px; cursor: pointer;" onclick="$(this).prev(\'input\').focus();">                                    <span class="fa fa-calendar"><\/span>                                <\/span>')}}});app.directive("cwUnderline",function(){return{require:"?ngModel",restrict:"A",replace:!0,link:function(n,t,i){n.$watch(i.cwUnderline,function(n){n?$(t).css("textDecoration","underline"):$(t).css("textDecoration","none")})}}});app.directive("turnred",function(){return{restrict:"A",scope:{redword:"@redWord"},link:function(n,t){var o=new RegExp("(^|&)keyword=([^&]*)(&|$)"),f=window.location.search.substr(1).match(o),r,i,u,e;f!=null&&(r=decodeURIComponent(f[2]),n.redword!=""&&n.redword!=undefined&&(i=n.redword.toLowerCase().indexOf(r.toLowerCase()),i>-1&&(u=n.redword.substring(i,i+r.length),e=n.redword.replace(u,"<span style='color:red'>"+u+"<\/span>"),t.context.outerHTML=e)))}}});app.directive("inputHint",function(){return{require:"?ngModel",restrict:"A",replace:!1,scope:!0,compile:function(){return{pre:function(n,t,i){n.hint=i.inputHint;var r=$(t)[0].type,u=n.$parent.$eval(i.ngModel);$(t).on("focus",function(){$(t)[0].value==n.hint&&(r=="password"&&($(t)[0].type=r),$(t)[0].value="");$(t)[0].style.color="black"});$(t).on("blur",function(){$(t)[0].value==""&&(r=="password"&&($(t)[0].type="text"),$(t)[0].style.color="gray",$(t)[0].value=n.hint)});n.$watch($(t)[0].value,function(i){(i==undefined||i==null||i=="")&&(u==null||u=="")&&(r=="password"&&($(t)[0].type="text"),$(t)[0].value=n.hint)})}}}}});app.directive("picupload",["confirmModal",function(){return{restrict:"EA",template:'<div>    <input id="{{paramId}}" ng-hide="disable" style="position: absolute; width: 20px; margin-left: 100px;height:10px;margin-top:10px;"  name="{{paramId}}" type="file" />    <button class="btn-primary" ng-click="uploadClick()" style="position: absolute;left:12px; width: 120px; line-height:22px;" title="PNG/JPG/GIF 格式图片">上传图片<\/button>   <\/div>',scope:{paramId:"@paramid",picurl:"=pictureurl",picid:"=pictureid",disable:"=dis"},replace:!0,transclude:!0,link:function(n){function t(t){$.ajaxFileUpload({url:"/api/File/UploadPicture",type:"post",validSuffixes:["png","jpg","gif","jpeg"],fileSize:4,secureuri:!1,fileElementId:t,contentType:!1,processData:!1,dataType:"json",success:function(t){t.Success?(n.picurl=t.Target,n.picid=t.ObjectID,n.$parent.$$phase||n.$parent.$apply()):alert("上传失败:失败原因("+t.Message+")")},error:function(){alert("上传失败")}})}n.uploadClick=function(){$("#"+n.paramId).change(function(){t([n.paramId])});document.getElementById(n.paramId).value="";document.getElementById(n.paramId).click()}}}}]);app.directive("picuploadhomework",["confirmModal",function(){return{restrict:"EA",template:'<div>    <input id="{{paramId}}" ng-hide="disable" style="display:none;"  name="{{paramId}}" type="file" />    <button class="btn-primary btn-primary_a" ng-click="uploadClick();" ng-disabled="dis">提交作业<\/button>   <\/div>',scope:{paramId:"@paramid",picid:"=pictureid",hwid:"=homeworkid",dis:"=disableronot",thesubmit:"=submitthehomework",list:"=thelist",jobname:"=jname"},replace:!0,transclude:!0,link:function(n){function t(t){n.list.unshift({Name:"上传中..."});$.ajaxFileUpload({url:"/api/File/Upload",type:"post",fileSize:4,secureuri:!1,fileElementId:t,contentType:!1,processData:!1,dataType:"json",success:function(t){t.Success?(n.picid=t.ObjectID,n.thesubmit(n.hwid,n.picid,n.jobname),n.$parent.$$phase||n.$parent.$apply()):alert("上传失败:失败原因("+t.Message+")")},error:function(){alert("上传失败")}})}n.uploadClick=function(){$("#"+n.paramId).change(function(){t([n.paramId])});document.getElementById(n.paramId).value="";document.getElementById(n.paramId).click()}}}}]);app.directive("onFinishRenderFilters",function(n){return{restrict:"A",link:function(t){t.$last===!0&&n(function(){t.$emit("ngRepeatFinished")})}}});app.directive("ellipsis",function(){return{restrict:"A",link:function(n,t){var i=t.context,r=$.trim(i.textContent);r&&r.length>14&&(i.textContent=i.textContent.substring(0,12)+"...")}}});app.directive("ngInsertHtml",function(){return{require:"?ngInsertHtml",restrict:"A",scope:{ngInsertHtml:"="},link:function(n,t){t.context.innerHTML=n.ngInsertHtml}}});randomIndex=Math.random();loadingStack=[];angular.module("utilServices",[]).factory("guid",function(){return{newGuid:function(){for(var t="",i,n=1;n<=32;n++)i=Math.floor(Math.random()*16).toString(16),t+=i,(n==8||n==12||n==16||n==20)&&(t+="-");return t},empty:function(){return"00000000-0000-0000-0000-000000000000"}}}).factory("confirmModal",["$modal",function(n){return{open:function(t){var r={confirmClick:function(){},text:"确认要执行此操作吗？",okButtonText:"确定",dialogTitle:"哎呀，验证失败了..."},i;extendOptions=angular.extend({},r,t);i=n.open({templateUrl:"/Client/Views/Utilities/ConfirmModal.html?index="+randomIndex,windowClass:"dialogConfirm",animation:!0,controller:"confirm",backdrop:"static",resolve:{options:function(){return extendOptions}}});i.result.then(function(){extendOptions.confirmClick()})}}}]).factory("errorModal",["$modal",function(n){return{open:function(t){var i=n.open({templateUrl:"./Client/Views/Utilities/ErrorModal.html?index="+randomIndex,windowClass:"dialogConfirm",controller:"error",resolve:{errorList:function(){return t}}})}}}]).factory("cookieHelper",function(){var n=function(){var n=function(n,t,i){var r=new Date;r.setDate(r.getDate()+i);document.cookie=n+"="+escape(t)+(i==null?"":";expires="+r.toGMTString())},t=function(n){return document.cookie.length>0&&(c_start=document.cookie.indexOf(n+"="),c_start!=-1)?(c_start=c_start+n.length+1,c_end=document.cookie.indexOf(";",c_start),c_end==-1&&(c_end=document.cookie.length),unescape(document.cookie.substring(c_start,c_end))):""};return{SetCookie:function(t,i,r){n(t,i,r)},GetCookie:function(n){return t(n)}}};return new n}).factory("alertModal",["$modal",function(n){return{open:function(t){var i=n.open({templateUrl:"./Client/Views/Utilities/AlertModal.html?index="+randomIndex,windowClass:document.documentMode==8?"alertConfirmIE8":"alertConfirm",controller:"alert",resolve:{newMessage:function(){return t}}});i.result.then()}}}]).factory("loading",["$rootScope",function(){return{open:function(n,t){var r="请稍候",i=".ui-content-main",u="",f="";arguments.length>0&&n!=null&&n!=""&&n!=undefined&&(r=n);arguments.length>1&&(i=t);$(i).children(".showFullLoading").length==0&&(u=$(i).width(),f=$(i).height(),$(i).prepend('<div class="showFullLoading" style="color:gray;height: '+f+"px; width: "+u+'px; position: absolute; z-index: 10000; background-color: white; text-align: center; padding-top: 100px;opacity:0.7;filter:alpha(opacity=70)">                 '+r+'...<i class="fa fa-spinner fa-pulse"><\/i>               <\/div>'))},close:function(n){var t=".ui-content-main";arguments.length>0&&(t=n);$(t).children(".showFullLoading").length>0&&$(t).children(".showFullLoading").remove()}}}]);randomIndex=Math.random();angular.module("exclusiveUtilServices",[]).factory("selectCategoryModal",["$modal",function(n){return{open:function(t){var i=n.open({templateUrl:"./Client/Views/ProductManage/CategorySelect.html?index="+randomIndex,windowClass:"categorySelectDialog",controller:"CategorySelectCtrl",backdrop:"static",resolve:{selectedItem:function(){return t.selectedItem}}});i.result.then(function(n){t.okClick(n)})}}}]).factory("examModal",["$modal",function(n){return{open:function(t){var i;t.Data.TestObject.Type==4||t.Data.TestObject.Type==5?(i=n.open({templateUrl:"/Client/Views/DialogExam.html",windowClass:"intentionTestDialog",controller:"DialogCanRedoneExamCtrl",backdrop:"static",keyboard:!1,resolve:{dialogData:function(){return t.Data}}}),i.result.then(function(n){window.clearInterval(n);var i={Success:!0,ObjectID:n};t.okClick(i)})):(i=n.open({templateUrl:"/Client/Views/DialogExam.html",windowClass:"intentionTestDialog",controller:"DialogExamCtrl",backdrop:"static",keyboard:!1,resolve:{dialogData:function(){return t.Data}}}),i.result.then(function(n){window.clearInterval(n);var i={Success:!0,ObjectID:n};t.okClick(i)}))}}}]).factory("examStudyModal",["$modal",function(n){return{open:function(t){var i=n.open({templateUrl:"/Client/Views/DialogStudyExam.html",windowClass:"intentionTestDialog",controller:"DialogStudyExamCtrl",backdrop:"static",keyboard:!1,resolve:{dialogData:function(){return t.Data}}});i.result.then(function(n){window.clearInterval(n);t.okClick({Success:!0})})}}}]).factory("MessageBox",["$modal",function(n){return{open:function(t,i,r,u){var f=n.open({templateUrl:"/Client/Views/MessageBox.html",windowClass:"messageBox",controller:"MessageBoxCtrl",backdrop:"static",resolve:{dialogData:function(){return{Message:i,Title:t,IsError:r}}}});f.result.then(function(){u!=undefined&&u()})}}}]).factory("MessageBoxSelect",["$modal",function(n){return{open:function(t,i,r,u,f){var e=n.open({templateUrl:"/Client/Views/MessageBoxSelect.html",windowClass:"messageBoxSelect",controller:"MessageBoxSelectCtrl",backdrop:"static",resolve:{dialogData:function(){return{Message:i,Title:t,IsError:r}}}});e.result.then(function(n){n==!0?u!=undefined&&u():n==!1&&f!=undefined&&f()})}}}]).factory("DialogExamResult",["$modal",function(n){return{open:function(t){var i=n.open({templateUrl:"/Client/Views/DialogExamResult.html",windowClass:"dialogExamResultBox",controller:"DialogExamResultCtrl",backdrop:"static",resolve:{dialogData:function(){return{Result:t}}}});i.result.then(function(){})}}}]);controllers.controller("AndroidCtrl",["$scope","$modal","$state","FileService",function(n,t,i,r){var f=function(){$(document).ready(function(){r.GetVideo({Id:"1aeeb30c-fcd3-44b0-a018-dd5d10a3e7e8"},{},function(n){var t;if(n.Success)var i=n.Target,r="http://image.learnfuture.com/EA1CB62A57CFE68FD9978D76E779A638782C51CB.jpg",u="学领未来";else var i="",r="http://image.learnfuture.com/EA1CB62A57CFE68FD9978D76E779A638782C51CB.jpg",u="学领未来";$("#jquery_jplayer_1").jPlayer({ready:function(){$(this).jPlayer("setMedia",{title:u,m4v:i,poster:r})},swfPath:"/Scripts/Jplayer/JS/jquery.jplayer.swf",solution:"html,flash",supplied:"m4v",size:{width:"350px",height:"232px",cssClass:"jp-video-360p"},useStateClassSkin:!0,autoBlur:!1,smoothPlayBar:!0,keyEnabled:!0,remainingDuration:!1,toggleDuration:!0,cssSelectorAncestor:"#jp_container_1"});t=!1;$("#jquery_jplayer_1").hover(function(){$("#jp_container_1 .jp-interface").css("display","block")});$("#jquery_jplayer_1").mouseleave(function(){t==!1&&$("#jp_container_1 .jp-interface").css("display","none")});$("#jp_container_1 .jp-interface").hover(function(){$("#jp_container_1 .jp-interface").css("display","block")});$("#jp_container_1 .jp-interface").mouseleave(function(){t==!1&&$("#jp_container_1 .jp-interface").css("display","none")});$("#jquery_jplayer_1").mouseover(function(){$("#jp_container_1 .jp-interface").css("display","block")});$("#jquery_jplayer_1").mouseout(function(){t==!1&&$("#jp_container_1 .jp-interface").css("display","none")});$("#jquery_jplayer_1").on($.jPlayer.event.resize,function(){t=!t;$("#jp_container_1 .jp-interface").css("display","block")});$("#jquery_jplayer_1").on($.jPlayer.event.click,function(n){n.jPlayer.status.paused?$("#jquery_jplayer_1").jPlayer("play"):$("#jquery_jplayer_1").jPlayer("pause")});$("#jquery_jplayer_1").on($.jPlayer.event.ended,function(){$("#jquery_jplayer_1").jPlayer("setMedia",{title:u,m4v:i,poster:r})})})})},u;f();u=function(){$(document).ready(function(){r.GetVideo({Id:"cb9fc3da-1b0f-466c-bf3d-40947644ee6c"},{},function(n){var t;if(n.Success)var i=n.Target,r="http://image.learnfuture.com/A74237D12B4201A210842CD8505E7C4F66745E7A.jpg",u="学领未来";else var i="",r="http://image.learnfuture.com/A74237D12B4201A210842CD8505E7C4F66745E7A.jpg",u="学领未来";$("#jquery_jplayer_2").jPlayer({ready:function(){$(this).jPlayer("setMedia",{title:u,m4v:i,poster:r})},swfPath:"/Scripts/Jplayer/JS/jquery.jplayer.swf",solution:"html,flash",supplied:"m4v",size:{width:"350px",height:"232px",cssClass:"jp-video-360p"},useStateClassSkin:!0,autoBlur:!1,smoothPlayBar:!0,keyEnabled:!0,remainingDuration:!1,toggleDuration:!0,cssSelectorAncestor:"#jp_container_2"});t=!1;$("#jquery_jplayer_2").hover(function(){$("#jp_container_2 .jp-interface").css("display","block")});$("#jquery_jplayer_2").mouseleave(function(){t==!1&&$("#jp_container_2 .jp-interface").css("display","none")});$("#jp_container_2 .jp-interface").hover(function(){$("#jp_container_2 .jp-interface").css("display","block")});$("#jp_container_2 .jp-interface").mouseleave(function(){t==!1&&$("#jp_container_2 .jp-interface").css("display","none")});$("#jquery_jplayer_2").mouseover(function(){$("#jp_container_2 .jp-interface").css("display","block")});$("#jquery_jplayer_2").mouseout(function(){t==!1&&$("#jp_container_2 .jp-interface").css("display","none")});$("#jquery_jplayer_2").on($.jPlayer.event.resize,function(){t=!t;$("#jp_container_2 .jp-interface").css("display","block")});$("#jquery_jplayer_2").on($.jPlayer.event.click,function(n){n.jPlayer.status.paused?$("#jquery_jplayer_2").jPlayer("play"):$("#jquery_jplayer_2").jPlayer("pause")});$("#jquery_jplayer_2").on($.jPlayer.event.ended,function(){$("#jquery_jplayer_2").jPlayer("setMedia",{title:u,m4v:i,poster:r})})})})};u()}]);controllers.controller("EnterpriseStudyCtrl",["$scope","$modal","$state","anchorScroll","ArticleService",function(n,t,i,r,u){n.goto=function(n,t){var i=$("#myTab").css("position");i=="static"?t>0&&r.toView("#"+n,!0,10):r.toView("#"+n,!0,30)};var f=function(){u.GetArticlesByCateNameAndSubcatename({pageIndex:1,pageSize:4,cateName:"培训新闻",subCatename:"内训新闻"},{},function(t){n.trainNewsList=t.Records})};f();n.playVideo=function(n){var i=document.getElementById("lf-epStudy-videoDemo"),t;i.style.display="block";t=document.getElementById("id-video");n==1?(t.poster="/Content/Images/ad/enterpriseStudy1/cover1new.png",t.src="/Content/Images/ad/enterpriseStudy1/1.mp4"):n==2?(t.poster="/Content/Images/ad/enterpriseStudy1/cover2new.png",t.src="/Content/Images/ad/enterpriseStudy1/2.mp4"):n==3?(t.poster="/Content/Images/ad/enterpriseStudy1/cover3new.png",t.src="/Content/Images/ad/enterpriseStudy1/3.mp4"):(t.poster="/Content/Images/ad/enterpriseStudy1/cover4new.png",t.src="/Content/Images/ad/enterpriseStudy1/4.mp4");t.play()};n.closePlayer=function(){var n=document.getElementById("lf-epStudy-videoDemo"),t=document.getElementById("id-video");t.pause();n.style.display="none"}}]);controllers.controller("ITILCtrl",["$scope","$modal","$state","FileService",function(n,t,i,r){var u=function(){$(document).ready(function(){r.GetVideo({Id:"cff5a361-4541-4105-b9ba-119a966635f0"},{},function(n){var t;if(n.Success){var u=n.Target,i="http://image.learnfuture.com/351BF3B293149DA6B416DB452CA7F0335E51F552.jpg",r="学领未来";$("#jquery_jplayer_1").jPlayer({ready:function(){$(this).jPlayer("setMedia",{title:r,m4v:u,poster:i})},swfPath:"/Scripts/Jplayer/JS/jquery.jplayer.swf",solution:"html,flash",supplied:"m4v",size:{width:"370px",height:"246px",cssClass:"jp-video-360p"},useStateClassSkin:!0,autoBlur:!1,smoothPlayBar:!0,keyEnabled:!0,remainingDuration:!1,toggleDuration:!0});t=!1;$("#jquery_jplayer_1").hover(function(){$(".jp-interface").css("display","block")});$("#jquery_jplayer_1").mouseleave(function(){t==!1&&$(".jp-interface").css("display","none")});$(".jp-interface").hover(function(){$(".jp-interface").css("display","block")});$(".jp-interface").mouseleave(function(){t==!1&&$(".jp-interface").css("display","none")});$("#jquery_jplayer_1").mouseover(function(){$(".jp-interface").css("display","block")});$("#jquery_jplayer_1").mouseout(function(){t==!1&&$(".jp-interface").css("display","none")});$("#jquery_jplayer_1").on($.jPlayer.event.resize,function(){t=!t;$(".jp-interface").css("display","block")});$("#jquery_jplayer_1").on($.jPlayer.event.click,function(n){n.jPlayer.status.paused?$("#jquery_jplayer_1").jPlayer("play"):$("#jquery_jplayer_1").jPlayer("pause")});$("#jquery_jplayer_1").on($.jPlayer.event.ended,function(){$("#jquery_jplayer_1").jPlayer("setMedia",{title:r,m4v:u,poster:i})})}else{var u="http://image.learnfuture.com/video/%E5%9C%A8%E7%BA%BF%E5%AD%A6%E4%B9%A0DEMO.MP4",i="http://image.learnfuture.com/351BF3B293149DA6B416DB452CA7F0335E51F552.jpg",r="学领未来";$("#jquery_jplayer_1").jPlayer({ready:function(){$(this).jPlayer("setMedia",{title:r,m4v:"",poster:i})},swfPath:"/Scripts/Jplayer/JS/jquery.jplayer.swf",solution:"html,flash",supplied:"m4v",size:{width:"370px",height:"246px",cssClass:"jp-video-360p"},useStateClassSkin:!0,autoBlur:!1,smoothPlayBar:!0,keyEnabled:!0,remainingDuration:!1,toggleDuration:!0});t=!1;$("#jquery_jplayer_1").hover(function(){$(".jp-interface").css("display","block")});$("#jquery_jplayer_1").mouseleave(function(){t==!1&&$(".jp-interface").css("display","none")});$(".jp-interface").hover(function(){$(".jp-interface").css("display","block")});$(".jp-interface").mouseleave(function(){t==!1&&$(".jp-interface").css("display","none")});$("#jquery_jplayer_1").mouseover(function(){$(".jp-interface").css("display","block")});$("#jquery_jplayer_1").mouseout(function(){t==!1&&$(".jp-interface").css("display","none")});$("#jquery_jplayer_1").on($.jPlayer.event.resize,function(){t=!t;$(".jp-interface").css("display","block")});$("#jquery_jplayer_1").on($.jPlayer.event.click,function(n){n.jPlayer.status.paused?$("#jquery_jplayer_1").jPlayer("play"):$("#jquery_jplayer_1").jPlayer("pause")});$("#jquery_jplayer_1").on($.jPlayer.event.ended,function(){$("#jquery_jplayer_1").jPlayer("setMedia",{title:r,m4v:"",poster:i})})}})})};u()}]);controllers.controller("OCPCtrl",["$scope","$modal","$state","FileService",function(n,t,i,r){var u=function(){$(document).ready(function(){r.GetVideo({Id:"912b77e8-2b64-4d93-8271-498607066780"},{},function(n){var t;if(n.Success){var u=n.Target,i="http://image.learnfuture.com/F9C0DAE6880AB051D3BB21E61EB8C21DB96B6E96.jpg",r="学领未来";$("#jquery_jplayer_1").jPlayer({ready:function(){$(this).jPlayer("setMedia",{title:r,m4v:u,poster:i})},swfPath:"/Scripts/Jplayer/JS/jquery.jplayer.swf",solution:"html,flash",supplied:"m4v",size:{width:"370px",height:"246px",cssClass:"jp-video-360p"},useStateClassSkin:!0,autoBlur:!1,smoothPlayBar:!0,keyEnabled:!0,remainingDuration:!1,toggleDuration:!0});t=!1;$("#jquery_jplayer_1").hover(function(){$(".jp-interface").css("display","block")});$("#jquery_jplayer_1").mouseleave(function(){t==!1&&$(".jp-interface").css("display","none")});$(".jp-interface").hover(function(){$(".jp-interface").css("display","block")});$(".jp-interface").mouseleave(function(){t==!1&&$(".jp-interface").css("display","none")});$("#jquery_jplayer_1").mouseover(function(){$(".jp-interface").css("display","block")});$("#jquery_jplayer_1").mouseout(function(){t==!1&&$(".jp-interface").css("display","none")});$("#jquery_jplayer_1").on($.jPlayer.event.resize,function(){t=!t;$(".jp-interface").css("display","block")});$("#jquery_jplayer_1").on($.jPlayer.event.click,function(n){n.jPlayer.status.paused?$("#jquery_jplayer_1").jPlayer("play"):$("#jquery_jplayer_1").jPlayer("pause")});$("#jquery_jplayer_1").on($.jPlayer.event.ended,function(){$("#jquery_jplayer_1").jPlayer("setMedia",{title:r,m4v:u,poster:i})})}else{var u="http://image.learnfuture.com/video/%E5%9C%A8%E7%BA%BF%E5%AD%A6%E4%B9%A0DEMO.MP4",i="http://image.learnfuture.com/F9C0DAE6880AB051D3BB21E61EB8C21DB96B6E96.jpg",r="学领未来";$("#jquery_jplayer_1").jPlayer({ready:function(){$(this).jPlayer("setMedia",{title:r,m4v:"",poster:i})},swfPath:"/Scripts/Jplayer/JS/jquery.jplayer.swf",solution:"html,flash",supplied:"m4v",size:{width:"370px",height:"246px",cssClass:"jp-video-360p"},useStateClassSkin:!0,autoBlur:!1,smoothPlayBar:!0,keyEnabled:!0,remainingDuration:!1,toggleDuration:!0});t=!1;$("#jquery_jplayer_1").hover(function(){$(".jp-interface").css("display","block")});$("#jquery_jplayer_1").mouseleave(function(){t==!1&&$(".jp-interface").css("display","none")});$(".jp-interface").hover(function(){$(".jp-interface").css("display","block")});$(".jp-interface").mouseleave(function(){t==!1&&$(".jp-interface").css("display","none")});$("#jquery_jplayer_1").mouseover(function(){$(".jp-interface").css("display","block")});$("#jquery_jplayer_1").mouseout(function(){t==!1&&$(".jp-interface").css("display","none")});$("#jquery_jplayer_1").on($.jPlayer.event.resize,function(){t=!t;$(".jp-interface").css("display","block")});$("#jquery_jplayer_1").on($.jPlayer.event.click,function(n){n.jPlayer.status.paused?$("#jquery_jplayer_1").jPlayer("play"):$("#jquery_jplayer_1").jPlayer("pause")});$("#jquery_jplayer_1").on($.jPlayer.event.ended,function(){$("#jquery_jplayer_1").jPlayer("setMedia",{title:r,m4v:"",poster:i})})}})})};u()}]);controllers.controller("PersonalStudyCtrl",["$scope","$modal","$state","anchorScroll",function(n,t,i,r){var u;n.goto=function(n,t){var i=$("#myTab").css("position");i=="static"?t>0&&r.toView("#"+n,!0,10):r.toView("#"+n,!0,30)};n.gotob=function(n,t){var i=$("#myTabb").css("position");i=="static"?t>0&&r.toView("#"+n,!0,10):r.toView("#"+n,!0,30)};n.gotoc=function(n,t){var i=$("#myTabc").css("position");i=="static"?t>0&&r.toView("#"+n,!0,10):r.toView("#"+n,!0,30)};n.nowthreetab=1;n.clickthree=function(t){n.nowthreetab=t;$(".thethree .active").removeClass("active");$("#three"+t).addClass("active");$(".thecontainer .active").removeClass("active");$("#threecontain"+t).addClass("active")};u=angular.element("#data_type").val();u=="tab1"?n.clickthree(1):u=="tab2"?n.clickthree(2):u=="tab3"?n.clickthree(3):n.clickthree(1);var f=function(n){for(var t=0;t<5;t++)document.getElementById("id-tab"+t)!=null&&angular.element("#tabli"+t+"").removeClass("active");document.getElementById("id-tab"+n)!=null&&angular.element("#tabli"+n+"").addClass("active")},e=function(n){for(var t=0;t<5;t++)document.getElementById("id-tabb"+t)!=null&&angular.element("#tabbli"+t+"").removeClass("active");document.getElementById("id-tabb"+n)!=null&&angular.element("#tabbli"+n+"").addClass("active")},o=function(n){for(var t=0;t<5;t++)document.getElementById("id-tabc"+t)!=null&&angular.element("#tabcli"+t+"").removeClass("active");document.getElementById("id-tabc"+n)!=null&&angular.element("#tabcli"+n+"").addClass("active")};$(function(){var s=/msie 6/i.test(navigator.userAgent),r=$("#myTab"),u,t,h,i,c;r.attr("otop",368);t=$("#myTabb");t.attr("otop",368);i=$("#myTabc");i.attr("otop",368);$(window).scroll(function(){var v,y,l,p,a;if(n.nowthreetab==1){for(u=Math.max(document.body.scrollTop||document.documentElement.scrollTop),u>=parseInt(r.attr("otop"))?s?r.css({position:"absolute",top:u}):r.css("position")!="fixed"&&r.css({position:"fixed",top:0,width:"138px","z-index":2}):r.css("position")!="static"&&r.css({position:"static",width:"100%"}),v=0,y=1e5,l=0;l<5;l++)p=document.getElementById("id-tab"+l),p!=null&&(a=p.getBoundingClientRect().bottom,a<y&&a>10&&(y=a,v=l));f(v)}else if(n.nowthreetab==2){for(h=Math.max(document.body.scrollTop||document.documentElement.scrollTop),h>=parseInt(t.attr("otop"))?s?t.css({position:"absolute",top:u}):t.css("position")!="fixed"&&t.css({position:"fixed",top:0,width:"138px","z-index":2}):t.css("position")!="static"&&t.css({position:"static",width:"100%"}),v=0,y=1e5,l=0;l<5;l++)p=document.getElementById("id-tabb"+l),p!=null&&(a=p.getBoundingClientRect().bottom,a<y&&a>10&&(y=a,v=l));e(v)}else if(n.nowthreetab==3){for(c=Math.max(document.body.scrollTop||document.documentElement.scrollTop),c>=parseInt(i.attr("otop"))?s?i.css({position:"absolute",top:u}):i.css("position")!="fixed"&&i.css({position:"fixed",top:0,width:"145px","z-index":2}):i.css("position")!="static"&&i.css({position:"static",width:"100%"}),v=0,y=1e5,l=0;l<5;l++)p=document.getElementById("id-tabc"+l),p!=null&&(a=p.getBoundingClientRect().bottom,a<y&&a>10&&(y=a,v=l));o(v)}})})}]);controllers.controller("PMPCtrl",["$scope","$modal","$state","FileService",function(n,t,i,r){var u=function(){$(document).ready(function(){r.GetVideo({Id:"bcf12e43-9fae-4cb8-bcc8-87f6afcd8915"},{},function(n){var t;if(n.Success){var u=n.Target,i="http://image.learnfuture.com/03D8DFBB4FE971FA9D9F31D977368EE7298EFE46.jpg",r="学领未来";$("#jquery_jplayer_1").jPlayer({ready:function(){$(this).jPlayer("setMedia",{title:r,m4v:u,poster:i})},swfPath:"/Scripts/Jplayer/JS/jquery.jplayer.swf",solution:"html,flash",supplied:"m4v",size:{width:"370px",height:"246px",cssClass:"jp-video-360p"},useStateClassSkin:!0,autoBlur:!1,smoothPlayBar:!0,keyEnabled:!0,remainingDuration:!1,toggleDuration:!0});t=!1;$("#jquery_jplayer_1").hover(function(){$(".jp-interface").css("display","block")});$("#jquery_jplayer_1").mouseleave(function(){t==!1&&$(".jp-interface").css("display","none")});$(".jp-interface").hover(function(){$(".jp-interface").css("display","block")});$(".jp-interface").mouseleave(function(){t==!1&&$(".jp-interface").css("display","none")});$("#jquery_jplayer_1").mouseover(function(){$(".jp-interface").css("display","block")});$("#jquery_jplayer_1").mouseout(function(){t==!1&&$(".jp-interface").css("display","none")});$("#jquery_jplayer_1").on($.jPlayer.event.resize,function(){t=!t;$(".jp-interface").css("display","block")});$("#jquery_jplayer_1").on($.jPlayer.event.click,function(n){n.jPlayer.status.paused?$("#jquery_jplayer_1").jPlayer("play"):$("#jquery_jplayer_1").jPlayer("pause")});$("#jquery_jplayer_1").on($.jPlayer.event.ended,function(){$("#jquery_jplayer_1").jPlayer("setMedia",{title:r,m4v:u,poster:i})})}else{var u="http://image.learnfuture.com/video/%E5%9C%A8%E7%BA%BF%E5%AD%A6%E4%B9%A0DEMO.MP4",i="http://image.learnfuture.com/03D8DFBB4FE971FA9D9F31D977368EE7298EFE46.jpg",r="学领未来";$("#jquery_jplayer_1").jPlayer({ready:function(){$(this).jPlayer("setMedia",{title:r,m4v:"",poster:i})},swfPath:"/Scripts/Jplayer/JS/jquery.jplayer.swf",solution:"html,flash",supplied:"m4v",size:{width:"370px",height:"246px",cssClass:"jp-video-360p"},useStateClassSkin:!0,autoBlur:!1,smoothPlayBar:!0,keyEnabled:!0,remainingDuration:!1,toggleDuration:!0});t=!1;$("#jquery_jplayer_1").hover(function(){$(".jp-interface").css("display","block")});$("#jquery_jplayer_1").mouseleave(function(){t==!1&&$(".jp-interface").css("display","none")});$(".jp-interface").hover(function(){$(".jp-interface").css("display","block")});$(".jp-interface").mouseleave(function(){t==!1&&$(".jp-interface").css("display","none")});$("#jquery_jplayer_1").mouseover(function(){$(".jp-interface").css("display","block")});$("#jquery_jplayer_1").mouseout(function(){t==!1&&$(".jp-interface").css("display","none")});$("#jquery_jplayer_1").on($.jPlayer.event.resize,function(){t=!t;$(".jp-interface").css("display","block")});$("#jquery_jplayer_1").on($.jPlayer.event.click,function(n){n.jPlayer.status.paused?$("#jquery_jplayer_1").jPlayer("play"):$("#jquery_jplayer_1").jPlayer("pause")});$("#jquery_jplayer_1").on($.jPlayer.event.ended,function(){$("#jquery_jplayer_1").jPlayer("setMedia",{title:r,m4v:"",poster:i})})}})})};u()}]);controllers.controller("RHCECtrl",["$scope","$modal","$state","FileService",function(n,t,i,r){var u=function(){$(document).ready(function(){r.GetVideo({Id:"67a45895-6301-4bef-9254-3d1f238ae72b"},{},function(n){var t;if(n.Success){var u=n.Target,i="http://image.learnfuture.com/DF143AEA7C18F6054DCC169E74507EB55C71F885.jpg",r="学领未来";$("#jquery_jplayer_1").jPlayer({ready:function(){$(this).jPlayer("setMedia",{title:r,m4v:u,poster:i})},swfPath:"/Scripts/Jplayer/JS/jquery.jplayer.swf",solution:"html,flash",supplied:"m4v",size:{width:"365px",height:"243px",cssClass:"jp-video-360p"},useStateClassSkin:!0,autoBlur:!1,smoothPlayBar:!0,keyEnabled:!0,remainingDuration:!1,toggleDuration:!0});t=!1;$("#jquery_jplayer_1").hover(function(){$(".jp-interface").css("display","block")});$("#jquery_jplayer_1").mouseleave(function(){t==!1&&$(".jp-interface").css("display","none")});$(".jp-interface").hover(function(){$(".jp-interface").css("display","block")});$(".jp-interface").mouseleave(function(){t==!1&&$(".jp-interface").css("display","none")});$("#jquery_jplayer_1").mouseover(function(){$(".jp-interface").css("display","block")});$("#jquery_jplayer_1").mouseout(function(){t==!1&&$(".jp-interface").css("display","none")});$("#jquery_jplayer_1").on($.jPlayer.event.resize,function(){t=!t;$(".jp-interface").css("display","block")});$("#jquery_jplayer_1").on($.jPlayer.event.click,function(n){n.jPlayer.status.paused?$("#jquery_jplayer_1").jPlayer("play"):$("#jquery_jplayer_1").jPlayer("pause")});$("#jquery_jplayer_1").on($.jPlayer.event.ended,function(){$("#jquery_jplayer_1").jPlayer("setMedia",{title:r,m4v:u,poster:i})})}else{var u="",i="http://image.learnfuture.com/DF143AEA7C18F6054DCC169E74507EB55C71F885.jpg",r="学领未来";$("#jquery_jplayer_1").jPlayer({ready:function(){$(this).jPlayer("setMedia",{title:r,m4v:"",poster:i})},swfPath:"/Scripts/Jplayer/JS/jquery.jplayer.swf",solution:"html,flash",supplied:"m4v",size:{width:"365px",height:"243px",cssClass:"jp-video-360p"},useStateClassSkin:!0,autoBlur:!1,smoothPlayBar:!0,keyEnabled:!0,remainingDuration:!1,toggleDuration:!0});t=!1;$("#jquery_jplayer_1").hover(function(){$(".jp-interface").css("display","block")});$("#jquery_jplayer_1").mouseleave(function(){t==!1&&$(".jp-interface").css("display","none")});$(".jp-interface").hover(function(){$(".jp-interface").css("display","block")});$(".jp-interface").mouseleave(function(){t==!1&&$(".jp-interface").css("display","none")});$("#jquery_jplayer_1").mouseover(function(){$(".jp-interface").css("display","block")});$("#jquery_jplayer_1").mouseout(function(){t==!1&&$(".jp-interface").css("display","none")});$("#jquery_jplayer_1").on($.jPlayer.event.resize,function(){t=!t;$(".jp-interface").css("display","block")});$("#jquery_jplayer_1").on($.jPlayer.event.click,function(n){n.jPlayer.status.paused?$("#jquery_jplayer_1").jPlayer("play"):$("#jquery_jplayer_1").jPlayer("pause")});$("#jquery_jplayer_1").on($.jPlayer.event.ended,function(){$("#jquery_jplayer_1").jPlayer("setMedia",{title:r,m4v:"",poster:i})})}})})};u()}]);controllers.controller("MainLayoutCtrl",["$scope","$modal","$state","$rootScope",function(n){var e;n.isLockMenu=!1;n.thezindex=11;var r=$("#cbp-hrmenu .horiz_menu> ul > li"),y=r.children(".at_present"),o=$("body"),t=r.eq(1),s=function(){t.addClass("cbp-hropen");$("#allcoursemenu").css("z-index",n.thezindex);n.thezindex++},u=function(){t.removeClass("cbp-hropen")},h=function(){s()},c=function(){n.isLockMenu||u()};t.hover(h,c);t.click(function(n){n.stopPropagation()});n.lockMenu=function(){n.isLockMenu=!n.isLockMenu;n.isLockMenu&&t.addClass("cbp-hropen")};n.isLockPosition=!1;var i=r.eq(2),l=function(){i.addClass("cbp-hropen");$("#allpositionmenu").css("z-index",n.thezindex);n.thezindex++},f=function(){i.removeClass("cbp-hropen")},a=function(){l()},v=function(){n.isLockPosition||f()};i.hover(a,v);i.click(function(n){n.stopPropagation()});n.lockPosition=function(){n.isLockPosition=!n.isLockPosition;n.isLockPosition&&i.addClass("cbp-hropen")};e=function(){u();f()};o.off("click").on("click",e)}]);controllers.controller("SiteLocationRecommendCtrl",["$scope","$rootScope",function(n){var i=$("#id-siteLocationRecommend").val(),r,t;n.isRecommend=!1;n.isLoading=!1;r=new SiteLocationType;t=new CookieHelper;n.siteName="学领未来提供线上及线下的学习服务，根据您的位置，为您推荐最近的线下培训地点"+r.ToName(i)+"分站，你的选择是：";n.siteName=r.ToName(i);i&&t.SetCookie("SiteLocation","main",1e6);n.ok=function(){t.SetCookie("SiteLocation",i,1e6);window.location.reload();n.isLoading=!0};n.cancel=function(){t.SetCookie("SiteLocation","main",1e6);n.isRecommend=!1;t.SetCookie("SiteLocation","main",1e6)}}]);controllers.controller("AboutUsCtrl",["$scope","$modal","$state","anchorScroll",function(n,t,i,r){var u=angular.element("#data_Id").val();u!=0&&r.toView("#point"+u,!0,1)}]);controllers.controller("ArticleListCtrl",["$scope","CourseService","ArticleService",function(n,t,i){n.hasCourse=!1;n.hasNoticeArticle=!1;n.hasArticle=!1;var r=window.location.href.lastIndexOf("/")+1;n.type=window.location.href.substr(r,1);n.type=="0"&&(n.title="培训合作客户");n.type=="1"&&(n.title="活动");n.type=="2"&&(n.title="最近课程");n.type=="3"&&(n.title="培训新闻");n.type=="4"&&(n.title="嘉为新闻");n.type=="5"&&(n.title="原创文章分享");n.type=="6"&&(n.title="嘉为大讲堂");n.getNoticeArticleList=function(t){i.GetArticlesByCateName({pageIndex:t,pageSize:15,cateName:n.cateName},{},function(t){n.CaseArticles=t;n.NoticeArticles=t.Records;angular.forEach(n.NoticeArticles,function(n){n.Abstract!=null&&n.Abstract.length>150&&(n.Abstract=n.Abstract.substr(0,150)+"......")});n.hasNoticeArticle=n.NoticeArticles.length==0?!1:!0})};n.getLatestOfflineCourse=function(i){t.GetLatestedOfflineCourse({pageIndex:i,pageSize:15},{},function(t){n.CaseArticles=t;n.Courses=t.Records;angular.forEach(n.Courses,function(n){n.CourseSummary!=null&&n.CourseSummary.length>150&&(n.CourseSummary=n.CourseSummary.substr(0,150)+"......")});n.hasCourse=n.Courses.length==0?!1:!0})};n.type=="0"&&(n.cateName="培训合作客户",n.getNoticeArticleList(1));n.type=="1"&&(n.cateName="培训讲堂",n.getNoticeArticleList(1));n.type=="2"&&n.getLatestOfflineCourse(1);n.type=="3"&&(n.cateName="培训新闻",n.getNoticeArticleList(1));n.type=="4"&&(n.cateName="嘉为新闻",n.getNoticeArticleList(1));n.type=="5"&&(n.cateName="原创文章分享",n.getNoticeArticleList(1));n.type=="6"&&(n.cateName="免费讲堂",n.getNoticeArticleList(1))}]);controllers.controller("CertificationPathCtrl",["$scope","$state","$compile","examModal","anchorScroll","ProductService","CourseService","StudyInvestigationService","ProductCategoryService","$modal","PaperService","QuestionService","StudyAdvisorService",function(n,t,i,r,u){n.exam=function(n){var t={Data:{TestObject:{IdList:n,Type:9}},okClick:function(){}};r.open(t)};n.goto=function(n){var t=$("#myNewTab").css("position");t=="static"?u.toView("#"+n,!0,73):u.toView("#"+n,!0,23)};var f=3,e=function(n){for(var t=0;t<f;t++)document.getElementById("id-tab"+t)!=null&&angular.element("#tabli"+t+"").removeClass("active");document.getElementById("id-tab"+n)!=null&&angular.element("#tabli"+n+"").addClass("active")};window.onscroll=function(){for(var s=document.body.clientHeight,r=0,u=1e5,t,o,i,n=0;n<f;n++)t=document.getElementById("id-tab"+n),t!=null&&(o=t.getBoundingClientRect().top,i=t.getBoundingClientRect().bottom,i<u&&i>63&&(u=i,r=n));e(r)}}]);controllers.controller("ciscoCtrl",["$scope","$modal","$state","FileService",function(n,t,i,r){var u=function(){$(document).ready(function(){r.GetVideo({Id:"8e3e35af-c511-487b-a012-68ba12954dab"},{},function(n){var t;if(n.Success){var u=n.Target,i="/Content/Images/ad/Cisco/videocovera.png",r="学领未来";$("#jquery_jplayer_1").jPlayer({ready:function(){$(this).jPlayer("setMedia",{title:r,m4v:u,poster:i})},swfPath:"/Scripts/Jplayer/JS/jquery.jplayer.swf",solution:"html,flash",supplied:"m4v",size:{width:"613px",height:"346px",cssClass:"jp-video-360p"},useStateClassSkin:!0,autoBlur:!1,smoothPlayBar:!0,keyEnabled:!0,remainingDuration:!1,toggleDuration:!0});t=!1;$("#jquery_jplayer_1").hover(function(){$(".jp-interface").css("display","block")});$("#jquery_jplayer_1").mouseleave(function(){t==!1&&$(".jp-interface").css("display","none")});$(".jp-interface").hover(function(){$(".jp-interface").css("display","block")});$(".jp-interface").mouseleave(function(){t==!1&&$(".jp-interface").css("display","none")});$("#jquery_jplayer_1").mouseover(function(){$(".jp-interface").css("display","block")});$("#jquery_jplayer_1").mouseout(function(){t==!1&&$(".jp-interface").css("display","none")});$("#jquery_jplayer_1").on($.jPlayer.event.resize,function(){t=!t;$(".jp-interface").css("display","block")});$("#jquery_jplayer_1").on($.jPlayer.event.click,function(n){n.jPlayer.status.paused?$("#jquery_jplayer_1").jPlayer("play"):$("#jquery_jplayer_1").jPlayer("pause")});$("#jquery_jplayer_1").on($.jPlayer.event.ended,function(){$("#jquery_jplayer_1").jPlayer("setMedia",{title:r,m4v:u,poster:i})})}else{var u="#",i="/Content/Images/ad/Cisco/videocovera.png",r="学领未来";$("#jquery_jplayer_1").jPlayer({ready:function(){$(this).jPlayer("setMedia",{title:r,m4v:"",poster:i})},swfPath:"/Scripts/Jplayer/JS/jquery.jplayer.swf",solution:"html,flash",supplied:"m4v",size:{width:"613px",height:"346px",cssClass:"jp-video-360p"},useStateClassSkin:!0,autoBlur:!1,smoothPlayBar:!0,keyEnabled:!0,remainingDuration:!1,toggleDuration:!0});t=!1;$("#jquery_jplayer_1").hover(function(){$(".jp-interface").css("display","block")});$("#jquery_jplayer_1").mouseleave(function(){t==!1&&$(".jp-interface").css("display","none")});$(".jp-interface").hover(function(){$(".jp-interface").css("display","block")});$(".jp-interface").mouseleave(function(){t==!1&&$(".jp-interface").css("display","none")});$("#jquery_jplayer_1").mouseover(function(){$(".jp-interface").css("display","block")});$("#jquery_jplayer_1").mouseout(function(){t==!1&&$(".jp-interface").css("display","none")});$("#jquery_jplayer_1").on($.jPlayer.event.resize,function(){t=!t;$(".jp-interface").css("display","block")});$("#jquery_jplayer_1").on($.jPlayer.event.click,function(n){n.jPlayer.status.paused?$("#jquery_jplayer_1").jPlayer("play"):$("#jquery_jplayer_1").jPlayer("pause")});$("#jquery_jplayer_1").on($.jPlayer.event.ended,function(){$("#jquery_jplayer_1").jPlayer("setMedia",{title:r,m4v:"",poster:i})})}})})};u()}]);controllers.controller("CorporationVIPCtrl",["$scope","StudentService","confirmModal",function(n,t,i){n.corporation="";n.VIPEmail="";n.thecode="";n.GetStudentmessage=function(){t.GetById({studentId:null},{},function(t){n.Studentmessage=t;n.Studentmessage==null&&alert("您尚未注册成功,请到注册页面重新完成注册")})};n.GetStudentmessage();n.sentCode=function(){if(reg=/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/,!reg.test(n.VIPEmail)){alert("邮箱格式不正确");return}n.Studentmessage.VipEnterpriseEmail=n.VIPEmail;t.EnterpriseCertification({enterpriseName:n.corporation,enterpriseEmail:n.Studentmessage.VipEnterpriseEmail},{},function(r){r.Success?(document.getElementById("thealert").innerHTML="认证中...如未收到验证码，请重新确认您的邮件地址，或检查您的邮件拦截设置。",n.Studentmessage.EnterpriseStringName=n.corporation,t.Update({},n.Studentmessage,function(){})):i.open({text:r.Message,okButtonText:"重试",dialogTitle:"哎呀，发送失败了...",confirmClick:function(){n.sentCode()}})})};n.validatecode=function(){t.ValidateEnterpriseCert({code:n.thecode},{},function(t){t.Success?window.document.location="/usercenter/index#/mylearningcurrency":i.open({text:t.Message,okButtonText:"重试",dialogTitle:"哎呀，验证失败了...",confirmClick:function(){n.validatecode()}})})}}]);controllers.controller("CouponCtrl",["$scope","$modal","$state","examModal","errorModal","CouponsService",function(n,t,i,r,u,f){var e=angular.element("#data_couId").val();n.getall=function(){e!=null&&e!="null"&&e!=""?f.GetById({Id:e},{},function(t){n.coupons=[];n.coupons.push(t)}):f.GetPublicCoupons({},{},function(t){n.coupons=t})};n.getall();n.takeit=function(t){f.Take({couponsId:t},{},function(t){t.Success?n.getall():alert(t.Message)})}}]);controllers.controller("CourseCtrl",["$scope","$modal","$state","anchorScroll","$location","FileService","CourseEvaluationService","CourseAskService","CourseService","ShoppingService","TeacherService","StudyService","ArticleService","MessageBox","PaperService","examModal","MarketingEventService",function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w){var k,g,nt,tt,it,rt,ut,ft,et,ot,st;n.addtoshoppingcardstatus=!1;var b=angular.element("#data_CourseId").val(),d=angular.element("#data_Cover").val(),ht=angular.element("#data_FirstChapterid").val();n.CourseEvaluationListPageIndex=1;n.CourseEvaluationListPageSize=10;n.QuestionListPageIndex=1;n.QuestionListPageSize=10;n.isshowmyEvaluation=!1;n.letPeopleLogin=function(){v.open("信息提示","请先登录再进行观看。",!0)};n.buyToWatch=function(){v.open("信息提示","请购买后继续查看。",!0)};n.ArticleDetail=function(n){window.location.href="/article/"+n};n.CourseId=b;k=6;g=function(n){for(var t=0;t<k;t++)angular.element("#myTab li:eq("+t+")").removeClass("active");angular.element("#myTab li:eq("+n+")").addClass("active")};n.goto=function(n,t){var i=$("#myTab").css("position");i=="static"?t>0&&r.toView("#"+n,!0,73):r.toView("#"+n,!0,30)};window.onscroll=function(){for(var f=document.body.clientHeight,i=0,r=1e5,n=0;n<k;n++){var u=document.getElementById("id-tab"+n),e=u.getBoundingClientRect().top,t=u.getBoundingClientRect().bottom;t<r&&t>63&&(r=t,i=n)}g(i)};n.goToLogin=function(){var n=window.location.href;window.location.href="/Account/Login/?ReturnUrl="+encodeURIComponent(n)};n.download=function(n){f.GetFile({id:n},{},function(n){var t,i;n.Success?(t=document.getElementById("web-download-link"),t==null&&(t=document.createElement("a"),t.setAttribute("id","web-download-link"),t.setAttribute("target","_blank"),t.setAttribute("display","none"),document.body.appendChild(t)),t.setAttribute("href",n.Target),i=document.createEvent("MouseEvents"),i.initEvent("click",!0,!0),t.dispatchEvent(i)):v.open("信息提示","文件下载失败。详细信息："+n.Message,!1)})};n.Description="";n.SubmitEvaluate=function(){if(n.Satisfaction=$("#Satisfaction").text(),n.Satisfaction==""){$("#PromptInfo").css("display","inline");return}$("#PromptInfo").css("display","none");n.EvaluateModel={CourseId:n.CourseId,Satisfaction:n.Satisfaction,Description:n.Description};e.SubmitEvaluate({},n.EvaluateModel,function(t){t.Success?(n.Satisfaction=0,$(".star_score").find(".clibg").removeClass(),$("#Satisfaction").text(""),n.Description="",n.IsShowEvaluate=!1,n.CourseEvaluationList(n.CourseEvaluationListPageIndex)):(v.open("信息提示",t.Message,!0),n.Satisfaction=0,$(".star_score").find(".clibg").removeClass(),$("#Satisfaction").text(""),n.Description="",n.IsShowEvaluate=!1)})};n.IsShowEvaluate=!1;n.ShowEvaluate=function(){n.IsShowEvaluate=!n.IsShowEvaluate};n.ShowBuy=function(){v.open("信息提示","请购买该课程后再进行评价",!1)};n.SubmitQuestion=function(){if(n.Content==undefined||n.Content==""){$("#QuestionInfo").css("display","inline");return}$("#QuestionInfo").css("display","none");n.QuestionModel={CourseID:n.CourseId,Content:n.Content};o.Create({},n.QuestionModel,function(t){t.Success?(v.open("信息提示","您的问题已成功提交。",!1),n.GetListByCourseId(n.QuestionListPageIndex),n.Content=""):v.open("信息提示","您的问题提交失败。详细信息："+t.Message,!0)})};n.GetListByCourseId=function(t){o.GetListByCourseId({courseId:n.CourseId,pageIndex:t,pageSize:n.QuestionListPageSize},{},function(t){n.QuestionList=t;n.QuestionListPageIndex=t.PageIndex;angular.forEach(n.QuestionList.Records,function(t){t.istryingtoanswer=!1;t.answersheet={CourseID:n.CourseId,ParentID:t.ID,Content:""}})})};n.GetListByCourseId(n.QuestionListPageIndex);n.quitanswer=function(n){n.istryingtoanswer=!1};n.answeronequestion=function(n){n.istryingtoanswer=!0};n.answerquestion=function(t){o.Create({},t.answersheet,function(t){t.Success?(v.open("信息提示","您的回答已成功提交。",!1),n.GetListByCourseId(n.QuestionListPageIndex)):v.open("信息提示","您的回答提交失败。详细信息："+t.Message,!0)})};n.CourseEvaluationList=function(t){n.evaluation==undefined&&(n.evaluation=0);e.GetEvaluateList({score:n.evaluation,CourseId:n.CourseId,pageIndex:t,pageSize:n.CourseEvaluationListPageSize},{},function(t){n.isshowmyEvaluation=!1;n.courseEvaluationList=t;angular.forEach(n.courseEvaluationList.Records,function(t){t.istryingtoanswer=!1;t.answersheet={CourseId:n.CourseId,Description:"",ParentID:t.ID}});n.CourseEvaluationListPageIndex=t.PageIndex});e.GetEvaluateCount({CourseId:n.CourseId},{},function(t){n.evaluation==0&&(n.EvaluationCount=t,n.EvaluationTotal=n.EvaluationCount.FirstCount+n.EvaluationCount.TwoCount+n.EvaluationCount.ThreeCount+n.EvaluationCount.FourCount+n.EvaluationCount.FiveCount,n.Evaluationscore=n.EvaluationTotal==0?5:t.Average);var i=6+100*(n.Evaluationscore-1)+"px",r=100*(n.Evaluationscore-1)+"px",u=n.Evaluationscore*23.5+"px";$(".vip_growth_progress_whirlwind").css("left",i);$(".vip_growth_progress_item_mask").css("width",r);n.Evaluationscore<5&&$(".vip_growth_progress_item_4").css("color","#be8b4a");n.Evaluationscore<4&&$(".vip_growth_progress_item_3").css("color","#be8b4a");n.Evaluationscore<3&&$(".vip_growth_progress_item_2").css("color","#be8b4a");n.Evaluationscore<2&&$(".vip_growth_progress_item_1").css("color","#be8b4a");$("#starBg").css("width",u)})};n.ShowMyEvaluate=function(){n.isshowmyEvaluation==!1?e.GetMyEvaluate({CourseId:n.CourseId},{},function(t){n.isshowmyEvaluation=!0;n.courseEvaluationList.Records=[];t.ID=="00000000-0000-0000-0000-000000000000"||(n.abc=t,n.abc.istryingtoanswer=!1,n.abc.answersheet={CourseId:n.CourseId,Description:"",ParentID:n.abc.ID},n.courseEvaluationList.Records.push(n.abc))}):n.CourseEvaluationList(n.CourseEvaluationListPageIndex)};n.moreevaluation=function(n){n.istryingtoanswer=!0};n.quitevaluation=function(n){n.istryingtoanswer=!1};n.submitchildevaluate=function(t){e.SubmitEvaluate({},t.answersheet,function(i){i.Success?(t.answersheet.Description="",n.isshowmyEvaluation?n.ShowMyEvaluate():n.CourseEvaluationList(n.CourseEvaluationListPageIndex)):v.open("信息提示",i.Message,!0)})};n.CourseEvaluationList(n.CourseEvaluationListPageIndex);n.evaluation=0;n.$watch("evaluation",function(t,i){t!=i&&n.CourseEvaluationList(n.CourseEvaluationListPageIndex,n.CourseEvaluationListPageSize)});n.GetLatestOfflineCourse=function(){s.GetLatestedOfflineCourse({pageIndex:1,pageSize:5,locationId:null,courseId:n.CourseId},{},function(t){n.Course=t})};n.GetLatestOfflineCourse();nt=function(){a.GetCaseArticles({pageIndex:1,pageSize:5},{},function(t){n.CaseArticles=t})};nt();tt=function(){a.GetArticlesByCateName({pageIndex:1,pageSize:5,cateName:"培训新闻"},{},function(t){n.CourseNewsLists=t})};tt();it=function(){a.GetArticlesByCateName({pageIndex:1,pageSize:5,cateName:"嘉为新闻"},{},function(t){n.CanwayNewsLists=t})};it();rt=function(){a.GetArticlesByCateName({pageIndex:1,pageSize:5,cateName:"原创文章分享"},{},function(t){n.ShareArticleLists=t})};rt();ut=function(){a.GetArticlesByCateName({pageIndex:1,pageSize:5,cateName:"原创文章分享"},{},function(t){n.ShareArticleListsnew=t;angular.forEach(n.ShareArticleListsnew.Records,function(n){n.SubCategoryName!=null&&n.SubCategoryName!=""&&(n.Name="【"+n.SubCategoryName+"】"+n.Name)})})};ut();ft=function(){w.GetList({keyword:"",pageSize:5,pageIndex:1},{},function(t){n.CanwayFreeClassArticle=t})};ft();et=function(){a.GetNoticeArticles({pageIndex:1,pageSize:5},{},function(t){n.NoticeArticles=t})};et();ot=function(t){c.GetByCourseId({courseId:t},{},function(t){n.Teacher=t;$(document).ready(function(){function r(){$(".maonimen p").css("transition","all 1s ease 0s");$(".maonimen").addClass("fei");$(".zhentu img").attr("src",n.Teacher[t].PictureUrl);$(".produce").html("<div><span style='opacity:1;'>"+n.Teacher[t].User.Name+"&nbsp;讲师<\/span><\/div>");setTimeout(function(){$(".maonimen p").css("transition","none");$(".maonimen p").css("background-image","url("+n.Teacher[t].PictureUrl+")");$(".maonimen").removeClass("fei")},1e3)}var i=n.Teacher.length-1,t=0;$(".maonimen p").each(function(){var n=$(this).index()%4*100,t=parseInt($(this).index()/4)*100;$(this).css({left:n,top:t,"background-position":-n+"px "+-t+"px"})});$(".rightbut").click(function(){t<i?t++:t=0;r()});$(".leftbut").click(function(){t>0?t--:t=i;r()})})})};ot(n.CourseId);n.addtocart=function(t,i){n.addtoshoppingcardstatus!=!0&&(n.addtoshoppingcardstatus=!0,n.carlist=[],n.sendcar={},n.sendcar.ObjectId=t,n.sendcar.CourseID=i,n.sendcar.Type=0,n.carlist.push(n.sendcar),h.Add({},n.carlist,function(t){n.addtoshoppingcardstatus=!1;t.Success?v.open("信息提示","加入购物车成功,可在“我的学习中心-我的购物车”查看",!1):v.open("信息提示",t.Message,!0)}))};n.gotoShoppingCar=function(n,t){window.location.href="/Order/Confirm/?id="+t};n.getnotenumber=function(){l.GetCourseNoteCount({courseId:n.CourseId},{},function(t){n.notenum=t.Target});o.GetCourseQACount({courseId:n.CourseId},{},function(t){t.Success&&(n.questiontotal=t.Target)})};n.getnotenumber();st=function(){$(document).ready(function(){f.GetVideo({Id:ht},{},function(n){var t;if(n.Success){var u=n.Target,i=d,r="学领未来";$("#jquery_jplayer_1").jPlayer({ready:function(){$(this).jPlayer("setMedia",{title:r,m4v:u,poster:i})},swfPath:"/Scripts/Jplayer/JS/jquery.jplayer.swf",solution:"html,flash",supplied:"m4v",size:{width:"455px",height:"301px",cssClass:"jp-video-360p"},useStateClassSkin:!0,autoBlur:!1,smoothPlayBar:!0,keyEnabled:!0,remainingDuration:!1,toggleDuration:!0});t=!1;$("#jquery_jplayer_1").hover(function(){$(".jp-interface").css("display","block")});$("#jquery_jplayer_1").mouseleave(function(){t==!1&&$(".jp-interface").css("display","none")});$(".jp-interface").hover(function(){$(".jp-interface").css("display","block")});$(".jp-interface").mouseleave(function(){t==!1&&$(".jp-interface").css("display","none")});$("#jquery_jplayer_1").mouseover(function(){$(".jp-interface").css("display","block")});$("#jquery_jplayer_1").mouseout(function(){t==!1&&$(".jp-interface").css("display","none")});$("#jquery_jplayer_1").on($.jPlayer.event.resize,function(){t=!t;$(".jp-interface").css("display","block")});$("#jquery_jplayer_1").on($.jPlayer.event.click,function(n){n.jPlayer.status.paused?$("#jquery_jplayer_1").jPlayer("play"):$("#jquery_jplayer_1").jPlayer("pause")});$("#jquery_jplayer_1").on($.jPlayer.event.ended,function(){$("#jquery_jplayer_1").jPlayer("setMedia",{title:r,m4v:u,poster:i})})}else{var u="",i=d,r="学领未来";$("#jquery_jplayer_1").jPlayer({ready:function(){$(this).jPlayer("setMedia",{title:r,m4v:"",poster:i})},swfPath:"/Scripts/Jplayer/JS/jquery.jplayer.swf",solution:"html,flash",supplied:"m4v",size:{width:"455px",height:"301px",cssClass:"jp-video-360p"},useStateClassSkin:!0,autoBlur:!1,smoothPlayBar:!0,keyEnabled:!0,remainingDuration:!1,toggleDuration:!0});t=!1;$("#jquery_jplayer_1").hover(function(){$(".jp-interface").css("display","block")});$("#jquery_jplayer_1").mouseleave(function(){t==!1&&$(".jp-interface").css("display","none")});$(".jp-interface").hover(function(){$(".jp-interface").css("display","block")});$(".jp-interface").mouseleave(function(){t==!1&&$(".jp-interface").css("display","none")});$("#jquery_jplayer_1").mouseover(function(){$(".jp-interface").css("display","block")});$("#jquery_jplayer_1").mouseout(function(){t==!1&&$(".jp-interface").css("display","none")});$("#jquery_jplayer_1").on($.jPlayer.event.resize,function(){t=!t;$(".jp-interface").css("display","block")});$("#jquery_jplayer_1").on($.jPlayer.event.click,function(n){n.jPlayer.status.paused?$("#jquery_jplayer_1").jPlayer("play"):$("#jquery_jplayer_1").jPlayer("pause")});$("#jquery_jplayer_1").on($.jPlayer.event.ended,function(){$("#jquery_jplayer_1").jPlayer("setMedia",{title:r,m4v:"",poster:i})})}})})};st();n.examCourse=function(){var n=b,t={Data:{TestObject:{IdList:[n],Type:8,CourseId:b}},okClick:function(t){t.Success&&y.GetCourseExamResult({sourceId:n,isCourse:!0},{},function(n){if(n.Success){var t=document.getElementById("id-courseExam");t.children[1].innerHTML=n.Target+"分"}})}};p.open(t)}}]);controllers.controller("CourseHostListCtrl",["$scope","$modal","$state","anchorScroll",function(n){n.model={Category5CurrentId:"",Category2CurrentId:"",Category3CurrentId:"",Category4CurrentId:""};n.ord={time:1,sell:0,price:0};var r=angular.element("#data_value").val(),e=angular.element("#data_id").val(),f=angular.element("#data_type").val(),u=angular.element("#data_isdescending").val(),t=angular.element("#data_number").val(),o=angular.element("#Tcount").val(),s=angular.element("#Mcount").val(),h=angular.element("#Ocount").val(),c=angular.element("#Scount").val(),l=angular.element("#data_TotalPages").val();n.nowvalue=r=="null"?0:r;n.nowid=e=="null"?"":e;n.nownumber=t=="null"?0:t;n.theoption=f=="null"?1:f;n.thebool=u=="null"||u==""?!0:u;n.setinit=function(){var e;if(r!="null"){document.getElementById("value0").setAttribute("class","");document.getElementById("value2").setAttribute("class","");document.getElementById("value3").setAttribute("class","");document.getElementById("value4").setAttribute("class","");document.getElementById("value5").setAttribute("class","");document.getElementById("value"+r).setAttribute("class","active");$("#theulist2").css("display","none");$("#theulist3").css("display","none");$("#theulist4").css("display","none");$("#theulist5").css("display","none");switch(r){case"2":n.nowvalue=2;$("#theulist2").css("display","block");break;case"3":n.nowvalue=3;$("#theulist3").css("display","block");break;case"4":n.nowvalue=4;$("#theulist4").css("display","block");break;case"5":n.nowvalue=5;$("#theulist5").css("display","block")}if(t!="null"){n.nownumber=t;switch(r){case"2":for(i=1;i<=o;i++)e=document.getElementById("two"+i),e.setAttribute("class","");document.getElementById("two"+t).setAttribute("class","active");n.nowid=$("#two"+t).attr("cid");break;case"3":for(i=1;i<=s;i++)e=document.getElementById("three"+i),e.setAttribute("class","");document.getElementById("three"+t).setAttribute("class","active");n.nowid=$("#three"+t).attr("cid");break;case"4":for(i=1;i<=h;i++)e=document.getElementById("four"+i),e.setAttribute("class","");document.getElementById("four"+t).setAttribute("class","active");n.nowid=$("#four"+t).attr("cid");break;case"5":for(i=1;i<=c;i++)e=document.getElementById("five"+i),e.setAttribute("class","");document.getElementById("five"+t).setAttribute("class","active");n.nowid=$("#five"+t).attr("cid")}}f==1?u=="true"?(document.getElementById("price").setAttribute("class",""),document.getElementById("sell").setAttribute("class",""),document.getElementById("modifedtime").setAttribute("class","active"),document.getElementById("sell").innerHTML="销量排名",document.getElementById("price").innerHTML="价格排名",n.ord.sell=0,n.ord.price=0,n.ord.time=1,document.getElementById("modifedtime").innerHTML="更新时间↓"):(document.getElementById("price").setAttribute("class",""),document.getElementById("sell").setAttribute("class",""),document.getElementById("modifedtime").setAttribute("class","active"),document.getElementById("sell").innerHTML="销量排名",document.getElementById("price").innerHTML="价格排名",n.ord.sell=0,n.ord.price=0,n.ord.time=2,document.getElementById("modifedtime").innerHTML="更新时间↑"):f==2?u=="true"?(document.getElementById("price").setAttribute("class",""),document.getElementById("modifedtime").setAttribute("class",""),document.getElementById("sell").setAttribute("class","active"),document.getElementById("modifedtime").innerHTML="更新时间",document.getElementById("price").innerHTML="价格排名",n.ord.time=0,n.ord.price=0,n.ord.sell=1,document.getElementById("sell").innerHTML="销量排名↓"):(document.getElementById("price").setAttribute("class",""),document.getElementById("modifedtime").setAttribute("class",""),document.getElementById("sell").setAttribute("class","active"),document.getElementById("modifedtime").innerHTML="更新时间",document.getElementById("price").innerHTML="价格排名",n.ord.time=0,n.ord.price=0,n.ord.sell=2,document.getElementById("sell").innerHTML="销量排名↑"):f==3&&(u=="true"?(document.getElementById("modifedtime").setAttribute("class",""),document.getElementById("sell").setAttribute("class",""),document.getElementById("price").setAttribute("class","active"),document.getElementById("modifedtime").innerHTML="更新时间",document.getElementById("sell").innerHTML="销量排名",n.ord.sell=0,n.ord.time=0,n.ord.price=1,document.getElementById("price").innerHTML="价格排名↓"):(document.getElementById("modifedtime").setAttribute("class",""),document.getElementById("sell").setAttribute("class",""),document.getElementById("price").setAttribute("class","active"),document.getElementById("modifedtime").innerHTML="更新时间",document.getElementById("sell").innerHTML="销量排名",n.ord.sell=0,n.ord.time=0,n.ord.price=2,document.getElementById("price").innerHTML="价格排名↑"))}};n.setinit();n.regist=function(){var n=window.document.location.href,t=window.location.protocol,i=window.location.host;location.href=t+"//"+i+"/Account/register/?ReturnUrl="+encodeURIComponent(n)};n.gotoofficebag=function(){window.open(window.location.protocol+"//"+window.location.host+"/bookingbag/office/")};n.gotofree=function(){window.open(window.location.protocol+"//"+window.location.host+"/online/free")};n.setoption=function(){n.ord.time!=0?n.ord.time==1?(n.theoption=1,n.thebool=!0):(n.theoption=1,n.thebool=!1):n.ord.sell!=0?n.ord.sell==1?(n.theoption=2,n.thebool=!0):(n.theoption=2,n.thebool=!1):n.ord.price==1?(n.theoption=3,n.thebool=!0):(n.theoption=3,n.thebool=!1)};n.setvalue=function(t){document.getElementById("value0").setAttribute("class","");document.getElementById("value2").setAttribute("class","");document.getElementById("value3").setAttribute("class","");document.getElementById("value4").setAttribute("class","");document.getElementById("value5").setAttribute("class","");document.getElementById("value"+t).setAttribute("class","active");$("#theulist2").css("display","none");$("#theulist3").css("display","none");$("#theulist4").css("display","none");$("#theulist5").css("display","none");switch(t){case 2:$("#theulist2").css("display","block");break;case 3:$("#theulist3").css("display","block");break;case 4:$("#theulist4").css("display","block");break;case 5:$("#theulist5").css("display","block")}if(n.nowvalue!=t){n.nowvalue=t;n.setoption();switch(t){case 0:window.location.href="/online/?value=0&id=&type="+n.theoption+"&isdescending="+n.thebool+"&number=1";break;case 2:n.nowvalue=t;n.setTabnew("two",1,o,$("#two1").attr("cid"));break;case 3:n.nowvalue=t;n.setTabnew("three",1,s,$("#three1").attr("cid"));break;case 4:n.nowvalue=t;n.setTabnew("four",1,h,$("#four1").attr("cid"));break;case 5:n.nowvalue=t;n.setTabnew("five",1,c,$("#five1").attr("cid"))}}};n.setTabnew=function(t,r,u,f){for(i=1;i<=u;i++){var e=document.getElementById(t+i);e.className=i==r?"active":""}switch(t){case"five":n.model.Category5CurrentId=f;break;case"two":n.model.Category2CurrentId=f;break;case"three":n.model.Category3CurrentId=f;break;case"four":n.model.Category4CurrentId=f}n.nowid=f;n.setoption();window.location.href="/online/?value="+n.nowvalue+"&id="+f+"&type="+n.theoption+"&isdescending="+n.thebool+"&number="+r};n.orderbyit=function(t){document.getElementById("modifedtime").setAttribute("class","");document.getElementById("sell").setAttribute("class","");document.getElementById("price").setAttribute("class","");t==1?(document.getElementById("modifedtime").setAttribute("class","active"),document.getElementById("sell").innerHTML="销量排名",document.getElementById("price").innerHTML="价格排名",n.ord.sell=0,n.ord.price=0,n.ord.time==0||n.ord.time==2?(n.ord.time=1,document.getElementById("modifedtime").innerHTML="更新时间↓"):n.ord.time==1&&(n.ord.time=2,document.getElementById("modifedtime").innerHTML="更新时间↑"),n.setoption(),window.location.href="/online/?value="+n.nowvalue+"&id="+n.nowid+"&type="+n.theoption+"&isdescending="+n.thebool+"&number="+n.nownumber):t==2?(document.getElementById("sell").setAttribute("class","active"),document.getElementById("modifedtime").innerHTML="更新时间",document.getElementById("price").innerHTML="价格排名",n.ord.time=0,n.ord.price=0,n.ord.sell==0||n.ord.sell==2?(n.ord.sell=1,document.getElementById("sell").innerHTML="销量排名↓"):n.ord.sell==1&&(n.ord.sell=2,document.getElementById("sell").innerHTML="销量排名↑"),n.setoption(),window.location.href="/online/?value="+n.nowvalue+"&id="+n.nowid+"&type="+n.theoption+"&isdescending="+n.thebool+"&number="+n.nownumber):t==3&&(document.getElementById("price").setAttribute("class","active"),document.getElementById("modifedtime").innerHTML="更新时间",document.getElementById("sell").innerHTML="销量排名",n.ord.sell=0,n.ord.time=0,n.ord.price==0||n.ord.price==2?(n.ord.price=1,document.getElementById("price").innerHTML="价格排名↓"):n.ord.price==1&&(n.ord.price=2,document.getElementById("price").innerHTML="价格排名↑"),n.setoption(),window.location.href="/online/?value="+n.nowvalue+"&id="+n.nowid+"&type="+n.theoption+"&isdescending="+n.thebool+"&number="+n.nownumber)};n.theselectindex="";n.goto=function(t){window.location.href="/online/?value="+n.nowvalue+"&id="+n.nowid+"&type="+n.theoption+"&isdescending="+n.thebool+"&number="+n.nownumber+"&pageIndex="+t};n.gototheindex=function(){window.location.href=parseInt(n.theselectindex)!=n.theselectindex?"/online/?value="+n.nowvalue+"&id="+n.nowid+"&type="+n.theoption+"&isdescending="+n.thebool+"&number="+n.nownumber+"&pageIndex=1":parseInt(n.theselectindex)>parseInt(l)?"/online/?value="+n.nowvalue+"&id="+n.nowid+"&type="+n.theoption+"&isdescending="+n.thebool+"&number="+n.nownumber+"&pageIndex="+l:parseInt(n.theselectindex)<=0?"/online/?value="+n.nowvalue+"&id="+n.nowid+"&type="+n.theoption+"&isdescending="+n.thebool+"&number="+n.nownumber+"&pageIndex=1":"/online/?value="+n.nowvalue+"&id="+n.nowid+"&type="+n.theoption+"&isdescending="+n.thebool+"&number="+n.nownumber+"&pageIndex="+n.theselectindex}}]);controllers.controller("CourseListCtrl",["$scope","ProductService","CourseService","StudyOnlineService","StudyOnlineOldService",function(n,t,i,r,u){var f=angular.element("#data_CurrentCatrgoryId").val(),e=angular.element("#data_CurrentGroup").val();n.data={CourseList:[],CurrentCategoryId:f};n.getCourses=function(t,i){t==""?i=="1"?u.GetAllCourse({value:i,Count:50},{},function(t){n.data.CurrentCategoryId="";n.data.CourseList=t}):u.GetAllCourse({value:i,Count:50},{},function(t){n.data.CurrentCategoryId="";n.data.CourseList=t}):i=="1"?u.GetCourseById({Id:t},{},function(i){n.data.CurrentCategoryId=t;n.data.CourseList=i}):u.GetCourseById({Id:t},{},function(i){n.data.CurrentCategoryId=t;n.data.CourseList=i})};n.goToDetail=function(n){window.open("/course/"+n)};n.getCourses(f,e)}]);controllers.controller("CourseNewCtrl",["$scope","$modal","$state","anchorScroll","$location","FileService","CourseEvaluationService","CourseAskService","CourseService","ShoppingService","TeacherService","StudyService","ArticleService","MessageBox","PaperService","examModal","MarketingEventService","examStudyModal",function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b){var d,g,nt,tt,it,rt,ut,ft,et,ot,st;n.addtoshoppingcardstatus=!1;var k=angular.element("#data_CourseId").val(),ht=angular.element("#data_Cover").val(),ct=angular.element("#data_FirstChapterid").val();n.CourseEvaluationListPageIndex=1;n.CourseEvaluationListPageSize=10;n.QuestionListPageIndex=1;n.QuestionListPageSize=10;n.isshowmyEvaluation=!1;n.letPeopleLogin=function(){v.open("信息提示","请先登录再进行观看。",!0)};n.buyToWatch=function(){v.open("信息提示","请购买后继续查看。",!0)};n.ArticleDetail=function(n){window.location.href="/article/"+n};n.CourseId=k;d=6;g=function(n){for(var t=0;t<d;t++)document.getElementById("id-tab"+t)!=null&&angular.element("#tabli"+t+"").removeClass("active");document.getElementById("id-tab"+n)!=null&&angular.element("#tabli"+n+"").addClass("active")};n.goto=function(n,t){var i=$("#myTab").css("position");i=="static"?t>0&&r.toView("#"+n,!0,73):r.toView("#"+n,!0,30)};window.onscroll=function(){for(var e=document.body.clientHeight,r=0,u=1e5,t,f,i,n=0;n<d;n++)t=document.getElementById("id-tab"+n),t!=null&&(f=t.getBoundingClientRect().top,i=t.getBoundingClientRect().bottom,i<u&&i>63&&(u=i,r=n));g(r)};n.goToLogin=function(){var n=window.location.href;window.location.href="/Account/Login/?ReturnUrl="+encodeURIComponent(n)};n.download=function(n){f.GetFile({id:n},{},function(n){var t,i;n.Success?(t=document.getElementById("web-download-link"),t==null&&(t=document.createElement("a"),t.setAttribute("id","web-download-link"),t.setAttribute("target","_blank"),t.setAttribute("display","none"),document.body.appendChild(t)),t.setAttribute("href",n.Target),i=document.createEvent("MouseEvents"),i.initEvent("click",!0,!0),t.dispatchEvent(i)):v.open("信息提示","文件下载失败。详细信息："+n.Message,!1)})};n.Description="";n.SubmitEvaluate=function(){if(n.Satisfaction=$("#Satisfaction").text(),n.Satisfaction==""){$("#PromptInfo").css("display","inline");return}$("#PromptInfo").css("display","none");n.EvaluateModel={CourseId:n.CourseId,Satisfaction:n.Satisfaction,Description:n.Description};e.SubmitEvaluate({},n.EvaluateModel,function(t){t.Success?(n.Satisfaction=0,$(".star_score_new").find(".clibg").removeClass(),$("#Satisfaction").text(""),n.Description="",n.IsShowEvaluate=!1,n.CourseEvaluationList(n.CourseEvaluationListPageIndex)):(v.open("信息提示",t.Message,!0),n.Satisfaction=0,$(".star_score_new").find(".clibg").removeClass(),$("#Satisfaction").text(""),n.Description="",n.IsShowEvaluate=!1)})};n.IsShowEvaluate=!1;n.ShowEvaluate=function(){n.IsShowEvaluate=!n.IsShowEvaluate};n.ShowBuy=function(){v.open("信息提示","请购买该课程后再进行评价",!1)};n.SubmitQuestion=function(){if(n.Content==undefined||n.Content==""){$("#QuestionInfo").css("display","inline");return}$("#QuestionInfo").css("display","none");n.QuestionModel={CourseID:n.CourseId,Content:n.Content};o.Create({},n.QuestionModel,function(t){t.Success?(v.open("信息提示","您的问题已成功提交。",!1),n.GetListByCourseId(n.QuestionListPageIndex),n.Content=""):v.open("信息提示","您的问题提交失败。详细信息："+t.Message,!0)})};n.GetListByCourseId=function(t){o.GetListByCourseId({courseId:n.CourseId,pageIndex:t,pageSize:n.QuestionListPageSize},{},function(t){n.QuestionList=t;n.QuestionListPageIndex=t.PageIndex;angular.forEach(n.QuestionList.Records,function(t){t.istryingtoanswer=!1;t.answersheet={CourseID:n.CourseId,ParentID:t.ID,Content:""}})})};n.GetListByCourseId(n.QuestionListPageIndex);n.quitanswer=function(n){n.istryingtoanswer=!1};n.answeronequestion=function(n){n.istryingtoanswer=!0};n.answerquestion=function(t){o.Create({},t.answersheet,function(t){t.Success?(v.open("信息提示","您的回答已成功提交。",!1),n.GetListByCourseId(n.QuestionListPageIndex)):v.open("信息提示","您的回答提交失败。详细信息："+t.Message,!0)})};n.CourseEvaluationList=function(t){n.evaluation==undefined&&(n.evaluation=0);e.GetEvaluateList({score:n.evaluation,CourseId:n.CourseId,pageIndex:t,pageSize:n.CourseEvaluationListPageSize},{},function(t){n.isshowmyEvaluation=!1;n.courseEvaluationList=t;angular.forEach(n.courseEvaluationList.Records,function(t){t.istryingtoanswer=!1;t.answersheet={CourseId:n.CourseId,Description:"",ParentID:t.ID}});n.CourseEvaluationListPageIndex=t.PageIndex});e.GetEvaluateCount({CourseId:n.CourseId},{},function(t){n.evaluation==0&&(n.EvaluationCount=t,n.EvaluationTotal=n.EvaluationCount.FirstCount+n.EvaluationCount.TwoCount+n.EvaluationCount.ThreeCount+n.EvaluationCount.FourCount+n.EvaluationCount.FiveCount,n.Evaluationscore=n.EvaluationTotal==0?5:t.Average);var i=n.Evaluationscore*36+"px";$("#score_average").css("width",i)})};n.ShowMyEvaluate=function(){n.isshowmyEvaluation==!1?e.GetMyEvaluate({CourseId:n.CourseId},{},function(t){n.isshowmyEvaluation=!0;n.courseEvaluationList.Records=[];t.ID=="00000000-0000-0000-0000-000000000000"||(n.abc=t,n.abc.istryingtoanswer=!1,n.abc.answersheet={CourseId:n.CourseId,Description:"",ParentID:n.abc.ID},n.courseEvaluationList.Records.push(n.abc))}):n.CourseEvaluationList(n.CourseEvaluationListPageIndex)};n.moreevaluation=function(n){n.istryingtoanswer=!0};n.quitevaluation=function(n){n.istryingtoanswer=!1};n.submitchildevaluate=function(t){e.SubmitEvaluate({},t.answersheet,function(i){i.Success?(t.answersheet.Description="",n.isshowmyEvaluation?n.ShowMyEvaluate():n.CourseEvaluationList(n.CourseEvaluationListPageIndex)):v.open("信息提示",i.Message,!0)})};n.CourseEvaluationList(n.CourseEvaluationListPageIndex);n.evaluation=0;n.$watch("evaluation",function(t,i){t!=i&&n.CourseEvaluationList(n.CourseEvaluationListPageIndex,n.CourseEvaluationListPageSize)});n.GetLatestOfflineCourse=function(){s.GetLatestedOfflineCourse({pageIndex:1,pageSize:5,locationId:null,courseId:n.CourseId},{},function(t){n.Course=t})};n.GetLatestOfflineCourse();nt=function(){a.GetCaseArticles({pageIndex:1,pageSize:5},{},function(t){n.CaseArticles=t})};nt();tt=function(){a.GetArticlesByCateName({pageIndex:1,pageSize:5,cateName:"培训新闻"},{},function(t){n.CourseNewsLists=t})};tt();it=function(){a.GetArticlesByCateName({pageIndex:1,pageSize:5,cateName:"嘉为新闻"},{},function(t){n.CanwayNewsLists=t})};it();rt=function(){a.GetArticlesByCateName({pageIndex:1,pageSize:5,cateName:"原创文章分享"},{},function(t){n.ShareArticleLists=t})};rt();ut=function(){a.GetArticlesByCateName({pageIndex:1,pageSize:5,cateName:"原创文章分享"},{},function(t){n.ShareArticleListsnew=t;angular.forEach(n.ShareArticleListsnew.Records,function(n){n.SubCategoryName!=null&&n.SubCategoryName!=""&&(n.Name="【"+n.SubCategoryName+"】"+n.Name)})})};ut();ft=function(){w.GetList({keyword:"",pageSize:5,pageIndex:1},{},function(t){n.CanwayFreeClassArticle=t})};ft();et=function(){a.GetNoticeArticles({pageIndex:1,pageSize:5},{},function(t){n.NoticeArticles=t})};et();ot=function(t){c.GetByCourseId({courseId:t},{},function(t){n.Teacher=t;$(document).ready(function(){function r(){$(".maonimen p").css("transition","all 1s ease 0s");$(".maonimen").addClass("fei");$(".zhentu img").attr("src",n.Teacher[t].PictureUrl);$(".produce").html("<div><span style='opacity:1;'>"+n.Teacher[t].User.Name+"&nbsp;讲师<\/span><\/div>");setTimeout(function(){$(".maonimen p").css("transition","none");$(".maonimen p").css("background-image","url("+n.Teacher[t].PictureUrl+")");$(".maonimen").removeClass("fei")},1e3)}var i=n.Teacher.length-1,t=0;$(".maonimen p").each(function(){var n=$(this).index()%4*100,t=parseInt($(this).index()/4)*100;$(this).css({left:n,top:t,"background-position":-n+"px "+-t+"px"})});$(".rightbut").click(function(){t<i?t++:t=0;r()});$(".leftbut").click(function(){t>0?t--:t=i;r()})})})};ot(n.CourseId);n.addtocart=function(t,i){n.addtoshoppingcardstatus!=!0&&(n.addtoshoppingcardstatus=!0,n.carlist=[],n.sendcar={},n.sendcar.ObjectId=t,n.sendcar.CourseID=i,n.sendcar.Type=0,n.carlist.push(n.sendcar),h.Add({},n.carlist,function(t){n.addtoshoppingcardstatus=!1;t.Success?v.open("信息提示","加入购物车成功,可在“我的学习中心-我的购物车”查看",!1):v.open("信息提示",t.Message,!0)}))};n.gotoShoppingCar=function(n,t){window.location.href="/Order/Confirm/?id="+t};n.getnotenumber=function(){l.GetCourseNoteCount({courseId:n.CourseId},{},function(t){n.notenum=t.Target});o.GetCourseQACount({courseId:n.CourseId},{},function(t){t.Success&&(n.questiontotal=t.Target)})};n.getnotenumber();st=function(){$(document).ready(function(){var t;n.isfirsttime=!1;var i="#",r=ht,u="学领未来";theJPlayer=$("#jquery_jplayer_1").jPlayer({ready:function(){$(this).jPlayer("setMedia",{title:u,m4v:i,poster:r});$(this).on($.jPlayer.event.play,function(){n.isfirsttime==!1&&(n.isfirsttime=!0,f.GetVideo({Id:ct},{},function(n){n.Success&&(i=n.Target,theJPlayer.jPlayer("setMedia",{title:u,m4v:n.Target,poster:r}).jPlayer("play"))}))})},swfPath:"/Scripts/Jplayer/JS/jquery.jplayer.swf",solution:"html,flash",supplied:"m4v",size:{width:"500px",height:"333px",cssClass:"jp-video-360p"},useStateClassSkin:!0,autoBlur:!1,smoothPlayBar:!0,keyEnabled:!0,remainingDuration:!1,toggleDuration:!0});t=!1;$("#jquery_jplayer_1").hover(function(){$(".jp-interface").css("display","block")});$("#jquery_jplayer_1").mouseleave(function(){t==!1&&$(".jp-interface").css("display","none")});$(".jp-interface").hover(function(){$(".jp-interface").css("display","block")});$(".jp-interface").mouseleave(function(){t==!1&&$(".jp-interface").css("display","none")});$("#jquery_jplayer_1").mouseover(function(){$(".jp-interface").css("display","block")});$("#jquery_jplayer_1").mouseout(function(){t==!1&&$(".jp-interface").css("display","none")});$("#jquery_jplayer_1").on($.jPlayer.event.resize,function(){t=!t;$(".jp-interface").css("display","block")});$("#jquery_jplayer_1").on($.jPlayer.event.click,function(n){n.jPlayer.status.paused?$("#jquery_jplayer_1").jPlayer("play"):$("#jquery_jplayer_1").jPlayer("pause")});$("#jquery_jplayer_1").on($.jPlayer.event.ended,function(){$("#jquery_jplayer_1").jPlayer("setMedia",{title:u,m4v:i,poster:r})})})};st();n.examCourse=function(){var n=k,t={Data:{TestObject:{IdList:[n],Type:8,CourseId:k}},okClick:function(t){t.Success&&y.GetCourseExamResult({sourceId:n,isCourse:!0},{},function(n){if(n.Success){var t=document.getElementById("id-courseExam");t.children[1].innerHTML=n.Target+"分"}})}};b.open(t)};n.showButton=function(n,t){t=="True"&&$("#"+n+" td:eq(1) a:eq(0)").css("display","block")};n.hideButton=function(n,t){t=="True"&&$("#"+n+" td:eq(1) a:eq(0)").css("display","none")};n.chapterIsShowAll=!1;n.showall=function(){n.chapterIsShowAll==!1?($(".vsStyle_shut").addClass("vsStyle_open"),$(".vsStyle_shut").removeClass("vsStyle_shut"),$(".vsStyle_last_shut").addClass("vsStyle_last_open"),$(".vsStyle_last_shut").removeClass("vsStyle_last_shut"),$("#treeTable1  [pid]").css("display","table-row"),n.chapterIsShowAll=!0):($(".vsStyle_open").addClass("vsStyle_shut"),$(".vsStyle_open").removeClass("vsStyle_open"),$(".vsStyle_last_open").addClass("vsStyle_last_shut"),$(".vsStyle_last_open").removeClass("vsStyle_last_open"),$("#treeTable1  [pid]").css("display","none"),n.chapterIsShowAll=!1)}}]);controllers.controller("CustomStudyCtrl",["$scope","$modal","$state","examModal","errorModal","FileService","StudyService","CourseService","CourseAskService","LikeService","ShoppingService","GeneralService","TeacherService","ArticleService","PaperService","MessageBox","MarketingEventService","ClassQAService",function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b){function tt(n,t){var r=t+n,i,u=new RegExp("(^| )"+r+"=([^;]*)(;|$)");return(i=document.cookie.match(u))?unescape(i[2]):null}function ot(n,t,i){var r=new Date,u;r.setTime(r.getTime()+2592e6);u=i+n;document.cookie=u+"="+escape(t)+";expires="+r.toGMTString()}var at,vt,yt,pt,wt,bt;n.addtoshoppingcardstatus=!1;n.QuestionListPageIndex=1;n.QuestionListPageSize=10;l.GetCurrentUser({},{},function(t){n.userid=t.UserID;ui();n.getProgress()});var k=angular.element("#data_CourseId").val(),oi=angular.element("#data_IsSelectedChapter").val(),st=angular.element("#data_IsChapterHasVideo").val(),rt=angular.element("#data_CurrentVideoId").val(),d=angular.element("#data_CurrentChapterId").val(),nt=angular.element("#data_CurrentChapterName").val(),kt=angular.element("#data_LastPlayPosition").val(),dt=angular.element("#data_ObjectId").val(),gt=angular.element("#data_ChapterIdList").val(),ni=gt.split(","),ut=angular.element("#data_haslogin").val(),ht=Number(angular.element("#data_TimeInterval").val()),it=angular.element("#data_classid").val(),ti=ht*4,ft=ht*4,g=null,ii=20,et=20;n.CreateFootprint=function(){ut=="True"&&e.CreateFootprint({courseId:k},{},function(){})};n.CreateFootprint();n.ArticleDetail=function(n){window.location.href="/article/"+n};n.cotain="";n.letPeopleLogin=function(){p.open("信息提示","请先登录再进行观看。",!0)};n.buyToWatch=function(){p.open("信息提示","请购买后继续查看。",!0)};n.setcurrentchaptercolorinit=function(){d!=null&&d!=""&&(document.getElementById(d).children[0].children[0].style.color="#008B45",document.getElementById(d).children[0].children[0].style.fontWeight="500")};n.setcurrentchaptercolorinit();n.setcurrentchaptercolor=function(){document.getElementById(d).children[0].children[2].style.color="#008B45";document.getElementById(d).children[0].children[2].style.fontWeight="500"};n.setcurrentchaptercolorori=function(){document.getElementById(d)!=null&&(document.getElementById(d).children[0].children[2].style.color="white",document.getElementById(d).children[0].children[2].style.fontWeight="300")};n.getProgress=function(){angular.forEach(ni,function(t){if(tt(t,n.userid)!=null&&tt(t,n.userid)!=""&&tt(t,n.userid)!=undefined){var r=tt(t,n.userid).split(",")[1],i=parseFloat(r).toFixed(1);i!=null&&i!=""&&i!=undefined&&(document.getElementById(t).children[1].children[0].innerHTML=i+"%")}})};var ri=function(t){var i=document.getElementById(d),r=i.children[1].children[0].innerHTML=t.Progress.toFixed(1)+"%";et==ii?et=0:et++;ft>=ti?(ft=0,ut=="True"&&(t.CourseID=k,e.UpdatePlayRecord({},t,function(){}))):n.theCurrentTime!=null&&n.theCurrentTime!=t.Position&&(n.theCurrentTime=t.Position,ft++);n.theCurrentTime==null&&(n.theCurrentTime=t.Position)},ct=function(){g.bind($.jPlayer.event.timeupdate,function(t){var u;if(t.jPlayer.status.waitForPlay==!1){var i=t.jPlayer.status.currentTime,r=t.jPlayer.status.currentPercentAbsolute,f=i+","+r;ot(d,f,n.userid);u={ChapterId:d,VideoId:rt,Position:i,Progress:r};ri(u)}});g.on($.jPlayer.event.click,function(n){n.jPlayer.status.paused?g.jPlayer("play"):g.jPlayer("pause")})},ui=function(){$(document).ready(function(){if(st!=""){var t=tt(d,n.userid);t=t!=null&&t!=""?parseFloat(t.split(",")[0]):parseFloat(kt);f.GetVideo({Id:rt},{},function(n){if(n.Success){var i=n.Target;g=$("#jquery_jplayer_1").jPlayer({ready:function(){$(this).jPlayer("setMedia",{title:nt,m4v:i,poster:"/Content/Images/videocover.png"}).jPlayer("play",t)},swfPath:"/Scripts/Jplayer/JS/jquery.jplayer.swf",solution:"html,flash",supplied:"m4v",size:{width:"853px",height:"479px",cssClass:"jp-video-360p"},useStateClassSkin:!0,autoBlur:!1,smoothPlayBar:!0,keyEnabled:!0,remainingDuration:!1,toggleDuration:!0})}else g=$("#jquery_jplayer_1").jPlayer({ready:function(){$(this).jPlayer("setMedia",{title:nt,m4v:"",poster:"/Content/Images/videocover.png"})},swfPath:"/Scripts/Jplayer/JS/jquery.jplayer.swf",supplied:"m4v",solution:"html,flash",size:{width:"853px",height:"479px",cssClass:"jp-video-360p"},useStateClassSkin:!0,autoBlur:!1,smoothPlayBar:!0,keyEnabled:!0,remainingDuration:!1,toggleDuration:!0}),p.open("信息提示",n.Message,!0);ct()})}else g=$("#jquery_jplayer_1").jPlayer({ready:function(){$(this).jPlayer("setMedia",{title:"",m4v:"",poster:"/Content/Images/videocover.png"})},swfPath:"/Scripts/Jplayer/JS/jquery.jplayer.swf",supplied:"m4v",solution:"html,flash",size:{width:"853px",height:"479px",cssClass:"jp-video-360p"},useStateClassSkin:!0,autoBlur:!1,smoothPlayBar:!0,keyEnabled:!0,remainingDuration:!1,toggleDuration:!0}),ct()});st==""&&($(".jp-jplayer img").attr("src","/Content/Images/videocover.png"),$("#jp_poster_0").css("display","block"))},lt=function(n,t,i,r){g.jPlayer("setMedia",{title:n,m4v:t,poster:"/Content/Images/videocover.png"}).jPlayer("play",r)},fi=function(){g.jPlayer("clearMedia")},ei=function(t){a.GetByCourseId({courseId:t},{},function(t){n.Teacher=t;$(document).ready(function(){function r(){$(".maonimen p").css("transition","all 1s ease 0s");$(".maonimen").addClass("fei");$(".zhentu img").attr("src",n.Teacher[t].PictureUrl);$(".produce").html("<div><span style='opacity:1;'>"+n.Teacher[t].User.Name+"&nbsp;讲师<\/span><\/div>");setTimeout(function(){$(".maonimen p").css("transition","none");$(".maonimen p").css("background-image","url("+n.Teacher[t].PictureUrl+")");$(".maonimen").removeClass("fei")},1e3)}var i=n.Teacher.length-1,t=0;$(".maonimen p").each(function(){var n=$(this).index()%4*100,t=parseInt($(this).index()/4)*100;$(this).css({left:n,top:t,"background-position":-n+"px "+-t+"px"})});$(".rightbut").click(function(){t<i?t++:t=0;r()});$(".leftbut").click(function(){t>0?t--:t=i;r()})})})};ei(k);n.playVideo=function(t,i,r,u){nt=t;rt=i;n.setcurrentchaptercolorori();d=u;fi();n.setcurrentchaptercolor();f.GetVideo({Id:rt},{},function(i){if(i.Success){var f=i.Target,u=tt(d,n.userid);u!=null&&u!=""?(u=parseFloat(u.split(",")[0]),lt(t,f,r,u)):lt(t,f,r,0)}else p.open("信息提示",i.Message,!0)})};n.exam=function(n){var t={Data:{TestObject:{IdList:[n],Type:3,CourseId:k}},okClick:function(t){t.Success&&y.GetCourseExamResult({sourceId:n,isCourse:!1},{},function(t){if(t.Success)var i=document.getElementById("test_"+n),r=i.children[2].children[0].innerHTML=t.Target+" %"})}};r.open(t)};n.examCourse=function(){var n=k,t={Data:{TestObject:{IdList:[n],Type:8,CourseId:k}},okClick:function(t){t.Success&&y.GetCourseExamResult({sourceId:n,isCourse:!0},{},function(n){if(n.Success){var t=document.getElementById("id-courseExam");t.children[1].innerHTML=n.Target+"分"}})}};r.open(t)};n.download=function(n){f.GetFile({id:n},{},function(n){var t,i;n.Success?(t=document.getElementById("web-download-link"),t==null&&(t=document.createElement("a"),t.setAttribute("id","web-download-link"),t.setAttribute("target","_blank"),t.setAttribute("display","none"),document.body.appendChild(t)),t.setAttribute("href",n.Target),i=document.createEvent("MouseEvents"),i.initEvent("click",!0,!0),t.dispatchEvent(i)):p.open("信息提示","文件下载失败。详细信息："+n.Message,!1)})};n.getlikeandasknumber=function(){s.GetCourseQACount({courseId:k},{},function(t){t.Success&&(n.asknumber=t.Target)});h.GetCoureseLikedCount({courseId:k},{},function(t){t.Success&&(n.likenumber=t.Target)})};n.getlikeandasknumber();n.likeit=function(){tt(k,n.userid)==null&&(h.ClickLike({courseId:k},{},function(t){t.Success&&h.GetCoureseLikedCount({courseId:k},{},function(t){t.Success&&(n.likenumber=t.Target)})}),ot(k))};n.getnote=function(){ut=="True"&&e.GetNote({courseID:k},{},function(t){n.Note=t})};n.savenote=function(){if(n.cotain==""||n.cotain==null){p.open("信息提示","您未输入笔记内容，请先输入笔记内容再保存",!0);return}(nt==""||nt==undefined)&&(nt="无主题");n.Noteandname={KnowledgeName:nt,Contain:n.cotain,CourseID:k};e.CreateNote({},n.Noteandname,function(t){t.Success&&(n.getnote(),n.cotain="")})};n.deletenote=function(t){e.DeleteNote({},t,function(t){t.Success&&n.getnote()})};n.GetLatestOfflineCourse=function(){o.GetLatestedOfflineCourse({pageIndex:1,pageSize:5,locationId:null,courseId:k},{},function(t){n.Course=t})};n.GetLatestOfflineCourse();at=function(){v.GetCaseArticles({pageIndex:1,pageSize:5},{},function(t){n.CaseArticles=t})};at();vt=function(){v.GetArticlesByCateName({pageIndex:1,pageSize:5,cateName:"培训新闻"},{},function(t){n.CourseNewsLists=t})};vt();yt=function(){v.GetArticlesByCateName({pageIndex:1,pageSize:5,cateName:"嘉为新闻"},{},function(t){n.CanwayNewsLists=t})};yt();pt=function(){v.GetArticlesByCateName({pageIndex:1,pageSize:5,cateName:"原创文章分享"},{},function(t){n.ShareArticleLists=t})};pt();wt=function(){w.GetList({keyword:"",pageSize:5,pageIndex:1},{},function(t){n.CanwayFreeClassArticle=t})};wt();bt=function(){v.GetNoticeArticles({pageIndex:1,pageSize:5},{},function(t){n.NoticeArticles=t})};bt();n.GetListByCourseId=function(t){it!=null&&it!="null"&&it!="Null"&&it!="null"&&b.GetListByClassId({classId:it,pageIndex:t,pageSize:n.QuestionListPageSize},{},function(t){n.QuestionList=t;n.QuestionListPageIndex=t.PageIndex})};n.GetListByCourseId(n.QuestionListPageIndex);n.quitanswer=function(n){n.istryingtoanswer=!1};n.answeronequestion=function(n){n.istryingtoanswer=!0};n.answerquestion=function(t){s.Create({},t.answersheet,function(t){t.Success?(p.open("信息提示","您的回答已成功提交。",!1),n.GetListByCourseId(n.QuestionListPageIndex)):p.open("信息提示","您的回答提交失败。详细信息："+t.Message,!0)})};n.askquestion="";n.SubmitQuestion=function(){if(n.askquestion==undefined||n.askquestion==""){alert("未填写内容");return}n.QuestionModel={CourseID:k,Content:n.askquestion};s.Create({},n.QuestionModel,function(t){t.Success&&(n.askquestion="",n.GetListByCourseId(1))})};n.addtocart=function(){n.addtoshoppingcardstatus!=!0&&(n.addtoshoppingcardstatus=!0,n.carlist=[],n.sendcar={},n.sendcar.ObjectId=dt,n.sendcar.CourseID=k,n.sendcar.Type=0,n.carlist.push(n.sendcar),c.Add({},n.carlist,function(t){n.addtoshoppingcardstatus=!1;t.Success?p.open("信息提示","加入购物车成功,可在“我的学习中心-我的购物车”查看",!1):p.open("信息提示",t.Message,!0)}))};n.gotoShoppingCar=function(){window.location.href="/Order/Confirm/?id="+k}}]);controllers.controller("DialogCanRedoneExamCtrl",["$scope","$state","$modal","$modalInstance","confirmModal","errorModal","dialogData","PaperService","QuestionService","ProductService","CourseService","StudyAdvisorService","DialogExamResult","MessageBox","MessageBoxSelect","ExamService",function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){function ot(){var t,i;return n.Qtype==4?(t=n.model.Paper.TestTime*60,i=window.setInterval(function(){var r=0,u=Math.floor(n.model.Paper.TestTime/60),i=Math.floor(n.model.Paper.TestTime)-u*60,f=0;t>0?(r=Math.floor(t/86400),u=Math.floor(t/3600)-r*24,i=Math.floor(t/60)-r*1440-u*60,f=Math.floor(t)-r*86400-u*3600-i*60):(n.model.IsTimeOut=!0,window.clearInterval(n.timer),n.model.IsCompleted==!0,n.complete());i<=9&&(i="0"+i);f<=9&&(f="0"+f);$("#day_show").html(r+"天");$("#hour_show").html('<s id="h"><\/s>'+u+"时");$("#minute_show").html("<s><\/s>"+i+"分");$("#second_show").html("<s><\/s>"+f+"秒");t--},1e3),i):(t=0,i=window.setInterval(function(){var i=0,u=0,n=0,r=0;t>0&&(i=Math.floor(t/86400),u=Math.floor(t/3600)-i*24,n=Math.floor(t/60)-i*1440-u*60,r=Math.floor(t)-i*86400-u*3600-n*60);n<=9&&(n="0"+n);r<=9&&(r="0"+r);$("#day_show").html(i+"天");$("#hour_show").html('<s id="h"><\/s>'+u+"时");$("#minute_show").html("<s><\/s>"+n+"分");$("#second_show").html("<s><\/s>"+r+"秒");t++},1e3),i)}var w=e.TestObject;n.Qtype=w.Type;n.disablealloption=!1;n.title="水平测试";n.timer={};n.model={IsStarted:!1,Paper:null,ShowIndex:-1,realshowindex:-1,CurrentQuestion:{},Isfirstquestion:!0,Islastquestion:!1,IsCompleted:!1,IsTimeOut:!1,IsLoading:!0,pagesize:40};n.showonlycandoonce=!1;n.checkPaperCanDoMoreThanOnce=function(){w.Type==4&&o.CheckPaperCanDoMoreThanOnce({ClassID:w.classId,PaperID:w.IdList[0]},{},function(t){n.showonlycandoonce=t.Success?!0:!1})};n.checkPaperCanDoMoreThanOnce();var b=function(t){for(var r=null,i=0;i<n.model.Paper.AnswerSheet.AnswerList.length;i++)n.model.Paper.AnswerSheet.AnswerList[i].QuestionId==t.Id&&(r=n.model.Paper.AnswerSheet.AnswerList[i]);return r},tt=function(n){var t=b(n);angular.forEach(n.ProblemDetail,function(n){n.IsSelected=!1;angular.forEach(t.Result,function(t){t==n.ID&&(n.IsSelected=!0)})})},ft=function(n){var t=b(n);angular.forEach(n.ProblemDetail,function(n){n.SelectTrue=!1;n.SelectFalse=!1;t.Result.length>0&&(t.Result[0]=="true"?n.SelectTrue=!0:n.SelectFalse=!0)})},d=function(t){n.model.realshowindex=n.model.ShowIndex;switch(t.Type){case 0:tt(t);break;case 1:tt(t);break;case 2:ft(t);break;default:f.open(["未知题型，请联系网站管理员！"])}},g=function(){n.model.IsCompleted=!0;for(var t=0;t<n.model.Paper.AnswerSheet.AnswerList.length;t++)if(n.model.Paper.AnswerSheet.AnswerList[t].Result.length==0){n.model.IsCompleted=!1;break}},it=function(){w.Type==1?o.GetByCourses({},w.IdList,function(t){n.model.Paper=t;n.model.IsLoading=!1;n.pagetotal=parseInt(n.model.Paper.AnswerSheet.AnswerList.length/parseInt(n.model.pagesize));n.pagetotal*n.model.pagesize<n.model.Paper.AnswerSheet.AnswerList.length&&n.pagetotal++;n.pagetotal>1&&$("#the_ul_index").css("height","90px");n.model.pageindex=1}):w.Type==2?o.GetByID({PaperId:w.IdList[0]},{},function(t){n.model.Paper=t;n.model.IsLoading=!1;n.pagetotal=parseInt(n.model.Paper.AnswerSheet.AnswerList.length/parseInt(n.model.pagesize));n.pagetotal*n.model.pagesize<n.model.Paper.AnswerSheet.AnswerList.length&&n.pagetotal++;n.pagetotal>1&&$("#the_ul_index").css("height","90px");n.model.pageindex=1}):w.Type==3?o.GetByChapters({chapterId:w.IdList[0]},{},function(t){n.model.Paper=t;n.model.IsLoading=!1;n.pagetotal=parseInt(n.model.Paper.AnswerSheet.AnswerList.length/parseInt(n.model.pagesize));n.pagetotal*n.model.pagesize<n.model.Paper.AnswerSheet.AnswerList.length&&n.pagetotal++;n.pagetotal>1&&$("#the_ul_index").css("height","90px");n.model.pageindex=1}):w.Type==4?p.GetPaperToExam({PaperId:w.IdList[0],classID:w.classId},{},function(t){n.model.Paper=t;n.title=n.model.Paper.PaperName;n.model.IsLoading=!1;n.pagetotal=parseInt(n.model.Paper.AnswerSheet.AnswerList.length/parseInt(n.model.pagesize));angular.forEach(n.model.Paper.QuestionList,function(n){d(n)});angular.forEach(n.model.Paper.AnswerSheet.AnswerList,function(n){n.Mark=!1});n.pagetotal*n.model.pagesize<n.model.Paper.AnswerSheet.AnswerList.length&&n.pagetotal++;n.pagetotal>1&&$("#the_ul_index").css("height","90px");n.model.pageindex=1;g()}):w.Type==5?p.GetPaperToExam({PaperId:w.IdList[0],classID:w.classId},{},function(t){n.model.Paper=t;n.model.IsLoading=!1;n.pagetotal=parseInt(n.model.Paper.AnswerSheet.AnswerList.length/parseInt(n.model.pagesize));angular.forEach(n.model.Paper.QuestionList,function(n){d(n)});angular.forEach(n.model.Paper.AnswerSheet.AnswerList,function(n){n.Mark=!1});n.pagetotal*n.model.pagesize<n.model.Paper.AnswerSheet.AnswerList.length&&n.pagetotal++;n.pagetotal>1&&$("#the_ul_index").css("height","90px");n.model.pageindex=1;g()}):w.Type==6?o.GetByCourses({},w.IdList,function(t){n.model.Paper=t;n.model.IsLoading=!1;n.pagetotal=parseInt(n.model.Paper.AnswerSheet.AnswerList.length/parseInt(n.model.pagesize));n.pagetotal*n.model.pagesize<n.model.Paper.AnswerSheet.AnswerList.length&&n.pagetotal++;n.pagetotal>1&&$("#the_ul_index").css("height","90px");n.model.pageindex=1}):w.Type==7?o.GetByCourses({IsTM:!0},w.IdList,function(t){n.model.Paper=t;n.model.IsLoading=!1;n.pagetotal=parseInt(n.model.Paper.AnswerSheet.AnswerList.length/parseInt(n.model.pagesize));n.pagetotal*n.model.pagesize<n.model.Paper.AnswerSheet.AnswerList.length&&n.pagetotal++;n.pagetotal>1&&$("#the_ul_index").css("height","90px");n.model.pageindex=1}):w.Type==8?o.GetByCourses({},w.IdList,function(t){n.model.Paper=t;n.model.IsLoading=!1;n.pagetotal=parseInt(n.model.Paper.AnswerSheet.AnswerList.length/parseInt(n.model.pagesize));n.pagetotal*n.model.pagesize<n.model.Paper.AnswerSheet.AnswerList.length&&n.pagetotal++;n.pagetotal>1&&$("#the_ul_index").css("height","90px");n.model.pageindex=1}):w.Type==9&&o.GetByPaperName({PaperName:w.IdList},{},function(t){n.model.Paper=t;n.model.IsLoading=!1;n.pagetotal=parseInt(n.model.Paper.AnswerSheet.AnswerList.length/parseInt(n.model.pagesize));n.pagetotal*n.model.pagesize<n.model.Paper.AnswerSheet.AnswerList.length&&n.pagetotal++;n.pagetotal>1&&$("#the_ul_index").css("height","90px");n.model.pageindex=1})},k=function(t,i){s.GetById({Id:t},{},function(t){n.model.CurrentQuestion=t;n.model.SelectedOption=null;n.model.ShowIndex=i;n.model.pageindex=Math.ceil(parseFloat(n.model.ShowIndex+1)/parseFloat(n.model.pagesize));n.model.Islastquestion=n.model.ShowIndex==n.model.Paper.QuestionIdList.length-1?!0:!1;n.model.Isfirstquestion=n.model.ShowIndex==0?!0:!1;d(n.model.CurrentQuestion)})},rt=function(t,i){for(var r=0;r<n.model.Paper.AnswerSheet.AnswerList.length;r++)if(n.model.Paper.AnswerSheet.AnswerList[r].QuestionId==t){n.model.Paper.AnswerSheet.AnswerList[r].Result=i;break}g()},ut=function(n){var t=[];angular.forEach(n.ProblemDetail,function(n){n.IsSelected&&t.push(n.ID)});rt(n.Id,t)},et=function(n){var t=[];angular.forEach(n.ProblemDetail,function(n){n.SelectFalse?t.push("false"):n.SelectTrue&&t.push("true")});rt(n.Id,t)},nt=function(n){switch(n.Type){case 0:ut(n);break;case 1:ut(n);break;case 2:et(n);break;default:f.open(["未知题型，请联系网站管理员！"])}};n.convertToChar=function(t){return n.code="A".charCodeAt(),n.Numbercode=String.fromCharCode(n.code+t-1),n.Numbercode};n.start=function(){n.model.Paper.QuestionIdList.length==1&&(n.model.Isfirstquestion=!0,n.model.Islastquestion=!0);n.model.IsStarted=!0;n.model.ShowIndex=0;n.model.realshowindex=-1;n.model.SelectedOption=null;n.timer=ot(0);var t=new Date;n.model.Paper.AnswerSheet.Start=t;k(n.model.Paper.QuestionIdList[n.model.ShowIndex],n.model.ShowIndex)};n.answer_save=function(){var t=n.model.Paper.AnswerSheet.TotalTime,r=n.model.Paper.AnswerSheet.Start,u=new Date,f=u.getTime()-r.getTime(),e=Math.floor(f/1e3),i;t=t+e;n.model.CurrentQuestion!=null&&(i=b(n.model.CurrentQuestion),p.Answer({totalTime:t},i,function(n){n.Success||v.open("信息提示","答案保存失败："+n.Messae,!1)}))};n.answer_submit=function(){var t=n.model.Paper.AnswerSheet.TotalTime,u=n.model.Paper.AnswerSheet.Start,e=new Date,o=e.getTime()-u.getTime(),s=Math.floor(o/1e3),i;t=t+s;n.model.CurrentQuestion!=null&&(i=b(n.model.CurrentQuestion),p.AnswerAndSubmit({totalTime:t,sourceID:w.classId,paperID:w.IdList[0]},i,function(t){t.Success?(window.clearInterval(n.timer),r.close(t.ObjectID)):(window.clearInterval(n.timer),f.open([t.Message]),n.disablealloption=!1)}))};n.next=function(){if(n.answer_save(),n.model.ShowIndex<n.model.Paper.QuestionIdList.length-1){var t=n.model.ShowIndex+1;k(n.model.Paper.QuestionIdList[t],t)}else alert("已到最后一题")};n.last=function(){if(n.answer_save(),n.model.ShowIndex>0){var t=n.model.ShowIndex-1;k(n.model.Paper.QuestionIdList[t],t)}};n.jumpToQuestions=function(t){n.answer_save();var i=t;k(n.model.Paper.QuestionIdList[i],i)};n.complete=function(){function t(){n.disablealloption=!0;var t=new Date;n.model.Paper.AnswerSheet.End=t;w.Type==1?(n.model.Paper.AnswerSheet.StudyAdvisorID=e.TestObject.ObjectID,o.SubmitLevelAnswerSheet({},n.model.Paper.AnswerSheet,function(t){t.Success?(window.clearInterval(n.timer),window.location.href="/usercenter/index#/mystudyadvisor"):(window.clearInterval(n.timer),f.open([t.Message]),n.disablealloption=!1)})):w.Type==2?(n.model.Paper.AnswerSheet.PaperId=w.IdList[0],n.model.Paper.AnswerSheet.Type=3,o.SubmitClassAnswerSheet({},n.model.Paper.AnswerSheet,function(t){t.Success?(window.clearInterval(n.timer),r.close()):(window.clearInterval(n.timer),f.open([t.Message]),n.disablealloption=!1)})):w.Type==3?(n.model.Paper.AnswerSheet.ChapterID=w.IdList[0],n.model.Paper.AnswerSheet.CourseIDs=[],n.model.Paper.AnswerSheet.CourseIDs.push(w.CourseId),o.SubmitAnswerSheet({},n.model.Paper.AnswerSheet,function(t){t.Success?(window.clearInterval(n.timer),r.close()):(window.clearInterval(n.timer),f.open([t.Message]),n.disablealloption=!1)})):w.Type==4?n.answer_submit():w.Type==5?n.answer_submit():w.Type==6?h.GetById({id:w.productid},{},function(t){n.Path={};n.Path.HtmlContent=t.CoursePathHtml;n.Path.IdList=[];n.Path.ProductID=w.productid;n.Path.Description=t.Description;c.CreatePath({},n.Path,function(t){t.Success==!0&&(n.model.Paper.AnswerSheet.StudyAdvisorID=t.ObjectID,o.SubmitLevelAnswerSheet({},n.model.Paper.AnswerSheet,function(t){if(t.Success){var i={};i.StudyAdvisorId=n.model.Paper.AnswerSheet.StudyAdvisorID;l.EnableStudyAdvisor({},i,function(t){t.Success==!0?l.GetById({ID:i.StudyAdvisorId},{},function(t){window.clearInterval(n.timer);n.whencreate=t.WhenCreated;window.location.href="/usercenter/index#/studyadvisordetail/"+i.StudyAdvisorId+"/"+n.whencreate+"/"+n.Path.ProductID}):(window.clearInterval(n.timer),examModal.open([t.Message]),n.disablealloption=!1)})}else f.open([t.Message]),n.disablealloption=!1}))})}):w.Type==7?h.GetById({id:w.productid},{},function(t){n.Path={};n.Path.HtmlContent=w.path;n.Path.IdList=[];n.Path.ProductID=w.productid;n.Path.Description=t.Description;c.CreatePath({},n.Path,function(t){t.Success==!0&&(n.model.Paper.AnswerSheet.StudyAdvisorID=t.ObjectID,o.SubmitLevelAnswerSheet({},n.model.Paper.AnswerSheet,function(t){if(t.Success){var i={};i.StudyAdvisorId=n.model.Paper.AnswerSheet.StudyAdvisorID;l.EnableStudyAdvisor({},i,function(t){t.Success==!0?l.GetById({ID:i.StudyAdvisorId},{},function(t){window.clearInterval(n.timer);n.whencreate=t.WhenCreated;window.location.href="/usercenter/index#/studyadvisordetail/"+i.StudyAdvisorId+"/"+n.whencreate+"/"+n.Path.ProductID}):(window.clearInterval(n.timer),examModal.open([t.Message]),n.disablealloption=!1)})}else window.clearInterval(n.timer),f.open([t.Message]),n.disablealloption=!1}))})}):w.Type==8?(n.model.Paper.AnswerSheet.CourseIDs=[],n.model.Paper.AnswerSheet.CourseIDs=w.IdList,o.SubmitCourseAnswerSheet({},n.model.Paper.AnswerSheet,function(t){t.Success?(window.clearInterval(n.timer),a.open(t.Target),r.close()):(window.clearInterval(n.timer),f.open([t.Message]),n.disablealloption=!1)})):w.Type==9&&o.SubmitCertificationPathAnswerSheet({},n.model.Paper.AnswerSheet,function(t){t.Success?(window.clearInterval(n.timer),v.open("信息提示","得分为"+t.Target,!1),r.close()):(window.clearInterval(n.timer),f.open([t.Message]),n.disablealloption=!1)})}n.model.IsCompleted!=!0&&n.model.IsTimeOut==!1?y.open("信息提示","您的测试尚未完成，确定交卷？",!1,t):t()};n.leftindex=function(){n.model.pageindex>1&&n.model.pageindex--};n.rightindex=function(){n.pagetotal>n.model.pageindex&&n.model.pageindex++};n.reTest=function(){n.model.IsStarted=!1;n.model.pageindex=1;n.model.ShowIndex=0;n.model.CurrentQuestion={};window.clearInterval(n.timer);datetime=new Date;n.model.Paper.AnswerSheet.Start=datetime;p.CleanAnswer({},n.model.Paper.AnswerSheet,function(){it()})};n.selectOption=function(t){n.disablealloption!=!0&&(n.model.CurrentQuestion.Type==0?(angular.forEach(n.model.CurrentQuestion.ProblemDetail,function(n){n.IsSelected=!1}),t.IsSelected=!0):n.model.CurrentQuestion.Type==1&&(t.IsSelected=!t.IsSelected),nt(n.model.CurrentQuestion))};n.trueOrFalse_True_Change=function(t){t.SelectFalse==!0&&t.SelectTrue==!0&&(t.SelectFalse=!1);nt(n.model.CurrentQuestion)};n.trueOrFalse_False_Change=function(t){t.SelectFalse==!0&&t.SelectTrue==!0&&(t.SelectTrue=!1);nt(n.model.CurrentQuestion)};n.cancel=function(){n.answer_save();r.close(n.timer);r.dismiss("cancel")};n.markthisquestion=function(){n.model.Paper.AnswerSheet.AnswerList[parseInt(n.model.realshowindex)].Mark=n.model.Paper.AnswerSheet.AnswerList[parseInt(n.model.realshowindex)].Mark?!1:!0};it()}]);controllers.controller("DialogExamCtrl",["$scope","$state","$modal","$modalInstance","confirmModal","errorModal","dialogData","PaperService","QuestionService","ProductService","CourseService","StudyAdvisorService","DialogExamResult","MessageBox","MessageBoxSelect",function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){function et(){var t,i;return n.Qtype==4?(t=n.model.Paper.TestTime*60,i=window.setInterval(function(){var r=0,u=Math.floor(n.model.Paper.TestTime/60),i=Math.floor(n.model.Paper.TestTime)-u*60,f=0;t>0?(r=Math.floor(t/86400),u=Math.floor(t/3600)-r*24,i=Math.floor(t/60)-r*1440-u*60,f=Math.floor(t)-r*86400-u*3600-i*60):(n.model.IsTimeOut=!0,window.clearInterval(n.timer),n.model.IsCompleted==!0,n.complete());i<=9&&(i="0"+i);f<=9&&(f="0"+f);$("#day_show").html(r+"天");$("#hour_show").html('<s id="h"><\/s>'+u+"时");$("#minute_show").html("<s><\/s>"+i+"分");$("#second_show").html("<s><\/s>"+f+"秒");t--},1e3),i):(t=0,i=window.setInterval(function(){var i=0,u=0,n=0,r=0;t>0&&(i=Math.floor(t/86400),u=Math.floor(t/3600)-i*24,n=Math.floor(t/60)-i*1440-u*60,r=Math.floor(t)-i*86400-u*3600-n*60);n<=9&&(n="0"+n);r<=9&&(r="0"+r);$("#day_show").html(i+"天");$("#hour_show").html('<s id="h"><\/s>'+u+"时");$("#minute_show").html("<s><\/s>"+n+"分");$("#second_show").html("<s><\/s>"+r+"秒");t++},1e3),i)}var p=e.TestObject;n.Qtype=p.Type;n.disablealloption=!1;n.title="水平测试";n.timer={};n.model={IsStarted:!1,Paper:null,ShowIndex:-1,realshowindex:-1,CurrentQuestion:{},Isfirstquestion:!0,Islastquestion:!1,IsCompleted:!1,IsTimeOut:!1,IsLoading:!0,pagesize:40};n.showonlycandoonce=!1;n.checkPaperCanDoMoreThanOnce=function(){p.Type==4&&o.CheckPaperCanDoMoreThanOnce({ClassID:p.classId,PaperID:p.IdList[0]},{},function(t){n.showonlycandoonce=t.Success?!0:!1})};n.checkPaperCanDoMoreThanOnce();var k=function(t){for(var r=null,i=0;i<n.model.Paper.AnswerSheet.AnswerList.length;i++)n.model.Paper.AnswerSheet.AnswerList[i].QuestionId==t.Id&&(r=n.model.Paper.AnswerSheet.AnswerList[i]);return r},d=function(n){var t=k(n);angular.forEach(n.ProblemDetail,function(n){n.IsSelected=!1;angular.forEach(t.Result,function(t){t==n.ID&&(n.IsSelected=!0)})})},it=function(n){var t=k(n);angular.forEach(n.ProblemDetail,function(n){n.SelectTrue=!1;n.SelectFalse=!1;t.Result.length>0&&(t.Result[0]=="true"?n.SelectTrue=!0:n.SelectFalse=!0)})},rt=function(t){n.model.realshowindex=n.model.ShowIndex;switch(t.Type){case 0:d(t);break;case 1:d(t);break;case 2:it(t);break;default:f.open(["未知题型，请联系网站管理员！"])}},ut=function(){n.model.IsCompleted=!0;for(var t=0;t<n.model.Paper.AnswerSheet.AnswerList.length;t++)if(n.model.Paper.AnswerSheet.AnswerList[t].Result.length==0){n.model.IsCompleted=!1;break}},g=function(){p.Type==1?o.GetByCourses({},p.IdList,function(t){n.model.Paper=t;n.model.IsLoading=!1;n.pagetotal=parseInt(n.model.Paper.AnswerSheet.AnswerList.length/parseInt(n.model.pagesize));n.pagetotal*n.model.pagesize<n.model.Paper.AnswerSheet.AnswerList.length&&n.pagetotal++;n.pagetotal>1&&$("#the_ul_index").css("height","90px");n.model.pageindex=1}):p.Type==2?o.GetByID({PaperId:p.IdList[0]},{},function(t){n.model.Paper=t;n.model.IsLoading=!1;n.pagetotal=parseInt(n.model.Paper.AnswerSheet.AnswerList.length/parseInt(n.model.pagesize));n.pagetotal*n.model.pagesize<n.model.Paper.AnswerSheet.AnswerList.length&&n.pagetotal++;n.pagetotal>1&&$("#the_ul_index").css("height","90px");n.model.pageindex=1}):p.Type==3?o.GetByChapters({chapterId:p.IdList[0]},{},function(t){n.model.Paper=t;n.model.IsLoading=!1;n.pagetotal=parseInt(n.model.Paper.AnswerSheet.AnswerList.length/parseInt(n.model.pagesize));n.pagetotal*n.model.pagesize<n.model.Paper.AnswerSheet.AnswerList.length&&n.pagetotal++;n.pagetotal>1&&$("#the_ul_index").css("height","90px");n.model.pageindex=1}):p.Type==4?o.GetByID({PaperId:p.IdList[0]},{},function(t){n.model.Paper=t;n.title=n.model.Paper.PaperName;n.model.IsLoading=!1;n.pagetotal=parseInt(n.model.Paper.AnswerSheet.AnswerList.length/parseInt(n.model.pagesize));angular.forEach(n.model.Paper.AnswerSheet.AnswerList,function(n){n.Mark=!1});n.pagetotal*n.model.pagesize<n.model.Paper.AnswerSheet.AnswerList.length&&n.pagetotal++;n.pagetotal>1&&$("#the_ul_index").css("height","90px");n.model.pageindex=1}):p.Type==5?o.GetByID({PaperId:p.IdList[0]},{},function(t){n.model.Paper=t;n.model.IsLoading=!1;n.pagetotal=parseInt(n.model.Paper.AnswerSheet.AnswerList.length/parseInt(n.model.pagesize));angular.forEach(n.model.Paper.AnswerSheet.AnswerList,function(n){n.Mark=!1});n.pagetotal*n.model.pagesize<n.model.Paper.AnswerSheet.AnswerList.length&&n.pagetotal++;n.pagetotal>1&&$("#the_ul_index").css("height","90px");n.model.pageindex=1}):p.Type==6?o.GetByCourses({},p.IdList,function(t){n.model.Paper=t;n.model.IsLoading=!1;n.pagetotal=parseInt(n.model.Paper.AnswerSheet.AnswerList.length/parseInt(n.model.pagesize));n.pagetotal*n.model.pagesize<n.model.Paper.AnswerSheet.AnswerList.length&&n.pagetotal++;n.pagetotal>1&&$("#the_ul_index").css("height","90px");n.model.pageindex=1}):p.Type==7?o.GetByCourses({IsTM:!0},p.IdList,function(t){n.model.Paper=t;n.model.IsLoading=!1;n.pagetotal=parseInt(n.model.Paper.AnswerSheet.AnswerList.length/parseInt(n.model.pagesize));n.pagetotal*n.model.pagesize<n.model.Paper.AnswerSheet.AnswerList.length&&n.pagetotal++;n.pagetotal>1&&$("#the_ul_index").css("height","90px");n.model.pageindex=1}):p.Type==8?o.GetByCourses({},p.IdList,function(t){n.model.Paper=t;n.model.IsLoading=!1;n.pagetotal=parseInt(n.model.Paper.AnswerSheet.AnswerList.length/parseInt(n.model.pagesize));n.pagetotal*n.model.pagesize<n.model.Paper.AnswerSheet.AnswerList.length&&n.pagetotal++;n.pagetotal>1&&$("#the_ul_index").css("height","90px");n.model.pageindex=1}):p.Type==9&&o.GetByPaperName({PaperName:p.IdList},{},function(t){n.model.Paper=t;n.model.IsLoading=!1;n.pagetotal=parseInt(n.model.Paper.AnswerSheet.AnswerList.length/parseInt(n.model.pagesize));n.pagetotal*n.model.pagesize<n.model.Paper.AnswerSheet.AnswerList.length&&n.pagetotal++;n.pagetotal>1&&$("#the_ul_index").css("height","90px");n.model.pageindex=1})},w=function(t,i){s.GetById({Id:t},{},function(t){n.model.CurrentQuestion=t;n.model.SelectedOption=null;n.model.ShowIndex=i;n.model.pageindex=Math.ceil(parseFloat(n.model.ShowIndex+1)/parseFloat(n.model.pagesize));n.model.Islastquestion=n.model.ShowIndex==n.model.Paper.QuestionIdList.length-1?!0:!1;n.model.Isfirstquestion=n.model.ShowIndex==0?!0:!1;rt(n.model.CurrentQuestion)})},nt=function(t,i){for(var r=0;r<n.model.Paper.AnswerSheet.AnswerList.length;r++)if(n.model.Paper.AnswerSheet.AnswerList[r].QuestionId==t){n.model.Paper.AnswerSheet.AnswerList[r].Result=i;break}ut()},tt=function(n){var t=[];angular.forEach(n.ProblemDetail,function(n){n.IsSelected&&t.push(n.ID)});nt(n.Id,t)},ft=function(n){var t=[];angular.forEach(n.ProblemDetail,function(n){n.SelectFalse?t.push("false"):n.SelectTrue&&t.push("true")});nt(n.Id,t)},b=function(n){switch(n.Type){case 0:tt(n);break;case 1:tt(n);break;case 2:ft(n);break;default:f.open(["未知题型，请联系网站管理员！"])}};n.convertToChar=function(t){return n.code="A".charCodeAt(),n.Numbercode=String.fromCharCode(n.code+t-1),n.Numbercode};n.start=function(){n.model.Paper.QuestionIdList.length==1&&(n.model.Isfirstquestion=!0,n.model.Islastquestion=!0);n.model.IsStarted=!0;n.model.ShowIndex=0;n.model.realshowindex=-1;n.model.SelectedOption=null;n.timer=et(0);var t=new Date;n.model.Paper.AnswerSheet.Start=t;w(n.model.Paper.QuestionIdList[n.model.ShowIndex],n.model.ShowIndex)};n.next=function(){if(n.model.ShowIndex<n.model.Paper.QuestionIdList.length-1){var t=n.model.ShowIndex+1;w(n.model.Paper.QuestionIdList[t],t)}else alert("已到最后一题")};n.last=function(){if(n.model.ShowIndex>0){var t=n.model.ShowIndex-1;w(n.model.Paper.QuestionIdList[t],t)}};n.jumpToQuestions=function(t){var i=t;w(n.model.Paper.QuestionIdList[i],i)};n.complete=function(){function t(){n.disablealloption=!0;var t=new Date;n.model.Paper.AnswerSheet.End=t;p.Type==1?(n.model.Paper.AnswerSheet.StudyAdvisorID=e.TestObject.ObjectID,o.SubmitLevelAnswerSheet({},n.model.Paper.AnswerSheet,function(t){t.Success?(window.clearInterval(n.timer),window.location.href="/usercenter/index#/mystudyadvisor"):(window.clearInterval(n.timer),f.open([t.Message]),n.disablealloption=!1)})):p.Type==2?(n.model.Paper.AnswerSheet.PaperId=p.IdList[0],n.model.Paper.AnswerSheet.Type=3,o.SubmitClassAnswerSheet({},n.model.Paper.AnswerSheet,function(t){t.Success?(window.clearInterval(n.timer),r.close()):(window.clearInterval(n.timer),f.open([t.Message]),n.disablealloption=!1)})):p.Type==3?(n.model.Paper.AnswerSheet.ChapterID=p.IdList[0],n.model.Paper.AnswerSheet.CourseIDs=[],n.model.Paper.AnswerSheet.CourseIDs.push(p.CourseId),o.SubmitAnswerSheet({},n.model.Paper.AnswerSheet,function(t){t.Success?(window.clearInterval(n.timer),r.close()):(window.clearInterval(n.timer),f.open([t.Message]),n.disablealloption=!1)})):p.Type==4?(n.model.Paper.AnswerSheet.PaperId=p.IdList[0],n.model.Paper.AnswerSheet.Type=4,n.model.Paper.AnswerSheet.ClassID=p.classId,o.SubmitClassAnswerSheet({},n.model.Paper.AnswerSheet,function(t){t.Success?(window.clearInterval(n.timer),r.close(t.ObjectID)):(window.clearInterval(n.timer),f.open([t.Message]),n.disablealloption=!1)})):p.Type==5?(n.model.Paper.AnswerSheet.PaperId=p.IdList[0],n.model.Paper.AnswerSheet.Type=5,n.model.Paper.AnswerSheet.ClassID=p.classId,o.SubmitClassAnswerSheet({},n.model.Paper.AnswerSheet,function(t){t.Success?(window.clearInterval(n.timer),r.close()):(window.clearInterval(n.timer),f.open([t.Message]),n.disablealloption=!1)})):p.Type==6?h.GetById({id:p.productid},{},function(t){n.Path={};n.Path.HtmlContent=t.CoursePathHtml;n.Path.IdList=[];n.Path.ProductID=p.productid;n.Path.Description=t.Description;c.CreatePath({},n.Path,function(t){t.Success==!0&&(n.model.Paper.AnswerSheet.StudyAdvisorID=t.ObjectID,o.SubmitLevelAnswerSheet({},n.model.Paper.AnswerSheet,function(t){if(t.Success){var i={};i.StudyAdvisorId=n.model.Paper.AnswerSheet.StudyAdvisorID;l.EnableStudyAdvisor({},i,function(t){t.Success==!0?l.GetById({ID:i.StudyAdvisorId},{},function(t){window.clearInterval(n.timer);n.whencreate=t.WhenCreated;window.location.href="/usercenter/index#/studyadvisordetail/"+i.StudyAdvisorId+"/"+n.whencreate+"/"+n.Path.ProductID}):(window.clearInterval(n.timer),examModal.open([t.Message]),n.disablealloption=!1)})}else f.open([t.Message]),n.disablealloption=!1}))})}):p.Type==7?h.GetById({id:p.productid},{},function(t){n.Path={};n.Path.HtmlContent=p.path;n.Path.IdList=[];n.Path.ProductID=p.productid;n.Path.Description=t.Description;c.CreatePath({},n.Path,function(t){t.Success==!0&&(n.model.Paper.AnswerSheet.StudyAdvisorID=t.ObjectID,o.SubmitLevelAnswerSheet({},n.model.Paper.AnswerSheet,function(t){if(t.Success){var i={};i.StudyAdvisorId=n.model.Paper.AnswerSheet.StudyAdvisorID;l.EnableStudyAdvisor({},i,function(t){t.Success==!0?l.GetById({ID:i.StudyAdvisorId},{},function(t){window.clearInterval(n.timer);n.whencreate=t.WhenCreated;window.location.href="/usercenter/index#/studyadvisordetail/"+i.StudyAdvisorId+"/"+n.whencreate+"/"+n.Path.ProductID}):(window.clearInterval(n.timer),examModal.open([t.Message]),n.disablealloption=!1)})}else window.clearInterval(n.timer),f.open([t.Message]),n.disablealloption=!1}))})}):p.Type==8?(n.model.Paper.AnswerSheet.CourseIDs=[],n.model.Paper.AnswerSheet.CourseIDs=p.IdList,o.SubmitCourseAnswerSheet({},n.model.Paper.AnswerSheet,function(t){t.Success?(window.clearInterval(n.timer),a.open(t.Target),r.close()):(window.clearInterval(n.timer),f.open([t.Message]),n.disablealloption=!1)})):p.Type==9&&o.SubmitCertificationPathAnswerSheet({},n.model.Paper.AnswerSheet,function(t){t.Success?(window.clearInterval(n.timer),v.open("信息提示","得分为"+t.Target,!1),r.close()):(window.clearInterval(n.timer),f.open([t.Message]),n.disablealloption=!1)})}n.model.IsCompleted!=!0&&n.model.IsTimeOut==!1?y.open("信息提示","您的测试尚未完成，确定交卷？",!1,t):t()};n.leftindex=function(){n.model.pageindex>1&&n.model.pageindex--};n.rightindex=function(){n.pagetotal>n.model.pageindex&&n.model.pageindex++};n.reTest=function(){n.model.IsStarted=!1;n.model.pageindex=1;n.model.ShowIndex=0;n.model.CurrentQuestion={};window.clearInterval(n.timer);datetime=new Date;n.model.Paper.AnswerSheet.Start=datetime;g()};n.selectOption=function(t){n.disablealloption!=!0&&(n.model.CurrentQuestion.Type==0?(angular.forEach(n.model.CurrentQuestion.ProblemDetail,function(n){n.IsSelected=!1}),t.IsSelected=!0):n.model.CurrentQuestion.Type==1&&(t.IsSelected=!t.IsSelected),b(n.model.CurrentQuestion))};n.trueOrFalse_True_Change=function(t){t.SelectFalse==!0&&t.SelectTrue==!0&&(t.SelectFalse=!1);b(n.model.CurrentQuestion)};n.trueOrFalse_False_Change=function(t){t.SelectFalse==!0&&t.SelectTrue==!0&&(t.SelectTrue=!1);b(n.model.CurrentQuestion)};n.cancel=function(){r.close(n.timer);r.dismiss("cancel")};n.markthisquestion=function(){n.model.Paper.AnswerSheet.AnswerList[parseInt(n.model.realshowindex)].Mark=n.model.Paper.AnswerSheet.AnswerList[parseInt(n.model.realshowindex)].Mark?!1:!0};g()}]);controllers.controller("DialogExamResultCtrl",["$scope","$modal","$modalInstance","confirmModal","errorModal","dialogData",function(n,t,i,r,u,f){n.title="测试成绩";n.model={Result:f.Result};n.ok=function(){i.close()}}]);controllers.controller("DialogExamResultNewCtrl",["$scope","$modal","$modalInstance","confirmModal","errorModal","PaperService","item",function(n,t,i,r,u,f,e){n.datacotainer={isloading:!0,isshowall:!0};f.GetExamResultAnalyze({paperid:e},{},function(t){n.datacotainer.isloading=!1;n.Analyze=t;n.title=n.Analyze.PaperName+"成绩单"});n.ok=function(){i.close()};n.showall=function(){n.datacotainer.isshowall=!n.datacotainer.isshowall}}]);controllers.controller("DialogGroupingExamCtrl",["$scope","$state","$modal","$modalInstance","confirmModal","errorModal","PaperService","QuestionService","GuideInvestigationService","StudyInvestigationService","item","classId",function(n,t,i,r,u,f,e,o,s,h,c,l){var a,v,y,p;n.title="分班调研";n.iscompleteatext=!1;n.halfidlist=[];n.model={CurrentQuiz:{},ShowIndex:1,SelectedOption:null};a=function(){s.GetQuizById({Id:c},{},function(t){n.model.CurrentQuiz=t;n.model.ShowIndex=1;n.model.SelectedOption=null})};v=function(t){s.GetQuizByOptionId({optionId:t},{},function(t){n.model.CurrentQuiz=t;n.model.ShowIndex++;n.model.SelectedOption=null})};n.convertToChar=function(t){return n.code="A".charCodeAt(),n.Numbercode=String.fromCharCode(n.code+t-1),n.Numbercode};n.selectOptiona=function(t){angular.forEach(n.model.CurrentQuiz.Options,function(n){n.IsSelected=!1});t.IsSelected=!0;n.model.SelectedOption=t};n.reTest=function(){n.halfidlist=[];n.model={CurrentQuiz:{},ShowIndex:1,SelectedOption:null};n.iscompleteatext=!1;a()};n.nexta=function(){if(n.model.SelectedOption==null){f.open(["请答题"]);return}n.model.SelectedOption.Direction==1?(n.halfidlist.push(n.model.SelectedOption.ID),v(n.model.SelectedOption.ID)):n.model.SelectedOption.Direction==2&&(n.halfidlist.push(n.model.SelectedOption.ID),n.newindex=angular.copy(n.model.ShowIndex),n.newindex++,n.resultproductid=n.model.SelectedOption.ResultProductID,n.model={CurrentQuiz:{},QuizList:[],ShowIndex:1,SelectedOption:[],SelectedOptions:[],IsCompleteTest:!1,Product:null,SelectedCourseList:[],NotSelectedCourseList:[],ObjectID:""},y(),n.iscompleteatext=!0)};n.cancel=function(){r.dismiss("cancel")};a();y=function(){h.GetByProductId({productId:n.resultproductid},{},function(t){n.model.CurrentQuiz=t[0];n.model.QuizList=t})};p=function(t){for(var u=!1,r,i=0;i<t.length;i++){for(r=0;r<n.model.SelectedOptions.length;r++)t[i].ID==n.model.SelectedOptions[r].ID&&(u=!0);u==!1?n.model.SelectedOptions.push(t[i]):u=!1}};n.selectOption=function(t){n.model.CurrentQuiz.Type==0?(angular.forEach(n.model.CurrentQuiz.Options,function(n){n.IsSelected=!1}),t.IsSelected=!0,n.model.SelectedOption=[],n.model.SelectedOption.push(t)):n.model.CurrentQuiz.Type==1&&(angular.forEach(n.model.CurrentQuiz.Options,function(n){n.IsSelected==undefined&&(n.IsSelected=!1)}),t.IsSelected==!1?(t.IsSelected=!0,n.model.SelectedOption.push(t)):t.IsSelected==!0&&(t.IsSelected=!1,n.i=0,n.Index=0,angular.forEach(n.model.SelectedOption,function(i){i==t&&(n.Index=n.i);n.i=n.i+1}),n.model.SelectedOption.splice(n.Index,1)))};n.next=function(){p(n.model.SelectedOption);n.model.SelectedOption[0].Direction==1?(n.model.ShowIndex=n.model.SelectedOption[0].NextQuestion,n.newindex++,n.model.SelectedOption=[],n.model.CurrentQuiz=n.model.QuizList[n.model.ShowIndex-1]):n.model.SelectedOption[0].Direction==3&&(angular.forEach(n.model.SelectedOptions,function(t){t.Direction==3&&angular.forEach(t.Courselist,function(t){n.k=0;angular.forEach(n.model.SelectedCourseList,function(i){t.Id==i.Id&&(n.k=n.k+1)});n.k==0&&n.model.SelectedCourseList.push(t)})}),n.model.IsCompleteTest=!0,n.idList=[],n.optionidlist=[],angular.forEach(n.model.SelectedOptions,function(t){n.optionidlist.push(t.ID);angular.forEach(t.Courselist,function(t){n.idList.push(t.Id)})}),n.save())};n.retest=function(){window.location.href=url};n.save=function(){n.param={};n.param.IdList=n.halfidlist.concat(n.optionidlist);n.param.ProductID=c;n.param.HtmlContent="";n.param.ClassID=l;e.SubmitGroupAnswerSheet({},n.param,function(n){n.Success==!0&&(alert("调研完成"),r.close())})}}]);controllers.controller("DialogIntentionTestCtrl",["$scope","$modal","$modalInstance","confirmModal","errorModal","GuideInvestigationService",function(n,t,i,r,u,f){n.title="我的学习顾问";n.model={CurrentQuiz:{},ShowIndex:1,SelectedOption:null};var e=function(){f.GetFirstQuiz({},{},function(t){n.model.CurrentQuiz=t;n.model.ShowIndex=1;n.model.SelectedOption=null})},o=function(t){f.GetQuizByOptionId({optionId:t},{},function(t){n.model.CurrentQuiz=t;n.model.ShowIndex++;n.model.SelectedOption=null})};n.convertToChar=function(t){return n.code="A".charCodeAt(),n.Numbercode=t>26?String.fromCharCode(n.code+t/26-1)+String.fromCharCode(n.code+t%26-1):String.fromCharCode(n.code+t-1),n.Numbercode};n.selectOption=function(t){angular.forEach(n.model.CurrentQuiz.Options,function(n){n.IsSelected=!1});t.IsSelected=!0;n.model.SelectedOption=t};n.reTest=function(){e()};n.next=function(){if(n.model.SelectedOption==null){u.open(["请答题"]);return}n.model.SelectedOption.Direction==1?o(n.model.SelectedOption.ID):n.model.SelectedOption.Direction==2?n.model.SelectedOption.ProductTemplateType==1?window.location.href="/product/detail/?id="+n.model.SelectedOption.ResultProductID:n.model.SelectedOption.ProductTemplateType==2||n.model.SelectedOption.ProductTemplateType==4?window.location.href="/product/t/?id="+n.model.SelectedOption.ResultProductID:n.model.SelectedOption.ProductTemplateType==5?window.location.href="/product/t_office/?id="+n.model.SelectedOption.ResultProductID:n.model.SelectedOption.ProductTemplateType==6&&(window.location.href="/product/m_office/?id="+n.model.SelectedOption.ResultProductID):n.model.SelectedOption.Direction==4&&n.model.SelectedOption.ProductTemplateType==3&&(window.location.href="/product/certificationpath/?id="+n.model.SelectedOption.ResultProductID)};n.cancel=function(){i.dismiss("cancel")};e()}]);controllers.controller("DialogStudyExamCtrl",["$scope","$state","$modal","$modalInstance","confirmModal","errorModal","dialogData","PaperService","QuestionService","ProductService","CourseService","StudyAdvisorService","DialogExamResult","MessageBox","MessageBoxSelect",function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){function et(){var t,i;return n.Qtype==4?(t=n.model.Paper.TestTime*60,i=window.setInterval(function(){var r=0,u=Math.floor(n.model.Paper.TestTime/60),i=Math.floor(n.model.Paper.TestTime)-u*60,f=0;t>0?(r=Math.floor(t/86400),u=Math.floor(t/3600)-r*24,i=Math.floor(t/60)-r*1440-u*60,f=Math.floor(t)-r*86400-u*3600-i*60):(n.model.IsTimeOut=!0,window.clearInterval(n.timer),n.model.IsCompleted==!0,n.complete());i<=9&&(i="0"+i);f<=9&&(f="0"+f);$("#day_show").html(r+"天");$("#hour_show").html('<s id="h"><\/s>'+u+"时");$("#minute_show").html("<s><\/s>"+i+"分");$("#second_show").html("<s><\/s>"+f+"秒");t--},1e3),i):(t=0,i=window.setInterval(function(){var i=0,u=0,n=0,r=0;t>0&&(i=Math.floor(t/86400),u=Math.floor(t/3600)-i*24,n=Math.floor(t/60)-i*1440-u*60,r=Math.floor(t)-i*86400-u*3600-n*60);n<=9&&(n="0"+n);r<=9&&(r="0"+r);$("#day_show").html(i+"天");$("#hour_show").html('<s id="h"><\/s>'+u+"时");$("#minute_show").html("<s><\/s>"+n+"分");$("#second_show").html("<s><\/s>"+r+"秒");t++},1e3),i)}var p=e.TestObject;n.Qtype=p.Type;n.disablealloption=!1;n.title="学习自测";n.timer={};n.model={IsStarted:!1,Paper:null,ShowIndex:-1,realshowindex:-1,CurrentQuestion:{},Isfirstquestion:!0,Islastquestion:!1,IsCompleted:!1,IsTimeOut:!1,IsLoading:!0,pagesize:40,LastQuestionHasCheck:!1};var k=function(t){for(var r=null,i=0;i<n.model.Paper.AnswerSheet.AnswerList.length;i++)n.model.Paper.AnswerSheet.AnswerList[i].QuestionId==t.Id&&(r=n.model.Paper.AnswerSheet.AnswerList[i]);return r},d=function(n){var t=k(n);angular.forEach(n.ProblemDetail,function(n){n.IsSelected=!1;angular.forEach(t.Result,function(t){t==n.ID&&(n.IsSelected=!0)})})},it=function(n){var t=k(n);angular.forEach(n.ProblemDetail,function(n){n.SelectTrue=!1;n.SelectFalse=!1;t.Result.length>0&&(t.Result[0]=="true"?n.SelectTrue=!0:n.SelectFalse=!0)})},rt=function(t){n.model.realshowindex=n.model.ShowIndex;switch(t.Type){case 0:d(t);break;case 1:d(t);break;case 2:it(t);break;default:f.open(["未知题型，请联系网站管理员！"])}},ut=function(){n.model.IsCompleted=!0;for(var t=0;t<n.model.Paper.AnswerSheet.AnswerList.length;t++)if(n.model.Paper.AnswerSheet.AnswerList[t].Result.length==0){n.model.IsCompleted=!1;break}},g=function(){p.Type==8&&o.GetByCourses({},p.IdList,function(t){n.model.Paper=t;n.model.IsLoading=!1;angular.forEach(n.model.Paper.AnswerSheet.AnswerList,function(n){n.HasCheckAnswer=!1});n.pagetotal=parseInt(n.model.Paper.AnswerSheet.AnswerList.length/parseInt(n.model.pagesize));n.pagetotal*n.model.pagesize<n.model.Paper.AnswerSheet.AnswerList.length&&n.pagetotal++;n.pagetotal>1&&$("#the_ul_index").css("height","90px");n.model.pageindex=1})},w=function(t,i){s.GetById({Id:t},{},function(t){var u,f,r;for($(".rightbutton").css("display","none"),$(".wrongbutton").css("display","none"),n.model.CurrentQuestion=t,n.model.SelectedOption=null,n.model.ShowIndex=i,u=[],angular.forEach(n.model.CurrentQuestion.ProblemDetail,function(n){n.IsCorrect&&u.push(n.ID)}),r=0;r<n.model.Paper.AnswerSheet.AnswerList.length;r++)n.model.Paper.AnswerSheet.AnswerList[r].QuestionId==n.model.CurrentQuestion.Id&&(n.model.Paper.AnswerSheet.AnswerList[r].RealAnswer=u,n.model.CurrentQuestion.HasCheckAnswer=n.model.Paper.AnswerSheet.AnswerList[r].HasCheckAnswer);if(n.model.pageindex=Math.ceil(parseFloat(n.model.ShowIndex+1)/parseFloat(n.model.pagesize)),n.model.Islastquestion=n.model.ShowIndex==n.model.Paper.QuestionIdList.length-1?!0:!1,n.model.Isfirstquestion=n.model.ShowIndex==0?!0:!1,rt(n.model.CurrentQuestion),f=!1,angular.forEach(n.model.CurrentQuestion.ProblemDetail,function(n){n.IsSelected==!0&&(f=!0)}),f==!0)for(r=0;r<n.model.Paper.AnswerSheet.AnswerList.length;r++)if(n.model.Paper.AnswerSheet.AnswerList[r].QuestionId==n.model.CurrentQuestion.Id){angular.forEach(n.model.Paper.AnswerSheet.AnswerList[r].Result,function(t){angular.forEach(n.model.CurrentQuestion.ProblemDetail,function(n){t==n.ID&&(n.isred=!0)})});angular.forEach(n.model.Paper.AnswerSheet.AnswerList[r].RealAnswer,function(t){angular.forEach(n.model.CurrentQuestion.ProblemDetail,function(n){t==n.ID&&(n.isgreen=!0)})});n.model.Paper.AnswerSheet.AnswerList[r].DoThisQuestionRight==!0?$(".rightbutton").css("display","inline"):$(".wrongbutton").css("display","inline");break}})},nt=function(t,i){for(var r=0;r<n.model.Paper.AnswerSheet.AnswerList.length;r++)if(n.model.Paper.AnswerSheet.AnswerList[r].QuestionId==t){n.model.Paper.AnswerSheet.AnswerList[r].Result=i;break}ut()},tt=function(n){var t=[];angular.forEach(n.ProblemDetail,function(n){n.IsSelected&&t.push(n.ID)});nt(n.Id,t)},ft=function(n){var t=[];angular.forEach(n.ProblemDetail,function(n){n.SelectFalse?t.push("false"):n.SelectTrue&&t.push("true")});nt(n.Id,t)},b=function(n){switch(n.Type){case 0:tt(n);break;case 1:tt(n);break;case 2:ft(n);break;default:f.open(["未知题型，请联系网站管理员！"])}};n.convertToChar=function(t){return n.code="A".charCodeAt(),n.Numbercode=String.fromCharCode(n.code+t-1),n.Numbercode};n.checkanswer=function(){var u,t,i,r;if(n.model.LastQuestionHasCheck=n.model.Paper.AnswerSheet.AnswerList[n.model.Paper.AnswerSheet.AnswerList.length-1].HasCheckAnswer,u=!1,angular.forEach(n.model.CurrentQuestion.ProblemDetail,function(n){n.IsSelected==!0&&(u=!0)}),u==!0){for(t=0;t<n.model.Paper.AnswerSheet.AnswerList.length;t++)if(n.model.Paper.AnswerSheet.AnswerList[t].QuestionId==n.model.CurrentQuestion.Id)return n.model.Paper.AnswerSheet.AnswerList[t].HasCheckAnswer==!0?!1:(i=[],angular.forEach(n.model.CurrentQuestion.ProblemDetail,function(n){n.IsSelected==!0&&i.push(n.ID)}),r=!0,i.length!=n.model.Paper.AnswerSheet.AnswerList[t].RealAnswer.length&&(r=!1),angular.forEach(i,function(i){var u=!1;angular.forEach(n.model.Paper.AnswerSheet.AnswerList[t].RealAnswer,function(n){i==n&&(u=!0)});u==!1&&(r=!1)}),angular.forEach(n.model.Paper.AnswerSheet.AnswerList[t].RealAnswer,function(n){var t=!1;angular.forEach(i,function(i){n==i&&(t=!0)});t==!1&&(r=!1)}),n.model.Paper.AnswerSheet.AnswerList[t].DoThisQuestionRight=r,n.model.Paper.AnswerSheet.AnswerList[t].DoThisQuestionRight==!0?$(".rightbutton").css("display","inline"):$(".wrongbutton").css("display","inline"),angular.forEach(i,function(n){$("#"+n+" div").css("color","#ff0000")}),angular.forEach(n.model.Paper.AnswerSheet.AnswerList[t].RealAnswer,function(n){$("#"+n+" div").css("color","#00c74b")}),n.model.Paper.AnswerSheet.AnswerList[t].HasCheckAnswer=!0,n.model.CurrentQuestion.HasCheckAnswer=n.model.Paper.AnswerSheet.AnswerList[t].HasCheckAnswer,n.model.LastQuestionHasCheck=n.model.Paper.AnswerSheet.AnswerList[n.model.Paper.AnswerSheet.AnswerList.length-1].HasCheckAnswer,!0)}else return!1};n.start=function(){n.model.Paper.QuestionIdList.length==1&&(n.model.Isfirstquestion=!0,n.model.Islastquestion=!0);n.model.IsStarted=!0;n.model.ShowIndex=0;n.model.realshowindex=-1;n.model.SelectedOption=null;n.timer=et(0);var t=new Date;n.model.Paper.AnswerSheet.Start=t;w(n.model.Paper.QuestionIdList[n.model.ShowIndex],n.model.ShowIndex)};n.next=function(){if(n.model.ShowIndex<n.model.Paper.QuestionIdList.length-1){if(n.checkanswer())return;var t=n.model.ShowIndex+1;w(n.model.Paper.QuestionIdList[t],t)}else n.checkanswer()};n.last=function(){if(n.model.ShowIndex>0){if(n.checkanswer())return;var t=n.model.ShowIndex-1;w(n.model.Paper.QuestionIdList[t],t)}};n.jumpToQuestions=function(t){if(!n.checkanswer()){var i=t;w(n.model.Paper.QuestionIdList[i],i)}};n.complete=function(){function t(){n.disablealloption=!0;var t=new Date;n.model.Paper.AnswerSheet.End=t;p.Type==8&&(n.model.Paper.AnswerSheet.CourseIDs=[],n.model.Paper.AnswerSheet.CourseIDs=p.IdList,o.SubmitCourseAnswerSheet({},n.model.Paper.AnswerSheet,function(t){t.Success?(window.clearInterval(n.timer),a.open(t.Target),r.close()):(window.clearInterval(n.timer),f.open([t.Message]),n.disablealloption=!1)}))}n.model.IsCompleted!=!0&&n.model.IsTimeOut==!1?y.open("信息提示","您的测试尚未完成，确定交卷？",!1,t):t()};n.leftindex=function(){n.model.pageindex>1&&n.model.pageindex--};n.rightindex=function(){n.pagetotal>n.model.pageindex&&n.model.pageindex++};n.reTest=function(){n.disablealloption||(n.model.IsStarted=!1,n.model.pageindex=1,n.model.ShowIndex=0,n.model.CurrentQuestion={},window.clearInterval(n.timer),datetime=new Date,n.model.Paper.AnswerSheet.Start=datetime,g())};n.selectOption=function(t){if(n.disablealloption!=!0){for(var i=0;i<n.model.Paper.AnswerSheet.AnswerList.length;i++)if(n.model.Paper.AnswerSheet.AnswerList[i].QuestionId==n.model.CurrentQuestion.Id&&n.model.Paper.AnswerSheet.AnswerList[i].HasCheckAnswer)return;n.model.CurrentQuestion.Type==0?(angular.forEach(n.model.CurrentQuestion.ProblemDetail,function(n){n.IsSelected=!1}),t.IsSelected=!0):n.model.CurrentQuestion.Type==1&&(t.IsSelected=!t.IsSelected);b(n.model.CurrentQuestion)}};n.trueOrFalse_True_Change=function(t){t.SelectFalse==!0&&t.SelectTrue==!0&&(t.SelectFalse=!1);b(n.model.CurrentQuestion)};n.trueOrFalse_False_Change=function(t){t.SelectFalse==!0&&t.SelectTrue==!0&&(t.SelectTrue=!1);b(n.model.CurrentQuestion)};n.cancel=function(){r.close(n.timer);r.dismiss("cancel")};g()}]);controllers.controller("FeedbackCtrl",["$scope","$modal","$state","PaperService","MessageBox",function(n,t,i,r,u){var f,o,s,e;n.classId=angular.element("#data_ClassId").val();n.id=angular.element("#data_op").val();n.LinkType=angular.element("#data_LinkType").val();f=angular.element("#data_paperid").val();n.isloading=!0;o=function(){r.GetAnsweredPaperFeedback({paperId:f},{},function(t){n.Feedback=t;n.isloading=!1})};s=function(){r.GetPaperFeedback({paperId:f},{},function(t){n.Feedback=t;var i=!1;angular.forEach(n.Feedback.QAQuestionList[0].QuestionList,function(n){n.Type==0&&(i=!0)});n.Feedback.IsCompleted=i?!1:!0;n.isloading=!1})};n.get=function(){n.id==0?s():o()};n.get();n.submit=function(){n.Feedback.ClassID=n.classId;n.Feedback.Type=6;r.SubmitAnswerFeedback({},n.Feedback,function(t){t.Success?(u.open("信息提示","提交成功",!1),window.location.href=n.LinkType==0?"/usercenter/index#/studycenter":"/usercenter/index#/classstudy/"+n.classId):errorModal.open([t.Message])})};n.back=function(){window.location.href=n.LinkType==0?"/usercenter/index#/studycenter":"/usercenter/index#/classstudy/"+n.classId};n.selectOption=function(n,t){angular.forEach(t,function(n){n.IsSelected=!1});n.IsSelected=!0;e()};n.selectOptions=function(n){n.IsSelected=!n.IsSelected;e()};e=function(){for(var i,t=0;t<n.Feedback.QAQuestionList[0].QuestionList.length;t++)if(n.Feedback.QAQuestionList[0].QuestionList[t].Type==0&&(i=!1,angular.forEach(n.Feedback.QAQuestionList[0].QuestionList[t].Options,function(n){n.IsSelected&&(i=!0)}),i==!1)){n.Feedback.IsCompleted=!1;return}n.Feedback.IsCompleted=!0};n.convertToChar=function(t){return n.code="A".charCodeAt(),n.Numbercode=String.fromCharCode(n.code+t-1),n.Numbercode}}]);controllers.controller("ForgetPWCtrl",["$scope","StudentService","MessageBox",function(n,t,i){function r(){window.location.href=window.location.protocol+"//"+window.location.host+"/Account/Login"}n.date={telephone:"",newPassword:"",confirmPassword:"",newRegistCode:""};n.Submit=function(){if(n.date.newPassword!=n.date.confirmPassword){i.open("信息提示","密码与确认密码不一致。",!1);return}t.ModifyPasswordByTel({},n.data,function(n){n.Success?i.open("信息提示","修改成功。",!0,r):i.open("信息提示",n.Message,!1)})}}]);controllers.controller("FreeCourseCtrl",["$scope","$modal","$state",function(n){var f,e,o,s;n.theid=angular.element("#data_id").val();var t=angular.element("#data_type").val(),i=angular.element("#data_isdescending").val(),r=angular.element("#data_iscategory").val(),u=angular.element("#data_TotalPages").val();n.pageindex=angular.element("#data_pageindex").val();n.theselectindex="";n.thetype=t=="null"?1:parseInt(t);n.thedescending=i=="null"?!0:i=="true"?!0:!1;n.theiscategory=r=="null"?!0:r=="true"?!0:!1;n.gotolink=function(){n.pageindex=1;window.location.href=n.theid=="null"||n.theid=="00000000-0000-0000-0000-000000000000"?"/online/free?type="+n.thetype+"&isdescending="+n.thedescending+"&pageindex="+n.pageindex+"&isCategory="+n.theiscategory:"/online/free?categoryid="+n.theid+"&type="+n.thetype+"&isdescending="+n.thedescending+"&pageindex="+n.pageindex+"&isCategory="+n.theiscategory};n.clicktype=function(t){n.pageindex=1;n.thetype==t&&(n.thedescending=!n.thedescending);n.thetype=t;n.gotolink()};n.gotoall=function(){n.pageindex=1;n.theiscategory=!0;window.location.href="/online/free?type="+n.thetype+"&isdescending="+n.thedescending+"&pageindex="+n.pageindex+"&isCategory="+n.theiscategory};n.gotocategory=function(t){n.pageindex=1;n.theid=t;n.theiscategory=!0;window.location.href="/online/free?categoryid="+n.theid+"&type="+n.thetype+"&isdescending="+n.thedescending+"&pageindex="+n.pageindex+"&isCategory="+n.theiscategory};n.gotpproduct=function(t){n.pageindex=1;n.theid=t;n.theiscategory=!1;window.location.href="/online/free?categoryid="+n.theid+"&type="+n.thetype+"&isdescending="+n.thedescending+"&pageindex="+n.pageindex+"&isCategory="+n.theiscategory};n.goto=function(t){n.pageindex=t;window.location.href=n.theid=="null"||n.theid=="00000000-0000-0000-0000-000000000000"?"/online/free?type="+n.thetype+"&isdescending="+n.thedescending+"&pageindex="+n.pageindex+"&isCategory="+n.theiscategory:"/online/free?categoryid="+n.theid+"&type="+n.thetype+"&isdescending="+n.thedescending+"&pageindex="+n.pageindex+"&isCategory="+n.theiscategory};n.gototheindex=function(){parseInt(n.theselectindex)!=n.theselectindex?(n.pageindex=1,n.gotolink()):parseInt(n.theselectindex)>parseInt(u)?(n.pageindex=parseInt(u),n.gotolink()):parseInt(n.theselectindex)<=0?(n.pageindex=1,n.gotolink()):(n.pageindex=n.theselectindex,n.gotolink())};$(".thehoverbutton:gt(0)").hover(function(){$(this).find(".floatcategpry").css("display","block");f($(this))},function(){$(this).find(".floatcategpry").css("display","none");e($(this))});f=function(n){n.find(".small_category").css("background-color")=="rgb(193, 24, 31)"||n.find(".small_category").css("background-color","#e3e3e3")};e=function(n){n.find(".small_category").css("background-color")=="rgb(227, 227, 227)"&&n.find(".small_category").css("background-color","white")};$(".thehoverbutton:first").hover(function(){$(this).find(".small_category").css("background-color")=="rgb(193, 24, 31)"||$(this).find(".small_category").css("background-color","#e3e3e3")},function(){$(this).find(".small_category").removeAttr("style")});$(".floatsecond .secsp").hover(function(){$(this).parent().siblings(".floatthird").css("display","none");$("#"+$(this).attr("id")+"_id").css("display","block");o($(this))},function(){});o=function(n){var i,t;if(n.css("border-bottom-color")!="rgb(193, 24, 31)"){for(i=n.siblings(".secsp"),t=0;t<i.length;t++)$(i[t]).css("border-bottom-color")!="rgb(193, 24, 31)"&&$(i[t]).css("border","none");n.css("border-bottom","2px solid #e3e3e3")}};s=function(n){n.removeAttr("style");$(".floatsecond .secsp").removeAttr("style")};$(".floatsecond .firsp").hover(function(){$(this).css("border-bottom-color")=="rgb(193, 24, 31)"||$(this).css("border-bottom","2px solid #e3e3e3")},function(){$(this).removeAttr("style")});$(".floatthird .secsp").hover(function(){var t,n;if($(this).css("border-bottom-color")!="rgb(193, 24, 31)"){for(t=$(this).siblings(".secsp,.firsp"),n=0;n<t.length;n++)$(t[n]).css("border-bottom-color")!="rgb(193, 24, 31)"&&$(t[n]).css("border","none");$(this).css("border-bottom","2px solid #e3e3e3")}},function(){});$(".floatthird .firsp").hover(function(){var t,n;if($(this).css("border-bottom-color")!="rgb(193, 24, 31)"){for(t=$(this).siblings(".secsp,.firsp"),n=0;n<t.length;n++)$(t[n]).css("border-bottom-color")!="rgb(193, 24, 31)"&&$(t[n]).css("border","none");$(this).css("border-bottom","2px solid #e3e3e3")}},function(){})}]);controllers.controller("GotoClassCtrl",["$scope","$modal","$state","$modalInstance","DownloadFileService","item",function(n,t,i,r,u,f){n.classlist=f;n.cancel=function(){r.close()}}]);controllers.controller("HomeCtrl",["$scope","$modal","$state","RecommendationService",function(n,t){var u=siteManager.CurrentSite,f=new SiteLocationType,o=f.ToName(u),e=angular.element("#data_lId").val(),i,r;console.log(u);n.QueryBuilder={Key:"",LocationId:""};n.myKeyup1=function(t){var i=window.event?t.keyCode:t.which;i==13&&n.goToDetail()};n.myKeyup2=function(t){var i=window.event?t.keyCode:t.which;i==13&&n.goToDetailsub()};n.escape=function(n){return encodeURIComponent(n)};i=window.location.protocol;r=window.location.host;n.goToDetail=function(){var t=i+"//"+r+"/offline/search?key="+encodeURIComponent(n.QueryBuilder.Key)+"&lId="+n.QueryBuilder.LocationId;linkTargetTo(t)};n.goToDetailsub=function(){var t=i+"//"+r+"/offline/search?key="+encodeURIComponent(n.QueryBuilder.Key)+"&lId="+e;linkTargetTo(t)};n.goDetail=function(t){var u=document.getElementById("hotWord_"+t).innerHTML,f=i+"//"+r+"/offline/search?key="+encodeURIComponent(u)+"&lId="+n.QueryBuilder.LocationId;window.open(f)};n.download=function(){var n=t.open({templateUrl:"/Client/Views/offlinecourseDownload.html",windowClass:"editProductCategoryDialog",controller:"OfflinecourseDownloadCtrl",backdrop:"static"});n.result.then(function(){})};n.selectedCateIndex=0;n.selectCate=function(t){n.selectedCateIndex=t}}]);controllers.controller("LiveDetailCtrl",["$scope",function(n){n.buyzero=function(){layer.open({type:1,content:$(".lf-qr-code-dialog"),area:["288px","353px"],title:!1,shadeClose:!0,skin:"yourclass"})}}]);controllers.controller("MessageBoxCtrl",["$scope","$state","$modal","$modalInstance","dialogData",function(n,t,i,r,u){n.model={IsError:u.IsError==!0?!0:!1,Message:u.Message,Title:u.Title};n.ok=function(){r.close()}}]);controllers.controller("MessageBoxSelectCtrl",["$scope","$state","$modal","$modalInstance","dialogData",function(n,t,i,r,u){n.model={IsError:u.IsError==!0?!0:!1,Message:u.Message,Title:u.Title};n.cancel=function(){r.close(!1)};n.ok=function(){r.close(!0)}}]);controllers.controller("MyOrderCtrl",["$scope","$modal","$state","OrderService","MessageBoxSelect",function(n,t,i,r,u){n.time=0;n.orderPage={pageIndex:1,pageSize:10};n.GetOrder=function(t){r.GetOrderList({TimeType:n.time,pageIndex:t,pageSize:n.orderPage.pageSize},{},function(i){n.orderPage.pageIndex=t;n.orderthing=i;n.Order=i.Records;angular.forEach(n.Order,function(n){n.BuyingType==1&&(n.BookingBag.time=n.BookingBag.MonthCount==1?"（月度订阅）":n.BookingBag.MonthCount==6?"（半年订阅）":n.BookingBag.MonthCount==12?"（年度订阅）":"（"+n.BookingBag.MonthCount+"月度订阅）")})})};n.GetOrder(1);n.type=function(n){return n==0?"在线课程":n==1?"线下课堂":n==2?"文档资料":"在线课程+线下课堂"};n.paystate=function(n){return n==0||n==3?"待支付":n==1?"已完成":n==2?"已取消":void 0};n.deleteorder=function(t){function i(){r.Delete({id:t},{},function(t){t.Success&&n.GetOrder(1)})}u.open("信息提示","确定要删除订单吗？",!1,i)};n.orderdetail=function(n){i.go("OrderDetail",{id:n})}}]);controllers.controller("NewTMCtrl",["$scope","$modal","$state","RecruitService","examModal","anchorScroll",function(n,t,i,r,u,f){var e=angular.element("#data_TMId").val(),s=angular.element("#data_Type").val(),h=angular.element("#data_courseidlist").val(),o;n.courseidlist=h.split(",");n.currentAbLevelIndex=1;o=function(){r.GetByTMId({tmId:e},{},function(t){n.TM=t})};s!="0"&&o();n.exam=function(){var t={Data:{TestObject:{IdList:n.courseidlist,Type:7,productid:e,path:$("#pathform").html()}},okClick:function(){}};u.open(t)};n.goto=function(n,t){var i=$("#id-titleList").css("position");i=="static"?t>1&&f.toView("#"+n,!0,85):f.toView("#"+n,!0,50)};n.setLevelTab=function(t,i){var f,r,u;for(n.currentAbLevelIndex=t,f=i+1,r=1;r<f;r++)$("#id-abLevel-"+r).removeClass("active"),u=document.getElementById("id-courseListTable-"+r),u.style.display="none";$("#id-abLevel-"+t).addClass("active");u=document.getElementById("id-courseListTable-"+t);u.style.display="block"};var c=function(){var t=document.getElementById("study_list"),i=document.getElementById("study_list_Relative"),n=i.getBoundingClientRect().top,r=t.getBoundingClientRect().top,u=document.body.clientHeight,f=document.getElementById("fixedbtn");t.style.opacity=n>=4e3?"0":n<=3500?"1":(4e3-n)/500;r>=n?(i.style.opacity="1",t.style.opacity="0"):(i.style.opacity="0",n>=4e3&&(t.style.opacity="0"))},l=function(){for(var u=6,f=1,i=1,e=-1e6,r,t,n=1;n<u;n++)r=document.getElementById("box-"+n),r!=null&&(t=r.getBoundingClientRect().bottom,t>e&&t<120&&(e=t,f=n));for(i=f,n=1;n<u;n++)document.getElementById("id-title"+n)!=null&&angular.element("#id-title"+n).removeClass("active");document.getElementById("id-title"+i)!=null&&angular.element("#id-title"+i).addClass("active")},a=function(){var n=$("#id-titleList"),t=n.attr("otop"),i;(t==undefined||t==0)&&(t=n.offset().top,n.attr("otop",t));i=Math.max(document.body.scrollTop||document.documentElement.scrollTop);i>=t?n.css("position")!="fixed"&&n.css({position:"fixed",top:0,width:"100%","z-index":2}):n.css("position")!="static"&&n.css({position:"static"});l()},v=function(){var i=$("#id-tableTitle-"+n.currentAbLevelIndex),f=document.getElementById("id-tableTitle-"+n.currentAbLevelIndex),r=$("#id-tableTitle-notdispaly-"+n.currentAbLevelIndex),e=document.getElementById("id-courseListTable-"+n.currentAbLevelIndex),o=$("#id-titleList"),s=e.getBoundingClientRect().bottom,h=f.getBoundingClientRect().top,t,u;i.attr("otossp",h);t=i.attr("otop");(t==undefined||t==0)&&(t=i.offset().top,o.css("position")=="fixed"&&(t=t+40),i.attr("otop",t));u=Math.max(document.body.scrollTop||document.documentElement.scrollTop);u>=t&&s>=84?(i.css("position")!="fixed"&&i.css({position:"fixed","margin-top":"-"+(t-80)+"px","z-index":2,width:"1200px","margin-left":"-1px"}),r.css({display:"block"})):i.css("position")!="static"&&(r.css({display:"none"}),i.css({position:"static","margin-top":"0px"}))};window.onscroll=function(){c();a();v()}}]);controllers.controller("NewT_OfficeCtrl",["$scope","$modal","$state","RecruitService","examModal","anchorScroll",function(n,t,i,r,u,f){var e=angular.element("#data_TMId").val(),a=angular.element("#data_Type").val(),o=angular.element("#data_courseidlist").val();n.courseidlist=o.split(",");n.currentAbLevelIndex=1;n.exam=function(){var t={Data:{TestObject:{IdList:n.courseidlist,Type:7,productid:e,path:$("#pathform").html()}},okClick:function(){}};u.open(t)};n.goto=function(n,t){var i=$("#id-titleList").css("position");i=="static"?t>1&&f.toView("#"+n,!0,85):f.toView("#"+n,!0,50)};n.setLevelTab=function(t,i){var f,r,u;for(n.currentAbLevelIndex=t,f=i+1,r=1;r<f;r++)$("#id-abLevel-"+r).removeClass("active"),u=document.getElementById("id-courseListTable-"+r),u.style.display="none";$("#id-abLevel-"+t).addClass("active");u=document.getElementById("id-courseListTable-"+t);u.style.display="block"};var s=function(){var t=document.getElementById("study_list"),i=document.getElementById("study_list_Relative"),n=i.getBoundingClientRect().top,r=t.getBoundingClientRect().top,u=document.body.clientHeight,f=document.getElementById("fixedbtn");t.style.opacity=n>=4e3?"0":n<=3500?"1":(4e3-n)/500;r>=n?(i.style.opacity="1",t.style.opacity="0"):(i.style.opacity="0",n>=4e3&&(t.style.opacity="0"))},h=function(){for(var u=6,f=1,i=1,e=-1e6,r,t,n=1;n<u;n++)r=document.getElementById("box-"+n),r!=null&&(t=r.getBoundingClientRect().bottom,t>e&&t<120&&(e=t,f=n));for(i=f,n=1;n<u;n++)document.getElementById("id-title"+n)!=null&&angular.element("#id-title"+n).removeClass("active");document.getElementById("id-title"+i)!=null&&angular.element("#id-title"+i).addClass("active")},c=function(){var n=$("#id-titleList"),t=n.attr("otop"),i;(t==undefined||t==0)&&(t=n.offset().top,n.attr("otop",t));i=Math.max(document.body.scrollTop||document.documentElement.scrollTop);i>=t?n.css("position")!="fixed"&&n.css({position:"fixed",top:0,width:"100%","z-index":2}):n.css("position")!="static"&&n.css({position:"static"});h()},l=function(){var i=$("#id-tableTitle-"+n.currentAbLevelIndex),f=document.getElementById("id-tableTitle-"+n.currentAbLevelIndex),r=$("#id-tableTitle-notdispaly-"+n.currentAbLevelIndex),e=document.getElementById("id-courseListTable-"+n.currentAbLevelIndex),o=$("#id-titleList"),s=e.getBoundingClientRect().bottom,h=f.getBoundingClientRect().top,t,u;i.attr("otossp",h);t=i.attr("otop");(t==undefined||t==0)&&(t=i.offset().top,o.css("position")=="fixed"&&(t=t+40),i.attr("otop",t));u=Math.max(document.body.scrollTop||document.documentElement.scrollTop);u>=t&&s>=84?(i.css("position")!="fixed"&&i.css({position:"fixed","margin-top":"-"+(t-80)+"px","z-index":2,width:"1200px","margin-left":"-1px"}),r.css({display:"block"})):i.css("position")!="static"&&(r.css({display:"none"}),i.css({position:"static","margin-top":"0px"}))};window.onscroll=function(){s();c();l()}}]);controllers.controller("OfficeindexCtrl",["$scope","$modal","$state",function(n){n.QueryBuilder={Key:"",LocationId:""};n.myKeyup=function(n){var t=window.event?n.keyCode:n.which;t==13&&document.getElementById("sousuo").click()};n.escape=function(n){return encodeURIComponent(n)};var t=window.location.protocol,i=window.location.host;n.goToDetail=function(){var r=t+"//"+i+"/offline/search?key="+encodeURIComponent(n.QueryBuilder.Key)+"&lId="+n.QueryBuilder.LocationId;window.open(r)};n.goDetail=function(r){var u=document.getElementById("hotWord_"+r).innerHTML,f=t+"//"+i+"/offline/search?key="+encodeURIComponent(u)+"&lId="+n.QueryBuilder.LocationId;window.open(f)}}]);controllers.controller("OfficeToolDetailCtrl",["$scope","FileService","MessageBox",function(n,t,i){n.download=function(n){t.GetFile({id:n},{},function(n){n.Success?linkTargetTo(n.Target):i.open("信息提示","文件下载失败。详细信息："+n.Message,!1)})};n.goto=function(n){linkTargetTo("/office/tooldetail/"+n)}}]);controllers.controller("OfflineCourseCtrl",["$scope","$modal","$state",function(n,t){n.QueryBuilder={Key:"",LocationId:""};n.myKeyup=function(n){var t=window.event?n.keyCode:n.which;t==13&&document.getElementById("sousuo1").click()};n.download=function(){var n=t.open({templateUrl:"/Client/Views/offlinecourseDownload.html",windowClass:"editProductCategoryDialog",controller:"OfflinecourseDownloadCtrl",backdrop:"static"});n.result.then(function(){})};n.escape=function(n){return encodeURIComponent(n)};var i=window.location.protocol,r=window.location.host;n.goToDetail=function(){var t=i+"//"+r+"/offline/search?key="+encodeURIComponent(n.QueryBuilder.Key)+"&lId="+n.QueryBuilder.LocationId;window.open(t)};n.goDetail=function(t){var u=document.getElementById("hotWord_"+t).innerHTML,f=i+"//"+r+"/offline/search?key="+encodeURIComponent(u)+"&lId="+n.QueryBuilder.LocationId;window.open(f)}}]);controllers.controller("OfflinecourseDownloadCtrl",["$scope","$modal","$state","$modalInstance","DownloadFileService",function(n,t,i,r,u){n.model={FileList:[],isloading:!0};var f=function(){u.GetByLocation({LocationName:"线下课堂"},{},function(t){n.model.isloading=!1;n.model.FileList=t})};n.download=function(n){var t=document.getElementById("web-download-link"),i;t==null&&(t=document.createElement("a"),t.setAttribute("id","web-download-link"),t.setAttribute("target","_blank"),t.setAttribute("display","none"),document.body.appendChild(t));t.setAttribute("href",n.FileUrl);i=document.createEvent("MouseEvents");i.initEvent("click",!0,!0);t.dispatchEvent(i)};n.cancel=function(){r.close()};f()}]);controllers.controller("OldIndexCtrl",["$scope","$modal","$state","ProductCategoryService","CourseService",function(n,t,i,r,u){n.getall=function(){r.GetCourseCategories({},{},function(t){n.CourseCategoryList=t})};n.getall();n.allcourse=function(){n.courselist=[];u.GetByKeyword({Keyword:"",isOld:!0},{},function(t){n.courselist=t})};n.allcourse();n.course=function(t){n.courselist=[];u.GetByCategoryId({id:t,isOld:!0},{},function(t){n.courselist=t})}}]);controllers.controller("OldNewTMCtrl",["$scope","$modal","$state","RecruitService","examModal","anchorScroll",function(n,t,i,r,u,f){var e=angular.element("#data_TMId").val(),s=angular.element("#data_Type").val(),h=angular.element("#data_courseidlist").val(),o;n.courseidlist=h.split(",");n.currentAbLevelIndex=1;o=function(){r.GetByTMId({tmId:e},{},function(t){n.TM=t})};s!="0"&&o();n.exam=function(){var t={Data:{TestObject:{IdList:n.courseidlist,Type:7,productid:e,path:$("#pathform").html()}},okClick:function(){}};u.open(t)};n.goto=function(n,t){var i=$("#id-titleList").css("position");i=="static"?t>1&&f.toView("#"+n,!0,85):f.toView("#"+n,!0,50)};var c=function(){var t=document.getElementById("study_list"),i=document.getElementById("study_list_Relative"),n=i.getBoundingClientRect().top,r=t.getBoundingClientRect().top,u=document.body.clientHeight,f=document.getElementById("fixedbtn");t.style.opacity=n>=4e3?"0":n<=3500?"1":(4e3-n)/500;r>=n?(i.style.opacity="1",t.style.opacity="0"):(i.style.opacity="0",n>=4e3&&(t.style.opacity="0"))},l=function(){for(var u=6,f=1,i=1,e=-1e6,r,t,n=1;n<u;n++)r=document.getElementById("box-"+n),r!=null&&(t=r.getBoundingClientRect().bottom,t>e&&t<120&&(e=t,f=n));for(i=f,n=1;n<u;n++)document.getElementById("id-title"+n)!=null&&angular.element("#id-title"+n).removeClass("active");document.getElementById("id-title"+i)!=null&&angular.element("#id-title"+i).addClass("active")},a=function(){var n=$("#id-titleList"),t=n.attr("otop"),i;(t==undefined||t==0)&&(t=n.offset().top,n.attr("otop",t));i=Math.max(document.body.scrollTop||document.documentElement.scrollTop);i>=t?n.css("position")!="fixed"&&n.css({position:"fixed",top:0,width:"100%","z-index":2}):n.css("position")!="static"&&n.css({position:"static"});l()},v=function(){var t=$("#id-tableTitle"),u=document.getElementById("id-tableTitle"),i=$("#id-tableTitle-notdispaly"),f=document.getElementById("id-courseListTable"),e=$("#id-titleList"),o=f.getBoundingClientRect().bottom,s=u.getBoundingClientRect().top,n,r;t.attr("otossp",s);n=t.attr("otop");(n==undefined||n==0)&&(n=t.offset().top,e.css("position")=="fixed"&&(n=n+40),t.attr("otop",n));r=Math.max(document.body.scrollTop||document.documentElement.scrollTop);r>=n&&o>=84?(t.css("position")!="fixed"&&t.css({position:"fixed","margin-top":"-"+(n-80)+"px","z-index":2,width:"1200px","margin-left":"-1px"}),i.css({display:"block"})):t.css("position")!="static"&&(i.css({display:"none"}),t.css({position:"static","margin-top":"0px"}))};window.onscroll=function(){c();a();v()}}]);controllers.controller("OnlineCourseCtrl",["$scope","$modal","$state",function(n){var f,e,o,s;n.theid=angular.element("#data_id").val();var t=angular.element("#data_type").val(),i=angular.element("#data_isdescending").val(),r=angular.element("#data_iscategory").val(),u=angular.element("#data_TotalPages").val();n.pageindex=angular.element("#data_pageindex").val();n.theselectindex="";n.thetype=t=="null"?1:parseInt(t);n.thedescending=i=="null"?!0:i=="true"?!0:!1;n.theiscategory=r=="null"?!0:r=="true"?!0:!1;n.gotolink=function(){n.pageindex=1;window.location.href=n.theid=="null"||n.theid=="00000000-0000-0000-0000-000000000000"?"/online?type="+n.thetype+"&isdescending="+n.thedescending+"&pageindex="+n.pageindex+"&isCategory="+n.theiscategory:"/online?categoryid="+n.theid+"&type="+n.thetype+"&isdescending="+n.thedescending+"&pageindex="+n.pageindex+"&isCategory="+n.theiscategory};n.clicktype=function(t){n.pageindex=1;n.thetype==t&&(n.thedescending=!n.thedescending);n.thetype=t;n.gotolink()};n.gotoall=function(){n.pageindex=1;n.theiscategory=!0;window.location.href="/online?type="+n.thetype+"&isdescending="+n.thedescending+"&pageindex="+n.pageindex+"&isCategory="+n.theiscategory};n.gotocategory=function(t){n.pageindex=1;n.theid=t;n.theiscategory=!0;window.location.href="/online?categoryid="+n.theid+"&type="+n.thetype+"&isdescending="+n.thedescending+"&pageindex="+n.pageindex+"&isCategory="+n.theiscategory};n.gotpproduct=function(t){n.pageindex=1;n.theid=t;n.theiscategory=!1;window.location.href="/online?categoryid="+n.theid+"&type="+n.thetype+"&isdescending="+n.thedescending+"&pageindex="+n.pageindex+"&isCategory="+n.theiscategory};n.goto=function(t){n.pageindex=t;window.location.href=n.theid=="null"||n.theid=="00000000-0000-0000-0000-000000000000"?"/online?type="+n.thetype+"&isdescending="+n.thedescending+"&pageindex="+n.pageindex+"&isCategory="+n.theiscategory:"/online?categoryid="+n.theid+"&type="+n.thetype+"&isdescending="+n.thedescending+"&pageindex="+n.pageindex+"&isCategory="+n.theiscategory};n.gototheindex=function(){parseInt(n.theselectindex)!=n.theselectindex?(n.pageindex=1,n.gotolink()):parseInt(n.theselectindex)>parseInt(u)?(n.pageindex=parseInt(u),n.gotolink()):parseInt(n.theselectindex)<=0?(n.pageindex=1,n.gotolink()):(n.pageindex=n.theselectindex,n.goto(n.pageindex))};$(".flexslider").flexslider({directionNav:!0,pauseOnAction:!1});$(".thehoverbutton:gt(0)").hover(function(){$(this).find(".floatcategpry").css("display","block");f($(this))},function(){$(this).find(".floatcategpry").css("display","none");e($(this))});f=function(n){n.find(".small_category").css("background-color")=="rgb(193, 24, 31)"||n.find(".small_category").css("background-color","#e3e3e3")};e=function(n){n.find(".small_category").css("background-color")=="rgb(227, 227, 227)"&&n.find(".small_category").css("background-color","white")};$(".thehoverbutton:first").hover(function(){$(this).find(".small_category").css("background-color")=="rgb(193, 24, 31)"||$(this).find(".small_category").css("background-color","#e3e3e3")},function(){$(this).find(".small_category").removeAttr("style")});$(".floatsecond .secsp").hover(function(){$(this).parent().siblings(".floatthird").css("display","none");$("#"+$(this).attr("id")+"_id").css("display","block");o($(this))},function(){});o=function(n){var i,t;if(n.css("border-bottom-color")!="rgb(193, 24, 31)"){for(i=n.siblings(".secsp"),t=0;t<i.length;t++)$(i[t]).css("border-bottom-color")!="rgb(193, 24, 31)"&&$(i[t]).css("border","none");n.css("border-bottom","2px solid #e3e3e3")}};s=function(n){n.removeAttr("style");$(".floatsecond .secsp").removeAttr("style")};$(".floatsecond .firsp").hover(function(){$(this).css("border-bottom-color")=="rgb(193, 24, 31)"||$(this).css("border-bottom","2px solid #e3e3e3")},function(){$(this).removeAttr("style")});$(".floatthird .secsp").hover(function(){var t,n;if($(this).css("border-bottom-color")!="rgb(193, 24, 31)"){for(t=$(this).siblings(".secsp,.firsp"),n=0;n<t.length;n++)$(t[n]).css("border-bottom-color")!="rgb(193, 24, 31)"&&$(t[n]).css("border","none");$(this).css("border-bottom","2px solid #e3e3e3")}},function(){});$(".floatthird .firsp").hover(function(){var t,n;if($(this).css("border-bottom-color")!="rgb(193, 24, 31)"){for(t=$(this).siblings(".secsp,.firsp"),n=0;n<t.length;n++)$(t[n]).css("border-bottom-color")!="rgb(193, 24, 31)"&&$(t[n]).css("border","none");$(this).css("border-bottom","2px solid #e3e3e3")}},function(){})}]);controllers.controller("PositionCtrl",["$scope","$modal","$state","FileService",function(n,t){n.showvideo=function(n){var i=t.open({templateUrl:"/Client/Views/PositionVideo.html",windowClass:"intentionTestDialog",controller:"PositionVideoCtrl",backdrop:"static",resolve:{Url:function(){return n}}})}}]);controllers.controller("ProductCtrl",["$scope","$modal","$state","examModal","ProductService",function(n,t,i,r,u){var s=new RegExp("(^|&)id=([^&]*)(&|$)"),f=angular.element("#data_Id").val(),o=angular.element("#data_CourseId").val(),e;n.dataContainer={Categories:[],SelectCategory:null,Courses:[],Product:null,Summary:null};n.abilityTest=function(n){var i=t.open({templateUrl:"/Client/Views/DialogAbilityTest.html",windowClass:"abilityTestDialog",controller:"DialogAbilityTestCtrl",backdrop:"static",resolve:{dialogData:function(){return{ProductId:n}}}});i.result.then(function(){})};n.exam=function(){var n={Data:{TestObject:{IdList:[o],Type:6,productid:f}},okClick:function(){}};r.open(n)};e=function(){u.GetById({id:f},{},function(t){n.dataContainer.Product=t})};e()}]);controllers.controller("QuarterlyCtrl",["$scope","CourseService","ArticleService","VideoRecommendService","MarketingEventService",function(n,t,i,r,u){n.download=function(n){linkTargetTo(n)};var f=function(){r.GetHotPageList({pageIndex:1,pageSize:6,locationName:""},{},function(t){n.HotVideoList=t})},e=function(){t.GetLatestedOfflineCourse({pageIndex:1,pageSize:6},{},function(t){n.CoursePage=t})},o=function(){u.GetList({keyword:"",pageSize:6,pageIndex:1},{},function(t){n.LatestFreeClassNewsPage=t;angular.forEach(n.LatestFreeClassNewsPage.Records,function(n){if(n.TimeList!=null&&n.TimeList.length!=0){var t=n.TimeList.split(" ");n.TimeList=t[0]}})})};f();e();o()}]);controllers.controller("RecruitCtrl",["$scope","$modal","$state","RecruitService","TMProductService",function(n,t,i,r,u){var f=angular.element("#data_TMId").val(),e;n.Recruit=[];n.l="";e=25;n.pagerParams={pageIndex:1,totalPage:0,totalRecords:0};n.toInitPager=!1;n.turnToPage=function(t){n.pagerParams.pageIndex=t};n.toInitPager=!1;n.GetByKey=function(t){(t==undefined||t=="")&&(t=1);r.GetByKey({PageIndex:t,pageSize:e,tmId:f,keyword:n.l},{},function(t){n.Recruit=t.Records;n.pageInfo=t;n.hasRecruit=n.Recruit.length==0?!1:!0})};n.GetById=function(){u.GetById({id:f},{},function(t){n.tm=t})};n.GetByKey(1);n.GetById();n.detail=function(n){window.open("/recruit/detail?id="+n)}}]);controllers.controller("RedPacketModelCtrl",["$scope","$modal","$modalInstance","$state","items",function(n,t,i){n.close=function(){i.close()};jQuery(function(){alert("test");jQuery("#output").qrcode({width:128,height:128,text:"12345678"})})}]);controllers.controller("SelectCoursesCtrl",["$scope","$modal","$compile","$modalInstance","confirmModal","errorModal","ProductCategoryService","CourseService","guid","item",function(n,t,i,r,u,f,e,o,s,h){function l(t){var u=!0,l=!0,r={},a={theme:"vsStyle",expandLevel:1,beforeExpand:function(n,t){$("."+t,n).length&&l==!1||c(t)},onSelect:function(){}},f=function(t){return t="<tbody>"+t+"<\/tbody>",i(t)(n)},v=function(n,t){return'<tr id="'+s.newGuid()+'" pId="'+t+'" controller="true"><td style="text-align: left;" >'+n.Name+'<\/td><td ><button class="btn btn-primary btn-minier"  ng-click="select(\''+n.Id+"','"+t+'\')" style="float: right;" >选中<\/button><\/td><\/tr>'},y=function(n,t){return'<tr id="'+n.id+'" pId="'+t+'" haschild="true" controller="true"><td style="text-align: left;" controller="true">'+n.name+"<\/td><td><\/td><\/tr>"},h=function(){e.GetCourseCategories({},{},function(n){var i="";angular.forEach(n,function(n){i+=y(n,"")});u?(r=$("#"+t).treeTableNg(a,f(i)),u=!1):r.refresh(f(i))})},c=function(t){o.GetByCategoryId({id:t},{},function(u){var f="";angular.forEach(u,function(i){var r=!1;angular.forEach(n.model.SelectedCourseList,function(){for(var t=0;t<n.model.SelectedCourseList.length;t++)if(n.model.SelectedCourseList[t].Id==i.Id){r=!0;break}});r==!1&&(f+=v(i,t))});f=i(f)(n);r.addChilds(f)})};return h(),{Refresh:function(){h()},RefreshNode:function(n){c(n)}}}n.title="自定义路径";n.model={SelectedCourseList:h};var c=l("id-categoriesTree");n.refresh=function(){c.Refresh()};n.refreshNode=function(n){c.RefreshNode(n)};n.select=function(t,i){o.GetDetail({id:t},{},function(t){n.model.SelectedCourseList.push(t);n.refreshNode(i)})};n.DeleteFromCourseList=function(t){n.j=0;n.Index=0;angular.forEach(n.model.SelectedCourseList,function(i){i.Id==t.Id&&(n.Index=n.j);n.j=n.j+1});n.model.SelectedCourseList.splice(n.Index,1);n.refresh()};n.ok=function(){r.close(n.model.SelectedCourseList)};n.cancel=function(){r.close()}}]);controllers.controller("StudyCtrl",["$scope","$modal","$state","examModal","errorModal","FileService","StudyService","CourseService","CourseAskService","LikeService","ShoppingService","GeneralService","TeacherService","ArticleService","PaperService","MessageBox","MarketingEventService","examStudyModal","CourseRedPacketService",function($scope,$modal,$state,examModal,errorModal,FileService,StudyService,CourseService,CourseAskService,LikeService,ShoppingService,GeneralService,TeacherService,ArticleService,PaperService,MessageBox,MarketingEventService,examStudyModal,CourseRedPacketService){function getCookie(n,t){var r=t+n,i,u=new RegExp("(^| )"+r+"=([^;]*)(;|$)");return(i=document.cookie.match(u))?unescape(i[2]):null}function SetLikeRecord(){setCookie(currentCourseId,!0,$scope.userid)}function setCookie(n,t,i){var r=new Date,u;r.setTime(r.getTime()+2592e6);u=i+n;document.cookie=u+"="+escape(t)+";expires="+r.toGMTString()}var GetCaseArticles,GetCourseNews,GetCanwayNews,GetShareArticle,GetCanwayFreeClassArticle,GetNoticeArticles,updatePlayRecordInterval,test;$scope.addtoshoppingcardstatus=!1;$scope.QuestionListPageIndex=1;$scope.QuestionListPageSize=10;GeneralService.GetCurrentUser({},{},function(n){$scope.userid=n.UserID;initJPlayer()});$scope.commonUrl=angular.element("#commonUrl").val();var currentCourseId=angular.element("#data_CourseId").val(),isSelectedChapter=angular.element("#data_IsSelectedChapter").val(),isChapterHasVideo=angular.element("#data_IsChapterHasVideo").val(),currentVideoId=angular.element("#data_CurrentVideoId").val(),currentChapterId=angular.element("#data_CurrentChapterId").val(),currentChapterName=angular.element("#data_CurrentChapterName").val(),lastPlayPosition_DB=angular.element("#data_LastPlayPosition").val(),objectId=angular.element("#data_ObjectId").val(),chapteridliststring=angular.element("#data_ChapterIdList").val(),chapteridlist=chapteridliststring.split(","),haslogin=angular.element("#data_haslogin").val(),TimeInterval=Number(angular.element("#data_TimeInterval").val()),jsonStr=angular.element("#data-VideoList").val(),videoChapterList=eval(jsonStr),isBuy=angular.element("#data_isBuy").val(),currentPlayRate=1,theJPlayer=null,getPlaySetting=function(){var n=getCookie("PlaySetting","All");$scope.AutoPlayNext=n?n=="true"?!0:!1:!1};getPlaySetting();var cycleNumber=TimeInterval*1e3,cycleIndex=0,oldVideoPosition=0;$scope.CreateFootprint=function(){haslogin=="True"&&StudyService.CreateFootprint({courseId:currentCourseId},{},function(){})};$scope.CreateFootprint();$scope.ArticleDetail=function(n){window.location.href="/article/"+n};$scope.cotain="";$scope.letPeopleLogin=function(){MessageBox.open("信息提示","请先登录再进行观看。",!0)};$scope.buyToWatch=function(){MessageBox.open("信息提示","请购买后继续查看。",!0)};$scope.setcurrentchaptercolorinit=function(){currentChapterId!=null&&currentChapterId!=""&&(document.getElementById(currentChapterId).children[0].children[0].style.color="#008B45",document.getElementById(currentChapterId).children[0].children[0].style.fontWeight="500")};$scope.setcurrentchaptercolorinit();$scope.setcurrentchaptercolor=function(){document.getElementById(currentChapterId).children[0].children[2].style.color="#008B45";document.getElementById(currentChapterId).children[0].children[2].style.fontWeight="500"};$scope.setcurrentchaptercolorori=function(){document.getElementById(currentChapterId)!=null&&(document.getElementById(currentChapterId).children[0].children[2].style.color="white",document.getElementById(currentChapterId).children[0].children[2].style.fontWeight="300")};$scope.getProgress=function(){angular.forEach(chapteridlist,function(n){if(getCookie(n,$scope.userid)!=null&&getCookie(n,$scope.userid)!=""&&getCookie(n,$scope.userid)!=undefined){var i=getCookie(n,$scope.userid).split(",")[1],t=parseFloat(i).toFixed(1);t!=null&&t!=""&&t!=undefined&&(document.getElementById(n).children[1].children[0].innerHTML=t+"%")}})};var getChapterPlayRecord=function(n){var t={Position:0,Progress:0,NeedRecalculated:!0},i=angular.element("#data_chapterID_"+n).val();return i&&(t.Position=parseFloat(i.split("|")[0]),t.Progress=parseFloat(i.split("|")[1]),t.NeedRecalculated=t.Position==0&&t.Progress!=0),t},setChapterPlayRecord=function(n,t,i){var r=t+"|"+i;angular.element("#data_chapterID_"+n).val(r)},updatePlayRecord=function(){var n=angular.element("#data_VideoPositon").val(),t;n!=oldVideoPosition&&(oldVideoPosition=n,t={ChapterId:currentChapterId,VideoId:currentVideoId,CourseID:currentCourseId,Position:parseInt(angular.element("#data_VideoPositon").val()),Progress:parseInt(angular.element("#data_VideoPercent").val())},StudyService.UpdatePlayRecord({},t,function(){}))},bindJplayerEvent=function(){theJPlayer.bind($.jPlayer.event.timeupdate,function(n){var r,f;if(n.jPlayer.status.waitForPlay==!1){var i=n.jPlayer.status.currentTime,t=n.jPlayer.status.currentPercentAbsolute,u=i+","+t;t>0&&(setCookie(currentChapterId,u,$scope.userid),r=document.getElementById(currentChapterId),f=r.children[1].children[0].innerHTML=t.toFixed(1)+"%",angular.element("#data_VideoPositon").val(i),angular.element("#data_VideoPercent").val(t))}});theJPlayer.bind($.jPlayer.event.play,function(n){var i,t;window.console.log(n.jPlayer.status.duration);$("#jquery_jplayer_1").jPlayer("playbackRate",currentPlayRate);i=getChapterPlayRecord(currentChapterId);i.NeedRecalculated&&(t=n.jPlayer.status.duration*i.Progress*.01,t==0&&(t=1),setChapterPlayRecord(currentChapterId,t,i.Progress),theJPlayer.jPlayer("play",t))});theJPlayer.bind($.jPlayer.event.ended,function(){haslogin=="True"&&updatePlayRecord();$scope.AutoPlayNext&&$scope.playNext()});theJPlayer.on($.jPlayer.event.click,function(n){n.jPlayer.status.paused?theJPlayer.jPlayer("play"):theJPlayer.jPlayer("pause")})},initJPlayer=function(){$(document).ready(function(){if(isChapterHasVideo!=""){var n=getCookie(currentChapterId,$scope.userid);n=n!=null&&n!=""?parseFloat(n.split(",")[0]):parseFloat(lastPlayPosition_DB);FileService.GetVideo({Id:currentVideoId},{},function(t){if(t.Success){var i=t.Target;theJPlayer=$("#jquery_jplayer_1").jPlayer({ready:function(){$(this).jPlayer("setMedia",{title:currentChapterName,m4v:i,poster:"/Content/Images/videocover.png"}).jPlayer("play",n)},swfPath:"/Scripts/Jplayer/JS/jquery.jplayer.swf",solution:"html,flash",supplied:"m4v",size:{width:"853px",height:"479px",cssClass:"jp-video-360p"},useStateClassSkin:!0,autoBlur:!1,smoothPlayBar:!0,keyEnabled:!0,remainingDuration:!1,toggleDuration:!0})}else theJPlayer=$("#jquery_jplayer_1").jPlayer({ready:function(){$(this).jPlayer("setMedia",{title:currentChapterName,m4v:"",poster:"/Content/Images/videocover.png"})},swfPath:"/Scripts/Jplayer/JS/jquery.jplayer.swf",supplied:"m4v",solution:"html,flash",size:{width:"853px",height:"479px",cssClass:"jp-video-360p"},useStateClassSkin:!0,autoBlur:!1,smoothPlayBar:!0,keyEnabled:!0,remainingDuration:!1,toggleDuration:!0}),MessageBox.open("信息提示",t.Message,!0);bindJplayerEvent()})}else theJPlayer=$("#jquery_jplayer_1").jPlayer({ready:function(){$(this).jPlayer("setMedia",{title:"",m4v:"",poster:"/Content/Images/videocover.png"})},swfPath:"/Scripts/Jplayer/JS/jquery.jplayer.swf",supplied:"m4v",solution:"html,flash",size:{width:"853px",height:"479px",cssClass:"jp-video-360p"},useStateClassSkin:!0,autoBlur:!1,smoothPlayBar:!0,keyEnabled:!0,remainingDuration:!1,toggleDuration:!0}),bindJplayerEvent()});isChapterHasVideo==""&&($(".jp-jplayer img").attr("src","/Content/Images/videocover.png"),$("#jp_poster_0").css("display","block"));$(".jp-play-rate").hover(function(){$(".jp-play-rate ul").css("display","block")},function(){$(".jp-play-rate ul").css("display","none")});$(".jp-play-rate ul").on("click","li",function(){$(".jp-play-rate ul li").removeClass("selected");$(this).addClass("selected");var n=$(this).text(),t=parseFloat(n);currentPlayRate=t;$(".jp-play-rate span").html("倍速:"+n);$("#jquery_jplayer_1").jPlayer("playbackRate",t);$(".jp-play-rate ul").css("display","none")})},playVideo=function(n,t,i,r){r==100&&(r=0);theJPlayer.jPlayer("setMedia",{title:n,m4v:t,poster:"/Content/Images/videocover.png"}).jPlayer("play",r)},clearJPlayerMedia=function(){theJPlayer.jPlayer("clearMedia")},GetByCourseId=function(n){TeacherService.GetByCourseId({courseId:n},{},function(n){$scope.Teacher=n;$(document).ready(function(){function i(){$(".maonimen p").css("transition","all 1s ease 0s");$(".maonimen").addClass("fei");$(".zhentu img").attr("src",$scope.Teacher[n].PictureUrl);$(".produce").html("<div><span style='opacity:1;'>"+$scope.Teacher[n].User.Name+"&nbsp;讲师<\/span><\/div>");setTimeout(function(){$(".maonimen p").css("transition","none");$(".maonimen p").css("background-image","url("+$scope.Teacher[n].PictureUrl+")");$(".maonimen").removeClass("fei")},1e3)}var t=$scope.Teacher.length-1,n=0;$(".maonimen p").each(function(){var n=$(this).index()%4*100,t=parseInt($(this).index()/4)*100;$(this).css({left:n,top:t,"background-position":-n+"px "+-t+"px"})});$(".rightbut").click(function(){n<t?n++:n=0;i()});$(".leftbut").click(function(){n>0?n--:n=t;i()})})})};GetByCourseId(currentCourseId);$scope.playVideo=function(n,t,i,r){currentChapterName=n;currentVideoId=t;$scope.setcurrentchaptercolorori();currentChapterId=r;clearJPlayerMedia();$scope.setcurrentchaptercolor();FileService.GetVideo({Id:currentVideoId},{},function(t){if(t.Success){var r=t.Target,u=getChapterPlayRecord(currentChapterId);playVideo(n,r,i,u.Position)}else MessageBox.open("信息提示",t.Message,!0)})};$scope.playNext=function(){for(var i=-1,r=videoChapterList.length,u,t,n=0;n<r;n++)if(u=videoChapterList[n],u.Id==currentChapterId){i=n;break}i>-1&&i<r-1?(t=videoChapterList[i+1],t.IsTrialWatching||isBuy=="True"?$scope.playVideo(t.Name,t.Video.Id,"",t.Id):MessageBox.open("信息提示","可以试看的视频已经播完了，请购买后观看。",!0)):MessageBox.open("信息提示","所有视频已经播完了",!0)};$scope.exam=function(n){var t={Data:{TestObject:{IdList:[n],Type:3,CourseId:currentCourseId}},okClick:function(t){t.Success&&PaperService.GetCourseExamResult({sourceId:n,isCourse:!1},{},function(t){if(t.Success)var i=document.getElementById("test_"+n),r=i.children[2].children[0].innerHTML=t.Target+" %"})}};examModal.open(t)};$scope.examCourse=function(){var n=currentCourseId,t={Data:{TestObject:{IdList:[n],Type:8,CourseId:currentCourseId}},okClick:function(t){t.Success&&PaperService.GetCourseExamResult({sourceId:n,isCourse:!0},{},function(n){if(n.Success){var t=document.getElementById("id-courseExam");t.children[1].innerHTML=n.Target+"分"}})}};examStudyModal.open(t)};$scope.download=function(n){FileService.GetFile({id:n},{},function(n){var t,i;n.Success?(t=document.getElementById("web-download-link"),t==null&&(t=document.createElement("a"),t.setAttribute("id","web-download-link"),t.setAttribute("target","_blank"),t.setAttribute("display","none"),document.body.appendChild(t)),t.setAttribute("href",n.Target),i=document.createEvent("MouseEvents"),i.initEvent("click",!0,!0),t.dispatchEvent(i)):MessageBox.open("信息提示","文件下载失败。详细信息："+n.Message,!1)})};$scope.getlikeandasknumber=function(){CourseAskService.GetCourseQACount({courseId:currentCourseId},{},function(n){n.Success&&($scope.asknumber=n.Target)});LikeService.GetCoureseLikedCount({courseId:currentCourseId},{},function(n){n.Success&&($scope.likenumber=n.Target)})};$scope.getlikeandasknumber();$scope.likeit=function(){getCookie(currentCourseId,$scope.userid)==null&&(LikeService.ClickLike({courseId:currentCourseId},{},function(n){n.Success&&LikeService.GetCoureseLikedCount({courseId:currentCourseId},{},function(n){n.Success&&($scope.likenumber=n.Target)})}),setCookie(currentCourseId))};$scope.getnote=function(){haslogin=="True"&&StudyService.GetNote({courseID:currentCourseId},{},function(n){$scope.Note=n})};$scope.savenote=function(){if($scope.cotain==""||$scope.cotain==null){MessageBox.open("信息提示","您未输入笔记内容，请先输入笔记内容再保存",!0);return}(currentChapterName==""||currentChapterName==undefined)&&(currentChapterName="无主题");$scope.Noteandname={KnowledgeName:currentChapterName,Contain:$scope.cotain,CourseID:currentCourseId};StudyService.CreateNote({},$scope.Noteandname,function(n){n.Success&&($scope.getnote(),$scope.cotain="")})};$scope.deletenote=function(n){StudyService.DeleteNote({},n,function(n){n.Success&&$scope.getnote()})};$scope.GetLatestOfflineCourse=function(){CourseService.GetLatestedOfflineCourse({pageIndex:1,pageSize:5,locationId:null,courseId:currentCourseId},{},function(n){$scope.Course=n})};$scope.GetLatestOfflineCourse();GetCaseArticles=function(){ArticleService.GetCaseArticles({pageIndex:1,pageSize:5},{},function(n){$scope.CaseArticles=n})};GetCaseArticles();GetCourseNews=function(){ArticleService.GetArticlesByCateName({pageIndex:1,pageSize:5,cateName:"培训新闻"},{},function(n){$scope.CourseNewsLists=n})};GetCourseNews();GetCanwayNews=function(){ArticleService.GetArticlesByCateName({pageIndex:1,pageSize:5,cateName:"嘉为新闻"},{},function(n){$scope.CanwayNewsLists=n})};GetCanwayNews();GetShareArticle=function(){ArticleService.GetArticlesByCateName({pageIndex:1,pageSize:5,cateName:"原创文章分享"},{},function(n){$scope.ShareArticleLists=n})};GetShareArticle();GetCanwayFreeClassArticle=function(){MarketingEventService.GetList({keyword:"",pageSize:5,pageIndex:1},{},function(n){$scope.CanwayFreeClassArticle=n})};GetCanwayFreeClassArticle();GetNoticeArticles=function(){ArticleService.GetNoticeArticles({pageIndex:1,pageSize:5},{},function(n){$scope.NoticeArticles=n})};GetNoticeArticles();$scope.playSettingChange=function(){$scope.AutoPlayNext=!$scope.AutoPlayNext;$scope.AutoPlayNext?setCookie("PlaySetting","true","All"):setCookie("PlaySetting","false","All")};$scope.GetListByCourseId=function(n){CourseAskService.GetListByCourseId({courseId:currentCourseId,pageIndex:n,pageSize:$scope.QuestionListPageSize},{},function(n){$scope.QuestionList=n;$scope.QuestionListPageIndex=n.PageIndex;angular.forEach($scope.QuestionList.Records,function(n){n.istryingtoanswer=!1;n.answersheet={CourseID:currentCourseId,ParentID:n.ID,Content:""}})})};$scope.GetListByCourseId($scope.QuestionListPageIndex);$scope.quitanswer=function(n){n.istryingtoanswer=!1};$scope.answeronequestion=function(n){n.istryingtoanswer=!0};$scope.answerquestion=function(n){CourseAskService.Create({},n.answersheet,function(n){n.Success?(MessageBox.open("信息提示","您的回答已成功提交。",!1),$scope.GetListByCourseId($scope.QuestionListPageIndex)):MessageBox.open("信息提示","您的回答提交失败。详细信息："+n.Message,!0)})};$scope.askquestion="";$scope.SubmitQuestion=function(){if($scope.askquestion==undefined||$scope.askquestion==""){alert("未填写内容");return}$scope.QuestionModel={CourseID:currentCourseId,Content:$scope.askquestion};CourseAskService.Create({},$scope.QuestionModel,function(n){n.Success&&($scope.askquestion="",$scope.GetListByCourseId(1))})};$scope.addtocart=function(){$scope.addtoshoppingcardstatus!=!0&&($scope.addtoshoppingcardstatus=!0,$scope.carlist=[],$scope.sendcar={},$scope.sendcar.ObjectId=objectId,$scope.sendcar.CourseID=currentCourseId,$scope.sendcar.Type=0,$scope.carlist.push($scope.sendcar),ShoppingService.Add({},$scope.carlist,function(n){$scope.addtoshoppingcardstatus=!1;n.Success?MessageBox.open("信息提示","加入购物车成功,可在“我的学习中心-我的购物车”查看",!1):MessageBox.open("信息提示",n.Message,!0)}))};$scope.gotoShoppingCar=function(){window.location.href="/Order/Confirm/?id="+currentCourseId};haslogin=="True"&&(updatePlayRecordInterval=window.setInterval(function(){$scope.$apply(updatePlayRecord)},cycleNumber));$scope.item={url:"",code:""};$scope.RedPacket=function(){var n=$modal.open({templateUrl:"/Client/Views/RedPacketModal.html",controller:"RedPacketModelCtrl",backdrop:"static",resolve:{items:function(){return $scope.item}}});n.result.then(function(){})};$scope.openWindow=function(){test=layer.open({type:1,title:!1,closeBtn:0,area:"700px",skin:"layui-layer-nobg",shadeClose:!0,content:$("#test")})};$scope.close=function(){layer.close(test)};$scope.shareId="";$scope.shareUrl="";$scope.createShare=function(){CourseRedPacketService.CreateRedPacketShare({courseID:currentCourseId},{},function(n){n.Success&&($scope.shareId=n.Target,$scope.shareUrl=$scope.commonUrl+"Marketing/RedPocket?shareID="+$scope.shareId,jQuery("#output").qrcode({width:105,height:105,text:$scope.shareUrl}),$scope.openWindow())})};haslogin=="True"&&$scope.createShare()}]);controllers.controller("TMCtrl",["$scope","$modal","$state","RecruitService","examModal",function(n,t,i,r,u){var f=angular.element("#data_TMId").val(),o=angular.element("#data_Type").val(),s=angular.element("#data_courseidlist").val(),e;n.courseidlist=s.split(",");e=function(){r.GetByTMId({tmId:f},{},function(t){n.TM=t})};o!="0"&&e();n.exam=function(){var t={Data:{TestObject:{IdList:n.courseidlist,Type:7,productid:f,path:$("#pathform").html()}},okClick:function(){}};u.open(t)}}]);controllers.controller("confirm",["$scope","$modalInstance","options",function(n,t,i){n.model={Options:i};n.confirm=function(){t.close()};n.cancel=function(){t.dismiss("cancel")}}]);controllers.controller("error",["$scope","$modalInstance","errorList",function(n,t,i){n.errorList=i;n.confirm=function(){t.close()}}]);controllers.controller("ChangePasswordCtrl",["$scope","$modal","$state","$modalInstance","StudentService",function(n,t,i,r,u){n.title="修改密码";n.timer={};n.model={originalpassword:"",newpassword:"",time:0};n.ok=function(){n.param={OldPassword:n.model.originalpassword,NewPassword:n.model.newpassword,VerificationCode:n.model.code};n.model.newpassword!=""?n.model.newpassword==n.model.checkpassword?u.ChangePassword({},n.param,function(n){n.Success?(alert("修改成功"),r.close()):alert(n.Message)}):alert("两次密码不相同"):alert("密码不能为空")};n.cancel=function(){window.clearInterval(n.timer);r.close()}}]);controllers.controller("ChangeTelCtrl",["$scope","$modal","$state","$modalInstance","SMSService","StudentService","MessageBox",function(n,t,i,r,u,f,e){function o(t){return window.setInterval(function(){var i=0;t>0&&(i=Math.floor(t));i<=9&&(i="0"+i);$("#second_show").html("<s><\/s>"+i+"秒");t--;t==-2&&(window.clearInterval(n.timer),n.model.alreadygetcode=!1,n.$$phase||n.$apply())},1e3)}n.title="手机改绑";n.timer={};n.model={originaltel:"",newtel:"",code:"",alreadygetcode:!1,piccode:"",pickey:parseInt(Math.random()*1e8)};n.theimg={thesrc:sourceUrl+"captcha?r="+n.model.pickey};n.getcode=function(){if(n.model.newtel.match(/^\d{11}$/)){if(n.model.piccode.length!=4){e.open("信息提示","请输入图片验证码",!0);return}n.sent={Mobile:n.model.newtel,ClientId:"O2OPortal",PicKey:n.model.pickey,PicValue:n.model.piccode};u.SendSMS({},n.sent,function(t){t.Success?(n.model.alreadygetcode=!0,n.timer=o(60)):(e.open("信息提示",t.Message,!0),n.model.piccode="",n.changepic())})}else e.open("信息提示","手机号必须要11位数字",!0)};n.ok=function(){if(n.model.newtel.match(/^\d{8,}$/)){if(n.model.originaltel==n.model.newtel){e.open("信息提示","新号码与原号码相同，请重新输入",!0);return}n.change={NewPhone:n.model.newtel,OldPhone:n.model.originaltel,VerificationCode:n.model.code};f.ChangePhone({},n.change,function(t){t.Success?(window.location.href="/UpdateCookie/Update?Tel="+n.model.newtel,window.clearInterval(n.timer),r.close()):e.open("信息提示",t.Message,!0)})}else n.model.newtel==""?e.open("信息提示","新手机号不能为空",!0):e.open("信息提示","手机号必须要11位数字",!0)};n.cancel=function(){window.clearInterval(n.timer);r.close()};n.changepic=function(){n.model.pickey=parseInt(Math.random()*1e8);n.theimg={thesrc:sourceUrl+"captcha?r="+n.model.pickey}}}]);controllers.controller("ClassTestCtrl",["$scope","$modal","$state","MessageBox","StudentService","examModal",function(n,t,i,r,u,f){n.PaperID=angular.element("#test_PaperID").val();n.ClassID=angular.element("#test_ClassID").val();u.GetById({studentId:null},{},function(t){n.Studentmessage=t;n.classexamtest(n.PaperID)});n.classexamtest=function(i){var r,u;n.Studentmessage.Name==null||n.Studentmessage.Name==""?(r=t.open({templateUrl:"/Client/Views/UserCenter/NameBeforeExam.html",windowClass:"editProductCategoryDialog",controller:"NameBeforeExamCtrl",backdrop:"static",resolve:{item:function(){return n.Studentmessage}}}),r.result.then(function(t){if(t){var r={Data:{TestObject:{IdList:[i],Type:4,classId:n.ClassID}},okClick:function(t){n.classexamtestresult(t.ObjectID)}};f.open(r)}})):(u={Data:{TestObject:{IdList:[i],Type:4,classId:n.ClassID}},okClick:function(t){n.classexamtestresult(t.ObjectID)}},f.open(u))};n.classexamtestresult=function(n){var i=t.open({templateUrl:"/Client/Views/DialogExamResultNew.html",windowClass:"TestresultDialog",controller:"DialogExamResultNewCtrl",backdrop:"static",resolve:{item:function(){return n}}});i.result.then(function(){})}}]);controllers.controller("ConfirmBookingBagCtrl",["$scope","$modal","$state","ShoppingService","CouponsService","OrderService","MessageBox","BookingBagService",function(n,t,i,r,u,f,e,o){var h=angular.element("#data_Id").val(),c=angular.element("#data_rightid").val(),l,s,a;n.accept=!1;n.model={BookingBag:null,IsBookingBagLoading:!1};l=function(){document.getElementById("id-bookingBagLoading").style.display="";n.model.IsBookingBagLoading=!0};s=function(){n.model.IsBookingBagLoading=!1};n.loadBookingBagCourseList=function(){o.GetBagCoursesByID({bagId:h},{},function(t){n.model.BookingBag.CourseList=t;s()})};a=function(){l();o.GetBagDetailByID({bagId:h,rightId:c},{},function(t){n.model.BookingBag=t;n.model.BookingBag.DiscountRateString=n.model.BookingBag.DiscountRate<=0||n.model.BookingBag.DiscountRate>=1?"--":n.model.BookingBag.DiscountRate*10+"折";s()})};a();n.addOrderToPay=function(){var t={BuyingType:1,Payment:n.model.BookingBag.VipDiscount,RightId:c,BookingBag:{}};f.SubmitBookingBagOrder({},t,function(n){if(n.Success)if(n.Target=="OrderIsCompleted"){function t(){window.location.href="/usercenter/index#/myorder"}e.open("信息提示","您的订单已经完成。",!1,t)}else window.location.href="/Order/Pay/?orderId="+n.ObjectID;else e.open("信息提示","您提交的订单发生错误，详细原因："+n.Message,!0)})}}]);controllers.controller("ConfirmCourseCtrl",["$scope","$modal","$state","ShoppingService","CouponsService","OrderService","MessageBox","BookingBagService",function(n,t,i,r,u,f,e){var o=angular.element("#data_Id").val();n.accept=!1;n.model={CourseWare:null,IsCourseLoading:!1};var s=function(){document.getElementById("id-CourseLoading").style.display="";n.model.IsCourseLoading=!0},h=function(){n.model.IsCourseLoading=!1},c=function(){s();r.GetCourseWareById({courseId:o},{},function(t){n.model.CourseWare=t;n.model.CourseWare.DiscountRateString=n.model.CourseWare.DiscountRate>=1||n.model.CourseWare.DiscountRate<=0?"--":n.model.CourseWare.DiscountRate*10+"折";h()})};c();n.addOrderToPay=function(){var t={Payment:n.model.CourseWare.VipDiscount,BuyingType:0,WareList:[{CourseId:n.model.CourseWare.CourseID,Wares:[{CourseID:n.model.CourseWare.CourseID,ObjectId:n.model.CourseWare.CourseID,CourseName:n.model.CourseName}]}]};f.SubmitCourseOrder({},t,function(n){if(n.Success)if(n.Success)if(n.Target=="OrderIsCompleted"){function t(){window.location.href="/usercenter/index#/myorder"}e.open("信息提示","您的订单已经完成。",!1,t)}else window.location.href="/Order/Pay/?orderId="+n.ObjectID;else e.open("信息提示","您提交的订单发生错误，详细原因："+n.Message,!0);else e.open("提示",n.Message,!0)})}}]);controllers.controller("ConfirmCtrl",["$scope","$modal","$state","ShoppingService","CouponsService","OrderService","MessageBox","BookingBagService",function(n,t,i,r,u,f,e,o){var s=angular.element("#data_Id").val(),h=angular.element("#data_rightid").val();n.TotalPrice=0;n.PreferentialPrice=0;n.DiscountPrice=0;n.accept=!0;n.receipt=!1;n.DiscountAmount=0;n.IsSpecialInvoice=!1;n.InvoiceType="Plain";n.InvoiceContent="服务费";n.value="1";n.selectiemid=-1;n.invotype=1;n.isbookingbag=!1;n.isloadall=!1;n.GetSelectedWares=function(){h==null||h==""||h=="null"||h=="Null"?s==null||s==""||s=="null"||s=="Null"?r.GetSelectedWares({},{},function(t){var r,u,i;for(n.isloadall=!0,n.SelectedWares=t,r=0;r<t.length;r++)for(u=t[r].Wares,i=0;i<u.length;i++)n.TotalPrice=n.TotalPrice+u[i].OriginalPrice,n.DiscountPrice=n.DiscountPrice+u[i].BestPrice;n.PreferentialPrice=n.TotalPrice-n.DiscountPrice;n.initcoupon()}):r.GetWareById({WareObjectId:s},{},function(t){var r,u,i;for(n.isloadall=!0,n.SelectedWares=[],n.SelectedWares.push(t),r=0;r<n.SelectedWares.length;r++)for(u=n.SelectedWares[r].Wares,i=0;i<u.length;i++)n.TotalPrice=n.TotalPrice+u[i].OriginalPrice,n.DiscountPrice=n.DiscountPrice+u[i].BestPrice;n.PreferentialPrice=n.TotalPrice-n.DiscountPrice;n.initcoupon()}):(n.isbookingbag=!0,o.GetBagDetailByID({bagId:s,rightId:h},{},function(t){n.bookingbag=t;o.GetBagCoursesByID({bagId:s},{},function(t){n.isloadall=!0;n.bagcourselist=t;n.DiscountPrice=n.bookingbag.BuyingPrice;n.TotalPrice=n.bookingbag.BagPrice;n.PreferentialPrice=n.TotalPrice-n.DiscountPrice;n.initcoupon();n.bookingbag.time=n.bookingbag.MonthCount==1?"（月度订阅）":n.bookingbag.MonthCount==6?"（半年订阅）":n.bookingbag.MonthCount==12?"（年度订阅）":"（"+n.bookingbag.MonthCount+"月度订阅）"})}))};n.GetSelectedWares();n.GetCourseType=function(n){var t="";switch(n){case 0:t="在线课程";break;case 1:t="线下课堂";break;case 2:t="文档资料";break;case 3:t="在线课程+线下课堂";break;case 4:t="产品";break;default:t=""}return t};n.addToPay=function(){var t;if(n.receipt)if(n.IsSpecialInvoice){if(t=n.valid(),!t){checkValid($("#2header2"),"header2");checkValid($("#2TaxNumber2"),"TaxNumber2");checkValid($("#2comaddres2"),"comaddres2");checkValid($("#2comphone2"),"comphone2");checkValid($("#2bank2"),"bank2");checkValid($("#2account2"),"account2");checkValid($("#2address2"),"address2");checkValid($("#2rec2"),"rec2");checkValid($("#2phone2"),"phone2");return}}else if(t=n.valid(),!t){checkValid($("#1header1"),"header1");checkValid($("#1address1"),"address1");checkValid($("#1rec1"),"rec1");checkValid($("#1phone1"),"phone1");return}n.OrderModel={Code:n.Code,Payment:n.DiscountPrice-n.DiscountAmount,WareList:n.SelectedWares,CouponsId:n.CouponsId,IsInvoiced:n.receipt,IsUseCoupons:n.IsUseCoupons,Invoice:{Type:n.InvoiceType,InvoiceRemark:n.InvoiceRemark,Header:n.Header,Address:n.Address,RecipientName:n.RecipientName,Phone:n.Phone,Remark:n.Remark,Amount:n.DiscountPrice,CompanyName:n.CompanyName,NationalTaxNumber:n.NationalTaxNumber,CompanyAddress:n.CompanyAddress,CompanyTelephone:n.CompanyTelephone,OpeningBank:n.OpeningBank,OpeningBackAccount:n.OpeningBackAccount,InvoiceContent:n.InvoiceContent}};n.OrderModel.Payment=n.OrderModel.Payment.toFixed(2);n.OrderModel.Payment<0&&(n.OrderModel.Payment=0);f.SumbmitOrder({},n.OrderModel,function(n){if(n.Success)if(n.Target=="OrderIsCompleted"){function t(){window.location.href="/usercenter/index#/myorder"}e.open("信息提示","您的订单已经完成。",!1,t)}else window.location.href="/Order/Pay/?orderId="+n.ObjectID;else e.open("信息提示","您提交的订单发生错误，详细原因："+n.Message,!0)})};n.addBagToPay=function(){var t;if(n.receipt)if(n.IsSpecialInvoice){if(t=n.valid(),!t){checkValid($("#2header2"),"header2");checkValid($("#2TaxNumber2"),"TaxNumber2");checkValid($("#2comaddres2"),"comaddres2");checkValid($("#2comphone2"),"comphone2");checkValid($("#2bank2"),"bank2");checkValid($("#2account2"),"account2");checkValid($("#2address2"),"address2");checkValid($("#2rec2"),"rec2");checkValid($("#2phone2"),"phone2");return}}else if(t=n.valid(),!t){checkValid($("#1header1"),"header1");checkValid($("#1address1"),"address1");checkValid($("#1rec1"),"rec1");checkValid($("#1phone1"),"phone1");return}n.OrderModel={RightId:h,Code:n.Code,Payment:n.DiscountPrice-n.DiscountAmount,WareList:[],CouponsId:n.CouponsId,IsInvoiced:n.receipt,IsUseCoupons:n.IsUseCoupons,Invoice:{Type:n.InvoiceType,InvoiceRemark:n.InvoiceRemark,Header:n.Header,Address:n.Address,RecipientName:n.RecipientName,Phone:n.Phone,Remark:n.Remark,Amount:n.DiscountPrice,CompanyName:n.CompanyName,NationalTaxNumber:n.NationalTaxNumber,CompanyAddress:n.CompanyAddress,CompanyTelephone:n.CompanyTelephone,OpeningBank:n.OpeningBank,OpeningBackAccount:n.OpeningBackAccount,InvoiceContent:n.InvoiceContent}};n.OrderModel.Payment=n.OrderModel.Payment.toFixed(2);n.OrderModel.Payment<0&&(n.OrderModel.Payment=0);f.SubmitBookingBag({},n.OrderModel,function(n){if(n.Success)if(n.Target=="OrderIsCompleted"){function t(){window.location.href="/usercenter/index#/myorder"}e.open("信息提示","您的订单已经完成。",!1,t)}else window.location.href="/Order/Pay/?orderId="+n.ObjectID;else e.open("信息提示","您提交的订单发生错误，详细原因："+n.Message,!0)})};n.valid=function(){var u=!0,i,t,r;if(n.IsSpecialInvoice){for(i=$(".required2"),t=0;t<i.length;t++)if(r=i[t],$(r).val()==""){u=!1;break}}else for(i=$(".required"),t=0;t<i.length;t++)if(r=i[t],$(r).val()==""){u=!1;break}return u};n.getCommonInvoice=function(){n.IsSpecialInvoice=!1;n.InvoiceType="Plain"};n.getSpecialInvoice=function(){n.IsSpecialInvoice=!0;n.InvoiceType="Special"};n.CouponsType=1;n.Code="";n.CouponsId="00000000-0000-0000-0000-000000000000";n.initcoupon=function(){u.GetMyAvailableList({type:n.CouponsType,sum:n.DiscountPrice},{},function(t){t.length>0&&(n.CouponsList=t)})};n.changecouponType=function(){n.ResetCoupon();n.CouponsType!=0&&(n.CouponsList=[],u.GetMyAvailableList({type:n.CouponsType,sum:n.DiscountPrice},{},function(t){t.length>0&&(n.CouponsList=t,n.CouponsId=n.CouponsList[0].Id,n.ApplyCoupon())}))};n.IsUseCoupons=!1;n.CouponsId="00000000-0000-0000-0000-000000000000";n.ApplyCoupon=function(){if(n.CouponsType==0&&n.Code==""){alert("请输入优惠码");return}n.CouponsModel={Id:n.CouponsId,Type:n.CouponsType,CouponsCode:n.Code};u.ApplyCoupon({},n.CouponsModel,function(t){t.Success?(n.CouponsInfo=t.Target,n.CouponsId=n.CouponsInfo.Id,n.IsUseCoupons=!0,n.DiscountAmount=t.Target.DiscountAmount,n.selectiemid=angular.copy(n.CouponsInfo.Id)):(n.CouponsId="00000000-0000-0000-0000-000000000000",n.DiscountAmount=0,n.IsUseCoupons=!1,alert(t.Message))})};n.chanceInvoice=function(t){t=="1"&&n.getCommonInvoice();t=="2"&&n.getSpecialInvoice()};n.chanceInvoiceContent=function(){n.invotype==1?n.InvoiceContent="服务费":n.invotype==2?n.InvoiceContent="培训费":n.invotype==3&&(n.InvoiceContent="咨询费")};n.ResetCoupon=function(){n.IsUseCoupons=!1;n.Code="";n.CouponsId="00000000-0000-0000-0000-000000000000";n.DiscountAmount=0}}]);controllers.controller("ConfirmCurrencyCtrl",["$scope","$modal","$state","ShoppingService","CouponsService","OrderService","MessageBox","BookingBagService",function(n,t,i,r,u,f,e){n.model={CurrencyCount:1,Accept:!1};n.verifyCurrencyCount=function(){return n.model.CurrencyCount==undefined||n.model.CurrencyCount==null||n.model.CurrencyCount==undefined||isNaN(n.model.CurrencyCount)||n.model.CurrencyCount<=0?!1:!0};n.addOrderToPay=function(){if(n.verifyCurrencyCount()==!0){var t={Payment:n.model.CurrencyCount,BuyingType:2};f.SubmitCurrencyOrder({},t,function(n){if(n.Success)if(n.Target=="OrderIsCompleted"){function t(){window.location.href="/usercenter/index#/myorder"}e.open("信息提示","您的订单已经完成。",!1,t)}else window.location.href="/Order/Pay/?orderId="+n.ObjectID;else e.open("信息提示","您提交的订单发生错误，详细原因："+n.Message,!0)})}}}]);controllers.controller("CredentialsDetailCtrl",["$scope","$modal","$state","$stateParams","CredentialsService",function(n,t,i,r,u){n.Id=r.Id;var f=function(){u.GetList({},{},function(t){n.Credentials=t})};f();n.open=function(i){i==0&&(n.EleApply=1);i==1&&(n.PaperApply=1);n.types=i;var r=t.open({backdrop:"static",templateUrl:"/Client/Views/UserCenter/CredentialsApply.html",controller:"CredentialsApplyCtrl",resolve:{types:function(){return n.types}}});r.result.then(function(){})}}]);controllers.controller("CredentialsApplyCtrl",["$scope","$modal","$modalInstance","$state","$stateParams","types","CredentialsService","MessageBox",function(n,t,i,r,u,f,e,o){n.types=f.type;n.time=new Date;n.model={ApplicantId:"",ApplicationTime:"",Type:n.types.type,RecipientEmail:"",Recipient:"",RecipientAddress:"",RecipientPhone:"",CourseId:f.courseid};n.cancel=function(){i.dismiss("cancel")};n.ok=function(){if(n.types.type=="0"&&(n.model.RecipientEmail==""||n.model.RecipientEmail==undefined)){alert("请输入正确的邮箱地址。");return}if(n.types.type=="1"&&(n.model.Recipient==""||n.model.RecipientAddress==""||n.model.RecipientPhone=="")){alert("信息不能为空。");return}e.CreateApply({},n.model,function(n){if(n.Success){function aaa(){i.dismiss("cancel")}o.open("信息提示","申请成功，请注意查收邮件",!1,aaa)}else o.open("信息提示",n.Message,!0,aaa)})}}]);controllers.controller("EnterpriseCertCtrl",["$scope","$modal","$state","StudentService",function(n,t,i,r){var u=angular.element("#code").val();n.isdoing=!0;n.content="";n.initall=function(){r.ValidateEnterpriseCert({code:u},{},function(t){t.Success?(n.isdoing=!1,n.content="认证成功"):(n.isdoing=!1,n.content=t.Message)})};n.initall()}]);controllers.controller("MyCouponCtrl",["$scope","$modal","$state","CouponsService",function(n,t,i,r){n.model={};n.model.State="1";n.model.Type="3";n.refresh=function(){r.GetMyList({state:n.model.State,type:n.model.Type},{},function(t){n.MyCoupon=t})};n.refresh(1,3)}]);controllers.controller("MyCredentialsCtrl",["$scope","$modal","$state","CredentialsService",function(n,t,i,r){n.gotoDetail=function(n){i.go("CredentialsDetail",{Id:n})};n.getListnotapply=function(){r.GetList({isApply:!1},{},function(t){n.notCredentials=t})};n.getListnotapply();n.getListapply=function(){r.GetList({isApply:!0},{},function(t){n.Credentials=t})};n.apply=function(i){n.typeandcourseid={type:0,courseid:i};var r=t.open({backdrop:"static",templateUrl:"/Client/Views/UserCenter/CredentialsApply.html",controller:"CredentialsApplyCtrl",resolve:{types:function(){return n.typeandcourseid}}});r.result.then(function(){n.getListnotapply()})}}]);controllers.controller("MyLearningCurrencyCtrl",["$scope","$modal","$state","LearningCurrencyService","StudentService","MessageBox",function(n,t,i,r,u){n.setactive(11);n.init=function(){n.sourceloading=!0;r.GetLearningCurrency({},{},function(t){n.sourceloading=!1;n.myLearningCurrencyList=t;angular.forEach(n.myLearningCurrencyList,function(n){n.EndTime=="2100-01-01"&&(n.EndTime="永久有效");n.alreadyused=n.Amount-n.Remain;n.alreadyused=Math.round(n.alreadyused*100)/100;n.state=n.Remain==0?"已使用":new Date(n.EndTime.replace(/-/g,"/"))<new Date?"已过期":"可使用"})});r.GetCurrencyInOrder({},{},function(t){n.myLearningCurrencyOrder=t});n.orderloading=!0;r.GetMyAllLearningCurrency({},{},function(t){n.orderloading=!1;t.Success&&(n.nameandcurrency=t)});u.GetPersonPromotion({},{},function(t){n.Promotion=t})};n.init();n.gotopick=function(){linkTargetTo("/online")};n.buyCurrency=function(){window.location.href="/Order/ConfirmCurrency"}}]);controllers.controller("MyLiveCtrl",["$scope","$modal","$state","LiveService","PublicLiveService",function(n,t,i,r,u){u.GetMyLiveList({},{},function(t){n.thelivelist=t;angular.forEach(n.thelivelist,function(n){(n.Cover==null||n.Cover=="")&&(n.Cover="/content/images/kechengtupian.png")})})}]);controllers.controller("MyMemberLevelCtrl",["$scope","$modal","$state","StudentService","VIPService","confirmModal","MessageBoxSelect","MessageBox",function(n,t,i,r,u,f,e,o){n.isrevalidate=!1;n.thecode="";n.init=function(){r.GetById({studentId:null},{},function(t){n.Studentmessage=t;n.Studentmessage.Vip.RightIntroduce!=null&&$("#vip_right").append(n.Studentmessage.Vip.RightIntroduce);n.Studentmessage.IsValidating&&(n.Studentmessage.VipEnterpriseLevel!=null||n.Studentmessage.VipEnterpriseLevel!="")&&(n.isrevalidate=!0);n.Studentmessage.IsValidating&&(document.getElementById("thealert").innerHTML="认证中...如未收到验证码，请重新确认您的邮件地址，或检查您的邮件拦截设置")})};n.init();n.Certification=function(){function t(){r.EnterpriseCertification({enterpriseName:n.Studentmessage.EnterpriseStringName,enterpriseEmail:n.Studentmessage.VipEnterpriseEmail},{},function(t){t.Success?r.Update({},n.Studentmessage,function(){document.getElementById("thealert").innerHTML="认证中...如未收到验证码，请重新确认您的邮件地址，或检查您的邮件拦截设置"}):(document.getElementById("thealert").innerHTML="",f.open({text:t.Message,okButtonText:"重试",dialogTitle:"哎呀，发送失败了...",confirmClick:function(){n.Certification()}}),n.disableall=!1)})}if(reg=/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/,!reg.test(n.Studentmessage.VipEnterpriseEmail)){alert("邮箱格式不正确");return}e.open("友情提醒","请确认您的邮箱是您的工作邮箱，我们将向此地址发送验证邮件，请注意查收",!1,t)};n.validatecode=function(){r.ValidateEnterpriseCert({code:n.thecode},{},function(t){t.Success?(o.open("信息提示","验证成功，恭喜您成为学领未来"+t.Message+"！",!1),r.GetById({studentId:null},{},function(t){n.Studentmessage=t;$("#VIPformgroup").css("display","block");n.thecode="";n.isrevalidate=!1;$("#vip_right").empty();n.Studentmessage.Vip.RightIntroduce!=null&&$("#vip_right").append(n.Studentmessage.Vip.RightIntroduce)}),document.getElementById("thealert").innerHTML=""):f.open({text:t.Message,okButtonText:"重试",dialogTitle:"哎呀，验证失败了...",confirmClick:function(){n.validatecode()}})})};n.revalidate=function(){function t(){u.UnBindVipEnterprise({},{},function(t){t.Success?(n.isrevalidate=!0,$("#VIPformgroup").css("display","none"),document.getElementById("thealert").innerHTML="",$("#vip_right").empty(),n.init()):alert(t.Message)})}e.open("友情提醒","您是否确认需要加入新的企业会员？点击“确认”，将取消您之前的企业会员验证；点击“取消”，将维持您原有的企业会员验证。",!1,t)}}]);controllers.controller("MyMessageCtrl",["$scope","$modal","$state","NoticeService","MessageBoxSelect",function(n,t,i,r){n.model={search:""};n.PageSize=10;n.getmessage=function(t){r.GetMyNotices({pageIndex:t,pageSize:n.PageSize},{},function(t){n.AdvisorPageInfo=t;n.notice=t.Records;n.notice.length==0?n.notice=!1:n.hasAdvisor=!0})};n.getmessage(1);n.deletenotice=function(t){n.list=[];n.list.push(t);r.DeleteMyNotice({},n.list,function(t){t.Success?n.getmessage(n.AdvisorPageInfo.PageIndex):alert("data.Message")})}}]);controllers.controller("MySettingCtrl",["$scope","$modal","$state","VIPService","StudentService","GeneralService","SynchronousQuery","MessageBoxSelect","confirmModal","MessageBox","ngNotify",function(n,t,i,r,u,f,e,o,s,h,c){n.setactive(7);n.canAccountEdit=!1;n.disableall=!0;n.AccountTipShow=!1;n.model={Name:"",Id:""};n.emptymodel={Name:"",Id:""};n.thecode="";n.isrevalidate=!1;n.GetStudentmessage=function(){u.GetById({studentId:null},{},function(t){n.Studentmessage=t;n.originmessage=angular.copy(t);n.InitAccount=angular.copy(t).Account;n.oriUserName=angular.copy(t.Username);n.oriName=angular.copy(t.Name);f.GetAllLocation({},{},function(t){n.Location=t;angular.forEach(n.Location,function(t){t.Id==n.Studentmessage.ClassLocationWantedId&&(n.model=t)})});n.Studentmessage.IsValidating&&(n.Studentmessage.VipEnterpriseLevel!=null||n.Studentmessage.VipEnterpriseLevel!="")&&(n.isrevalidate=!0);n.Studentmessage.IsValidating&&(document.getElementById("thealert").innerHTML="认证中...如未收到验证码，请重新确认您的邮件地址，或检查您的邮件拦截设置")})};n.GetStudentmessage();n.Editall=function(){n.disableall=!n.disableall};n.getEnterprise=function(n){return e.SearchEnterprise(n)};n.submit=function(){if(n.Studentmessage.Email!=null&&n.Studentmessage.Email!=""&&(reg=/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/,!reg.test(n.Studentmessage.Email))){alert("邮箱格式不正确");return}if(n.Studentmessage.Account!=n.InitAccount&&n.Studentmessage.Account.length>7&&n.Studentmessage.Account.substring(0,7)=="Canway_"){alert("修改账号不能以'Canway_'开头");return}if(n.Studentmessage.Account==n.InitAccount||/^[a-zA-Z]*$/.test(n.Studentmessage.Account.charAt(0)))n.model==null?(n.Studentmessage.ClassLocationWanted="",n.Studentmessage.ClassLocationWantedId=""):(n.Studentmessage.ClassLocationWanted=n.model.Name,n.Studentmessage.ClassLocationWantedId=n.model.Id),n.Studentmessage.VipEnterpriseEmail=angular.copy(n.originmessage.VipEnterpriseEmail),u.Update({},n.Studentmessage,function(t){t.Success?n.oriUserName!=n.Studentmessage.Username||n.oriName!=n.Studentmessage.Name?location.reload():(n.disableall=!n.disableall,n.originmessage=angular.copy(n.Studentmessage),c.config({theme:"pure",position:"top",duration:3e3,type:"info",sticky:!1,button:!0,html:!1}),c.set("修改成功！","success")):alert(t.Message)});else{alert("修改账号需要以英文字母开头");return}};n.changeall=function(){n.disableall=!n.disableall;n.canAccountEdit=n.Studentmessage.Account.length>7?n.Studentmessage.Account.substring(0,7)=="Canway_"?!0:!1:!1};n.cancel=function(){n.disableall=!0;n.Studentmessage=angular.copy(n.originmessage)};n.changetel=function(){var i=t.open({templateUrl:"/Client/Views/UserCenter/ChangeTel.html",windowClass:"editProductCategoryDialog",controller:"ChangeTelCtrl",backdrop:"static"});i.result.then(function(){n.GetStudentmessage()})};n.changepassword=function(){var n=t.open({templateUrl:"/Client/Views/UserCenter/ChangePassword.html",windowClass:"editProductCategoryDialog",controller:"ChangePasswordCtrl",backdrop:"static"});n.result.then(function(){})};n.blur=function(){n.AccountTipShow=!1};n.focus=function(){n.AccountTipShow=!0};n.Certification=function(){function t(){u.EnterpriseCertification({enterpriseName:n.Studentmessage.EnterpriseStringName,enterpriseEmail:n.Studentmessage.VipEnterpriseEmail},{},function(t){t.Success?(n.originmessage.EnterpriseStringName=angular.copy(n.Studentmessage.EnterpriseStringName),n.originmessage.Department=angular.copy(n.Studentmessage.Department),n.originmessage.VipEnterpriseEmail=angular.copy(n.Studentmessage.VipEnterpriseEmail),u.UpdateSecond({},n.originmessage,function(){document.getElementById("thealert").innerHTML="认证中...如未收到验证码，请重新确认您的邮件地址，或检查您的邮件拦截设置"})):(document.getElementById("thealert").innerHTML="",s.open({text:t.Message,okButtonText:"重试",dialogTitle:"哎呀，发送失败了...",confirmClick:function(){n.Certification()}}),n.disableall=!1)})}if(reg=/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/,!reg.test(n.Studentmessage.VipEnterpriseEmail)){alert("邮箱格式不正确");return}o.open("友情提醒","请确认您的邮箱是您的工作邮箱，我们将向此地址发送验证邮件，请注意查收",!1,t)};n.validatecode=function(){u.ValidateEnterpriseCert({code:n.thecode},{},function(t){t.Success?(h.open("信息提示","验证成功，恭喜您成为学领未来"+t.Message+"！",!1),u.GetById({studentId:null},{},function(t){n.originmessage=angular.copy(t);n.Studentmessage.VipEnterpriseLevel=angular.copy(n.originmessage.VipEnterpriseLevel);n.Studentmessage.VipEnterpriseEmail=angular.copy(n.originmessage.VipEnterpriseEmail);$("#VIPformgroup").css("display","block");n.thecode="";n.isrevalidate=!1}),document.getElementById("thealert1").innerHTML=""):s.open({text:t.Message,okButtonText:"重试",dialogTitle:"哎呀，验证失败了...",confirmClick:function(){n.validatecode()}})})};n.revalidate=function(){function t(){r.UnBindVipEnterprise({},{},function(t){t.Success?(n.isrevalidate=!0,$("#VIPformgroup").css("display","none"),document.getElementById("thealert").innerHTML=""):alert(t.Message)})}o.open("友情提醒","您是否确认需要加入新的企业会员？点击“确认”，将取消您之前的企业会员验证；点击“取消”，将维持您原有的企业会员验证。",!1,t)}}]);controllers.controller("MyStepCtrl",["$scope","$modal","$state","ClassService","StudentService",function(n,t,i,r,u){var f={reindeer:"path://M-22.788,24.521c2.08-0.986,3.611-3.905,4.984-5.892 c-2.686,2.782-5.047,5.884-9.102,7.312c-0.992,0.005-0.25-2.016,0.34-2.362l1.852-0.41c0.564-0.218,0.785-0.842,0.902-1.347 c2.133-0.727,4.91-4.129,6.031-6.194c1.748-0.7,4.443-0.679,5.734-2.293c1.176-1.468,0.393-3.992,1.215-6.557 c0.24-0.754,0.574-1.581,1.008-2.293c-0.611,0.011-1.348-0.061-1.959-0.608c-1.391-1.245-0.785-2.086-1.297-3.313 c1.684,0.744,2.5,2.584,4.426,2.586C-8.46,3.012-8.255,2.901-8.04,2.824c6.031-1.952,15.182-0.165,19.498-3.937 c1.15-3.933-1.24-9.846-1.229-9.938c0.008-0.062-1.314-0.004-1.803-0.258c-1.119-0.771-6.531-3.75-0.17-3.33 c0.314-0.045,0.943,0.259,1.439,0.435c-0.289-1.694-0.92-0.144-3.311-1.946c0,0-1.1-0.855-1.764-1.98 c-0.836-1.09-2.01-2.825-2.992-4.031c-1.523-2.476,1.367,0.709,1.816,1.108c1.768,1.704,1.844,3.281,3.232,3.983 c0.195,0.203,1.453,0.164,0.926-0.468c-0.525-0.632-1.367-1.278-1.775-2.341c-0.293-0.703-1.311-2.326-1.566-2.711 c-0.256-0.384-0.959-1.718-1.67-2.351c-1.047-1.187-0.268-0.902,0.521-0.07c0.789,0.834,1.537,1.821,1.672,2.023 c0.135,0.203,1.584,2.521,1.725,2.387c0.102-0.259-0.035-0.428-0.158-0.852c-0.125-0.423-0.912-2.032-0.961-2.083 c-0.357-0.852-0.566-1.908-0.598-3.333c0.4-2.375,0.648-2.486,0.549-0.705c0.014,1.143,0.031,2.215,0.602,3.247 c0.807,1.496,1.764,4.064,1.836,4.474c0.561,3.176,2.904,1.749,2.281-0.126c-0.068-0.446-0.109-2.014-0.287-2.862 c-0.18-0.849-0.219-1.688-0.113-3.056c0.066-1.389,0.232-2.055,0.277-2.299c0.285-1.023,0.4-1.088,0.408,0.135 c-0.059,0.399-0.131,1.687-0.125,2.655c0.064,0.642-0.043,1.768,0.172,2.486c0.654,1.928-0.027,3.496,1,3.514 c1.805-0.424,2.428-1.218,2.428-2.346c-0.086-0.704-0.121-0.843-0.031-1.193c0.221-0.568,0.359-0.67,0.312-0.076 c-0.055,0.287,0.031,0.533,0.082,0.794c0.264,1.197,0.912,0.114,1.283-0.782c0.15-0.238,0.539-2.154,0.545-2.522 c-0.023-0.617,0.285-0.645,0.309,0.01c0.064,0.422-0.248,2.646-0.205,2.334c-0.338,1.24-1.105,3.402-3.379,4.712 c-0.389,0.12-1.186,1.286-3.328,2.178c0,0,1.729,0.321,3.156,0.246c1.102-0.19,3.707-0.027,4.654,0.269 c1.752,0.494,1.531-0.053,4.084,0.164c2.26-0.4,2.154,2.391-1.496,3.68c-2.549,1.405-3.107,1.475-2.293,2.984 c3.484,7.906,2.865,13.183,2.193,16.466c2.41,0.271,5.732-0.62,7.301,0.725c0.506,0.333,0.648,1.866-0.457,2.86 c-4.105,2.745-9.283,7.022-13.904,7.662c-0.977-0.194,0.156-2.025,0.803-2.247l1.898-0.03c0.596-0.101,0.936-0.669,1.152-1.139 c3.16-0.404,5.045-3.775,8.246-4.818c-4.035-0.718-9.588,3.981-12.162,1.051c-5.043,1.423-11.449,1.84-15.895,1.111 c-3.105,2.687-7.934,4.021-12.115,5.866c-3.271,3.511-5.188,8.086-9.967,10.414c-0.986,0.119-0.48-1.974,0.066-2.385l1.795-0.618 C-22.995,25.682-22.849,25.035-22.788,24.521z",plane:"path://M1.112,32.559l2.998,1.205l-2.882,2.268l-2.215-0.012L1.112,32.559z M37.803,23.96 c0.158-0.838,0.5-1.509,0.961-1.904c-0.096-0.037-0.205-0.071-0.344-0.071c-0.777-0.005-2.068-0.009-3.047-0.009 c-0.633,0-1.217,0.066-1.754,0.18l2.199,1.804H37.803z M39.738,23.036c-0.111,0-0.377,0.325-0.537,0.924h1.076 C40.115,23.361,39.854,23.036,39.738,23.036z M39.934,39.867c-0.166,0-0.674,0.705-0.674,1.986s0.506,1.986,0.674,1.986 s0.672-0.705,0.672-1.986S40.102,39.867,39.934,39.867z M38.963,38.889c-0.098-0.038-0.209-0.07-0.348-0.073 c-0.082,0-0.174,0-0.268-0.001l-7.127,4.671c0.879,0.821,2.42,1.417,4.348,1.417c0.979,0,2.27-0.006,3.047-0.01 c0.139,0,0.25-0.034,0.348-0.072c-0.646-0.555-1.07-1.643-1.07-2.967C37.891,40.529,38.316,39.441,38.963,38.889z M32.713,23.96 l-12.37-10.116l-4.693-0.004c0,0,4,8.222,4.827,10.121H32.713z M59.311,32.374c-0.248,2.104-5.305,3.172-8.018,3.172H39.629 l-25.325,16.61L9.607,52.16c0,0,6.687-8.479,7.95-10.207c1.17-1.6,3.019-3.699,3.027-6.407h-2.138 c-5.839,0-13.816-3.789-18.472-5.583c-2.818-1.085-2.396-4.04-0.031-4.04h0.039l-3.299-11.371h3.617c0,0,4.352,5.696,5.846,7.5 c2,2.416,4.503,3.678,8.228,3.87h30.727c2.17,0,4.311,0.417,6.252,1.046c3.49,1.175,5.863,2.7,7.199,4.027 C59.145,31.584,59.352,32.025,59.311,32.374z M22.069,30.408c0-0.815-0.661-1.475-1.469-1.475c-0.812,0-1.471,0.66-1.471,1.475 s0.658,1.475,1.471,1.475C21.408,31.883,22.069,31.224,22.069,30.408z M27.06,30.408c0-0.815-0.656-1.478-1.466-1.478 c-0.812,0-1.471,0.662-1.471,1.478s0.658,1.477,1.471,1.477C26.404,31.885,27.06,31.224,27.06,30.408z M32.055,30.408 c0-0.815-0.66-1.475-1.469-1.475c-0.808,0-1.466,0.66-1.466,1.475s0.658,1.475,1.466,1.475 C31.398,31.883,32.055,31.224,32.055,30.408z M37.049,30.408c0-0.815-0.658-1.478-1.467-1.478c-0.812,0-1.469,0.662-1.469,1.478 s0.656,1.477,1.469,1.477C36.389,31.885,37.049,31.224,37.049,30.408z M42.039,30.408c0-0.815-0.656-1.478-1.465-1.478 c-0.811,0-1.469,0.662-1.469,1.478s0.658,1.477,1.469,1.477C41.383,31.885,42.039,31.224,42.039,30.408z M55.479,30.565 c-0.701-0.436-1.568-0.896-2.627-1.347c-0.613,0.289-1.551,0.476-2.73,0.476c-1.527,0-1.639,2.263,0.164,2.316 C52.389,32.074,54.627,31.373,55.479,30.565z",rocket:"path://M-244.396,44.399c0,0,0.47-2.931-2.427-6.512c2.819-8.221,3.21-15.709,3.21-15.709s5.795,1.383,5.795,7.325C-237.818,39.679-244.396,44.399-244.396,44.399z M-260.371,40.827c0,0-3.881-12.946-3.881-18.319c0-2.416,0.262-4.566,0.669-6.517h17.684c0.411,1.952,0.675,4.104,0.675,6.519c0,5.291-3.87,18.317-3.87,18.317H-260.371z M-254.745,18.951c-1.99,0-3.603,1.676-3.603,3.744c0,2.068,1.612,3.744,3.603,3.744c1.988,0,3.602-1.676,3.602-3.744S-252.757,18.951-254.745,18.951z M-255.521,2.228v-5.098h1.402v4.969c1.603,1.213,5.941,5.069,7.901,12.5h-17.05C-261.373,7.373-257.245,3.558-255.521,2.228zM-265.07,44.399c0,0-6.577-4.721-6.577-14.896c0-5.942,5.794-7.325,5.794-7.325s0.393,7.488,3.211,15.708C-265.539,41.469-265.07,44.399-265.07,44.399z M-252.36,45.15l-1.176-1.22L-254.789,48l-1.487-4.069l-1.019,2.116l-1.488-3.826h8.067L-252.36,45.15z",train:"path://M67.335,33.596L67.335,33.596c-0.002-1.39-1.153-3.183-3.328-4.218h-9.096v-2.07h5.371 c-4.939-2.07-11.199-4.141-14.89-4.141H19.72v12.421v5.176h38.373c4.033,0,8.457-1.035,9.142-5.176h-0.027 c0.076-0.367,0.129-0.751,0.129-1.165L67.335,33.596L67.335,33.596z M27.999,30.413h-3.105v-4.141h3.105V30.413z M35.245,30.413 h-3.104v-4.141h3.104V30.413z M42.491,30.413h-3.104v-4.141h3.104V30.413z M49.736,30.413h-3.104v-4.141h3.104V30.413z  M14.544,40.764c1.143,0,2.07-0.927,2.07-2.07V35.59V25.237c0-1.145-0.928-2.07-2.07-2.07H-9.265c-1.143,0-2.068,0.926-2.068,2.07 v10.351v3.105c0,1.144,0.926,2.07,2.068,2.07H14.544L14.544,40.764z M8.333,26.272h3.105v4.141H8.333V26.272z M1.087,26.272h3.105 v4.141H1.087V26.272z M-6.159,26.272h3.105v4.141h-3.105V26.272z M-9.265,41.798h69.352v1.035H-9.265V41.798z",ship:"path://M16.678,17.086h9.854l-2.703,5.912c5.596,2.428,11.155,5.575,16.711,8.607c3.387,1.847,6.967,3.75,10.541,5.375 v-6.16l-4.197-2.763v-5.318L33.064,12.197h-11.48L20.43,15.24h-4.533l-1.266,3.286l0.781,0.345L16.678,17.086z M49.6,31.84 l0.047,1.273L27.438,20.998l0.799-1.734L49.6,31.84z M33.031,15.1l12.889,8.82l0.027,0.769L32.551,16.1L33.031,15.1z M22.377,14.045 h9.846l-1.539,3.365l-2.287-1.498h1.371l0.721-1.352h-2.023l-0.553,1.037l-0.541-0.357h-0.34l0.359-0.684h-2.025l-0.361,0.684 h-3.473L22.377,14.045z M23.695,20.678l-0.004,0.004h0.004V20.678z M24.828,18.199h-2.031l-0.719,1.358h2.029L24.828,18.199z  M40.385,34.227c-12.85-7.009-25.729-14.667-38.971-12.527c1.26,8.809,9.08,16.201,8.213,24.328 c-0.553,4.062-3.111,0.828-3.303,7.137c15.799,0,32.379,0,48.166,0l0.066-4.195l1.477-7.23 C50.842,39.812,45.393,36.961,40.385,34.227z M13.99,35.954c-1.213,0-2.195-1.353-2.195-3.035c0-1.665,0.98-3.017,2.195-3.017 c1.219,0,2.195,1.352,2.195,3.017C16.186,34.604,15.213,35.954,13.99,35.954z M23.691,20.682h-2.02l-0.588,1.351h2.023 L23.691,20.682z M19.697,18.199l-0.721,1.358h2.025l0.727-1.358H19.697z",car:"path://M49.592,40.883c-0.053,0.354-0.139,0.697-0.268,0.963c-0.232,0.475-0.455,0.519-1.334,0.475 c-1.135-0.053-2.764,0-4.484,0.068c0,0.476,0.018,0.697,0.018,0.697c0.111,1.299,0.697,1.342,0.931,1.342h3.7 c0.326,0,0.628,0,0.861-0.154c0.301-0.196,0.43-0.772,0.543-1.78c0.017-0.146,0.025-0.336,0.033-0.56v-0.01 c0-0.068,0.008-0.154,0.008-0.25V41.58l0,0C49.6,41.348,49.6,41.09,49.592,40.883L49.592,40.883z M6.057,40.883 c0.053,0.354,0.137,0.697,0.268,0.963c0.23,0.475,0.455,0.519,1.334,0.475c1.137-0.053,2.762,0,4.484,0.068 c0,0.476-0.018,0.697-0.018,0.697c-0.111,1.299-0.697,1.342-0.93,1.342h-3.7c-0.328,0-0.602,0-0.861-0.154 c-0.309-0.18-0.43-0.772-0.541-1.78c-0.018-0.146-0.027-0.336-0.035-0.56v-0.01c0-0.068-0.008-0.154-0.008-0.25V41.58l0,0 C6.057,41.348,6.057,41.09,6.057,40.883L6.057,40.883z M49.867,32.766c0-2.642-0.344-5.224-0.482-5.507 c-0.104-0.207-0.766-0.749-2.271-1.773c-1.522-1.042-1.487-0.887-1.766-1.566c0.25-0.078,0.492-0.224,0.639-0.241 c0.326-0.034,0.345,0.274,1.023,0.274c0.68,0,2.152-0.18,2.453-0.48c0.301-0.303,0.396-0.405,0.396-0.672 c0-0.268-0.156-0.818-0.447-1.146c-0.293-0.327-1.541-0.49-2.273-0.585c-0.729-0.095-0.834,0-1.022,0.121 c-0.304,0.189-0.32,1.919-0.32,1.919l-0.713,0.018c-0.465-1.146-1.11-3.452-2.117-5.269c-1.103-1.979-2.256-2.599-2.737-2.754 c-0.474-0.146-0.904-0.249-4.131-0.576c-3.298-0.344-5.922-0.388-8.262-0.388c-2.342,0-4.967,0.052-8.264,0.388 c-3.229,0.336-3.66,0.43-4.133,0.576s-1.633,0.775-2.736,2.754c-1.006,1.816-1.652,4.123-2.117,5.269L9.87,23.109 c0,0-0.008-1.729-0.318-1.919c-0.189-0.121-0.293-0.225-1.023-0.121c-0.732,0.104-1.98,0.258-2.273,0.585 c-0.293,0.327-0.447,0.878-0.447,1.146c0,0.267,0.094,0.379,0.396,0.672c0.301,0.301,1.773,0.48,2.453,0.48 c0.68,0,0.697-0.309,1.023-0.274c0.146,0.018,0.396,0.163,0.637,0.241c-0.283,0.68-0.24,0.524-1.764,1.566 c-1.506,1.033-2.178,1.566-2.271,1.773c-0.139,0.283-0.482,2.865-0.482,5.508s0.189,5.02,0.189,5.86c0,0.354,0,0.976,0.076,1.565 c0.053,0.354,0.129,0.697,0.268,0.966c0.232,0.473,0.447,0.516,1.334,0.473c1.137-0.051,2.779,0,4.477,0.07 c1.135,0.043,2.297,0.086,3.33,0.11c2.582,0.051,1.826-0.379,2.928-0.36c1.102,0.016,5.447,0.196,9.424,0.196 c3.976,0,8.332-0.182,9.423-0.196c1.102-0.019,0.346,0.411,2.926,0.36c1.033-0.018,2.195-0.067,3.332-0.11 c1.695-0.062,3.348-0.121,4.477-0.07c0.886,0.043,1.103,0,1.332-0.473c0.132-0.269,0.218-0.611,0.269-0.966 c0.086-0.592,0.078-1.213,0.078-1.565C49.678,37.793,49.867,35.408,49.867,32.766L49.867,32.766z M13.219,19.735 c0.412-0.964,1.652-2.9,2.256-3.244c0.145-0.087,1.426-0.491,4.637-0.706c2.953-0.198,6.217-0.276,7.73-0.276 c1.513,0,4.777,0.078,7.729,0.276c3.201,0.215,4.502,0.611,4.639,0.706c0.775,0.533,1.842,2.28,2.256,3.244 c0.412,0.965,0.965,2.858,0.861,3.116c-0.104,0.258,0.104,0.388-1.291,0.275c-1.387-0.103-10.088-0.216-14.185-0.216 c-4.088,0-12.789,0.113-14.184,0.216c-1.395,0.104-1.188-0.018-1.291-0.275C12.254,22.593,12.805,20.708,13.219,19.735 L13.219,19.735z M16.385,30.511c-0.619,0.155-0.988,0.491-1.764,0.482c-0.775,0-2.867-0.353-3.314-0.371 c-0.447-0.017-0.842,0.302-1.076,0.362c-0.23,0.06-0.688-0.104-1.377-0.318c-0.688-0.216-1.092-0.155-1.316-1.094 c-0.232-0.93,0-2.264,0-2.264c1.488-0.068,2.928,0.069,5.621,0.826c2.693,0.758,4.191,2.213,4.191,2.213 S17.004,30.357,16.385,30.511L16.385,30.511z M36.629,37.293c-1.23,0.164-6.386,0.207-8.794,0.207c-2.412,0-7.566-0.051-8.799-0.207 c-1.256-0.164-2.891-1.67-1.764-2.865c1.523-1.627,1.24-1.576,4.701-2.023C24.967,32.018,27.239,32,27.834,32 c0.584,0,2.865,0.025,5.859,0.404c3.461,0.447,3.178,0.396,4.699,2.022C39.521,35.623,37.887,37.129,36.629,37.293L36.629,37.293z  M48.129,29.582c-0.232,0.93-0.629,0.878-1.318,1.093c-0.688,0.216-1.145,0.371-1.377,0.319c-0.231-0.053-0.627-0.371-1.074-0.361 c-0.448,0.018-2.539,0.37-3.313,0.37c-0.772,0-1.146-0.328-1.764-0.481c-0.621-0.154-0.966-0.154-0.966-0.154 s1.49-1.464,4.191-2.213c2.693-0.758,4.131-0.895,5.621-0.826C48.129,27.309,48.361,28.643,48.129,29.582L48.129,29.582z",run:"path://M13.676,32.955c0.919-0.031,1.843-0.008,2.767-0.008v0.007c0.827,0,1.659,0.041,2.486-0.019 c0.417-0.028,1.118,0.325,1.14-0.545c0.014-0.637-0.156-1.279-0.873-1.367c-1.919-0.241-3.858-0.233-5.774,0.019 c-0.465,0.062-0.998,0.442-0.832,1.069C12.715,32.602,13.045,32.977,13.676,32.955z M14.108,29.013 c1.47-0.007,2.96-0.122,4.414,0.035c1.792,0.192,3.1-0.412,4.273-2.105c-3.044,0-5.882,0.014-8.719-0.01 c-0.768-0.005-1.495,0.118-1.461,1C12.642,28.731,13.329,29.014,14.108,29.013z M23.678,36.593c-0.666-0.69-1.258-1.497-2.483-1.448 c-2.341,0.095-4.689,0.051-7.035,0.012c-0.834-0.014-1.599,0.177-1.569,1.066c0.031,0.854,0.812,1.062,1.636,1.043 c1.425-0.033,2.852-0.01,4.278-0.01v-0.01c1.562,0,3.126,0.008,4.691-0.005C23.614,37.239,24.233,37.174,23.678,36.593z  M32.234,42.292h-0.002c-1.075,0.793-2.589,0.345-3.821,1.048c-0.359,0.193-0.663,0.465-0.899,0.799 c-1.068,1.623-2.052,3.301-3.117,4.928c-0.625,0.961-0.386,1.805,0.409,2.395c0.844,0.628,1.874,0.617,2.548-0.299 c1.912-2.573,3.761-5.197,5.621-7.814C33.484,42.619,33.032,42.387,32.234,42.292z M43.527,28.401 c-0.688-1.575-2.012-0.831-3.121-0.895c-1.047-0.058-2.119,1.128-3.002,0.345c-0.768-0.677-1.213-1.804-1.562-2.813 c-0.45-1.305-1.495-2.225-2.329-3.583c2.953,1.139,4.729,0.077,5.592-1.322c0.99-1.61,0.718-3.725-0.627-4.967 c-1.362-1.255-3.414-1.445-4.927-0.452c-1.933,1.268-2.206,2.893-0.899,6.11c-2.098-0.659-3.835-1.654-5.682-2.383 c-0.735-0.291-1.437-1.017-2.293-0.666c-2.263,0.927-4.522,1.885-6.723,2.95c-1.357,0.658-1.649,1.593-1.076,2.638 c0.462,0.851,1.643,1.126,2.806,0.617c0.993-0.433,1.994-0.857,2.951-1.374c1.599-0.86,3.044-0.873,4.604,0.214 c1.017,0.707,0.873,1.137,0.123,1.849c-1.701,1.615-3.516,3.12-4.933,5.006c-1.042,1.388-0.993,2.817,0.255,4.011 c1.538,1.471,3.148,2.869,4.708,4.315c0.485,0.444,0.907,0.896-0.227,1.104c-1.523,0.285-3.021,0.694-4.538,1.006 c-1.109,0.225-2.02,1.259-1.83,2.16c0.223,1.07,1.548,1.756,2.687,1.487c3.003-0.712,6.008-1.413,9.032-2.044 c1.549-0.324,2.273-1.869,1.344-3.115c-0.868-1.156-1.801-2.267-2.639-3.445c-1.964-2.762-1.95-2.771,0.528-5.189 c1.394-1.357,1.379-1.351,2.437,0.417c0.461,0.769,0.854,1.703,1.99,1.613c2.238-0.181,4.407-0.755,6.564-1.331 C43.557,30.447,43.88,29.206,43.527,28.401z",walk:"path://M29.902,23.275c1.86,0,3.368-1.506,3.368-3.365c0-1.859-1.508-3.365-3.368-3.365 c-1.857,0-3.365,1.506-3.365,3.365C26.537,21.769,28.045,23.275,29.902,23.275z M36.867,30.74c-1.666-0.467-3.799-1.6-4.732-4.199 c-0.932-2.6-3.131-2.998-4.797-2.998s-7.098,3.894-7.098,3.894c-1.133,1.001-2.1,6.502-0.967,6.769 c1.133,0.269,1.266-1.533,1.934-3.599c0.666-2.065,3.797-3.466,3.797-3.466s0.201,2.467-0.398,3.866 c-0.599,1.399-1.133,2.866-1.467,6.198s-1.6,3.665-3.799,6.266c-2.199,2.598-0.6,3.797,0.398,3.664 c1.002-0.133,5.865-5.598,6.398-6.998c0.533-1.397,0.668-3.732,0.668-3.732s0,0,2.199,1.867c2.199,1.865,2.332,4.6,2.998,7.73 s2.332,0.934,2.332-0.467c0-1.401,0.269-5.465-1-7.064c-1.265-1.6-3.73-3.465-3.73-5.265s1.199-3.732,1.199-3.732 c0.332,1.667,3.335,3.065,5.599,3.399C38.668,33.206,38.533,31.207,36.867,30.74z"},e=function(){var t=echarts.init(document.getElementById("the_table_of_me")),i={tooltip:{trigger:"axis",axisPointer:{type:"none"},formatter:function(n){return n[0].name+": "+n[0].value}},xAxis:{data:n.datelist,axisTick:{show:!1},axisLine:{show:!1},axisLabel:{textStyle:{color:"#e54035"}}},yAxis:{splitLine:{show:!1},axisTick:{show:!1},axisLine:{show:!1},axisLabel:{show:!1}},color:["#e54035"],series:[{name:"hill",type:"pictorialBar",barCategoryGap:"-130%",symbol:"path://M0,10 L10,10 C5.5,10 5.5,5 5,0 C4.5,5 4.5,10 0,10 z",itemStyle:{normal:{opacity:.5},emphasis:{opacity:1}},label:{normal:{show:!0,position:"top",offset:[0,-45],textStyle:{color:"rgb(103,103,103)"},formatter:function(n){var i=parseInt(n.data),t="";return parseInt(i/60)&&(t=t+parseInt(i/60)+"小时"),i%60&&(t=t+i%60+"分钟"),t}}},data:n.timelist,z:10},{name:"glyph",type:"pictorialBar",barGap:"-100%",symbolPosition:"end",symbolSize:50,symbolOffset:[0,"-100%"],data:n.symbollist}]};t.setOption(i)};n.getinit=function(){u.GetMyAccountStatistics({},{},function(t){n.MyAccountStatistics=t});u.GetUserFootprint({},{},function(t){n.MyFootprint=t});u.GetMyLearningTime({},{},function(t){n.LearningTime=t;n.datelist=[];n.timelist=[];n.symbollist=[];n.showempty=!0;angular.forEach(n.LearningTime,function(t){n.datelist.push(t.DateString);n.timelist.push(parseInt(t.LearningTimeString/60));t.LearningTimeString!=0&&(n.showempty=!1)});angular.forEach(n.timelist,function(t){t<=50?n.symbollist.push({value:t,symbol:f.walk,symbolSize:[30,40]}):t>50&&t<=100?n.symbollist.push({value:t,symbol:f.run,symbolSize:[30,40]}):t>100&&t<=200?n.symbollist.push({value:t,symbol:f.car,symbolSize:[40,30]}):t>200&&t<=500?n.symbollist.push({value:t,symbol:f.train,symbolSize:[50,30]}):t>500&&t<=1e3?n.symbollist.push({value:t,symbol:f.plane,symbolSize:[65,35]}):n.symbollist.push({value:t,symbol:f.rocket,symbolSize:[32,40]})});e()})};n.getinit()}]);controllers.controller("MyStudyCtrl",["$scope","$modal","$state","StudyService","ClassService",function(n,t,i,r){n.searchname="";n.GetCourseList=function(){n.courseloading=!0;r.GetMyCourseList({key:n.searchname},{},function(t){n.courseloading=!1;n.CourseList=t;angular.forEach(n.CourseList,function(n){n.offlinestring="";angular.forEach(n.OfflineProgressList,function(t){n.offlinestring=n.offlinestring+t.Progress+"% "})})})};n.GetCourseList();n.gotostudy=function(n){linkTargetTo("/study/"+n.CourseCode)};n.gotoclass=function(n){if(n.OfflineProgressList.length==1&&n.LiveProgressList.length==0)window.document.location.href="/usercenter/index#/classindex/"+n.OfflineProgressList[0].ClassID;else if(n.OfflineProgressList.length==0&&n.LiveProgressList.length==1)window.document.location.href="/usercenter/index#/classindex/"+n.LiveProgressList[0].ClassID;else{var i=n.OfflineProgressList.concat(n.LiveProgressList),r=t.open({templateUrl:"/Client/Views/GotoClass.html",windowClass:"editProductCategoryDialog",controller:"GotoClassCtrl",backdrop:"static",resolve:{item:function(){return i}}});r.result.then(function(){})}};n.myKeyup=function(t){var i=window.event?t.keyCode:t.which;i==13&&n.GetCourseList()};n.apply=function(i){n.typeandcourseid={type:0,courseid:i};var r=t.open({backdrop:"static",templateUrl:"/Client/Views/UserCenter/CredentialsApply.html",controller:"CredentialsApplyCtrl",resolve:{types:function(){return n.typeandcourseid}}});r.result.then(function(){n.getListnotapply()})};n.gotopubliclive=function(n){linkTargetTo("/livepubliccourse/"+n.PublicLiveCode)};n.gotopubliclivePlayBcak=function(n){linkTargetTo("/livepubliccourse/playback?code="+n.PublicLiveCode)}}]);controllers.controller("NameBeforeExamCtrl",["$scope","$modal","$state","$modalInstance","StudentService","item",function(n,t,i,r,u,f){n.Studentmessage=f;n.show=!1;n.message="";n.ok=function(){n.show=!1;n.Studentmessage.Name==null||n.Studentmessage.Name==""?(n.show=!0,n.message="姓名不能为空"):u.Update({},n.Studentmessage,function(t){t.Success?r.close(!0):(n.show=!0,n.message=t.Message)})};n.errornotshow=function(){n.show=!1};n.cancel=function(){r.close(!1)}}]);controllers.controller("NeedsResearchCtrl",["$scope","$modal","$state","$stateParams","PaperService","MessageBox",function(n,t,i,r,u,f){n.model={paperid:r.Id,Paper:null,IsCompleted:!1};n.type=r.Type;n.getPaper=function(){n.type==0||n.type==1?u.GetPaperFeedback({paperId:n.model.paperid},{},function(t){n.model.Paper=t;n.model.IsCompleted=!0;angular.forEach(n.model.Paper.QAQuestionList[0].QuestionList,function(t){t.Type!=3&&(n.model.IsCompleted=!1);angular.forEach(t.Options,function(n){n.IsSelected=!1})})}):u.GetAnsweredPaperFeedback({paperId:n.model.paperid},{},function(t){n.model.Paper=t})};n.getPaper();n.convertToChar=function(t){return n.code="A".charCodeAt(),n.Numbercode=String.fromCharCode(n.code+t-1),n.Numbercode};n.complete=function(){n.model.Paper.ClassID=r.ClassID;n.type==0?n.model.Paper.Type=2:n.type==1&&(n.model.Paper.Type=3);u.SubmitAnswerFeedback({},n.model.Paper,function(n){n.Success?(aaa=function(){i.go("ClassStudy",{Id:r.ClassID})},f.open("信息提示","您已完成学习调研，讲师会根据您填写的需求定制培训课程，敬请期待",!1,aaa)):errorModal.open([n.Message])})};var e=function(){n.model.IsCompleted=!0;angular.forEach(n.model.Paper.QAQuestionList[0].QuestionList,function(t){var i=!1;angular.forEach(t.Options,function(n){n.IsSelected==!0&&(i=!0)});t.Type==0&&i==!1&&(n.model.IsCompleted=!1)})};n.selectOption=function(n,t){angular.forEach(t,function(n){n.IsSelected=!1});n.IsSelected=!0;e()};n.selectOptions=function(n){n.IsSelected=!n.IsSelected;e()};n.cancel=function(){i.go("ClassStudy",{Id:r.ClassID})}}]);controllers.controller("NewClassIdentifieCtrl",["$scope","$modal","$state","$modalInstance","ClassService",function(n,t,i,r,u){n.model={};n.model.key="";n.show=!1;n.message="";n.loading=!1;n.ok=function(){n.loading==!1&&(n.show=!0,u.NewClassIdentifie({key:n.model.key},{},function(t){n.loading=!1;t.Success?(n.show=!1,r.close()):(n.show=!0,n.message=t.Message)}))};n.errornotshow=function(){n.show=!1};n.cancel=function(){r.close()}}]);controllers.controller("NewMyOrderCtrl",["$scope","$modal","$state","OrderService","MessageBoxSelect","ngNotify",function(n,t,i,r,u){n.setactive(3);n.time=0;n.state="";n.orderState="";n.loading=!1;n.orderPage={pageIndex:1,pageSize:10,totalPage:1};n.cancelOrder={ID:""};n.NewGetOrder=function(t){n.loading=!1;r.GetMyOrderList({pageIndex:t,pageSize:n.orderPage.pageSize,source:n.state,state:n.orderState},{},function(i){n.orderPage.pageIndex=t;n.orderthing=i;n.orderPage.totalPage=i.TotalPages;n.Order=i.Records;n.loading=!0})};n.NewGetOrder(1);n.test=function(){};n.type=function(n){return n==0?"在线课程":n==1?"线下课堂":n==2?"文档资料":"在线课程+线下课堂"};n.paystate=function(n){return n==0||n==3?"待支付":n==1?"已完成":n==2?"已取消":void 0};n.Cancel=function(t){function i(){n.cancelOrder.ID=t;r.Cancel({},n.cancelOrder,function(){n.NewGetOrder(1)})}u.open("信息提示","确定要取消订单吗？",!1,i)};n.deleteorder=function(t){function i(){r.Delete({id:t},{},function(t){t.Success&&n.GetOrder(n.orderPage.pageIndex)})}u.open("信息提示","确定要删除订单吗？",!1,i)};n.orderdetail=function(n){i.go("OrderDetail",{id:n})};n.orderDetail=function(n){i.go("OrderDetail",{id:n})}}]);controllers.controller("OrderDetailCtrl",["$scope","$modal","$state","OrderService","$stateParams","MessageBoxSelect","BookingBagService",function(n,t,i,r,u){n.id=u.id;n.loading=!1;n.GetOrder=function(t){r.GetDetail({Id:t},{},function(t){n.Order=t;n.loading=!0})};n.GetOrder(n.id);n.pay=function(){window.location.href="/Order/Pay/?orderId="+n.Order.Id}}]);controllers.controller("PayConfirmCtrl",["$scope","$modal","$state","OrderService","StudentService","confirmModal",function(n,t,i,r,u){var f=angular.element("#data_OrderId").val(),v=angular.element("#data_UserId").val(),l,a;n.Order="";n.model={HadEnoughLearningCurrency:!1,SelectedCashPayment:!1,SelectedBalancePayment:!0,IsPayVaild:!1,IsAliOrWXPay:!1,ShowInvoiceVerifyInfo:!1,BeenClicked:!1,CanSelectInvoice:!0};var o=function(){n.model.CanSelectInvoice=!1;n.Order.IsInvoiced=!1},s=function(){n.model.CanSelectInvoice=!0},y=function(){n.Order.Invoice={Type:0,Header:"",InvoiceContent:"培训费",CompanyName:"",CompanyAddress:"",CompanyTelephone:"",Address:"",RecipientName:"",Phone:"",Remark:"",InvoiceRemark:"",NationalTaxNumber:"",OpeningBank:"",OpeningBackAccount:""}},p=function(){n.model.ShowInvoiceVerifyInfo=!1;document.getElementById("id-CommonForm").style.display="";document.getElementById("id-SpecialForm").style.display=""},e=function(){n.model.IsPayVaild=!0},h=function(){n.model.IsPayVaild=!1},w=function(){n.Order.User.LearningCurrencyAmount>=n.Order.Payment?(n.model.SelectedCashPayment=!1,n.model.SelectedBalancePayment=!0):n.Order.User.LearningCurrencyAmount>0?(n.model.SelectedCashPayment=!0,n.model.SelectedBalancePayment=!0):(n.model.SelectedCashPayment=!0,n.model.SelectedBalancePayment=!1);c()},c=function(){n.model.SelectedCashPayment==!0&&n.model.SelectedBalancePayment==!0?(n.Order.User.LearningCurrencyAmount>=n.Order.Payment?(n.Order.LearningCurrency=n.Order.Payment,n.Order.CashPayment=0,n.model.HadEnoughLearningCurrency=!0,o()):(n.Order.LearningCurrency=n.Order.User.LearningCurrencyAmount,n.Order.CashPayment=n.Order.Payment-n.Order.User.LearningCurrencyAmount,n.model.HadEnoughLearningCurrency=!1,s()),e()):n.model.SelectedCashPayment==!1&&n.model.SelectedBalancePayment==!0?(n.Order.User.LearningCurrencyAmount>=n.Order.Payment?(n.Order.LearningCurrency=n.Order.Payment,n.Order.CashPayment=0,n.model.HadEnoughLearningCurrency=!0,e()):(n.Order.LearningCurrency=n.Order.User.LearningCurrencyAmount,n.Order.CashPayment=0,n.model.HadEnoughLearningCurrency=!1,h()),o()):n.model.SelectedCashPayment==!0&&n.model.SelectedBalancePayment==!1?(n.Order.LearningCurrency=0,n.Order.CashPayment=n.Order.Payment,e(),s()):h()},b=function(){r.GetDetail({Id:f},{},function(t){n.Order=t;n.Order.State==0?(w(),y()):window.location.reload(!0)})},k=function(){n.Order!=""&&u.GetById({studentId:v},{},function(t){n.Order.User=t;c()})},d=function(){b()};n.getInvoiceVerifyResult=function(){return n.Order.IsInvoiced==!0?n.Order.Invoice.Type==0&&n.CommonForm.$valid?!0:n.Order.Invoice.Type==1&&n.SpecialForm.$valid?!0:!1:!0};n.selectAliPay=function(){n.model.IsAliOrWXPay=!0};n.selectWXPay=function(){n.model.IsAliOrWXPay=!1};n.balancePaymentVaild=function(){return n.model.HadEnoughLearningCurrency==!1&&n.model.SelectedBalancePayment==!0&&n.model.SelectedCashPayment==!1?!1:!0};n.changedPaymentType=function(){k()};n.changedSelectedInvoice=function(){p()};n.getOrderVerifyResult=function(){return n.getInvoiceVerifyResult()&&n.model.IsPayVaild?!0:!1};n.getSubmitButtonDisabled=function(){return n.model.IsPayVaild?n.getInvoiceVerifyResult()==!1&&n.model.BeenClicked==!0?!0:!1:!0};n.gotoPay=function(){n.getOrderVerifyResult()==!0?r.EnsureOrder({},n.Order,function(t){t.Success?t.Target=="OrderIsCompleted"?window.location.href="/Order/Complete/?orderId="+f:n.model.IsAliOrWXPay?linkTargetTo("/Order/SubmitAlipay?orderId="+f):window.location.href="/Order/WXPay?orderId="+f:alert(t.Message)}):(n.model.BeenClicked=!0,n.model.ShowInvoiceVerifyInfo=!0)};n.simulationPayment=function(){n.getOrderVerifyResult()==!0?r.EnsureOrder({},n.Order,function(t){t.Success?t.Target=="OrderIsCompleted"?window.location.href="/Order/Complete/?orderId="+f:r.UpdateOrderState({orderNumber:n.Order.Number,state:1},{},function(n){n.Success?window.location.href="/Order/Complete/?orderId="+f:alert("模拟支付失败："+n.Message)}):alert(t.Message)}):(n.model.BeenClicked=!0,n.model.ShowInvoiceVerifyInfo=!0)};d();l=function(){r.GetOrderState({OrderID:f},{},function(n){(n.State==1||n.State==2)&&(window.location.href="/Order/Complete/?orderId="+f,window.clearInterval(a))})};a=window.setInterval(function(){n.$apply(l)},3e3)}]);controllers.controller("PayCurrencyConfirmCtrl",["$scope","$modal","$state","OrderService","StudentService","confirmModal",function(n,t,i,r){var u=angular.element("#data_OrderId").val(),a=angular.element("#data_UserId").val(),f,e;n.Order="";n.model={IsPayVaild:!1,IsAliOrWXPay:!1,ShowInvoiceVerifyInfo:!1,BeenClicked:!1};var o=function(){n.Order.Invoice={Type:0,Header:"",InvoiceContent:"培训费",CompanyName:"",CompanyAddress:"",CompanyTelephone:"",Address:"",RecipientName:"",Phone:"",Remark:"",InvoiceRemark:"",NationalTaxNumber:"",OpeningBank:"",OpeningBackAccount:""}},s=function(){n.model.IsPayVaild=!0},v=function(){n.model.IsPayVaild=!1},h=function(){r.GetDetail({Id:u},{},function(t){n.Order=t;n.Order.State==0?(o(),s()):window.location.reload(!0)})},c=function(){h()},l=function(){n.model.ShowInvoiceVerifyInfo=!1;document.getElementById("id-CommonForm").style.display="";document.getElementById("id-SpecialForm").style.display=""};n.getInvoiceVerifyResult=function(){return n.Order.IsInvoiced==!0?n.Order.Invoice.Type==0&&n.CommonForm.$valid?!0:n.Order.Invoice.Type==1&&n.SpecialForm.$valid?!0:!1:!0};n.selectAliPay=function(){n.model.IsAliOrWXPay=!0};n.selectWXPay=function(){n.model.IsAliOrWXPay=!1};n.changedSelectedInvoice=function(){l()};n.getOrderVerifyResult=function(){return n.getInvoiceVerifyResult()&&n.model.IsPayVaild?!0:!1};n.getSubmitButtonDisabled=function(){return n.model.IsPayVaild?n.getInvoiceVerifyResult()==!1&&n.model.BeenClicked==!0?!0:!1:!0};n.gotoPay=function(){n.getOrderVerifyResult()==!0?r.EnsureOrder({},n.Order,function(t){t.Success?window.location.href=t.Target=="OrderIsCompleted"?"/Order/Complete/?orderId="+u:n.model.IsAliOrWXPay?"/Order/SubmitAlipay?orderId="+u:"/Order/WXPay?orderId="+u:alert(t.Message)}):(n.model.BeenClicked=!0,n.model.ShowInvoiceVerifyInfo=!0)};n.simulationPayment=function(){n.getOrderVerifyResult()==!0?r.EnsureOrder({},n.Order,function(t){t.Success?t.Target=="OrderIsCompleted"?window.location.href="/Order/Complete/?orderId="+u:r.UpdateOrderState({orderNumber:n.Order.Number,state:1},{},function(n){n.Success?window.location.href="/Order/Complete/?orderId="+u:alert("模拟支付失败："+n.Message)}):alert(t.Message)}):(n.model.BeenClicked=!0,n.model.ShowInvoiceVerifyInfo=!0)};c();f=function(){r.GetOrderState({OrderID:u},{},function(n){(n.State==1||n.State==2)&&(window.location.href="/Order/Complete/?orderId="+u,window.clearInterval(e))})};e=window.setInterval(function(){n.$apply(f)},3e3)}]);controllers.controller("PayCurrencyDetailCtrl",["$scope","$modal","$state","OrderService","StudentService","confirmModal",function(n,t,i,r){var u=angular.element("#data_OrderId").val(),l=angular.element("#data_UserId").val(),e,o;n.Order="";n.model={IsPayVaild:!1,IsAliOrWXPay:!1,ShowInvoiceVerifyInfo:!1,BeenClicked:!1};var s=function(){n.model.IsPayVaild=!0},a=function(){n.model.IsPayVaild=!1},h=function(){r.GetDetail({Id:u},{},function(t){n.Order=t;s();f()})},c=function(){h()},f=function(){n.model.ShowInvoiceVerifyInfo=!1;document.getElementById("id-CommonForm").style.display="";document.getElementById("id-SpecialForm").style.display=""};n.getInvoiceVerifyResult=function(){return n.Order.IsInvoiced==!0?n.Order.Invoice.Type==0&&n.CommonForm.$valid?!0:n.Order.Invoice.Type==1&&n.SpecialForm.$valid?!0:!1:!0};n.selectAliPay=function(){n.model.IsAliOrWXPay=!0};n.selectWXPay=function(){n.model.IsAliOrWXPay=!1};n.changedSelectedInvoice=function(){f()};n.getOrderVerifyResult=function(){return n.getInvoiceVerifyResult()&&n.model.IsPayVaild?!0:!1};n.getSubmitButtonDisabled=function(){return n.model.IsPayVaild?n.getInvoiceVerifyResult()==!1&&n.model.BeenClicked==!0?!0:!1:!0};n.gotoPay=function(){n.getOrderVerifyResult()==!0?n.model.IsAliOrWXPay?linkTargetTo("/Order/SubmitAlipay?orderId="+u):window.location.href="/Order/WXPay?orderId="+u:(n.model.BeenClicked=!0,n.model.ShowInvoiceVerifyInfo=!0)};n.simulationPayment=function(){n.getOrderVerifyResult()==!0?r.EnsureOrder({},n.Order,function(t){t.Success?t.Target=="OrderIsCompleted"?window.location.href="/Order/Complete/?orderId="+u:r.UpdateOrderState({orderNumber:n.Order.Number,state:1},{},function(n){n.Success?window.location.href="/Order/Complete/?orderId="+u:alert("模拟支付失败："+n.Message)}):alert(t.Message)}):(n.model.BeenClicked=!0,n.model.ShowInvoiceVerifyInfo=!0)};c();e=function(){r.GetOrderState({OrderID:u},{},function(n){(n.State==1||n.State==2)&&(window.location.href="/Order/Complete/?orderId="+u,window.clearInterval(o))})};o=window.setInterval(function(){n.$apply(e)},3e3)}]);controllers.controller("PayDetailCtrl",["$scope","$modal","$state","OrderService","StudentService","confirmModal",function(n,t,i,r){var u=angular.element("#data_OrderId").val(),l=angular.element("#data_UserId").val(),o,s;n.Order="";n.model={HadEnoughLearningCurrency:!1,SelectedCashPayment:!1,SelectedBalancePayment:!0,IsPayVaild:!0,IsAliOrWXPay:!1,ShowInvoiceVerifyInfo:!1,BeenClicked:!1};var a=function(){n.model.IsPayVaild=!0},v=function(){n.model.IsPayVaild=!1},f=function(){n.Order.CashPayment>0&&n.Order.LearningCurrency>0?(n.model.SelectedCashPayment=!0,n.model.SelectedBalancePayment=!0):n.Order.CashPayment>0&&n.Order.LearningCurrency<=0?(n.model.SelectedCashPayment=!0,n.model.SelectedBalancePayment=!1):n.Order.CashPayment<=0&&n.Order.LearningCurrency>0&&(n.model.SelectedCashPayment=!1,n.model.SelectedBalancePayment=!0)},h=function(){r.GetDetail({Id:u},{},function(t){n.Order=t;f();e()})},c=function(){h()},e=function(){n.model.ShowInvoiceVerifyInfo=!1;document.getElementById("id-CommonForm").style.display="";document.getElementById("id-SpecialForm").style.display=""};n.getInvoiceVerifyResult=function(){return n.Order.IsInvoiced==!0?n.Order.Invoice.Type==0&&n.CommonForm.$valid?!0:n.Order.Invoice.Type==1&&n.SpecialForm.$valid?!0:!1:!0};n.selectAliPay=function(){n.model.IsAliOrWXPay=!0};n.selectWXPay=function(){n.model.IsAliOrWXPay=!1};n.balancePaymentVaild=function(){return n.model.HadEnoughLearningCurrency==!1&&n.model.SelectedBalancePayment==!0&&n.model.SelectedCashPayment==!1?!1:!0};n.changedPaymentType=function(){f()};n.changedSelectedInvoice=function(){e()};n.getOrderVerifyResult=function(){return n.getInvoiceVerifyResult()&&n.model.IsPayVaild?!0:!1};n.getSubmitButtonDisabled=function(){return n.model.IsPayVaild?n.getInvoiceVerifyResult()==!1&&n.model.BeenClicked==!0?!0:!1:!0};n.gotoPay=function(){n.getOrderVerifyResult()==!0?n.model.IsAliOrWXPay?linkTargetTo("/Order/SubmitAlipay?orderId="+u):window.location.href="/Order/WXPay?orderId="+u:(n.model.BeenClicked=!0,n.model.ShowInvoiceVerifyInfo=!0)};n.simulationPayment=function(){n.getOrderVerifyResult()==!0?r.EnsureOrder({},n.Order,function(t){t.Success?t.Target=="OrderIsCompleted"?window.location.href="/Order/Complete/?orderId="+u:r.UpdateOrderState({orderNumber:n.Order.Number,state:1},{},function(n){n.Success?window.location.href="/Order/Complete/?orderId="+u:alert("模拟支付失败："+n.Message)}):alert(t.Message)}):(n.model.BeenClicked=!0,n.model.ShowInvoiceVerifyInfo=!0)};c();o=function(){r.GetOrderState({OrderID:u},{},function(n){(n.State==1||n.State==2)&&(window.location.href="/Order/Complete/?orderId="+u,window.clearInterval(s))})};s=window.setInterval(function(){n.$apply(o)},3e3)}]);controllers.controller("PayWXCtrl",["$scope","OrderService","confirmModal",function(n,t){var i=angular.element("#data_OrderId").val(),r=function(){t.GetOrderState({OrderID:i},{},function(n){(n.State==1||n.State==2)&&(window.location.href="/Order/Complete/?orderId="+i)})};setInterval(function(){n.$apply(r)},2e3)}]);controllers.controller("StudyCenterCtrl",["$scope","$modal","$state","ClassService","StudyService","StudentService","DynamicsService","TodoService","examModal",function(n,t,i,r,u,f,e,o,s){n.dataContainer={NotCompleteList:null,CompleteList:null};n.TodoList=[];n.notHaveTodo=!1;n.GetClassNotCompleted=function(){n.classisloading=!0;r.GetMyList({isCompleted:!1},{},function(t){n.classisloading=!1;n.dataContainer.NotCompleteList=[];angular.forEach(t,function(t){t.DisplayAsParent=!0;n.dataContainer.NotCompleteList.push(t);angular.forEach(t.ChildClasses,function(t){t.DisplayAsParent=!1;n.dataContainer.NotCompleteList.push(t)})});n.notcompletednum=n.dataContainer.NotCompleteList.length})};n.GetClassNotCompleted();n.gotoClassDetail=function(n){i.go("ClassIndex",{Id:n.Id})};n.gotoClassDetailNew=function(n){i.go("ClassStudy",{Id:n})};n.gotoCourse=function(n,t){o.UpdatePersonTodo({id:t},{},function(t){t.Success?window.document.location.href="/course/"+n:alert(t.Message)})};n.gotoclassshare=function(n,t){o.UpdatePersonTodo({id:t},{},function(t){t.Success?i.go("ClassShare",{Id:n}):alert(t.Message)})};n.GetStudyListNotComplete=function(t){n.studyloading=!0;u.GetList({isCompleted:!1,pageIndex:t,pageSize:99999},{},function(t){n.StudyNotComplete=t.Records;n.notcomp=t;n.studyloading=!1})};n.GetStudyListNotComplete(1);n.getinit=function(){f.GetMyAccountStatistics({},{},function(t){n.MyAccountStatistics=t});e.GetDynamicsList({classID:""},{},function(t){n.DynamicsList=t});f.GetById({studentId:null},{},function(t){n.Studentmessage=t});o.GetStudyCenterTodoInfoList({},{},function(t){var i,r;for(n.TodoList=t,n.notHaveTodo=!1,i=0;i<t.length;i++)r=t[i],r.TodoDetail.length>0?(document.getElementById("TodoList-"+i).style="color: #ffffff;background: #c81a20;cursor:pointer;",document.getElementById("TodoList-"+i).disabled=!1):(document.getElementById("TodoList-"+i).style="color: #ffffff;background: #8e8e8e;cursor:default;",document.getElementById("TodoList-"+i).disabled=!0)})};n.getinit();n.newdoGroupingResearch=function(r,u){if(n.Studentmessage.Name==null||n.Studentmessage.Name==""){var f=t.open({templateUrl:"/Client/Views/UserCenter/NameBeforeExam.html",windowClass:"editProductCategoryDialog",controller:"NameBeforeExamCtrl",backdrop:"static",resolve:{item:function(){return n.Studentmessage}}});f.result.then(function(n){n&&i.go("NeedsResearch",{Id:r,ClassID:u,Type:0,LinkType:0})})}else i.go("NeedsResearch",{Id:r,ClassID:u,Type:0,LinkType:0})};n.newexam=function(r,u){if(n.Studentmessage.Name==null||n.Studentmessage.Name==""){var f=t.open({templateUrl:"/Client/Views/UserCenter/NameBeforeExam.html",windowClass:"editProductCategoryDialog",controller:"NameBeforeExamCtrl",backdrop:"static",resolve:{item:function(){return n.Studentmessage}}});f.result.then(function(n){n&&i.go("NeedsResearch",{Id:r,ClassID:u,Type:1,LinkType:0})})}else i.go("NeedsResearch",{Id:r,ClassID:u,Type:1,LinkType:0})};n.classexamtest=function(i,r){var u,f;n.Studentmessage.Name==null||n.Studentmessage.Name==""?(u=t.open({templateUrl:"/Client/Views/UserCenter/NameBeforeExam.html",windowClass:"editProductCategoryDialog",controller:"NameBeforeExamCtrl",backdrop:"static",resolve:{item:function(){return n.Studentmessage}}}),u.result.then(function(t){if(t){var u={Data:{TestObject:{IdList:[i],Type:4,classId:r}},okClick:function(){o.GetMyTodoList({classID:""},{},function(t){n.TodoList=t})}};s.open(u)}})):(f={Data:{TestObject:{IdList:[i],Type:4,classId:r}},okClick:function(){o.GetMyTodoList({classID:""},{},function(t){n.TodoList=t})}},s.open(f))};n.newgotoFeedback=function(i,r){if(n.Studentmessage.Name==null||n.Studentmessage.Name==""){var u=t.open({templateUrl:"/Client/Views/UserCenter/NameBeforeExam.html",windowClass:"editProductCategoryDialog",controller:"NameBeforeExamCtrl",backdrop:"static",resolve:{item:function(){return n.Studentmessage}}});u.result.then(function(n){n&&(window.location.href="/UserCenter/Feedback?paperId="+i+"&op=0&classid="+r+"&LinkType=0")})}else window.location.href="/UserCenter/Feedback?paperId="+i+"&op=0&classid="+r+"&LinkType=0"};n.showTodoList=function(i){for(var r,f,u=0;u<n.TodoList.length;u++)n.TodoList[u].ClassToDoType==i&&(n.WindowTodoListData=n.TodoList[u]);if(n.WindowTodoListData.ClassList.length>0)if(n.WindowTodoListData.ClassList.length==1&&n.WindowTodoListData.TodoDetail.length==1){r=n.WindowTodoListData.TodoDetail[0];switch(r.ToDoType){case 0:n.gotoCourse(r.Code,r.ID);break;case 1:n.gotoCourse(r.Code,r.ID);break;case 3:n.newexam(r.SourceID,r.ObjectID);break;case 4:n.gotoClassDetailNew(r.ObjectID);break;case 5:n.classexamtest(r.SourceID,r.ObjectID);break;case 6:n.newgotoFeedback(r.SourceID,r.ObjectID);break;case 7:n.newdoGroupingResearch(r.SourceID,r.ObjectID);break;case 8:n.gotoclassshare(r.ObjectID,r.ID)}}else f=t.open({templateUrl:"/Client/Views/TodoClassList.html",windowClass:"editProductCategoryDialog",controller:"StudyCenterTodoListCtrl",backdrop:"static",resolve:{itemData:function(){return n.WindowTodoListData}}}),f.result.then(function(){})};n.test=function(){alert("ok")}}]);controllers.controller("StudyCenterTodoListCtrl",["$scope","$modal","$state","$modalInstance","ClassService","StudyService","StudentService","DynamicsService","TodoService","examModal","itemData",function(n,t,i,r,u,f,e,o,s,h,c){n.dataContainer={NotCompleteList:null,CompleteList:null};n.WindowTodoListData=c;n.onlyOneClass=!1;n.OneClass=[];n.init=function(){n.WindowTodoListData.ClassList.length==1&&(n.onlyOneClass=!0,n.OneClass=n.WindowTodoListData.TodoDetail)};n.init();n.GetClassNotCompleted=function(){n.classisloading=!0;u.GetMyList({isCompleted:!1},{},function(t){n.classisloading=!1;n.dataContainer.NotCompleteList=[];angular.forEach(t,function(t){t.DisplayAsParent=!0;n.dataContainer.NotCompleteList.push(t);angular.forEach(t.ChildClasses,function(t){t.DisplayAsParent=!1;n.dataContainer.NotCompleteList.push(t)})});n.notcompletednum=n.dataContainer.NotCompleteList.length})};n.GetClassNotCompleted();n.gotoClassDetail=function(t){n.cancel();i.go("ClassIndex",{Id:t.Id})};n.gotoClassDetailNew=function(t){n.cancel();i.go("ClassStudy",{Id:t})};n.gotoCourse=function(t,i){s.UpdatePersonTodo({id:i},{},function(i){i.Success?(n.cancel(),window.document.location.href="/course/"+t):alert(i.Message)})};n.gotoclassshare=function(t,r){s.UpdatePersonTodo({id:r},{},function(r){r.Success?(n.cancel(),i.go("ClassShare",{Id:t})):alert(r.Message)})};n.GetStudyListNotComplete=function(t){n.studyloading=!0;f.GetList({isCompleted:!1,pageIndex:t,pageSize:99999},{},function(t){n.StudyNotComplete=t.Records;n.notcomp=t;n.studyloading=!1})};n.GetStudyListNotComplete(1);n.getinit=function(){e.GetById({studentId:null},{},function(t){n.Studentmessage=t})};n.getinit();n.newdoGroupingResearch=function(r,u){if(n.Studentmessage.Name==null||n.Studentmessage.Name==""){n.cancel();var f=t.open({templateUrl:"/Client/Views/UserCenter/NameBeforeExam.html",windowClass:"editProductCategoryDialog",controller:"NameBeforeExamCtrl",backdrop:"static",resolve:{item:function(){return n.Studentmessage}}});f.result.then(function(t){t&&(n.cancel(),i.go("NeedsResearch",{Id:r,ClassID:u,Type:0,LinkType:0}))})}else n.cancel(),i.go("NeedsResearch",{Id:r,ClassID:u,Type:0,LinkType:0})};n.newexam=function(r,u){if(n.Studentmessage.Name==null||n.Studentmessage.Name==""){n.cancel();var f=t.open({templateUrl:"/Client/Views/UserCenter/NameBeforeExam.html",windowClass:"editProductCategoryDialog",controller:"NameBeforeExamCtrl",backdrop:"static",resolve:{item:function(){return n.Studentmessage}}});f.result.then(function(t){t&&(n.cancel(),i.go("NeedsResearch",{Id:r,ClassID:u,Type:1,LinkType:0}))})}else n.cancel(),i.go("NeedsResearch",{Id:r,ClassID:u,Type:1,LinkType:0})};n.classexamtest=function(i,r){var u,f;n.Studentmessage.Name==null||n.Studentmessage.Name==""?(n.cancel(),u=t.open({templateUrl:"/Client/Views/UserCenter/NameBeforeExam.html",windowClass:"editProductCategoryDialog",controller:"NameBeforeExamCtrl",backdrop:"static",resolve:{item:function(){return n.Studentmessage}}}),u.result.then(function(t){if(t){var u={Data:{TestObject:{IdList:[i],Type:4,classId:r}},okClick:function(){s.GetMyTodoList({classID:""},{},function(t){n.TodoList=t})}};h.open(u)}})):(f={Data:{TestObject:{IdList:[i],Type:4,classId:r}},okClick:function(){s.GetMyTodoList({classID:""},{},function(t){n.TodoList=t})}},h.open(f))};n.newgotoFeedback=function(i,r){if(n.Studentmessage.Name==null||n.Studentmessage.Name==""){n.cancel();var u=t.open({templateUrl:"/Client/Views/UserCenter/NameBeforeExam.html",windowClass:"editProductCategoryDialog",controller:"NameBeforeExamCtrl",backdrop:"static",resolve:{item:function(){return n.Studentmessage}}});u.result.then(function(t){t&&(n.cancel(),window.location.href="/UserCenter/Feedback?paperId="+i+"&op=0&classid="+r+"&LinkType=0")})}else n.cancel(),window.location.href="/UserCenter/Feedback?paperId="+i+"&op=0&classid="+r+"&LinkType=0"};n.chooseClass=function(t){for(var i,r=0;r<c.TodoDetail.length;r++)c.TodoDetail[r].Class.Id==t&&n.OneClass.push(c.TodoDetail[r]);if(n.OneClass.length==1){i=n.OneClass[0];switch(i.ToDoType){case 0:n.gotoCourse(i.Code,i.ID);break;case 1:n.gotoCourse(i.Code,i.ID);break;case 3:n.newexam(i.SourceID,i.ObjectID);break;case 4:n.gotoClassDetailNew(i.ObjectID);break;case 5:n.classexamtest(i.SourceID,i.ObjectID);break;case 6:n.newgotoFeedback(i.SourceID,i.ObjectID);break;case 7:n.newdoGroupingResearch(i.SourceID,i.ObjectID);break;case 8:n.gotoclassshare(i.ObjectID,i.ID)}}else n.onlyOneClass=!0};n.errornotshow=function(){n.show=!1};n.cancel=function(){r.close(!1)}}]);controllers.controller("UserCenterCtrl",["$scope","$modal","$state",function(n,t,i){var f=angular.element("#data_IsCommonUser").val(),e=angular.element("#data_IsClassAdmin").val(),o=angular.element("#data_IsEnterpriseAdmin").val(),r=function(){var r=window.location.href.toLowerCase(),t=0,i="StudyCenter";r.indexOf("StudyCenter".toLowerCase())>-1?(t=0,i="StudyCenter"):r.indexOf("MyShoppingCart".toLowerCase())>-1?(t=1,i="MyShoppingCart"):r.indexOf("MyCoupon".toLowerCase())>-1?(t=2,i="MyCoupon"):r.indexOf("MyOrder".toLowerCase())>-1?(t=3,i="MyOrder"):r.indexOf("MyStudy".toLowerCase())>-1?(t=4,i="MyStudy"):r.indexOf("MyClass".toLowerCase())>-1?(t=5,i="MyClass"):r.indexOf("ClassDetailChild".toLowerCase())>-1?(t=5,i="MyClass"):r.indexOf("class_message".toLowerCase())>-1?(t=5,i="MyClass"):r.indexOf("class_QA".toLowerCase())>-1?(t=5,i="MyClass"):r.indexOf("class_inves".toLowerCase())>-1?(t=5,i="MyClass"):r.indexOf("study_files".toLowerCase())>-1?(t=5,i="MyClass"):r.indexOf("study_investigation".toLowerCase())>-1?(t=5,i="MyClass"):r.indexOf("test".toLowerCase())>-1?(t=5,i="MyClass"):r.indexOf("homework".toLowerCase())>-1?(t=5,i="MyClass"):r.indexOf("feedback".toLowerCase())>-1?(t=5,i="MyClass"):r.indexOf("class_dynamic".toLowerCase())>-1?(t=5,i="MyClass"):r.indexOf("class_statistics".toLowerCase())>-1?(t=5,i="MyClass"):r.indexOf("ClassIndex".toLowerCase())>-1?(t=5,i="ClassIndex"):r.indexOf("ClassInfo".toLowerCase())>-1?(t=5,i="ClassInfo"):r.indexOf("ClassStudy".toLowerCase())>-1?(t=5,i="ClassStudy"):r.indexOf("Classmates".toLowerCase())>-1?(t=5,i="Classmates"):r.indexOf("ClassShare".toLowerCase())>-1?(t=5,i="ClassShare"):r.indexOf("ClassQA".toLowerCase())>-1?(t=5,i="ClassQA"):r.indexOf("ClassLab".toLowerCase())>-1?(t=5,i="ClassLab"):r.indexOf("MyCredentials".toLowerCase())>-1?(t=6,i="MyCredentials"):r.indexOf("MySetting".toLowerCase())>-1?(t=7,i="MySetting"):r.indexOf("MyMessage".toLowerCase())>-1?(t=8,i="MyMessage"):r.indexOf("PublicClassStudent".toLowerCase())>-1?(t=9,i="PublicClassStudent"):r.indexOf("Card".toLowerCase())>-1?(t=10,i="Card"):r.indexOf("MyLearningCurrency".toLowerCase())>-1?(t=11,i="MyLearningCurrency"):r.indexOf("MyMemberLevel".toLowerCase())>-1?(t=12,i="MyMemberLevel"):r.indexOf("MyStep".toLowerCase())>-1?(t=13,i="MyStep"):r.indexOf("MyLive".toLowerCase())>-1&&(t=14,i="MyLive");u(t);n.gotoTab(i)},u=function(n){for(var t=0;t<15;t++)angular.element("#menu_"+t).removeClass("active");angular.element("#menu_"+n).addClass("active")};n.gotoTab=function(n){i.go(n)};r();n.setactive=function(n){for(var t=0;t<15;t++)angular.element("#menu_"+t).removeClass("active");angular.element("#menu_"+n).addClass("active")}}]);controllers.controller("AccountLoginCtrl",["$scope","$interval","SMSService","cookieHelper",function(n,t,i){function f(n){window.location=n}var e=angular.element("#data-web-url").val();n.needPhoneActive=angular.element("#data-need-phone-active").val()=="True";n.smsModel={Mobile:"",ClientId:"O2OPortal",PicUrl:"",PicKey:"",PicValue:""};n.account=angular.element("#data-account").val();n.password=angular.element("#data-password").val();n.sendSmsTiming=!1;n.sendSmsTime=60;var r={Success:angular.element("#data-result-success").val()=="True",Message:angular.element("#data-result-message").val()},o=function(){n.needPhoneActive==!0&&(n.activationCode=angular.element("#data-activationCode").val(),n.activationCode||(r.Success=!0));r.Success||layer.msg(r.Message,{icon:5})},u=e;n.loginByQQ=function(){f(u+"/Account/LoginQQ")};n.loginByWechat=function(){f(u+"/Account/LoginWeChat")};n.createPicCode=function(){var t=Math.random()*1e7;t=parseInt(t);n.smsModel.PicUrl=sourceUrl+"captcha?r="+t;n.smsModel.PicKey=t};$("#loginForm").on("submit",function(){if(n.jsCode&&n.code&&n.jsCode.toLocaleLowerCase()==n.code.toLocaleLowerCase()){if(n.activationCode&&n.needPhoneActive||n.needPhoneActive==!1){var t=layer.msg("正在登陆，请稍后...",{icon:16,shade:.2,time:1e4});return!0}return layer.msg("请输入手机验证码",{icon:5}),!1}return!1});n.sendSmsCode=function(){if(n.loginForm.Account.$invalid==!1){if(!n.smsModel.PicValue){layer.msg("请输入图片验证码",{icon:5});return}n.smsModel.Mobile=n.account;i.SendSMS({},n.smsModel,function(t){t.Success?(layer.msg("短信发送成功"),h(60)):(n.createPicCode(),layer.msg(t.Message,{icon:5}))})}else layer.msg("请输入正确的手机号码",{icon:5})};n.activeAccount=function(){$("#loginForm").submit()};n.cancelActive=function(){$("#activePhoneDialog").remove();window.location.href="/account/login"};var s=function(){n.sendSmsTime--;n.sendSmsTime<=0&&c()},h=function(i){n.sendSmsTime=i;n.sendSmsTiming=!0;return t(s,1e3)},c=function(i){n.sendSmsTiming=!1;t.cancel(i)};n.createJsCode=function(){var i,r,t,u;for(n.jsCode="",i=4,r=[0,1,2,3,4,5,6,7,8,9,"a","b","c","d","e","f","g","h","i","j","k","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","J","K","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t=0;t<i;t++)u=Math.floor(Math.random()*52),n.jsCode+=r[u];n.needPhoneActive&&(n.code=n.jsCode)};n.reset=function(){n.account="";n.password=""};o();n.createPicCode();n.createJsCode()}]);controllers.controller("AccountRegistCtrl",["$scope","SMSService",function(n,t){var i,r,u;n.codebuttonable=!0;n.thebuttoncontent="免费获取验证码";n.showconfirm=!1;n.showpiccodeerror=!1;n.showtelerror=!1;n.newAccount=angular.element("#data-newAccount").val();n.newPassword=angular.element("#data-newPassword").val();n.confirmPassword=angular.element("#data-confirmPassword").val();n.newRegistCode=angular.element("#data-newRegistCode").val();i=lfForm();i.verify({pass:[/^[\S]{6,32}$/,"密码必须6到32位，且不能出现空格"],phonecode:[/^[\S]{6,6}$/,"请输入正确的短信验证码"]});i.on("submit(regist)",function(n){return n.field.newPassword!=n.field.confirmPassword?(layer.msg("密码和确认密码不一致！",{icon:5}),!1):!0});n.createPicCode=function(){n.picKey=Math.random()*1e7;n.picKey=parseInt(n.picKey);n.imgsrc=sourceUrl+"captcha?r="+n.picKey};n.createPicCode();r={Success:angular.element("#data-result-success").val()=="True",Message:angular.element("#data-result-message").val()};u=function(){r.Success||layer.msg(r.Message,{icon:5})};u();$("#theregistform").submit(function(){return n.newPassword==n.confirmPassword?!0:!1});n.timelimit=!0;n.timeridid="";n.timer=function(t){return window.setInterval(function(){var i=0;t>0&&(i=Math.floor(t));i<=9&&(i="0"+i);n.thebuttoncontent="重新发送验证码（"+i+"秒）";n.codebuttonable=!1;n.$apply();t--;t==-1&&(window.clearInterval(n.timeridid),n.thebuttoncontent="免费获取验证码 ",n.codebuttonable=!0,n.timelimit=!0,n.$apply())},1e3)};n.SendMessage=function(){if(n.newAccount==null||!n.newAccount.match(/^\d{11}$/)){layer.msg("请输入正确的手机号",{icon:5});return}if(n.piccode==null||n.piccode.length!=4){layer.msg("请输入正确的图形验证码",{icon:5});return}n.timelimit!=!1&&(n.timelimit=!1,n.timeridid=n.timer(60),n.codebuttonable=!1,t.SendSMS({},{Mobile:n.newAccount,ClientId:"O2OPortal",PicKey:n.picKey,PicValue:n.piccode},function(t){t.Success||(layer.msg(t.Message,{icon:5}),n.timelimit=!0,window.clearInterval(n.timeridid),n.codebuttonable=!0,n.thebuttoncontent="免费获取验证码",n.createPicCode())}))}}]);controllers.controller("ClassIndexCtrl",["$scope","$modal","$state","ClassService","PaperService","$stateParams","examModal","examStudyModal","FileService","StudentService","MessageBox","ClassQAService","StudyService","examModal","$location","DynamicsService","TodoService",function(n,t,i,r,u,f,e,o,s,h,c,l,a,e,v,y,p){n.setactive(5);var w=f.Id;n.classId=f.Id;r.GetClassIdentification({classId:f.Id},{},function(n){$(".isall_hide").css("display","block");n.IsStudent==!1&&i.go("ClassInfo",{Id:f.Id});n.IsStudent&&$(".isstudent_hide").css("display","block");n.IsClassManager&&$(".ismanager_hide").css("display","block")});r.GetClassUserLab({classId:f.Id},{},function(n){n.HasLab==!0&&$(".islab_hide").css("display","block")});n.getcourselist=function(){a.GetMyCourseByClassID({classID:w},{},function(t){n.CourseList=t;angular.forEach(n.CourseList,function(n){n.offlinestring="";angular.forEach(n.OfflineProgressList,function(t){n.offlinestring=n.offlinestring+t.Progress+"% "})})})};n.getinit=function(){r.GetClassUserLab({classId:f.Id},{},function(n){n.HasLab==!0&&$(".islab_hide").css("display","block")});y.GetDynamicsList({classID:w},{},function(t){n.DynamicsList=t});p.GetClassIndexTodoInfoList({classID:w},{},function(t){var i,r;for(n.TodoList=t,i=0;i<t.length;i++)r=t[i],r.TodoDetail.length>0?(document.getElementById("cl-TodoList-"+i).style="color: #ffffff;background: #c81a20;cursor:pointer;",document.getElementById("cl-TodoList-"+i).disabled=!1):(document.getElementById("cl-TodoList-"+i).style="color: #ffffff;background: #8e8e8e;cursor:default;",document.getElementById("cl-TodoList-"+i).disabled=!0)})};n.GetClassDetail=function(){r.GetDetail({classId:f.Id},{},function(t){n.Detail=t});n.getcourselist();h.GetById({studentId:null},{},function(t){n.Studentmessage=t});n.getinit()};n.GetClassDetail();n.gotoCourse=function(n,t){p.UpdatePersonTodo({id:t},{},function(t){t.Success?window.document.location.href="/course/"+n:alert(t.Message)})};n.newexam=function(r){if(n.Studentmessage.Name==null||n.Studentmessage.Name==""){var u=t.open({templateUrl:"/Client/Views/UserCenter/NameBeforeExam.html",windowClass:"editProductCategoryDialog",controller:"NameBeforeExamCtrl",backdrop:"static",resolve:{item:function(){return n.Studentmessage}}});u.result.then(function(n){n&&i.go("NeedsResearch",{Id:r,ClassID:f.Id,Type:1,LinkType:1})})}else i.go("NeedsResearch",{Id:r,ClassID:f.Id,Type:1,LinkType:1})};n.gotoClassDetailNew=function(){i.go("ClassStudy",{Id:w})};n.classexamtest=function(i){var r,u;n.Studentmessage.Name==null||n.Studentmessage.Name==""?(r=t.open({templateUrl:"/Client/Views/UserCenter/NameBeforeExam.html",windowClass:"editProductCategoryDialog",controller:"NameBeforeExamCtrl",backdrop:"static",resolve:{item:function(){return n.Studentmessage}}}),r.result.then(function(t){if(t){var r={Data:{TestObject:{IdList:[i],Type:4,classId:f.Id}},okClick:function(){p.GetMyTodoList({classID:w},{},function(t){n.TodoList=t})}};e.open(r)}})):(u={Data:{TestObject:{IdList:[i],Type:4,classId:f.Id}},okClick:function(){p.GetMyTodoList({classID:w},{},function(t){n.TodoList=t})}},e.open(u))};n.newgotoFeedback=function(i){if(n.Studentmessage.Name==null||n.Studentmessage.Name==""){var r=t.open({templateUrl:"/Client/Views/UserCenter/NameBeforeExam.html",windowClass:"editProductCategoryDialog",controller:"NameBeforeExamCtrl",backdrop:"static",resolve:{item:function(){return n.Studentmessage}}});r.result.then(function(n){n&&(window.location.href="/UserCenter/Feedback?paperId="+i+"&op=0&classid="+f.Id+"&LinkType=1")})}else window.location.href="/UserCenter/Feedback?paperId="+i+"&op=0&classid="+f.Id+"&LinkType=1"};n.newdoGroupingResearch=function(r){if(n.Studentmessage.Name==null||n.Studentmessage.Name==""){var u=t.open({templateUrl:"/Client/Views/UserCenter/NameBeforeExam.html",windowClass:"editProductCategoryDialog",controller:"NameBeforeExamCtrl",backdrop:"static",resolve:{item:function(){return n.Studentmessage}}});u.result.then(function(n){n&&i.go("NeedsResearch",{Id:r,ClassID:w,Type:0,LinkType:1})})}else i.go("NeedsResearch",{Id:r,ClassID:w,Type:0,LinkType:1})};n.gotoclassshare=function(n,t){p.UpdatePersonTodo({id:t},{},function(n){n.Success?i.go("ClassShare",{Id:w}):alert(n.Message)})};n.gotostudy=function(n){linkTargetTo("/study/"+n.CourseCode)};n.examCourse=function(n){var t={Data:{TestObject:{IdList:[n],Type:8,CourseId:n}},okClick:function(){}};o.open(t)};n.apply=function(i){n.typeandcourseid={type:0,courseid:i};var r=t.open({backdrop:"static",templateUrl:"/Client/Views/UserCenter/CredentialsApply.html",controller:"CredentialsApplyCtrl",resolve:{types:function(){return n.typeandcourseid}}});r.result.then(function(){n.getListnotapply()})};n.gotopubliclive=function(n){linkTargetTo("/livepubliccourse/"+n.PublicLiveCode)};n.gotopubliclivePlayBcak=function(n){linkTargetTo("/livepubliccourse/playback?code="+n.PublicLiveCode)};n.showTodoList=function(i){for(var r,f,u=0;u<n.TodoList.length;u++)n.TodoList[u].ClassToDoType==i&&(n.WindowTodoListData=n.TodoList[u]);if(n.WindowTodoListData.ClassList.length>0)if(n.WindowTodoListData.ClassList.length==1&&n.WindowTodoListData.TodoDetail.length==1){r=n.WindowTodoListData.TodoDetail[0];switch(r.ToDoType){case 0:n.gotoCourse(r.Code,r.ID);break;case 1:n.gotoCourse(r.Code,r.ID);break;case 3:n.newexam(r.SourceID,r.ObjectID);break;case 4:n.gotoClassDetailNew(r.ObjectID);break;case 5:n.classexamtest(r.SourceID,r.ObjectID);break;case 6:n.newgotoFeedback(r.SourceID,r.ObjectID);break;case 7:n.newdoGroupingResearch(r.SourceID,r.ObjectID);break;case 8:n.gotoclassshare(r.ObjectID,r.ID)}}else f=t.open({templateUrl:"/Client/Views/TodoClassList.html",windowClass:"editProductCategoryDialog",controller:"StudyCenterTodoListCtrl",backdrop:"static",resolve:{itemData:function(){return n.WindowTodoListData}}}),f.result.then(function(){})}}]);controllers.controller("ClassInfoCtrl",["$scope","$modal","$state","ClassService","PaperService","$stateParams","examModal","FileService","StudentService","MessageBox","ClassQAService","StudyService","examModal","$location","DynamicsService","TodoService",function(n,t,i,r,u,f){var e=f.Id;n.classId=f.Id;r.GetClassIdentification({classId:f.Id},{},function(n){$(".isall_hide").css("display","block");n.IsStudent&&$(".isstudent_hide").css("display","block");n.IsClassManager&&$(".ismanager_hide").css("display","block")});r.GetClassUserLab({classId:f.Id},{},function(n){n.HasLab==!0&&$(".islab_hide").css("display","block")});n.getdetail=function(){r.GetDetail({classId:f.Id},{},function(t){n.Detail=t})};n.getdetail()}]);controllers.controller("ClassLabCtrl",["$scope","$modal","$state","ClassService","PaperService","$stateParams","examModal","FileService","StudentService","MessageBox","ClassQAService","StudyService","examModal","$location","DynamicsService","TodoService",function(n,t,i,r,u,f){var e=f.Id;n.classId=f.Id;n.VMApply={classID:e,vmConfigID:""};n.VMHost={Message:""};n.Applying=!1;n.getdetail=function(){r.GetClassIdentification({classId:f.Id},{},function(n){$(".isall_hide").css("display","block");n.IsStudent&&$(".isstudent_hide").css("display","block");n.IsClassManager&&$(".ismanager_hide").css("display","block")});r.GetClassUserLab({classId:f.Id},{},function(t){t.HasLab==!0&&$(".islab_hide").css("display","block");n.VmConfigList=t.LabTemplate.VmList;n.VmList=t.VmList;n.GuacamoleAccount=t.GuacamoleAccount;n.GuacamolePassword=t.GuacamolePassword})};n.LoadNewData=function(){r.GetClassUserLab({classId:f.Id},{},function(t){t.HasLab==!0&&$(".islab_hide").css("display","block");n.VmConfigList=t.LabTemplate.VmList;n.VmList=t.VmList;n.GuacamoleAccount=t.GuacamoleAccount;n.GuacamolePassword=t.GuacamolePassword})};n.getdetail();n.CreateVmApply=function(t){n.VMApply.vmConfigID=t;n.Applying=!0;r.CreateVmApply({},n.VMApply,function(t){n.Applying=!1;t.Success==!0?r.GetClassUserLab({classId:f.Id},{},function(t){t.HasLab==!0&&$(".islab_hide").css("display","block");n.VmConfigList=t.LabTemplate.VmList;n.VmList=t.VmList}):alert(t.Message)})};n.StopVm=function(t){n.VMHost.Message=t;r.StopVm({},n.VMHost,function(t){t.Success==!0?r.GetClassUserLab({classId:f.Id},{},function(t){t.HasLab==!0&&$(".islab_hide").css("display","block");n.VmConfigList=t.LabTemplate.VmList;n.VmList=t.VmList}):alert(t.Message)})};n.StartVm=function(t){n.VMHost.Message=t;r.StartVm({},n.VMHost,function(t){t.Success==!0?r.GetClassUserLab({classId:f.Id},{},function(t){t.HasLab==!0&&$(".islab_hide").css("display","block");n.VmConfigList=t.LabTemplate.VmList;n.VmList=t.VmList}):alert(t.Message)})};n.EnterLab=function(){window.open(guacamoleUrl+"?username="+n.GuacamoleAccount+"&password="+n.GuacamolePassword)}}]);controllers.controller("ClassManageCtrl",["$scope","$modal","$state","ClassService","PaperService","$stateParams","examModal","FileService","StudentService","MessageBox","ClassQAService","StudyService","examModal","$location","DynamicsService","TodoService",function(n,t,i,r,u,f,examModal,e,o,s){var h=f.Id;n.classId=f.Id;r.GetClassIdentification({classId:f.Id},{},function(n){$(".isall_hide").css("display","block");n.IsStudent&&$(".isstudent_hide").css("display","block");n.IsClassManager&&$(".ismanager_hide").css("display","block")});r.GetClassUserLab({classId:f.Id},{},function(n){n.HasLab==!0&&$(".islab_hide").css("display","block")});n.data={ClassStatistics:null,QAPage:{PageIndex:1,PageSize:1e4},QA:{ParentID:null,Content:"",ClassId:h}};n.isoffline=!0;n.isonline=!1;n.selectoffline=function(){document.getElementById("offline").className="newtab";document.getElementById("online").className="anothertab";n.isoffline=!0;n.isonline=!1};n.selectonline=function(){document.getElementById("offline").className="anothertab";document.getElementById("online").className="newtab";n.isoffline=!1;n.isonline=!0};n.GetClassStatistics=function(){r.GetClassStatistics({classId:h},{},function(t){n.data.ClassStatistics=t;r.GetClassStatisticsPaged({classId:h,pageIndex:1},{},function(t){n.thestudentlist=t});n.data.ClassStatistics.ClassInfoSummary!=null&&n.data.ClassStatistics.ClassInfoSummary.DateList.length>4&&$("#offlinetable").width(960+(n.data.ClassStatistics.ClassInfoSummary.DateList.length-4)*90);n.data.ClassStatistics.ClassInfoSummary!=null&&n.data.ClassStatistics.ClassInfoSummary.CourseList.length>3&&$("#onlinetable").width(960+(n.data.ClassStatistics.ClassInfoSummary.CourseList.length-3)*170)})};n.GetClassStatistics();n.GetTheStudentPagedList=function(t){r.GetClassStatisticsPaged({classId:h,pageIndex:t},{},function(t){n.thestudentlist=t})};n.outputStudentInfo=function(){window.location.href=sourceUrl+"api/Class/OutputStudentSigninMessageForManager?classId="+f.Id};n.outputStudentonlineInfo=function(){window.location.href=sourceUrl+"api/Class/OutputStudentOnlineForManager?classId="+f.Id};n.download=function(n){e.GetFile({id:n},{},function(n){var t,i;n.Success?(t=document.getElementById("web-download-link"),t==null&&(t=document.createElement("a"),t.setAttribute("id","web-download-link"),t.setAttribute("target","_blank"),t.setAttribute("display","none"),document.body.appendChild(t)),t.setAttribute("href",n.Target),i=document.createEvent("MouseEvents"),i.initEvent("click",!0,!0),t.dispatchEvent(i)):s.open("信息提示","文件下载失败。详细信息："+n.Message,!1)})};n.downloadExamReport=function(n){window.location.href=sourceUrl+"api/Paper/OutPutPreExamByClassId?classId="+n.ClassID+"&PaperID="+n.PaperID}}]);controllers.controller("ClassmatesCtrl",["$scope","$modal","$state","ClassService","TopicService","$stateParams","ngNotify","$compile",function(n,t,i,r,u,f,e){e.config({duration:2e3,position:"top"});var s=f.Id,o=null,c=!1;n.placeholder={Title:{"提问":"写下你的问题","写文章":"请输入标题","分享作业":"写下你要分享作业的主题","共享资料":"写下你要共享资料的主题"},Content:{"提问":"问题背景、条件等详细信息","写文章":"文章的内容","分享作业":"作业的描述、附件等信息","共享资料":"资料的描述、附件等信息"},ContentBackground:{"提问":"question","写文章":"article","分享作业":"homework","共享资料":"resource",Template:'rgba(0, 0, 0, 0) url("/Content/images/Classmates/question.jpg") no-repeat scroll 3px 3px'}};n.classId=s;r.GetClassIdentification({classId:s},{},function(n){$(".isall_hide").css("display","block");n.IsStudent&&$(".isstudent_hide").css("display","block");n.IsClassManager&&$(".ismanager_hide").css("display","block")});r.GetClassUserLab({classId:f.Id},{},function(n){n.HasLab==!0&&$(".islab_hide").css("display","block")});n.topicPage={PageIndex:1,PageSize:10,Records:[]};n.Topic={};n.writeTopicType="";n.resourceTypeList=[];n.Topic.Question={TypeName:"问题",Title:"",Content:"",InviteType:0,ActionScope:1,ClassID:s};n.Topic.Article={TypeName:"文章",Title:"",Content:"",InviteType:0,ActionScope:1,ClassID:s};n.Topic.Resources={TypeName:"资料",Title:"",Content:"",InviteType:0,ActionScope:1,ClassID:s,ResourceType:""};n.Topic.HomeWork={TypeName:"作业",Title:"",Content:"",InviteType:0,ActionScope:1,ClassID:s};n.Topic.Current=n.Topic.Question;n.topicFilter={TypeName:""};var h=function(){var t=document.getElementById("myEditor"),i=n.placeholder.ContentBackground.Template.replace("question",n.placeholder.ContentBackground[n.writeTopicType]);t.style.background=i},l=function(){var n=document.getElementById("myEditor");n.style.background="none"},a=function(){o.setContent("",!1);h()},v=function(){UM.clearCache("myEditor");o=UM.getEditor("myEditor");o.addListener("blur",function(){o.hasContents()?l():h()});o.addListener("contentChange",function(){o.hasContents()?l():h()});o.addListener("selectionchange",function(){o.hasContents()?l():h()})};n.getTopicList=function(t){u.GetList({pageIndex:t,pageSize:n.topicPage.PageSize,classID:s,typeName:n.topicFilter.TypeName},{},function(t){n.topicPage=t})};var y=function(){u.GetExpandTypeList({area:"同学圈",topicType:"资料"},{},function(t){n.resourceTypeList=t;n.Topic.Resources.ResourceType=t[0]})},p=function(){v();n.getTopicList(1);y()},w=function(){n.Topic.Current.Title="";n.Topic.Current.Content="";a()};n.setTopicType=function(t){n.topicFilter.TypeName=t;n.getTopicList(1)};n.writeTopic=function(t){t=="提问"?(n.Topic.Current=n.Topic.Question,n.Topic.Current.ShowEditBox=!0,n.writeTopicType="提问"):t=="写文章"?(n.Topic.Current=n.Topic.Article,n.Topic.Current.ShowEditBox=!0,n.writeTopicType="写文章"):t=="分享作业"?(n.Topic.Current=n.Topic.HomeWork,n.Topic.Current.ShowEditBox=!0,n.writeTopicType="分享作业"):t=="共享资料"&&(n.Topic.Current=n.Topic.Resources,n.Topic.Current.ShowEditBox=!0,n.writeTopicType="共享资料");a()};n.createTopic=function(){n.Topic.Current.Content=o.getContent();n.Topic.Current.Title?u.Create({},n.Topic.Current,function(t){t.Success?(n.getTopicList(1),w(),e.set("话题创建成功！","success")):e.set(t.Message,"error")}):e.set("请填写话题标题","error")};n.thumbsUpTopic=function(n){c||(c=!0,u.ThumbsUpTopic({},n,function(t){c=!1;t.Success?(n.LikeCount=t.Target.LikeCount,n.IsThumbsUp=t.Target.IsThumbsUp,e.set("点赞成功！","success")):e.set(t.Message,"error")}))};n.showOrHideDetail=function(n){n.ShowDetail=!n.ShowDetail};n.cancelWriteTopic=function(){n.Topic.Current.ShowEditBox=!1;n.writeTopicType=""};n.gotoTopicDetail=function(n){i.go("TopicDetail",{Id:n.ID,ClassID:s})};p()}]);controllers.controller("ClassShareCtrl",["$scope","$modal","$state","ClassService","PaperService","$stateParams","examModal","FileService","StudentService","MessageBox","ClassQAService","StudyService","examModal","$location","DynamicsService","TodoService",function(n,t,i,r,u,f,examModal,e,o,s){n.setactive(5);var h=f.Id;n.classId=f.Id;n.GetClassDetail=function(){r.GetClassIdentification({classId:f.Id},{},function(n){$(".isall_hide").css("display","block");n.IsStudent&&$(".isstudent_hide").css("display","block");n.IsClassManager&&$(".ismanager_hide").css("display","block")});r.GetClassUserLab({classId:f.Id},{},function(n){n.HasLab==!0&&$(".islab_hide").css("display","block")})};n.GetClassDetail();n.download=function(n){e.GetFile({id:n},{},function(n){var t,i;n.Success?(t=document.getElementById("web-download-link"),t==null&&(t=document.createElement("a"),t.setAttribute("id","web-download-link"),t.setAttribute("target","_blank"),t.setAttribute("display","none"),document.body.appendChild(t)),t.setAttribute("href",n.Target),i=document.createEvent("MouseEvents"),i.initEvent("click",!0,!0),t.dispatchEvent(i)):s.open("信息提示","文件下载失败。详细信息："+n.Message,!1)})};n.GetClassFiles=function(){r.GetCourseMaterials({classId:f.Id},{},function(t){n.Files=t})};n.GetClassFiles()}]);controllers.controller("ClassStudyCtrl",["$scope","$modal","$state","ClassService","PaperService","$stateParams","examModal","FileService","StudentService","MessageBox","ClassQAService","StudyService","examModal","$location","DynamicsService","TodoService","examStudyModal","PublicLiveService","MessageBoxSelect",function(n,t,i,r,u,f,e,o,s,h,c,l,e,a,v,y,p,w,b){function ot(){var n=null;if(window.XMLHttpRequest?n=new XMLHttpRequest:window.ActiveXObject&&(n=new ActiveXObject("Microsoft.XMLHTTP")),n!=null)return phpUrl=sourceUrl+"api/File/GetParams",n.open("GET",phpUrl,!1),n.send(null),n.responseText;alert("Your browser does not support XMLHTTP.")}function st(){if(et=timestamp=Date.parse(new Date)/1e3,ft<et-29){console.log("get new sign");body=ot();var obj=eval("("+body+")");return it=obj.host,rt=obj.policy,tt=obj.accessid,ut=obj.signature,ft=parseInt(obj.expire),g=obj.dir,!0}return!1}function nt(n){var t=st();t==!0&&(new_multipart_params={key:g+"${filename}",policy:rt,OSSAccessKeyId:tt,success_action_status:"200",signature:ut},n.setOption({url:it,multipart_params:new_multipart_params}),console.log("reset uploader"))}var k,d;n.setactive(5);k=f.Id;n.classId=f.Id;s.GetById({studentId:null},{},function(t){n.Studentmessage=t});n.GetClassDetail=function(){r.GetClassIdentification({classId:f.Id},{},function(n){$(".isall_hide").css("display","block");n.IsStudent&&$(".isstudent_hide").css("display","block");n.IsClassManager&&$(".ismanager_hide").css("display","block")});r.GetClassUserLab({classId:f.Id},{},function(n){n.HasLab==!0&&$(".islab_hide").css("display","block")})};n.GetClassDetail();n.getstudymanage=function(){l.GetMyClassStudyManage({classID:k},{},function(t){n.StudyManage=t})};n.getstudymanage();n.getcourselist=function(){l.GetMyCourseByClassID({classID:k},{},function(t){n.CourseList=t;angular.forEach(n.CourseList,function(n){n.offlinestring="";angular.forEach(n.OfflineProgressList,function(t){n.offlinestring=n.offlinestring+t.Progress+"% "})})})};n.getcourselist();n.gotostudy=function(n){linkTargetTo("/study/"+n.CourseCode)};n.examCourse=function(n){var t={Data:{TestObject:{IdList:[n],Type:8,CourseId:n}},okClick:function(){}};p.open(t)};n.newGetPaper=function(n){i.go("NeedsResearch",{Id:n,ClassID:f.Id,Type:3,LinkType:1})};n.newGetGroupingReseach=function(n){i.go("NeedsResearch",{Id:n,ClassID:f.Id,Type:2,LinkType:1})};n.newdoGroupingResearch=function(r){if(n.Studentmessage.Name==null||n.Studentmessage.Name==""){var u=t.open({templateUrl:"/Client/Views/UserCenter/NameBeforeExam.html",windowClass:"editProductCategoryDialog",controller:"NameBeforeExamCtrl",backdrop:"static",resolve:{item:function(){return n.Studentmessage}}});u.result.then(function(n){n&&i.go("NeedsResearch",{Id:r,ClassID:k,Type:0,LinkType:1})})}else i.go("NeedsResearch",{Id:r,ClassID:k,Type:0,LinkType:1})};n.newgotoFeedback=function(i){if(n.Studentmessage.Name==null||n.Studentmessage.Name==""){var r=t.open({templateUrl:"/Client/Views/UserCenter/NameBeforeExam.html",windowClass:"editProductCategoryDialog",controller:"NameBeforeExamCtrl",backdrop:"static",resolve:{item:function(){return n.Studentmessage}}});r.result.then(function(n){n&&(window.location.href="/UserCenter/Feedback?paperId="+i+"&op=0&classid="+f.Id+"&LinkType=1")})}else window.location.href="/UserCenter/Feedback?paperId="+i+"&op=0&classid="+f.Id+"&LinkType=1"};n.newgotoFeedbackRecord=function(n){window.location.href="/UserCenter/Feedback?paperId="+n+"&op=1&classid="+f.Id+"&LinkType=1"};n.gethomeworklist=function(){l.GetMyClassWorkList({classID:k},{},function(t){n.StudyManage.ClassWorkList=t})};n.newexam=function(r){if(n.Studentmessage.Name==null||n.Studentmessage.Name==""){var u=t.open({templateUrl:"/Client/Views/UserCenter/NameBeforeExam.html",windowClass:"editProductCategoryDialog",controller:"NameBeforeExamCtrl",backdrop:"static",resolve:{item:function(){return n.Studentmessage}}});u.result.then(function(n){n&&i.go("NeedsResearch",{Id:r,ClassID:f.Id,Type:1,LinkType:1})})}else i.go("NeedsResearch",{Id:r,ClassID:f.Id,Type:1,LinkType:1})};n.classexamtestnew=function(t,i){function r(){n.classexamtest(t)}i.IsDone&&i.CanDoMoreThanOnce==!1||(i.IsDone&&i.CanDoMoreThanOnce?b.open("友情提醒","您已提交过该学习测评答案，重做将会覆盖上次的记录",!1,r):n.classexamtest(t))};n.classexamtest=function(i){var r,u;n.Studentmessage.Name==null||n.Studentmessage.Name==""?(r=t.open({templateUrl:"/Client/Views/UserCenter/NameBeforeExam.html",windowClass:"editProductCategoryDialog",controller:"NameBeforeExamCtrl",backdrop:"static",resolve:{item:function(){return n.Studentmessage}}}),r.result.then(function(t){if(t){var r={Data:{TestObject:{IdList:[i],Type:4,classId:f.Id}},okClick:function(){n.getstudymanage()}};e.open(r)}})):(u={Data:{TestObject:{IdList:[i],Type:4,classId:f.Id}},okClick:function(){n.getstudymanage()}},e.open(u))};n.classexamtestresult=function(n){var i=t.open({templateUrl:"/Client/Views/DialogExamResultNew.html",windowClass:"TestresultDialog",controller:"DialogExamResultNewCtrl",backdrop:"static",resolve:{item:function(){return n}}});i.result.then(function(){})};var tt="",it="",rt="",ut="",g="",ft=0,et=timestamp=Date.parse(new Date)/1e3;d=new plupload.Uploader({runtimes:"html5,flash,silverlight,html4",browse_button:"selectfiles",container:document.getElementById("container"),flash_swf_url:"lib/plupload-2.1.2/js/Moxie.swf",silverlight_xap_url:"lib/plupload-2.1.2/js/Moxie.xap",url:"http://oss.aliyuncs.com",init:{PostInit:function(){document.getElementById("ossfile")!=null&&(document.getElementById("ossfile").innerHTML="");document.getElementById("postfiles").onclick=function(){return nt(d),d.start(),!1}},FilesAdded:function(t,i){$(".submitsomehomework").attr("disabled",!0);$(".deleteonehomework").attr("disabled",!0);var r=0;n.uploadfilecount=i.length;n.uploadfilefinishcount=0;plupload.each(i,function(t){n.thelist.MyWorkList.unshift({Name:t.name,AttachmentID:t.id});n.$apply();document.getElementById(t.id).innerHTML+='<div style="display:inline-block;margin-left:10px;" id="'+t.id+'"><b><span>上传中...<\/span><\/b><\/div>';r++;r==i.length&&document.getElementById("postfiles").click()});$(".submitsomehomework").attr("disabled",!0);$(".deleteonehomework").attr("disabled",!0)},UploadProgress:function(n,t){var i=document.getElementById(t.id)},FileUploaded:function(t,i,r){console.log("uploaded");console.log(r.status);r.status>=200||r.status<200?(document.getElementById(i.id).getElementsByTagName("b")[0].innerHTML="成功",n.file={Id:"",Name:g+i.name,FileName:i.name,Size:i.size},o.CreateAttachments({},n.file,function(t){t.Success&&(n.theupload.HomeworkID=t.Target.AttachmentID,l.SubmitClassHomework({},n.theupload,function(t){t.Success?(n.uploadfilefinishcount++,n.uploadfilefinishcount==n.uploadfilecount&&(n.gethomeworklist(),$(".submitsomehomework").attr("disabled",!1),$(".deleteonehomework").attr("disabled",!1))):alert("上传失败")}))}),nt(t)):document.getElementById(i.id).getElementsByTagName("b")[0].innerHTML=r.response},Error:function(n){nt(n)}}});d.init();n.uploadthehomework=function(t,i,r){n.thelist=r;n.theupload={ClassID:k,JobID:t,HomeworkID:"",JobName:i};document.getElementById("selectfiles").click()};n.deletemyhomework=function(t,i){n.thedeleteupload={ClassID:k,JobID:t,HomeworkID:i};l.DeleteClassHomework({},n.thedeleteupload,function(t){t.Success?n.gethomeworklist():alert("删除失败")})};n.download=function(n){o.GetFile({id:n},{},function(n){var t,i;n.Success?(t=document.getElementById("web-download-link"),t==null&&(t=document.createElement("a"),t.setAttribute("id","web-download-link"),t.setAttribute("target","_blank"),t.setAttribute("display","none"),document.body.appendChild(t)),t.setAttribute("href",n.Target),i=document.createEvent("MouseEvents"),i.initEvent("click",!0,!0),t.dispatchEvent(i)):h.open("信息提示","文件下载失败。详细信息："+n.Message,!1)})};n.gotopubliclive=function(n){linkTargetTo("/livepubliccourse/"+n.PublicLiveCode)};n.gotopubliclivePlayBcak=function(n){linkTargetTo("/livepubliccourse/playback?code="+n.PublicLiveCode)}}]);controllers.controller("MyClassCtrl",["$scope","$modal","$state","ClassService",function(n,t,i,r){n.dataContainer={NotCompleteList:null,CompleteList:null};n.GetClassNotCompleted=function(){n.classloading=!0;r.GetMyList({isCompleted:!1},{},function(t){n.classloading=!1;n.dataContainer.NotCompleteList=[];angular.forEach(t,function(t){t.DisplayAsParent=!0;n.dataContainer.NotCompleteList.push(t);angular.forEach(t.ChildClasses,function(t){t.DisplayAsParent=!1;n.dataContainer.NotCompleteList.push(t)})});n.notcompletednum=n.dataContainer.NotCompleteList.length})};n.GetClassNotCompleted();n.GetClassCompleted=function(){r.GetMyList({isCompleted:!0},{},function(t){n.dataContainer.CompleteList=[];angular.forEach(t,function(t){t.DisplayAsParent=!0;n.dataContainer.CompleteList.push(t);angular.forEach(t.ChildClasses,function(t){t.DisplayAsParent=!1;n.dataContainer.CompleteList.push(t)})});n.completednum=n.dataContainer.CompleteList.length})};n.GetClassCompleted();n.newclass=function(){var i=t.open({templateUrl:"/Client/Views/UserCenter/NewClassIdentifie.html",windowClass:"editProductCategoryDialog",controller:"NewClassIdentifieCtrl",backdrop:"static"});i.result.then(function(){n.GetClassNotCompleted();n.GetClassCompleted()})};n.gotoDetailParent=function(n){n.IsBigClass?i.go("ClassDetailParent",{Id:n.Id}):i.go("ClassDetailChild",{Id:n.Id})};n.gotoClassDetail=function(n){i.go("ClassIndex",{Id:n.Id})}}]);controllers.controller("PublicLiveChapterListCtrl",["$scope","$modal","$state","$modalInstance","itemData",function(n,t,i,r,u){n.chapterlist=u;n.cancel=function(){r.dismiss("cancel")}}]);controllers.controller("TopicDetailCtrl",["$scope","$modal","$state","ClassService","TopicService","$stateParams","ngNotify",function(n,t,i,r,u,f,e){e.config({duration:2e3,position:"top"});var v=f.Id,y=f.ClassID,o=null,h=!1,c=!1;n.classId=y;n.answerPostPage={PageIndex:1,PageSize:10,Records:[]};n.placeholder={Answer:{"问题":'<p><span style="color: rgb(199, 199, 199); font-size: 12px;">你对这个问题的回答<\/span><\/p>',"文章":'<p><span style="color: rgb(199, 199, 199); font-size: 12px;">你对这篇文章的点评<\/span><\/p>',"作业":'<p><span style="color: rgb(199, 199, 199); font-size: 12px;">你对这份作业的点评<\/span><\/p>',"资料":'<p><span style="color: rgb(199, 199, 199); font-size: 12px;">你对这份资料的点评<\/span><\/p>'},AnswerComment:{"问题":"你对这个回答的看法","文章":"你对这个文章点评的看法","作业":"你对这个作业点评的看法","资料":"你对这个资料点评的看法"},ContentBackground:{"问题":"question-detail","文章":"article-detail","作业":"homework-detail","资料":"resource-detail",Template:'rgba(0, 0, 0, 0) url("/Content/images/Classmates/question-detail.jpg") no-repeat scroll 3px 3px'}};n.answerPost={Comment:"",TopicID:""};n.TopicInfo={Content:"",TypeName:""};var s=function(){var t=document.getElementById("myEditor2"),i=n.placeholder.ContentBackground.Template.replace("question-detail",n.placeholder.ContentBackground[n.TopicInfo.TypeName]);t.style.background=i},l=function(){var n=document.getElementById("myEditor2");n.style.background="none"},p=function(){o.setContent("",!1);s()},w=function(){UM.clearCache("myEditor2");o=UM.getEditor("myEditor2");o.addListener("blur",function(){o.hasContents()?l():s()});o.addListener("contentChange",function(){o.hasContents()?l():s()});o.addListener("selectionchange",function(){o.hasContents()?l():s()})};n.GetClassDetail=function(){r.GetDetail({classId:y},{},function(t){n.Detail=t;$(".isall_hide").css("display","block");n.Detail.IsStudent&&$(".isstudent_hide").css("display","block");n.Detail.IsClassManager&&$(".ismanager_hide").css("display","block")})};n.GetClassDetail();var b=function(){u.GetTopicInfo({topicID:v},{},function(t){n.TopicInfo=t;p()})},a=function(n){n.IsLoadingPostList=!0;u.GetCommentPostList({pageIndex:1,pageSize:1e3,postID:n.ID},{},function(t){n.PostList=t.Records;n.PostCount=t.TotalCount;n.IsLoadingPostList=!1})},k=function(n,t){var r=!1,i;if(!n&&n.length>0)for(i=0;i<n.length;i++)if(n[i].ID==t.ID){r=!0;break}return r};n.getAnswerPostList=function(t){u.GetAnswerPostList({pageIndex:t,pageSize:n.answerPostPage.PageSize,topicID:v},{},function(t){n.answerPostPage=t;n.TopicInfo.PostCount=t.TotalCount})};n.thumbsUpTopic=function(n){c||(c=!0,u.ThumbsUpTopic({},n,function(t){c=!1;t.Success?(n.LikeCount=t.Target.LikeCount,n.IsThumbsUp=t.Target.IsThumbsUp,e.set("点赞成功！","success")):e.set(t.Message,"error")}))};n.thumbsUpPost=function(n){h||(h=!0,u.ThumbsUpPost({},n,function(t){h=!1;t.Success?(n.LikeCount=t.Target.LikeCount,n.IsThumbsUp=t.Target.IsThumbsUp,e.set("点赞成功！","success")):e.set(t.Message,"error")}))};n.OpenCommentPost=function(n){n.PostList=[];a(n);n.IsCommentPostOpened=!0};n.RollUpCommentPost=function(n){n.IsCommentPostOpened=!1};n.Comment=function(n){n.ShowCommentBox=!0;n.CommentBoxPlaceholder="回复 "+n.User.DisplayName;n.ReplyContent=""};n.SubmitComment=function(n,t){if(t.ReplyContent){var i={ParentPostID:t.ID,Comment:t.ReplyContent,TopicID:t.TopicID};u.CreatePost({},i,function(i){i.Success?(t.ShowCommentBox=!1,a(n),t.ReplyContent="",e.set("评论成功！","success")):e.set(i.Message,"error")})}else e.set("不能提交空白评论！","error")};n.CancelComment=function(n,t){t.ShowCommentBox=!1};n.deletePost=function(n,t){u.DeletePost({},t,function(t){t.Success?(a(n),e.set("评论删除成功！","success")):e.set(t.Message,"error")})};n.SubmitAnswer=function(t){n.answerPost.TopicID=t.ID;n.answerPost.Comment=o.getContent();n.answerPost.Comment?u.CreatePost({},n.answerPost,function(t){t.Success?(n.answerPost.Comment="",p(),n.getAnswerPostList(1),e.set("回答或点评成功！","success")):e.set(t.Message,"error")}):e.set("不能提交空白回答或者点评！","error")};w();b();n.getAnswerPostList(1)}]);controllers.controller("ArticleSearchCtrl",["$scope","CourseService","ArticleService","VideoRecommendService","GeneralService","ArticleCategoryService","MarketingEventService",function(n,t,i,r,u,f,e){var o;n.searching=!0;n.type=angular.element("#data_type").val();n.News={PageIndex:1,PageSize:16,PageList:[]};n.type==0?n.selecttype="":n.type==1?n.selecttype="IT管理":n.type==2?n.selecttype="IT技术实战":n.type==3?n.selecttype="软件研发":n.type==4&&(n.selecttype="办公技能");o=function(){var t,i,f,r,u,e,o;for(n.News.PageList=[],t=0,i=1,n.News.TotalPages<=7?(t=n.News.TotalPages,i=1):(t=7,f=n.News.PageIndex-3,r=n.News.TotalPages-n.News.PageIndex,i=f>0&&r>=3?n.News.PageIndex-3:f>0&&r<3?n.News.PageIndex-3-(3-r):1),u=0;u<t;u++)e=i+u,o={Index:e,IsSelected:e==n.News.PageIndex},n.News.PageList.push(o)};n.key="";n.getnews=function(t){n.News.Records=[];n.searching=!0;t!=undefined&&(n.News.PageIndex=t);var r=n.News.PageIndex,u=n.News.PageSize;n.selecttypeobject==null&&(n.selecttypeobject={name:""});i.GetArticlesByKeyAndCateName({pageIndex:r,pageSize:u,keyword:n.key,cateName:"原创文章分享",articlecatename:n.selecttypeobject.name},function(t){n.searching=!1;n.News=t;angular.forEach(n.News.Records,function(n){n.SubCategoryName!=null&&n.SubCategoryName!=""&&(n.Name="【"+n.SubCategoryName+"】"+n.Name)});o();document.getElementById("nocontain").style.display="block"})};n.firstgetnews=function(t){n.searching=!0;t!=undefined&&(n.News.PageIndex=t);var r=n.News.PageIndex,u=n.News.PageSize;f.GetByParentId({Id:"e7e05716-7d70-411c-96ce-99ab9fd79a17"},{},function(t){n.selecttypeobject={name:""};n.articletype=t;angular.forEach(n.articletype,function(t){t.name==n.selecttype&&(n.selecttypeobject=t)});i.GetArticlesByKeyAndCateName({pageIndex:r,pageSize:u,keyword:n.key,cateName:"原创文章分享",articlecatename:n.selecttypeobject.name},function(t){document.getElementById("nocontain").style.display="block";n.searching=!1;n.News=t;angular.forEach(n.News.Records,function(n){n.SubCategoryName!=null&&n.SubCategoryName!=""&&(n.Name="【"+n.SubCategoryName+"】"+n.Name)});o()})})};n.gotoFirst=function(){n.News.PageIndex=1;n.getnews()};n.next=function(){var t=n.News.PageIndex+1;n.News.PageIndex=t;n.getnews()};n.goto=function(t){n.News.PageIndex=t;n.getnews()};n.prev=function(){var t=n.News.PageIndex-1;n.News.PageIndex=t;n.getnews()};n.gotoEnd=function(){n.News.PageIndex=n.News.TotalPages;n.getnews()};var s=function(){r.GetHotPageList({pageIndex:1,pageSize:6,locationName:""},{},function(t){n.HotVideoList=t})},h=function(){t.GetLatestedOfflineCourse({pageIndex:1,pageSize:6},{},function(t){n.CoursePage=t})},c=function(){e.GetList({keyword:"",pageSize:6,pageIndex:1},{},function(t){n.LatestFreeClassNewsPage=t;angular.forEach(n.LatestFreeClassNewsPage.Records,function(n){if(n.TimeList!=null&&n.TimeList.length!=0){var t=n.TimeList.split(" ");n.TimeList=t[0]}})})};n.firstgetnews();s();h();c()}]);controllers.controller("FreeClassNewsSearchCtrl",["$scope","CourseService","ArticleService","VideoRecommendService","GeneralService","MarketingEventService",function(n,t,i,r,u,f){n.searching=!0;n.LatestFreeClassNewsPage={PageIndex:1,PageSize:18,PageList:[]};var o=function(){var t,i,f,r,u,e,o;for(n.LatestFreeClassNewsPage.PageList=[],t=0,i=1,n.LatestFreeClassNewsPage.TotalPages<=7?(t=n.LatestFreeClassNewsPage.TotalPages,i=1):(t=7,f=n.LatestFreeClassNewsPage.PageIndex-3,r=n.LatestFreeClassNewsPage.TotalPages-n.LatestFreeClassNewsPage.PageIndex,i=f>0&&r>=3?n.LatestFreeClassNewsPage.PageIndex-3:f>0&&r<3?n.LatestFreeClassNewsPage.PageIndex-3-(3-r):1),u=0;u<t;u++)e=i+u,o={Index:e,IsSelected:e==n.LatestFreeClassNewsPage.PageIndex},n.LatestFreeClassNewsPage.PageList.push(o)},s=function(t){i.GetArticlesByCateName({pageIndex:t,pageSize:6,keyword:"",cateName:"培训新闻"},function(t){n.News=t})},h=function(){r.GetHotPageList({pageIndex:1,pageSize:6,locationName:""},{},function(t){n.HotVideoList=t})},c=function(){t.GetLatestedOfflineCourse({pageIndex:1,pageSize:6},{},function(t){n.CoursePage=t})},e=function(){n.searching=!0;var t=n.LatestFreeClassNewsPage.PageIndex,i=n.LatestFreeClassNewsPage.PageSize;f.GetList({keyword:"",pageSize:i,pageIndex:t},function(t){n.searching=!1;n.LatestFreeClassNewsPage=t;angular.forEach(n.LatestFreeClassNewsPage.Records,function(n){if(n.TimeList!=null&&n.TimeList.length!=0){var t=n.TimeList.split(" ");n.TimeList=t[0]}});o();document.getElementById("nocontain").style.display="block"})};n.gotoFirst=function(){n.LatestFreeClassNewsPage.PageIndex=1;e()};n.next=function(){var t=n.LatestFreeClassNewsPage.PageIndex+1;n.LatestFreeClassNewsPage.PageIndex=t;e()};n.goto=function(t){n.LatestFreeClassNewsPage.PageIndex=t;e()};n.prev=function(){var t=n.LatestFreeClassNewsPage.PageIndex-1;n.LatestFreeClassNewsPage.PageIndex=t;e()};n.gotoEnd=function(){n.LatestFreeClassNewsPage.PageIndex=n.LatestFreeClassNewsPage.TotalPages;e()};s(1);h();c();e()}]);controllers.controller("OfficeArticleSearchCtrl",["$scope","CourseService","ArticleService","VideoRecommendService","GeneralService","ArticleCategoryService","MarketingEventService",function(n,t,i,r,u,f,e){var o;n.searching=!0;n.News={PageIndex:1,PageSize:16,PageList:[]};o=function(){var t,i,f,r,u,e,o;for(n.News.PageList=[],t=0,i=1,n.News.TotalPages<=7?(t=n.News.TotalPages,i=1):(t=7,f=n.News.PageIndex-3,r=n.News.TotalPages-n.News.PageIndex,i=f>0&&r>=3?n.News.PageIndex-3:f>0&&r<3?n.News.PageIndex-3-(3-r):1),u=0;u<t;u++)e=i+u,o={Index:e,IsSelected:e==n.News.PageIndex},n.News.PageList.push(o)};n.key="";n.getnews=function(t){n.News.Records=[];n.searching=!0;t!=undefined&&(n.News.PageIndex=t);var r=n.News.PageIndex,u=n.News.PageSize;i.GetArticlesByKeyAndCateName({pageIndex:r,pageSize:u,keyword:n.key,cateName:"经典案例分享 ",articlecatename:""},function(t){n.searching=!1;n.News=t;o();document.getElementById("nocontain").style.display="block"})};n.gotoFirst=function(){n.News.PageIndex=1;n.getnews()};n.next=function(){var t=n.News.PageIndex+1;n.News.PageIndex=t;n.getnews()};n.goto=function(t){n.News.PageIndex=t;n.getnews()};n.prev=function(){var t=n.News.PageIndex-1;n.News.PageIndex=t;n.getnews()};n.gotoEnd=function(){n.News.PageIndex=n.News.TotalPages;n.getnews()};var s=function(){r.GetHotPageList({pageIndex:1,pageSize:6,locationName:""},{},function(t){n.HotVideoList=t})},h=function(){t.GetLatestedOfflineCourse({pageIndex:1,pageSize:6},{},function(t){n.CoursePage=t})},c=function(){e.GetList({keyword:"",pageSize:6,pageIndex:1},{},function(t){n.LatestFreeClassNewsPage=t;angular.forEach(n.LatestFreeClassNewsPage.Records,function(n){if(n.TimeList!=null&&n.TimeList.length!=0){var t=n.TimeList.split(" ");n.TimeList=t[0]}})})};n.getnews(1);s();h();c()}]);controllers.controller("OfflineCourseSearchCtrl",["$scope","CourseService","ArticleService","VideoRecommendService","GeneralService","MarketingEventService",function(n,t,i,r,u,f){var e,o,s,h,c,l;n.searching=!0;e=new RegExp("(^|&)key=([^&]*)(&|$)");o=window.location.search.substr(1).match(e);n.locid=angular.element("#data_LocationId").val()!="null"?angular.element("#data_LocationId").val():"";n.QueryBuilder={Key:decodeURIComponent(o[2]),Location:{Id:"",Name:""}};n.CoursePage={PageIndex:1,PageSize:15,PageList:[]};n.SimilarCoursePage={PageIndex:1,PageSize:5};n.LatestFreeClassNewsPage={PageIndex:1,PageSize:5};n.HotVideoPage={PageIndex:1,PageSize:5};n.data={LocationList:[]};s=function(){u.GetAllLocation({},{},function(t){n.data.LocationList=t;n.data.LocationList.push({Name:"其他",Id:"00000000-0000-0000-0000-000000000000"});angular.forEach(n.data.LocationList,function(t){t.Id==n.locid&&(n.QueryBuilder.Location=t)});n.Search()})};h=function(){var t,i,f,r,u,e,o;for(n.CoursePage.PageList=[],t=0,i=1,n.CoursePage.TotalPages<=7?(t=n.CoursePage.TotalPages,i=1):(t=7,f=n.CoursePage.PageIndex-3,r=n.CoursePage.TotalPages-n.CoursePage.PageIndex,i=f>0&&r>=3?n.CoursePage.PageIndex-3:f>0&&r<3?n.CoursePage.PageIndex-3-(3-r):1),u=0;u<t;u++)e=i+u,o={Index:e,IsSelected:e==n.CoursePage.PageIndex},n.CoursePage.PageList.push(o)};n.Search=function(i){n.CoursePage.Records=[];n.searching=!0;i!=undefined&&(n.CoursePage.PageIndex=i);var u=n.CoursePage.PageIndex,f=n.CoursePage.PageSize,e=n.SimilarCoursePage.PageIndex,o=n.SimilarCoursePage.PageSize,r=n.QueryBuilder.Key,s=n.QueryBuilder.Location==null||n.QueryBuilder.Location.Id==undefined?"":n.QueryBuilder.Location.Id;t.GetOfflineCoursePagedList({pageIndex:u,pageSize:f,key:r,locationId:s},{},function(t){n.CoursePage=t;n.searching=!1;h();document.getElementById("nocontain").style.display="block"});t.GetSimilarCoursePageList({pageIndex:e,pageSize:o,key:r},{},function(t){n.SimilarCoursePage=t})};n.gotoFirst=function(){n.CoursePage.PageIndex=1;n.Search()};n.next=function(){var t=n.CoursePage.PageIndex+1;n.CoursePage.PageIndex=t;n.Search()};n.goto=function(t){n.CoursePage.PageIndex=t;n.Search()};n.prev=function(){var t=n.CoursePage.PageIndex-1;n.CoursePage.PageIndex=t;n.Search()};n.gotoEnd=function(){n.CoursePage.PageIndex=n.CoursePage.TotalPages;n.Search()};c=function(){r.GetHotPageList({pageIndex:1,pageSize:6,locationName:"首页"},{},function(t){n.HotVideoPage=t})};l=function(){f.GetList({keyword:"",pageSize:6,pageIndex:1},{},function(t){n.LatestFreeClassNewsPage=t;angular.forEach(n.LatestFreeClassNewsPage.Records,function(n){if(n.TimeList!=null&&n.TimeList.length!=0){var t=n.TimeList.split(" ");n.TimeList=t[0]}})})};s();l();c()}]);controllers.controller("SearchCtrl",["$scope","ProductService","CourseService","CertificationService","ArticleService",function(n){n.keyword=angular.element("#data_keyword").val();n.type=angular.element("#data_type").val();n.pageIndex=angular.element("#data_pageIndex").val();document.getElementById("t"+n.type).setAttribute("class","active");n.searchAll=function(){window.location.href="/search/?type=4&pageIndex=1&keyword="+encodeURIComponent(n.keyword);n.type=4};n.searchProduct=function(){window.location.href="/search/?type=0&pageIndex=1&keyword="+encodeURIComponent(n.keyword);n.type=0};n.searchCertification=function(){window.location.href="/search/?type=1&pageIndex=1&keyword="+encodeURIComponent(n.keyword);n.type=1};n.searchCourse=function(){window.location.href="/search/?type=2&pageIndex=1&keyword="+encodeURIComponent(n.keyword);n.type=2};n.searchArticle=function(){window.location.href="/search/?type=3&pageIndex=1&keyword="+encodeURIComponent(n.keyword);n.type=3};n.Redirect=function(){window.location.href="/search/?type="+n.type+"&pageIndex=1&keyword="+encodeURIComponent(n.keyword)};n.myKeyup=function(t){var i=window.event?t.keyCode:t.which;i==13&&n.Redirect()};n.goto=function(t){window.location.href="/search/?type="+n.type+"&pageIndex="+t+"&keyword="+encodeURIComponent(n.keyword)}}]);controllers.controller("TrainingNewsSearchCtrl",["$scope","CourseService","ArticleService","VideoRecommendService","GeneralService","MarketingEventService",function(n,t,i,r,u,f){var o;n.searching=!0;o=$("#data-subCateName").val();n.objName="培训新闻";n.News={PageIndex:1,PageSize:18,PageList:[]};var s=function(){var t,i,f,r,u,e,o;for(n.News.PageList=[],t=0,i=1,n.News.TotalPages<=7?(t=n.News.TotalPages,i=1):(t=7,f=n.News.PageIndex-3,r=n.News.TotalPages-n.News.PageIndex,i=f>0&&r>=3?n.News.PageIndex-3:f>0&&r<3?n.News.PageIndex-3-(3-r):1),u=0;u<t;u++)e=i+u,o={Index:e,IsSelected:e==n.News.PageIndex},n.News.PageList.push(o)},e=function(){n.News.Records=[];n.searching=!0;var t=n.News.PageIndex,r=n.News.PageSize;o==""?i.GetArticlesByCateName({pageIndex:t,pageSize:r,keyword:"",cateName:"培训新闻"},function(t){n.News=t;n.searching=!1;s();document.getElementById("nocontain").style.display="block"}):(n.objName=o,i.GetArticlesByCateNameAndSubcatename({pageIndex:t,pageSize:r,cateName:"培训新闻",subCatename:o},function(t){n.News=t;n.searching=!1;s();document.getElementById("nocontain").style.display="block"}))},h=function(){r.GetHotPageList({pageIndex:1,pageSize:6,locationName:""},{},function(t){n.HotVideoList=t})},c=function(){t.GetLatestedOfflineCourse({pageIndex:1,pageSize:6},{},function(t){n.CoursePage=t})},l=function(){f.GetList({keyword:"",pageSize:6,pageIndex:1},{},function(t){n.LatestFreeClassNewsPage=t;angular.forEach(n.LatestFreeClassNewsPage.Records,function(n){if(n.TimeList!=null&&n.TimeList.length!=0){var t=n.TimeList.split(" ");n.TimeList=t[0]}})})};n.gotoFirst=function(){n.News.PageIndex=1;e()};n.next=function(){var t=n.News.PageIndex+1;n.News.PageIndex=t;e()};n.goto=function(t){n.News.PageIndex=t;e()};n.prev=function(){var t=n.News.PageIndex-1;n.News.PageIndex=t;e()};n.gotoEnd=function(){n.News.PageIndex=n.News.TotalPages;e()};e();h();c();l()}]),function(n){n.fn.treeTableNg=function(t,i){function l(i){var f=n(i.target),u,e;if(f.attr("controller")&&(f=f.parents("tr[haschild]").find("[arrow]")),f.attr("arrow")&&(u=f.attr("class"),u&&!u.indexOf(r.AN))){e=t.theme.length+1;u=u.split(" ")[1].substr(e);u=u.indexOf("hover_")===0?t.theme+"_"+u.substr(6):t.theme+"_hover_"+u;f.attr("class",r.AN+" "+u);return}}function h(i,u){function o(n){if(e[n]==0)return 1;var t=o(e[n]);return t+1}i.each(function(){var t=n(this).attr("pId")||0;f[t]||(f[t]=[]);f[t].push(this.id);e[this.id]=t;n(this).addClass(t)}).find("[controller]").css("cursor","pointer");i.each(function(i){var s,h,c,i,l,a;if(this.id){if(s=n(this),f[this.id]&&s.attr("hasChild",!0),h=f[e[this.id]],h[0]==this.id)s.attr("isFirstOne",!0);else{for(c=0,i=0;i<h.length;i++){if(h[i]==this.id)break;c=h[i]}s.attr("prevId",c)}h[h.length-1]==this.id&&s.attr("isLastOne",!0);l=o(this.id);s.attr("depth",l);p(this);u&&(l>t.expandLevel&&s.hide(),s.attr("hasChild")&&s.attr("depth")<t.expandLevel&&(a=s.attr("isLastOne")?r.LO:r.O,s.find("."+r.AN).attr("class",r.AN+" "+a)))}})}function a(t){if(!f[t])return!1;for(var i=0;i<f[t].length;i++)a(f[t][i]);n("tr."+t,u).hide()}function v(t){var i,e,o;if(n("tr."+t,u).show(),!f[t])return!1;for(i=0;i<f[t].length;i++)e=f[t][i],f[e]&&(o=n("#"+e,u).find("."+r.AN).attr("class"),(o==r.AN+" "+r.O||o==r.AN+" "+r.LO)&&v(e))}function p(i){var o=n(i),c=i.id,h,f,s,l;e[c]==0?f=n('<span class="prev_span"><\/span>'):o.attr("isFirstOne")?(h=n("#"+e[c],u),f=h.children("td").eq(t.column).find(".prev_span").clone(),h.attr("isLastOne")?f.append('<span class="'+r.N+" "+r.B+'"><\/span>'):f.append('<span class="'+r.N+" "+r.V+'"><\/span>')):f=n("#"+o.attr("prevId"),u).children("td").eq(t.column).find(".prev_span").clone();o.attr("hasChild")?(s=o.attr("isLastOne")?r.LS:r.S,s=r.AN+" "+s):s=r.N+" "+(o.attr("isLastOne")?r.LL:r.L);l=o.children("td").eq(t.column);l.prepend('<span arrow="true" class="'+s+'"><\/span>').prepend(f)}function y(n){if(!f[n])return!1;s.push(n);o.push(n);for(var t=0;t<f[n].length;t++)o.push(f[n][t]),y(f[n][t])}function w(t){var h,i,r;for(s=[],o=[],y(t),i=0;i<s.length;i++)h=s[i],f[h]=undefined;for(i=0;i<o.length;i++)r=o[i],r!=t&&(n("#"+r,u).remove(),e[r]=undefined)}var u,r,c;t=n.extend({theme:"default",expandLevel:1,column:0,onSelect:function(){},beforeExpand:function(){}},t);u=this;u.addClass("tree_table");r={N:t.theme+"_node",AN:t.theme+"_active_node",O:t.theme+"_open",LO:t.theme+"_last_open",S:t.theme+"_shut",LS:t.theme+"_last_shut",HO:t.theme+"_hover_open",HS:t.theme+"_hover_shut",HLO:t.theme+"_hover_last_open",HLS:t.theme+"_hover_last_shut",L:t.theme+"_leaf",LL:t.theme+"_last_leaf",B:t.theme+"_blank",V:t.theme+"_vertline"};u.empty();var f={},e={},s=[],o=[];return u.append(i),c=u.find("tr"),h(c,!0),u.click(function(i){var f=n(i.target),o,e;if(f.attr("controller")){if(f=f.parents("tr[haschild]").find("[arrow]"),f.attr("class").indexOf(r.AN)==-1&&f.attr("class").indexOf(r.N)==-1)return;if(e=f.parents("tr[haschild]")[0].id,t.onSelect&&t.onSelect(u,e)===!1)return}if(f.attr("arrow")){if(o=f.attr("class"),o==r.AN+" "+r.HLO||o==r.AN+" "+r.HO){e=f.parents("tr[haschild]")[0].id;f.attr("class",r.AN+" "+(o.indexOf(r.HO)!=-1?r.HS:r.HLS));a(e);return}if(o==r.AN+" "+r.HLS||o==r.AN+" "+r.HS){e=f.parents("tr")[0].id;f.attr("class",r.AN+" "+(o.indexOf(r.HS)!=-1?r.HO:r.HLO));t.beforeExpand(u,e);v(e);return}}}),u.mouseover(l).mouseout(l),u.addChilds=function(t){var i=n(t),r,f;if(!i.length||(r=n(i[0]).attr("pId"),!r))return!1;f=r;w(r);n("#"+f,u).after(i);h(i)},u.appendChilds=function(t){var r=n(t),i,e;if(!r.length||(i=n(r[0]).attr("pId"),!i))return!1;e=f[i]&&f[i][f[i].length-1]||i;n("#"+e,u).after(r);h(r)},u.refresh=function(n){u.empty();f={};e={};s=[];o=[];u.append(n);var t=u.find("tr");h(t,!0)},u}}(jQuery),function(n){n.fn.treeTable=function(t){function e(r){var f=n(r.target),u,e;if(f.attr("controller")&&(f=f.parents("tr[haschild]").find("[arrow]")),f.attr("arrow")&&(u=f.attr("class"),u&&!u.indexOf(i.AN))){e=t.theme.length+1;u=u.split(" ")[1].substr(e);u=u.indexOf("hover_")===0?t.theme+"_"+u.substr(6):t.theme+"_hover_"+u;f.attr("class",i.AN+" "+u);return}}function o(r,e){function o(n){if(f[n]==0)return 1;var t=o(f[n]);return t+1}r.each(function(){var t=n(this).attr("pId")||0;u[t]||(u[t]=[]);u[t].push(this.id);f[this.id]=t;n(this).addClass(t)}).find("[controller]").css("cursor","pointer");r.each(function(r){var s,h,c,r,a,v;if(this.id){if(s=n(this),u[this.id]&&s.attr("hasChild",!0),h=u[f[this.id]],h[0]==this.id)s.attr("isFirstOne",!0);else{for(c=0,r=0;r<h.length;r++){if(h[r]==this.id)break;c=h[r]}s.attr("prevId",c)}h[h.length-1]==this.id&&s.attr("isLastOne",!0);a=o(this.id);s.attr("depth",a);l(this);e&&(a>t.expandLevel&&s.hide(),s.attr("hasChild")&&s.attr("depth")<t.expandLevel&&(v=s.attr("isLastOne")?i.LO:i.O,s.find("."+i.AN).attr("class",i.AN+" "+v)))}})}function s(t){if(!u[t])return!1;for(var i=0;i<u[t].length;i++)s(u[t][i]);n("tr."+t,r).hide()}function h(t){var f,e,o;if(n("tr."+t,r).show(),!u[t])return!1;for(f=0;f<u[t].length;f++)e=u[t][f],u[e]&&(o=n("#"+e,r).find("."+i.AN).attr("class"),(o==i.AN+" "+i.O||o==i.AN+" "+i.LO)&&h(e))}function l(u){var o=n(u),c=u.id,h,e,s,l;f[c]==0?e=n('<span class="prev_span"><\/span>'):o.attr("isFirstOne")?(h=n("#"+f[c],r),e=h.children("td").eq(t.column).find(".prev_span").clone(),h.attr("isLastOne")?e.append('<span class="'+i.N+" "+i.B+'"><\/span>'):e.append('<span class="'+i.N+" "+i.V+'"><\/span>')):e=n("#"+o.attr("prevId"),r).children("td").eq(t.column).find(".prev_span").clone();o.attr("hasChild")?(s=o.attr("isLastOne")?i.LS:i.S,s=i.AN+" "+s):s=i.N+" "+(o.attr("isLastOne")?i.LL:i.L);l=o.children("td").eq(t.column);l.prepend('<span arrow="true" class="'+s+'"><\/span>').prepend(e)}var r;t=n.extend({theme:"default",expandLevel:1,column:0,onSelect:function(){},beforeExpand:function(){}},t);r=this;r.addClass("tree_table");var i={N:t.theme+"_node",AN:t.theme+"_active_node",O:t.theme+"_open",LO:t.theme+"_last_open",S:t.theme+"_shut",LS:t.theme+"_last_shut",HO:t.theme+"_hover_open",HS:t.theme+"_hover_shut",HLO:t.theme+"_hover_last_open",HLS:t.theme+"_hover_last_shut",L:t.theme+"_leaf",LL:t.theme+"_last_leaf",B:t.theme+"_blank",V:t.theme+"_vertline"},u={},f={},c=r.find("tr");return o(c,!0),r.click(function(u){var f=n(u.target),o,e;if(f.attr("controller")){if(f=f.parents("tr[haschild]").find("[arrow]"),f.attr("class").indexOf(i.AN)==-1&&f.attr("class").indexOf(i.N)==-1)return;if(e=f.parents("tr[haschild]")[0].id,t.onSelect&&t.onSelect(r,e)===!1)return}if(f.attr("arrow")){if(o=f.attr("class"),o==i.AN+" "+i.HLO||o==i.AN+" "+i.HO){e=f.parents("tr[haschild]")[0].id;f.attr("class",i.AN+" "+(o.indexOf(i.HO)!=-1?i.HS:i.HLS));s(e);return}if(o==i.AN+" "+i.HLS||o==i.AN+" "+i.HS){e=f.parents("tr")[0].id;f.attr("class",i.AN+" "+(o.indexOf(i.HS)!=-1?i.HO:i.HLO));t.beforeExpand(r,e);h(e);return}}}),r.mouseover(e).mouseout(e),r.addChilds=function(t){var f=n(t),i,e;if(!f.length||(i=n(f[0]).attr("pId"),!i))return!1;e=u[i]&&u[i][u[i].length-1]||i;n("#"+e,r).after(f);o(f)},r}}(jQuery);linkTargetTo=function(n){var t=document.getElementById("web-a-link"),i;t==null&&(t=document.createElement("a"),t.setAttribute("id","web-a-link"),t.setAttribute("target","_blank"),t.setAttribute("display","none"),document.body.appendChild(t));t.setAttribute("href",n);i=document.createEvent("MouseEvents");i.initEvent("click",!0,!0);t.dispatchEvent(i)};!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.echarts=t():n.echarts=t()}(this,function(){return function(n){function t(r){if(i[r])return i[r].exports;var u=i[r]={exports:{},id:r,loaded:!1};return n[r].call(u.exports,u,u.exports,t),u.loaded=!0,u.exports}var i={};return t.m=n,t.c=i,t.p="",t(0)}([function(n,t,i){n.exports=i(2);i(106);i(100);i(110);i(188);i(326);i(314);i(341);i(288);i(284);i(280);i(321);i(331);i(266);i(271);i(277);i(309);i(301);i(325);i(336);i(204);i(205);i(206);i(229);i(55);i(368);i(365);i(247);i(248);i(356);i(363);i(220);i(194);i(382);i(213);i(212);i(211);i(372);i(221);i(236)},function(n){function t(n){var i,u,r,s,o;if(null==n||"object"!=typeof n)return n;if(i=n,u=e.call(n),"[object Array]"===u)for(i=[],r=0,s=n.length;r<s;r++)i[r]=t(n[r]);else if(bt[u])i=n.constructor.from(n);else if(!v[u]&&!c(n)&&!f(n)){i={};for(o in n)n.hasOwnProperty(o)&&(i[o]=t(n[o]))}return i}function o(n,r,u){var e,l,a;if(!i(r)||!i(n))return u?t(r):n;for(e in r)r.hasOwnProperty(e)&&(l=n[e],a=r[e],!i(a)||!i(l)||s(a)||s(l)||f(a)||f(l)||h(a)||h(l)||c(a)||c(l)?!u&&e in n||(n[e]=t(r[e],!0)):o(l,a,u));return n}function w(n,t){for(var i=n[0],r=1,u=n.length;r<u;r++)i=o(i,n[r],t);return i}function b(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}function a(n,t,i){for(var r in t)t.hasOwnProperty(r)&&(i?null!=t[r]:null==n[r])&&(n[r]=t[r]);return n}function k(){return document.createElement("canvas")}function d(){return l||(l=p.createCanvas().getContext("2d")),l}function g(n,t){if(n){if(n.indexOf)return n.indexOf(t);for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i}return-1}function nt(n,t){function r(){}var u=n.prototype,i;r.prototype=t.prototype;n.prototype=new r;for(i in u)n.prototype[i]=u[i];n.prototype.constructor=n;n.superClass=t}function tt(n,t,i){n="prototype"in n?n.prototype:n;t="prototype"in t?t.prototype:t;a(n,t,i)}function it(n){if(n)return"string"!=typeof n&&"number"==typeof n.length}function rt(n,t,i){var r,f,u;if(n&&t)if(n.forEach&&n.forEach===kt)n.forEach(t,i);else if(n.length===+n.length)for(r=0,f=n.length;r<f;r++)t.call(i,n[r],r,n);else for(u in n)n.hasOwnProperty(u)&&t.call(i,n[u],u,n)}function ut(n,t,i){if(n&&t){if(n.map&&n.map===gt)return n.map(t,i);for(var u=[],r=0,f=n.length;r<f;r++)u.push(t.call(i,n[r],r,n));return u}}function ft(n,t,i,r){if(n&&t){if(n.reduce&&n.reduce===ni)return n.reduce(t,i,r);for(var u=0,f=n.length;u<f;u++)i=t.call(r,i,n[u],u,n);return i}}function et(n,t,i){if(n&&t){if(n.filter&&n.filter===dt)return n.filter(t,i);for(var u=[],r=0,f=n.length;r<f;r++)t.call(i,n[r],r,n)&&u.push(n[r]);return u}}function ot(n,t,i){if(n&&t)for(var r=0,u=n.length;r<u;r++)if(t.call(i,n[r],r,n))return n[r]}function st(n,t){var i=u.call(arguments,2);return function(){return n.apply(t,i.concat(u.call(arguments)))}}function ht(n){var t=u.call(arguments,1);return function(){return n.apply(this,t.concat(u.call(arguments)))}}function s(n){return"[object Array]"===e.call(n)}function ct(n){return"function"==typeof n}function lt(n){return"[object String]"===e.call(n)}function i(n){var t=typeof n;return"function"===t||!!n&&"object"==t}function h(n){return!!v[e.call(n)]}function f(n){return"object"==typeof n&&"number"==typeof n.nodeType&&"object"==typeof n.ownerDocument}function at(n){return n!==n}function vt(){for(var n=0,t=arguments.length;n<t;n++)if(null!=arguments[n])return arguments[n]}function yt(){return Function.call.apply(u,arguments)}function pt(n,t){if(!n)throw new Error(t);}function wt(n){n[y]=!0}function c(n){return n[y]}var l,v={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},bt={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},e=Object.prototype.toString,r=Array.prototype,kt=r.forEach,dt=r.filter,u=r.slice,gt=r.map,ni=r.reduce,y="__ec_primitive__",p={inherits:nt,mixin:tt,clone:t,merge:o,mergeAll:w,extend:b,defaults:a,getContext:d,createCanvas:k,indexOf:g,slice:yt,find:ot,isArrayLike:it,each:rt,map:ut,reduce:ft,filter:et,bind:st,curry:ht,isArray:s,isString:lt,isObject:i,isFunction:ct,isBuiltInObject:h,isDom:f,eqNaN:at,retrieve:vt,assert:pt,setAsPrimitive:wt,noop:function(){}};n.exports=p},function(n,t,i){function l(n){return function(t,i,r){t=t&&t.toLowerCase();p.prototype[n].call(this,t,i,r)}}function v(){p.call(this)}function b(n,t,i){function f(n,t){return n.prio-t.prio}i=i||{};"string"==typeof t&&(t=ci[t]);this.id;this.group;this._dom=n;var r=this._zr=ft.init(n,{renderer:i.renderer||"canvas",devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height});this._throttledZrFlush=gt.throttle(u.bind(r.flush,r),17);this._theme=u.clone(t);this._chartsViews=[];this._chartsMap={};this._componentsViews=[];this._componentsMap={};this._coordSysMgr=new wt;this._api=new ki(this,this._coordSysMgr);p.call(this);this._messageCenter=new v;this._initEvents();this.resize=u.bind(this.resize,this);this._pendingActions=[];ti(w,f);ti(ot,f);r.animation.on("frame",this._onframe,this);u.setAsPrimitive(this)}function ct(n,t,i){var f,e=this._model,o=this._coordSysMgr.getCoordinateSystems(),r,u;for(t=ut.parseFinder(e,t),r=0;r<o.length;r++)if(u=o[r],u[n]&&null!=(f=u[n](e,t,i)))return f}function lt(n,t,i,r,u){function h(r){r&&r.__alive&&r[t]&&r[t](r.__model,o,n._api,i)}var o=n._model,f,s;if(!r)return void e(n._componentsViews.concat(n._chartsViews),h);f={};f[r+"Id"]=i[r+"Id"];f[r+"Index"]=i[r+"Index"];f[r+"Name"]=i[r+"Name"];s={mainType:r,query:f};u&&(s.subType=u);o&&o.eachComponent(s,function(t){h(n["series"===r?"_chartsMap":"_componentsMap"][t.__viewId])},n)}function at(n,t){var f=n.type,b=n.escapeConnect,w=g[f],a=w.actionInfo,r=(a.update||"update").split(":"),c=r.pop(),v,y,i,l,p;r=null!=r[0]&&ii(r[0]);this[o]=!0;v=[n];y=!1;n.batch&&(y=!0,v=u.map(n.batch,function(t){return t=u.defaults(u.extend({},t),n),t.batch=null,t}));l=[];p="highlight"===f||"downplay"===f;e(v,function(n){i=w.action(n,this._model,this._api);i=i||u.extend({},n);i.type=a.event||i.type;l.push(i);p?lt(this,c,n,"series"):r&&lt(this,c,n,r.main,r.sub)},this);"none"===c||p||r||(this[s]?(h.prepareAndUpdate.call(this,n),this[s]=!1):h[c].call(this,n));i=y?{type:a.event||f,escapeConnect:b,batch:l}:l[0];this[o]=!1;!t&&this._messageCenter.trigger(i.type,i)}function k(n){for(var i,t=this._pendingActions;t.length;)i=t.shift(),at.call(this,i,n)}function d(n){n||this.trigger("updated")}function it(n,t,i){var r=this._api;e(this._componentsViews,function(u){var f=u.__model;u[n](f,t,r,i);y(f,u)},this);t.eachSeries(function(u){var f=this._chartsMap[u.__viewId];f[n](u,t,r,i);y(u,f);pt(u,f)},this);yt(this._zr,t);e(st,function(n){n(t,r)})}function vt(n,t){for(var f,u="component"===n,r=u?this._componentsViews:this._chartsViews,e=u?this._componentsMap:this._chartsMap,o=this._zr,i=0;i<r.length;i++)r[i].__alive=!1;for(t[u?"eachComponent":"eachSeries"](function(n,i){var s,f,h,c;if(u){if("series"===n)return}else i=n;if(s=i.id+"_"+i.type,f=e[s],!f){if(h=ii(i.type),c=u?kt.getClass(h.main,h.sub):dt.getClass(h.sub),!c)return;f=new c;f.init(t,this._api);e[s]=f;r.push(f);o.add(f.group)}i.__viewId=s;f.__alive=!0;f.__id=s;f.__model=i},this),i=0;i<r.length;)f=r[i],f.__alive?i++:(o.remove(f.group),f.dispose(t,this._api),r.splice(i,1),delete e[f.__id])}function ai(n,t){e(ot,function(i){i.func(n,t)})}function vi(n){var t={};n.eachSeries(function(n){var i=n.get("stack"),r=n.getData(),u;i&&"list"===r.type&&(u=t[i],u&&(r.stackedOn=u),t[i]=r)})}function yi(n,t){var i=this._api;e(w,function(r){r.isLayout&&r.func(n,i,t)})}function rt(n,t,i){var r=this._api;n.clearColorPalette();n.eachSeries(function(n){n.clearColorPalette()});e(w,function(u){i&&u.isLayout||u.func(n,r,t)})}function pi(n,t){var i=this._api;e(this._componentsViews,function(r){var u=r.__model;r.render(u,n,i,t);y(u,r)},this);e(this._chartsViews,function(n){n.__alive=!1},this);n.eachSeries(function(r){var u=this._chartsMap[r.__viewId];u.__alive=!0;u.render(r,n,i,t);u.group.silent=!!r.get("silent");y(r,u);pt(r,u)},this);yt(this._zr,n);e(this._chartsViews,function(t){t.__alive||t.remove(n,i)},this)}function yt(n,t){var i=n.storage,r=0;i.traverse(function(n){n.isGroup||r++});r>t.get("hoverLayerThreshold")&&!a.node&&i.traverse(function(n){n.isGroup||(n.useHoverLayer=!0)})}function pt(n,t){var r=0,u,i,f;t.group.traverse(function(n){"group"===n.type||n.ignore||r++});u=+n.get("progressive");i=r>n.get("progressiveThreshold")&&u&&!a.node;i&&t.group.traverse(function(n){n.isGroup||(n.progressive=i?Math.floor(r++/u):-1,i&&n.stopAnimation(!0))});f=n.get("blendMode")||null;t.group.traverse(function(n){n.isGroup||n.setStyle("blend",f)})}function y(n,t){var i=n.get("z"),r=n.get("zlevel");t.group.traverse(function(n){"group"!==n.type&&(null!=i&&(n.z=i),null!=r&&(n.zlevel=r))})}function wi(n){function i(n,i){for(var u,r=0;r<n.length;r++)u=n[r],u[t]=i}var r=0,f=1,o=2,t="__connectUpdateStatus";u.each(nt,function(s,h){n._messageCenter.on(h,function(s){if(tt[n.group]&&n[t]!==r){if(s&&s.escapeConnect)return;var l=n.makeActionFromEvent(s),h=[];u.each(c,function(t){t!==n&&t.group===n.group&&h.push(t)});i(h,r);e(h,function(n){n[t]!==f&&n.dispatchAction(l)});i(h,o)}})})}var a=i(9),bi=i(135),ki=i(99),wt=i(26),di=i(136),bt=i(13),gi=i(18),kt=i(62),dt=i(29),nr=i(3),ut=i(6),gt=i(43),ft=i(84),u=i(1),ni=i(22),p=i(23),ti=i(51),e=u.each,ii=bt.parseClassType,ri=1e3,ui=1e3,fi=2e3,ei=3e3,o="__flagInMainProcess",et="__hasGradientOrPatternBg",s="__optionUpdated",oi=/^[a-zA-Z0-9_]+$/,f,h,si;v.prototype.on=l("on");v.prototype.off=l("off");v.prototype.one=l("one");u.mixin(v,p);f=b.prototype;f._onframe=function(){if(this[s]){var n=this[s].silent;this[o]=!0;h.prepareAndUpdate.call(this);this[o]=!1;this[s]=!1;k.call(this,n);d.call(this,n)}};f.getDom=function(){return this._dom};f.getZr=function(){return this._zr};f.setOption=function(n,t,i){var r;if(u.isObject(t)&&(i=t.lazyUpdate,r=t.silent,t=t.notMerge),this[o]=!0,!this._model||t){var f=new di(this._api),e=this._theme,c=this._model=new bi(null,null,e,f);c.init(null,null,e,f)}this.__lastOnlyGraphic=!(!n||!n.graphic);u.each(n,function(n,t){"graphic"!==t&&(this.__lastOnlyGraphic=!1)},this);this._model.setOption(n,hi,this.__lastOnlyGraphic);i?(this[s]={silent:r},this[o]=!1):(h.prepareAndUpdate.call(this),this._zr.flush(),this[s]=!1,this[o]=!1,k.call(this,r),d.call(this,r))};f.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")};f.getModel=function(){return this._model};f.getOption=function(){return this._model&&this._model.getOption()};f.getWidth=function(){return this._zr.getWidth()};f.getHeight=function(){return this._zr.getHeight()};f.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1};f.getRenderedCanvas=function(n){if(a.canvasSupported){n=n||{};n.pixelRatio=n.pixelRatio||1;n.backgroundColor=n.backgroundColor||this._model.get("backgroundColor");var t=this._zr,i=t.storage.getDisplayList();return u.each(i,function(n){n.stopAnimation(!0)}),t.painter.getRenderedCanvas(n)}};f.getDataURL=function(n){var i;n=n||{};var r=n.excludeComponents,u=this._model,t=[],f=this;return e(r,function(n){u.eachComponent({mainType:n},function(n){var i=f._componentsMap[n.__viewId];i.group.ignore||(t.push(i),i.group.ignore=!0)})}),i=this.getRenderedCanvas(n).toDataURL("image/"+(n&&n.type||"png")),e(t,function(n){n.group.ignore=!1}),i};f.getConnectedDataURL=function(n){var l;if(a.canvasSupported){var v=this.group,y=Math.min,p=Math.max,f=1/0;if(tt[v]){var i=f,r=f,o=-f,s=-f,w=[],t=n&&n.pixelRatio||1;u.each(c,function(t){if(t.group===v){var e=t.getRenderedCanvas(u.clone(n)),f=t.getDom().getBoundingClientRect();i=y(f.left,i);r=y(f.top,r);o=p(f.right,o);s=p(f.bottom,s);w.push({dom:e,left:f.left,top:f.top})}});i*=t;r*=t;o*=t;s*=t;var b=o-i,k=s-r,h=u.createCanvas();return h.width=b,h.height=k,l=ft.init(h),e(w,function(n){var u=new nr.Image({style:{x:n.left*t-i,y:n.top*t-r,image:n.dom}});l.add(u)}),l.refreshImmediately(),h.toDataURL("image/"+(n&&n.type||"png"))}return this.getDataURL(n)}};f.convertToPixel=u.curry(ct,"convertToPixel");f.convertFromPixel=u.curry(ct,"convertFromPixel");f.containPixel=function(n,t){var i,r=this._model;return n=ut.parseFinder(r,n),u.each(n,function(n,r){r.indexOf("Models")>=0&&u.each(n,function(n){var f=n.coordinateSystem,u;f&&f.containPoint?i|=!!f.containPoint(t):"seriesModels"===r&&(u=this._chartsMap[n.__viewId],u&&u.containPoint&&(i|=u.containPoint(t,n)))},this)},this),!!i};f.getVisual=function(n,t){var u=this._model;n=ut.parseFinder(u,n,{defaultMainType:"series"});var f=n.seriesModel,i=f.getData(),r=n.hasOwnProperty("dataIndexInside")?n.dataIndexInside:n.hasOwnProperty("dataIndex")?i.indexOfRawIndex(n.dataIndex):null;return null!=r?i.getItemVisual(r,t):i.getVisual(t)};f.getViewOfComponentModel=function(n){return this._componentsMap[n.__viewId]};f.getViewOfSeriesModel=function(n){return this._chartsMap[n.__viewId]};h={update:function(n){var t=this._model,u=this._api,s=this._coordSysMgr,r=this._zr,i,f,o;t&&(t.restoreData(),s.create(this._model,this._api),ai.call(this,t,u),vi.call(this,t),s.update(t,u),rt.call(this,t,n),pi.call(this,t,n),i=t.get("backgroundColor")||"transparent",f=r.painter,f.isSingleCanvas&&f.isSingleCanvas()?r.configLayer(0,{clearColor:i}):(a.canvasSupported||(o=ni.parse(i),i=ni.stringify(o,"rgb"),0===o[3]&&(i="transparent")),i.colorStops||i.image?(r.configLayer(0,{clearColor:i}),this[et]=!0,this._dom.style.background="transparent"):(this[et]&&r.configLayer(0,{clearColor:null}),this[et]=!1,this._dom.style.background=i)),e(st,function(n){n(t,u)}))},updateView:function(n){var t=this._model;t&&(t.eachSeries(function(n){n.getData().clearAllVisual()}),rt.call(this,t,n),it.call(this,"updateView",t,n))},updateVisual:function(n){var t=this._model;t&&(t.eachSeries(function(n){n.getData().clearAllVisual()}),rt.call(this,t,n,!0),it.call(this,"updateVisual",t,n))},updateLayout:function(n){var t=this._model;t&&(yi.call(this,t,n),it.call(this,"updateLayout",t,n))},prepareAndUpdate:function(n){var t=this._model;vt.call(this,"component",t);vt.call(this,"chart",t);this.__lastOnlyGraphic?(e(this._componentsViews,function(i){var r=i.__model;r&&"graphic"===r.mainType&&(i.render(r,t,this._api,n),y(r,i))},this),this.__lastOnlyGraphic=!1):h.update.call(this,n)}};f.resize=function(n){var i,r,t;this[o]=!0;this._zr.resize(n);i=this._model&&this._model.resetOption("media");r=i?"prepareAndUpdate":"update";h[r].call(this);this._loadingFX&&this._loadingFX.resize();this[o]=!1;t=n&&n.silent;k.call(this,t);d.call(this,t)};f.showLoading=function(n,t){if(u.isObject(n)&&(t=n,n=""),n=n||"default",this.hideLoading(),ht[n]){var i=ht[n](this._api,t),r=this._zr;this._loadingFX=i;r.add(i)}};f.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX);this._loadingFX=null};f.makeActionFromEvent=function(n){var t=u.extend({},n);return t.type=nt[n.type],t};f.dispatchAction=function(n,t){if(u.isObject(t)||(t={silent:!!t}),g[n.type]){if(this[o])return void this._pendingActions.push(n);at.call(this,n,t.silent);t.flush?this._zr.flush(!0):t.flush!==!1&&a.browser.weChat&&this._throttledZrFlush();k.call(this,t.silent);d.call(this,t.silent)}};f.on=l("on");f.off=l("off");f.one=l("one");si=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];f._initEvents=function(){e(si,function(n){this._zr.on(n,function(t){var r,e=this.getModel(),i=t.target,f;"globalout"===n?r={}:i&&null!=i.dataIndex?(f=i.dataModel||e.getSeriesByIndex(i.seriesIndex),r=f&&f.getDataParams(i.dataIndex,i.dataType)||{}):i&&i.eventData&&(r=u.extend({},i.eventData));r&&(r.event=t,r.type=n,this.trigger(n,r))},this)},this);e(nt,function(n,t){this._messageCenter.on(t,function(n){this.trigger(t,n)},this)},this)};f.isDisposed=function(){return this._disposed};f.clear=function(){this.setOption({series:[]},!0)};f.dispose=function(){if(!this._disposed){this._disposed=!0;var n=this._api,t=this._model;e(this._componentsViews,function(i){i.dispose(t,n)});e(this._chartsViews,function(i){i.dispose(t,n)});this._zr.dispose();delete c[this.id]}};u.mixin(b,p);var g={},nt={},ot=[],hi=[],st=[],w=[],ci={},ht={},c={},tt={},tr=new Date-0,ir=new Date-0,li="_echarts_instance_",r={version:"3.5.1",dependencies:{zrender:"3.4.1"}};r.init=function(n,t,i){var r=new b(n,t,i);return r.id="ec_"+tr++,c[r.id]=r,n.setAttribute&&n.setAttribute(li,r.id),wi(r),r};r.connect=function(n){if(u.isArray(n)){var t=n;n=null;u.each(t,function(t){null!=t.group&&(n=t.group)});n=n||"g_"+ir++;u.each(t,function(t){t.group=n})}return tt[n]=!0,n};r.disConnect=function(n){tt[n]=!1};r.disconnect=r.disConnect;r.dispose=function(n){u.isDom(n)?n=r.getInstanceByDom(n):"string"==typeof n&&(n=c[n]);n instanceof b&&!n.isDisposed()&&n.dispose()};r.getInstanceByDom=function(n){var t=n.getAttribute(li);return c[t]};r.getInstanceById=function(n){return c[n]};r.registerTheme=function(n,t){ci[n]=t};r.registerPreprocessor=function(n){hi.push(n)};r.registerProcessor=function(n,t){"function"==typeof n&&(t=n,n=ri);ot.push({prio:n,func:t})};r.registerPostUpdate=function(n){st.push(n)};r.registerAction=function(n,t,i){"function"==typeof t&&(i=t,t="");var r=u.isObject(n)?n.type:[n,n={event:t}][0];n.event=(n.event||r).toLowerCase();t=n.event;u.assert(oi.test(r)&&oi.test(t));g[r]||(g[r]={action:i,actionInfo:n});nt[t]=r};r.registerCoordinateSystem=function(n,t){wt.register(n,t)};r.registerLayout=function(n,t){"function"==typeof n&&(t=n,n=ui);w.push({prio:n,func:t,isLayout:!0})};r.registerVisual=function(n,t){"function"==typeof n&&(t=n,n=ei);w.push({prio:n,func:t})};r.registerLoading=function(n,t){ht[n]=t};r.extendComponentModel=function(n){return bt.extend(n)};r.extendComponentView=function(n){return kt.extend(n)};r.extendSeriesModel=function(n){return gi.extend(n)};r.extendChartView=function(n){return dt.extend(n)};r.setCanvasCreator=function(n){u.createCanvas=n};r.registerVisual(fi,i(149));r.registerPreprocessor(i(143));r.registerLoading("default",i(134));r.registerAction({type:"highlight",event:"highlight",update:"highlight"},u.noop);r.registerAction({type:"downplay",event:"downplay",update:"downplay"},u.noop);r.zrender=ft;r.List=i(14);r.Model=i(10);r.Axis=i(33);r.graphic=i(3);r.number=i(4);r.format=i(7);r.throttle=gt.throttle;r.matrix=i(19);r.vector=i(5);r.color=i(22);r.util={};e(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(n){r.util[n]=u[n]});r.helper=i(133);r.PRIORITY={PROCESSOR:{FILTER:ri,STATISTIC:5e3},VISUAL:{LAYOUT:ui,GLOBAL:fi,CHART:ei,COMPONENT:4e3,BRUSH:5e3}};n.exports=r},function(n,t,i){"use strict";function o(n){return null!=n&&"none"!=n}function s(n){return"string"==typeof n?it.lift(n,-.1):n}function h(n){var r,i;if(n.__hoverStlDirty){var u=n.style.stroke,f=n.style.fill,t=n.__hoverStl;t.fill=t.fill||(o(f)?s(f):null);t.stroke=t.stroke||(o(u)?s(u):null);r={};for(i in t)t.hasOwnProperty(i)&&(r[i]=n.style[i]);n.__normalStl=r;n.__hoverStlDirty=!1}}function c(n){n.__isHover||(h(n),n.useHoverLayer?n.__zr&&n.__zr.addHover(n,n.__hoverStl):(n.setStyle(n.__hoverStl),n.z2+=1),n.__isHover=!0)}function l(n){if(n.__isHover){var t=n.__normalStl;n.useHoverLayer?n.__zr&&n.__zr.removeHover(n):(t&&n.setStyle(t),n.z2-=1);n.__isHover=!1}}function a(n){"group"===n.type?n.traverse(function(n){"group"!==n.type&&c(n)}):c(n)}function v(n){"group"===n.type?n.traverse(function(n){"group"!==n.type&&l(n)}):l(n)}function y(n,t){n.__hoverStl=n.hoverStyle||t||{};n.__hoverStlDirty=!0;n.__isHover&&h(n)}function k(n){this.__hoverSilentOnTouch&&n.zrByTouch||!this.__isEmphasis&&a(this)}function d(n){this.__hoverSilentOnTouch&&n.zrByTouch||!this.__isEmphasis&&v(this)}function g(){this.__isEmphasis=!0;a(this)}function nt(){this.__isEmphasis=!1;v(this)}function p(n,t,i,r,u,f){var h;if("function"==typeof u&&(f=u,u=null),h=r&&r.isAnimationEnabled(),h){var s=n?"Update":"",e=r.getShallow("animationDuration"+s),c=r.getShallow("animationEasing"+s),o=r.getShallow("animationDelay"+s);"function"==typeof o&&(o=o(u,r.getAnimationDelayParams?r.getAnimationDelayParams(t,u):null));"function"==typeof e&&(e=e(u));e>0?t.animateTo(i,e,o||0,c,f):(t.attr(i),f&&f())}else t.attr(i),f&&f()}var w=i(1),f=i(178),u=Math.round,tt=i(8),it=i(22),e=i(19),b=i(5),r={};r.Group=i(36);r.Image=i(53);r.Text=i(82);r.Circle=i(169);r.Sector=i(175);r.Ring=i(174);r.Polygon=i(171);r.Polyline=i(172);r.Rect=i(173);r.Line=i(170);r.BezierCurve=i(168);r.Arc=i(167);r.CompoundPath=i(162);r.LinearGradient=i(97);r.RadialGradient=i(163);r.BoundingRect=i(11);r.extendShape=function(n){return tt.extend(n)};r.extendPath=function(n,t){return f.extendFromString(n,t)};r.makePath=function(n,t,i,u){var s=f.createFromString(n,t),c=s.getBoundingRect(),h,o,e,l,a;return i&&(h=c.width/c.height,"center"===u&&(e=i.height*h,e<=i.width?o=i.height:(e=i.width,o=e/h),l=i.x+i.width/2,a=i.y+i.height/2,i.x=l-e/2,i.y=a-o/2,i.width=e,i.height=o),r.resizePath(s,i)),s};r.mergePath=f.mergePath;r.resizePath=function(n,t){if(n.applyTransform){var i=n.getBoundingRect(),r=i.calculateTransform(t);n.applyTransform(r)}};r.subPixelOptimizeLine=function(n){var i=r.subPixelOptimize,t=n.shape,f=n.style.lineWidth;return u(2*t.x1)===u(2*t.x2)&&(t.x1=t.x2=i(t.x1,f,!0)),u(2*t.y1)===u(2*t.y2)&&(t.y1=t.y2=i(t.y1,f,!0)),n};r.subPixelOptimizeRect=function(n){var i=r.subPixelOptimize,t=n.shape,u=n.style.lineWidth,o=t.x,s=t.y,f=t.width,e=t.height;return t.x=i(t.x,u,!0),t.y=i(t.y,u,!0),t.width=Math.max(i(o+f,u,!1)-t.x,0===f?0:1),t.height=Math.max(i(s+e,u,!1)-t.y,0===e?0:1),n};r.subPixelOptimize=function(n,t,i){var r=u(2*n);return(r+u(t))%2==0?r/2:(r+(i?1:-1))/2};r.setHoverStyle=function(n,t,i){n.__hoverSilentOnTouch=i&&i.hoverSilentOnTouch;"group"===n.type?n.traverse(function(n){"group"!==n.type&&y(n,t)}):y(n,t);n.on("mouseover",k).on("mouseout",d);n.on("emphasis",g).on("normal",nt)};r.setText=function(n,t,i){var r=t.getShallow("position")||"inside",f=t.getShallow("offset"),e=r.indexOf("inside")>=0?"white":i,u=t.getModel("textStyle");w.extend(n,{textDistance:t.getShallow("distance")||5,textFont:u.getFont(),textPosition:r,textOffset:f,textFill:u.getTextColor()||e})};r.updateProps=function(n,t,i,r,u){p(!0,n,t,i,r,u)};r.initProps=function(n,t,i,r,u){p(!1,n,t,i,r,u)};r.getTransform=function(n,t){for(var i=e.identity([]);n&&n!==t;)e.mul(i,n.getLocalTransform(),i),n=n.parent;return i};r.applyTransform=function(n,t,i){return i&&(t=e.invert([],t)),b.applyTransform([],n,t)};r.transformDirection=function(n,t,i){var f=0===t[4]||0===t[5]||0===t[0]?1:Math.abs(2*t[4]/t[0]),e=0===t[4]||0===t[5]||0===t[2]?1:Math.abs(2*t[4]/t[2]),u=["left"===n?-f:"right"===n?f:0,"top"===n?-e:"bottom"===n?e:0];return u=r.applyTransform(u,t,i),Math.abs(u[0])>Math.abs(u[1])?u[0]>0?"right":"left":u[1]>0?"bottom":"top"};r.groupTransition=function(n,t,i){function f(n){var t={};return n.traverse(function(n){!n.isGroup&&n.anid&&(t[n.anid]=n)}),t}function u(n){var t={position:b.clone(n.position),rotation:n.rotation};return n.shape&&(t.shape=w.extend({},n.shape)),t}if(n&&t){var e=f(n);t.traverse(function(n){var t,f;!n.isGroup&&n.anid&&(t=e[n.anid],t&&(f=u(n),n.attr(u(t)),r.updateProps(n,f,i,n.dataIndex)))})}};n.exports=r},function(n){function f(n){return n.replace(/^\s+/,"").replace(/\s+$/,"")}var t={},i=.0001,r,u;t.linearMap=function(n,t,i,r){var u=t[1]-t[0],f=i[1]-i[0];if(0===u)return 0===f?i[0]:(i[0]+i[1])/2;if(r)if(u>0){if(n<=t[0])return i[0];if(n>=t[1])return i[1]}else{if(n>=t[0])return i[0];if(n<=t[1])return i[1]}else{if(n===t[0])return i[0];if(n===t[1])return i[1]}return(n-t[0])/u*f+i[0]};t.parsePercent=function(n,t){switch(n){case"center":case"middle":n="50%";break;case"left":case"top":n="0%";break;case"right":case"bottom":n="100%"}return"string"==typeof n?f(n).match(/%$/)?parseFloat(n)/100*t:parseFloat(n):null==n?NaN:+n};t.round=function(n,t,i){return null==t&&(t=10),t=Math.min(Math.max(0,t),20),n=(+n).toFixed(t),i?n:+n};t.asc=function(n){return n.sort(function(n,t){return n-t}),n};t.getPrecision=function(n){if(n=+n,isNaN(n))return 0;for(var t=1,i=0;Math.round(n*t)/t!==n;)t*=10,i++;return i};t.getPrecisionSafe=function(n){var t=n.toString(),i=t.indexOf(".");return i<0?0:t.length-1-i};t.getPixelPrecision=function(n,t){var i=Math.log,r=Math.LN10,f=Math.floor(i(n[1]-n[0])/r),e=Math.round(i(Math.abs(t[1]-t[0]))/r),u=Math.min(Math.max(-f+e,0),20);return isFinite(u)?u:20};t.MAX_SAFE_INTEGER=9007199254740991;t.remRadian=function(n){var t=2*Math.PI;return(n%t+t)%t};t.isRadianAroundZero=function(n){return n>-i&&n<i};r=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(?:Z|([\+\-]\d\d):?\d\d)?)?)?)?)?$/;u=(new Date).getTimezoneOffset();t.parseDate=function(n){if(n instanceof Date)return n;if("string"==typeof n){var t=r.exec(n);return t?new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0)-60*(t[8]||0)-u,+t[6]||0,+t[7]||0):new Date(NaN)}return null==n?new Date(NaN):new Date(Math.round(n))};t.quantity=function(n){return Math.pow(10,Math.floor(Math.log(n)/Math.LN10))};t.nice=function(n,i){var u,f=t.quantity(n),r=n/f;return u=i?r<1.5?1:r<2.5?2:r<4?3:r<7?5:10:r<1?1:r<2?2:r<3?3:r<5?5:10,u*f};t.reformIntervals=function(n){function e(n,t,i){return n.interval[i]<t.interval[i]||n.interval[i]===t.interval[i]&&(n.close[i]-t.close[i]==(i?-1:1)||!i&&e(n,t,1))}n.sort(function(n,t){return e(n,t,0)?-1:1});for(var f=-(1/0),o=1,i=0;i<n.length;){for(var r=n[i].interval,u=n[i].close,t=0;t<2;t++)r[t]<=f&&(r[t]=f,u[t]=t?1:1-o),f=r[t],o=u[t];r[0]===r[1]&&u[0]*u[1]!=1?n.splice(i,1):i++}return n};t.isNumeric=function(n){return n-parseFloat(n)>=0};n.exports=t},function(n){var i="undefined"==typeof Float32Array?Array:Float32Array,t={create:function(n,t){var r=new i(2);return null==n&&(n=0),null==t&&(t=0),r[0]=n,r[1]=t,r},copy:function(n,t){return n[0]=t[0],n[1]=t[1],n},clone:function(n){var t=new i(2);return t[0]=n[0],t[1]=n[1],t},set:function(n,t,i){return n[0]=t,n[1]=i,n},add:function(n,t,i){return n[0]=t[0]+i[0],n[1]=t[1]+i[1],n},scaleAndAdd:function(n,t,i,r){return n[0]=t[0]+i[0]*r,n[1]=t[1]+i[1]*r,n},sub:function(n,t,i){return n[0]=t[0]-i[0],n[1]=t[1]-i[1],n},len:function(n){return Math.sqrt(this.lenSquare(n))},lenSquare:function(n){return n[0]*n[0]+n[1]*n[1]},mul:function(n,t,i){return n[0]=t[0]*i[0],n[1]=t[1]*i[1],n},div:function(n,t,i){return n[0]=t[0]/i[0],n[1]=t[1]/i[1],n},dot:function(n,t){return n[0]*t[0]+n[1]*t[1]},scale:function(n,t,i){return n[0]=t[0]*i,n[1]=t[1]*i,n},normalize:function(n,i){var r=t.len(i);return 0===r?(n[0]=0,n[1]=0):(n[0]=i[0]/r,n[1]=i[1]/r),n},distance:function(n,t){return Math.sqrt((n[0]-t[0])*(n[0]-t[0])+(n[1]-t[1])*(n[1]-t[1]))},distanceSquare:function(n,t){return(n[0]-t[0])*(n[0]-t[0])+(n[1]-t[1])*(n[1]-t[1])},negate:function(n,t){return n[0]=-t[0],n[1]=-t[1],n},lerp:function(n,t,i,r){return n[0]=t[0]+r*(i[0]-t[0]),n[1]=t[1]+r*(i[1]-t[1]),n},applyTransform:function(n,t,i){var r=t[0],u=t[1];return n[0]=i[0]*r+i[2]*u+i[4],n[1]=i[1]*r+i[3]*u+i[5],n},min:function(n,t,i){return n[0]=Math.min(t[0],i[0]),n[1]=Math.min(t[1],i[1]),n},max:function(n,t,i){return n[0]=Math.max(t[0],i[0]),n[1]=Math.max(t[1],i[1]),n}};t.length=t.len;t.lengthSquare=t.lenSquare;t.dist=t.distance;t.distSquare=t.distanceSquare;n.exports=t},function(n,t,i){function o(n,t){return n&&n.hasOwnProperty(t)}var s=i(7),h=i(4),c=i(10),u=i(1),f=u.each,e=u.isObject,r={};r.normalizeToArray=function(n){return n instanceof Array?n:null==n?[]:[n]};r.defaultEmphasis=function(n,t){if(n){var i=n.emphasis=n.emphasis||{},r=n.normal=n.normal||{};f(t,function(n){var t=u.retrieve(i[n],r[n]);null!=t&&(i[n]=t)})}};r.LABEL_OPTIONS=["position","offset","show","textStyle","distance","formatter"];r.getDataItemValue=function(n){return n&&(null==n.value?n:n.value)};r.isDataItemOption=function(n){return e(n)&&!(n instanceof Array)};r.converDataValue=function(n,t){var i=t&&t.type;return"ordinal"===i?n:("time"===i&&"number"!=typeof n&&null!=n&&"-"!==n&&(n=+h.parseDate(n)),null==n||""===n?NaN:+n)};r.createDataFormatModel=function(n,t){var i=new c;return u.mixin(i,r.dataFormatMixin),i.seriesIndex=t.seriesIndex,i.name=t.name||"",i.mainType=t.mainType,i.subType=t.subType,i.getData=function(){return n},i};r.dataFormatMixin={getDataParams:function(n,t){var i=this.getData(t),r=this.getRawValue(n,t),u=i.getRawIndex(n),f=i.getName(n,!0),e=i.getRawDataItem(n);return{componentType:this.mainType,componentSubType:this.subType,seriesType:"series"===this.mainType?this.subType:null,seriesIndex:this.seriesIndex,seriesId:this.id,seriesName:this.name,name:f,dataIndex:u,data:e,dataType:t,value:r,color:i.getItemVisual(n,"color"),$vars:["seriesName","name","value"]}},getFormattedLabel:function(n,t,i,r){var f;t=t||"normal";var e=this.getData(i),o=e.getItemModel(n),u=this.getDataParams(n,i);return null!=r&&u.value instanceof Array&&(u.value=u.value[r]),f=o.get(["label",t,"formatter"]),"function"==typeof f?(u.status=t,f(u)):"string"==typeof f?s.formatTpl(f,u):void 0},getRawValue:function(n,t){var r=this.getData(t),i=r.getRawDataItem(n);if(null!=i)return!e(i)||i instanceof Array?i:i.value},formatTooltip:u.noop};r.mappingToExists=function(n,t){t=(t||[]).slice();var i=u.map(n||[],function(n){return{exist:n}});return f(t,function(n,u){var f,o;if(e(n)){for(f=0;f<i.length;f++)if(!i[f].option&&null!=n.id&&i[f].exist.id===n.id+"")return i[f].option=n,void(t[u]=null);for(f=0;f<i.length;f++)if(o=i[f].exist,!(i[f].option||null!=o.id&&null!=n.id||null==n.name||r.isIdInner(n)||r.isIdInner(o)||o.name!==n.name+""))return i[f].option=n,void(t[u]=null)}}),f(t,function(n){var t,u;if(e(n)){for(t=0;t<i.length;t++)if(u=i[t].exist,!i[t].option&&!r.isIdInner(u)&&null==n.id){i[t].option=n;break}t>=i.length&&i.push({option:n})}}),i};r.makeIdAndName=function(n){var t={};f(n,function(n){var i=n.exist;i&&(t[i.id]=n)});f(n,function(n){var i=n.option;u.assert(!i||null==i.id||!t[i.id]||t[i.id]===n,"id duplicates: "+(i&&i.id));i&&null!=i.id&&(t[i.id]=n);!n.keyInfo&&(n.keyInfo={})});f(n,function(n){var u=n.exist,r=n.option,i=n.keyInfo,f;if(e(r)){if(i.name=null!=r.name?r.name+"":u?u.name:"\0-",u)i.id=u.id;else if(null!=r.id)i.id=r.id+"";else{f=0;do i.id="\0"+i.name+"\0"+f++;while(t[i.id])}t[i.id]=n}})};r.isIdInner=function(n){return e(n)&&n.id&&0===(n.id+"").indexOf("\0_ec_\0")};r.compressBatches=function(n,t){function f(n,t,i){for(var f,u=0,h=n.length;u<h;u++)for(var e=n[u].seriesId,c=r.normalizeToArray(n[u].dataIndex),o=i&&i[e],s=0,l=c.length;s<l;s++)f=c[s],o&&o[f]?o[f]=null:(t[e]||(t[e]={}))[f]=1}function i(n,t){var u=[],r,f;for(r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t?u.push(+r):(f=i(n[r],!0),f.length&&u.push({seriesId:r,dataIndex:f})));return u}var u={},e={};return f(n||[],u),f(t||[],e,u),[i(u),i(e)]};r.queryDataIndex=function(n,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?u.isArray(t.dataIndex)?u.map(t.dataIndex,function(t){return n.indexOfRawIndex(t)}):n.indexOfRawIndex(t.dataIndex):null!=t.name?u.isArray(t.name)?u.map(t.name,function(t){return n.indexOfName(t)}):n.indexOfName(t.name):void 0};r.makeGetter=function(){var n=0;return function(){var t="\0__ec_prop_getter_"+n++;return function(n){return n[t]||(n[t]={})}}}();r.parseFinder=function(n,t,i){var s,r,e;return u.isString(t)&&(s={},s[t+"Index"]=0,t=s),r=i&&i.defaultMainType,!r||o(t,r+"Index")||o(t,r+"Id")||o(t,r+"Name")||(t[r+"Index"]=0),e={},f(t,function(r,f){var r=t[f],h,c;if("dataIndex"===f||"dataIndexInside"===f)return void(e[f]=r);var l=f.match(/^(\w+)(Index|Id|Name)$/)||[],o=l[1],s=(l[2]||"").toLowerCase();!o||!s||null==r||"index"===s&&"none"===r||i&&i.includeMainTypes&&u.indexOf(i.includeMainTypes,o)<0||(h={mainType:o},"index"===s&&"all"===r||(h[s]=r),c=n.queryComponents(h),e[o+"Models"]=c,e[o+"Model"]=c[0])}),e};n.exports=r},function(n,t,i){var o=i(1),h=i(4),c=i(16),r={},u;r.addCommas=function(n){return isNaN(n)?"-":(n=(n+"").split("."),n[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(n.length>1?"."+n[1]:""))};r.toCamelCase=function(n,t){return n=(n||"").toLowerCase().replace(/-(.)/g,function(n,t){return t.toUpperCase()}),t&&n&&(n=n.charAt(0).toUpperCase()+n.slice(1)),n};r.normalizeCssArray=function(n){var t=n.length;return"number"==typeof n?[n,n,n,n]:2===t?[n[0],n[1],n[0],n[1]]:3===t?[n[0],n[1],n[2],n[1]]:n};var f=r.encodeHTML=function(n){return String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},s=["a","b","c","d","e","f","g"],e=function(n,t){return"{"+n+(null==t?"":t)+"}"};r.formatTpl=function(n,t,i){var a,c,l,v,u,h,r;if(o.isArray(t)||(t=[t]),a=t.length,!a)return"";for(c=t[0].$vars||[],l=0;l<c.length;l++)v=s[l],r=e(v,0),n=n.replace(e(v),i?f(r):r);for(u=0;u<a;u++)for(h=0;h<c.length;h++)r=t[u][c[h]],n=n.replace(e(s[h],u),i?f(r):r);return n};r.formatTplSimple=function(n,t,i){return o.each(t,function(t,r){n=n.replace("{"+r+"}",i?f(t):t)}),n};u=function(n){return n<10?"0"+n:n};r.formatTime=function(n,t,i){"week"!==n&&"month"!==n&&"quarter"!==n&&"half-year"!==n&&"year"!==n||(n="MM-dd\nyyyy");var r=h.parseDate(t),f=i?"":"UTC",e=r["get"+f+"FullYear"](),a=r["get"+f+"Month"]()+1,o=r["get"+f+"Date"](),s=r["get"+f+"Hours"](),c=r["get"+f+"Minutes"](),l=r["get"+f+"Seconds"]();return n.replace("MM",u(a)).toLowerCase().replace("yyyy",e).replace("yy",e%100).replace("dd",u(o)).replace("d",o).replace("hh",u(s)).replace("h",s).replace("mm",u(c)).replace("m",c).replace("ss",u(l)).replace("s",l)};r.capitalFirst=function(n){return n?n.charAt(0).toUpperCase()+n.substr(1):n};r.truncateText=c.truncateText;n.exports=r},function(n,t,i){function r(n){u.call(this,n);this.path=new h}var u=i(37),f=i(1),h=i(30),o=i(159),c=i(69),s=c.prototype.getCanvasPattern,e=Math.abs;r.prototype={constructor:r,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(n,t){var i=this.style,r=this.path,f=i.hasStroke(),c=i.hasFill(),e=i.fill,o=i.stroke,a=c&&!!e.colorStops,v=f&&!!o.colorStops,w=c&&!!e.image,b=f&&!!o.image,l;(i.bind(n,this,t),this.setTransform(n),this.__dirty)&&(l=this.getBoundingRect(),a&&(this._fillGradient=i.getGradient(n,e,l)),v&&(this._strokeGradient=i.getGradient(n,o,l)));a?n.fillStyle=this._fillGradient:w&&(n.fillStyle=s.call(e,n));v?n.strokeStyle=this._strokeGradient:b&&(n.strokeStyle=s.call(o,n));var u=i.lineDash,y=i.lineDashOffset,h=!!n.setLineDash,p=this.getGlobalScale();r.setScale(p[0],p[1]);this.__dirtyPath||u&&!h&&f?(r=this.path.beginPath(n),u&&!h&&(r.setLineDash(u),r.setLineDashOffset(y)),this.buildPath(r,this.shape,!1),this.__dirtyPath=!1):(n.beginPath(),this.path.rebuildPath(n));c&&r.fill(n);u&&h&&(n.setLineDash(u),n.lineDashOffset=y);f&&r.stroke(n);u&&h&&n.setLineDash([]);this.restoreTransform(n);null!=i.text&&this.drawRectText(n,this.getBoundingRect())},buildPath:function(){},getBoundingRect:function(){var i=this._rect,u=this.style,e=!i,f,n,t,r;return(e&&(f=this.path,this.__dirtyPath&&(f.beginPath(),this.buildPath(f,this.shape,!1)),i=f.getBoundingRect()),this._rect=i,u.hasStroke())?(n=this._rectWithStroke||(this._rectWithStroke=i.clone()),(this.__dirty||e)&&(n.copy(i),t=u.lineWidth,r=u.strokeNoScale?this.getLineScale():1,u.hasFill()||(t=Math.max(t,this.strokeContainThreshold||4)),r>1e-10&&(n.width+=t/r,n.height+=t/r,n.x-=t/r/2,n.y-=t/r/2)),n):i},contain:function(n,t){var e=this.transformCoordToLocal(n,t),s=this.getBoundingRect(),i=this.style,u,r,f;if(n=e[0],t=e[1],s.contain(n,t)){if(u=this.path.data,i.hasStroke()&&(r=i.lineWidth,f=i.strokeNoScale?this.getLineScale():1,f>1e-10&&(i.hasFill()||(r=Math.max(r,this.strokeContainThreshold)),o.containStroke(u,r/f,n,t))))return!0;if(i.hasFill())return o.contain(u,n,t)}return!1},dirty:function(n){null==n&&(n=!0);n&&(this.__dirtyPath=n,this._rect=null);this.__dirty=!0;this.__zr&&this.__zr.refresh();this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(n){return this.animate("shape",n)},attrKV:function(n,t){"shape"===n?(this.setShape(t),this.__dirtyPath=!0,this._rect=null):u.prototype.attrKV.call(this,n,t)},setShape:function(n,t){var r=this.shape,i;if(r){if(f.isObject(n))for(i in n)n.hasOwnProperty(i)&&(r[i]=n[i]);else r[n]=t;this.dirty(!0)}return this},getLineScale:function(){var n=this.transform;return n&&e(n[0]-1)>1e-10&&e(n[3]-1)>1e-10?Math.sqrt(e(n[0]*n[3]-n[2]*n[1])):1}};r.extend=function(n){var i=function(t){var i,f,u;if(r.call(this,t),n.style&&this.style.extendFrom(n.style,!1),i=n.shape,i){this.shape=this.shape||{};f=this.shape;for(u in i)!f.hasOwnProperty(u)&&i.hasOwnProperty(u)&&(f[u]=i[u])}n.init&&n.init.call(this,t)},t;f.inherits(i,r);for(t in n)"style"!==t&&"shape"!==t&&(i.prototype[t]=n[t]);return i};f.inherits(r,u);n.exports=r},function(n){function i(n){var t={},i=n.match(/Firefox\/([\d.]+)/),r=n.match(/MSIE\s([\d.]+)/)||n.match(/Trident\/.+?rv:(([\d.]+))/),u=n.match(/Edge\/([\d.]+)/),f=/micromessenger/i.test(n);return i&&(t.firefox=!0,t.version=i[1]),r&&(t.ie=!0,t.version=r[1]),u&&(t.edge=!0,t.version=u[1]),f&&(t.weChat=!0),{browser:t,os:{},node:!1,canvasSupported:!!document.createElement("canvas").getContext,touchEventsSupported:"ontouchstart"in window&&!t.ie&&!t.edge,pointerEventsSupported:"onpointerdown"in window&&(t.edge||t.ie&&t.version>=11)}}var t={};t="undefined"==typeof navigator?{browser:{},os:{},node:!0,canvasSupported:!0}:i(navigator.userAgent);n.exports=t},function(n,t,i){function r(n,t,i){this.parentModel=t;this.ecModel=i;this.option=n}function s(n,t,i){for(var r=0;r<t.length&&(!t[r]||(n=n&&"object"==typeof n?n[t[r]]:null,null!=n));r++);return null==n&&i&&(n=i.get(t)),n}function e(n,t){var i=f.get(n,"getParent");return i?i.call(n,t):n.parentModel}var o=i(1),f=i(15),h=i(9),u;r.prototype={constructor:r,init:null,mergeOption:function(n){o.merge(this.option,n,!0)},get:function(n,t){return null==n?this.option:s(this.option,this.parsePath(n),!t&&e(this,n))},getShallow:function(n,t){var i=this.option,r=null==i?i:i[n],u=!t&&e(this,n);return null==r&&u&&(r=u.getShallow(n)),r},getModel:function(n,t){var i,u=null==n?this.option:s(this.option,n=this.parsePath(n));return t=t||(i=e(this,n))&&i.getModel(n),new r(u,t,this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){var n=this.constructor;return new n(o.clone(this.option))},setReadOnly:function(n){f.setReadOnly(this,n)},parsePath:function(n){return"string"==typeof n&&(n=n.split(".")),n},customizeGetParent:function(n){f.set(this,"getParent",n)},isAnimationEnabled:function(){if(!h.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}};f.enableClassExtend(r);u=o.mixin;u(r,i(141));u(r,i(138));u(r,i(142));u(r,i(140));n.exports=r},function(n,t,i){"use strict";function r(n,t,i,r){i<0&&(n+=i,i=-i);r<0&&(t+=r,r=-r);this.x=n;this.y=t;this.width=i;this.height=r}var s=i(5),u=i(19),f=s.applyTransform,e=Math.min,o=Math.max;r.prototype={constructor:r,union:function(n){var t=e(n.x,this.x),i=e(n.y,this.y);this.width=o(n.x+n.width,this.x+this.width)-t;this.height=o(n.y+n.height,this.y+this.height)-i;this.x=t;this.y=i},applyTransform:function(){var n=[],t=[],i=[],r=[];return function(u){if(u){n[0]=i[0]=this.x;n[1]=r[1]=this.y;t[0]=r[0]=this.x+this.width;t[1]=i[1]=this.y+this.height;f(n,n,u);f(t,t,u);f(i,i,u);f(r,r,u);this.x=e(n[0],t[0],i[0],r[0]);this.y=e(n[1],t[1],i[1],r[1]);var s=o(n[0],t[0],i[0],r[0]),h=o(n[1],t[1],i[1],r[1]);this.width=s-this.x;this.height=h-this.y}}}(),calculateTransform:function(n){var i=this,r=n.width/i.width,f=n.height/i.height,t=u.create();return u.translate(t,t,[-i.x,-i.y]),u.scale(t,t,[r,f]),u.translate(t,t,[n.x,n.y]),t},intersect:function(n){if(!n)return!1;n instanceof r||(n=r.create(n));var t=this,i=t.x,u=t.x+t.width,f=t.y,e=t.y+t.height,o=n.x,s=n.x+n.width,h=n.y,c=n.y+n.height;return!(u<o||s<i||e<h||c<f)},contain:function(n,t){var i=this;return n>=i.x&&n<=i.x+i.width&&t>=i.y&&t<=i.y+i.height},clone:function(){return new r(this.x,this.y,this.width,this.height)},copy:function(n){this.x=n.x;this.y=n.y;this.width=n.width;this.height=n.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}};r.create=function(n){return new r(n.x,n.y,n.width,n.height)};n.exports=r},function(n,t,i){"use strict";function s(n,t,i,r,u){var e=0,o=0,f;null==r&&(r=1/0);null==u&&(u=1/0);f=0;t.eachChild(function(s,h){var l,a,w=s.position,c=s.getBoundingRect(),b=t.childAt(h+1),v=b&&b.getBoundingRect(),y,p;"horizontal"===n?(y=c.width+(v?-v.x+c.x:0),l=e+y,l>r||s.newline?(e=0,l=y,o+=f+i,f=c.height):f=Math.max(f,c.height)):(p=c.height+(v?-v.y+c.y:0),a=o+p,a>u||s.newline?(e+=f+i,o=0,a=p,f=c.width):f=Math.max(f,c.width));s.newline||(w[0]=e,w[1]=o,"horizontal"===n?e=l+i:o=a+i)})}var e=i(1),h=i(11),l=i(4),c=i(7),u=l.parsePercent,o=e.each,r={},a=r.LOCATION_PARAMS=["left","right","top","bottom","width","height"],f=r.HV_NAMES=[["width","left","right"],["height","top","bottom"]];r.box=s;r.vbox=e.curry(s,"vertical");r.hbox=e.curry(s,"horizontal");r.getAvailableSize=function(n,t,i){var r=t.width,f=t.height,e=u(n.x,r),o=u(n.y,f),s=u(n.x2,r),h=u(n.y2,f);return(isNaN(e)||isNaN(parseFloat(n.x)))&&(e=0),(isNaN(s)||isNaN(parseFloat(n.x2)))&&(s=r),(isNaN(o)||isNaN(parseFloat(n.y)))&&(o=0),(isNaN(h)||isNaN(parseFloat(n.y2)))&&(h=f),i=c.normalizeCssArray(i||0),{width:Math.max(s-e-i[1]-i[3],0),height:Math.max(h-o-i[0]-i[2],0)}};r.getLayoutRect=function(n,t,i){var b;i=c.normalizeCssArray(i||0);var e=t.width,o=t.height,s=u(n.left,e),l=u(n.top,o),v=u(n.right,e),y=u(n.bottom,o),r=u(n.width,e),f=u(n.height,o),p=i[2]+i[0],w=i[1]+i[3],a=n.aspect;switch(isNaN(r)&&(r=e-v-w-s),isNaN(f)&&(f=o-y-p-l),isNaN(r)&&isNaN(f)&&(a>e/o?r=.8*e:f=.8*o),null!=a&&(isNaN(r)&&(r=a*f),isNaN(f)&&(f=r/a)),isNaN(s)&&(s=e-v-r-w),isNaN(l)&&(l=o-y-f-p),n.left||n.right){case"center":s=e/2-r/2-i[3];break;case"right":s=e-r-w}switch(n.top||n.bottom){case"middle":case"center":l=o/2-f/2-i[0];break;case"bottom":l=o-f-p}return s=s||0,l=l||0,isNaN(r)&&(r=e-s-(v||0)),isNaN(f)&&(f=o-l-(y||0)),b=new h(s+i[3],l+i[0],r,f),b.margin=i,b};r.positionElement=function(n,t,i,u,f){var s=!f||!f.hv||f.hv[0],c=!f||!f.hv||f.hv[1],l=f&&f.boundingMode||"all",o,a;if(s||c){"raw"===l?o="group"===n.type?new h(0,0,+t.width||0,+t.height||0):n.getBoundingRect():(o=n.getBoundingRect(),n.needLocalTransform())&&(a=n.getLocalTransform(),o=o.clone(),o.applyTransform(a));t=r.getLayoutRect(e.defaults({width:o.width,height:o.height},t),i,u);var v=n.position,y=s?t.x-o.x:0,p=c?t.y-o.y:0;n.attr("position","raw"===l?[y,p]:[v[0]+y,v[1]+p])}};r.sizeCalculable=function(n,t){return null!=n[f[t][0]]||null!=n[f[t][1]]&&null!=n[f[t][2]]};r.mergeLayoutParam=function(n,t,i){function h(i,f){var h={},a=0,e={},v=0,y=2,l,c;if(o(i,function(t){e[t]=n[t]}),o(i,function(n){s(t,n)&&(h[n]=e[n]=t[n]);u(h,n)&&a++;u(e,n)&&v++}),r[f])return u(t,i[2])&&(e[i[1]]=null),u(t,i[1])&&(e[i[2]]=null),e;if(v!==y&&a){if(a>=y)return h;for(l=0;l<i.length;l++)if(c=i[l],!s(h,c)&&s(n,c)){h[c]=n[c];break}return h}return e}function s(n,t){return n.hasOwnProperty(t)}function u(n,t){return null!=n[t]&&"auto"!==n[t]}function c(n,t,i){o(n,function(n){t[n]=i[n]})}var r,l,a;e.isObject(i)||(i={});r=i.ignoreSize;e.isArray(r)||(r=[r,r]);l=h(f[0],0);a=h(f[1],1);c(f[0],n,l);c(f[1],n,a)};r.getLayoutParams=function(n){return r.copyLayoutParams({},n)};r.copyLayoutParams=function(n,t){return t&&n&&o(a,function(i){t.hasOwnProperty(i)&&(n[i]=t[i])}),n};n.exports=r},function(n,t,i){function h(n){var t=[];return r.each(u.getClassesByMainType(n),function(n){c.apply(t,n.prototype.dependencies||[])}),r.map(t,function(n){return f.parseClassType(n).main})}var s=i(10),r=i(1),c=Array.prototype.push,e=i(49),f=i(15),o=i(12),u=s.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(n,t,i,r){s.call(this,n,t,i,r);this.uid=e.getUID("componentModel")},init:function(n,t,i){this.mergeDefaultAndTheme(n,i)},mergeDefaultAndTheme:function(n,t){var i=this.layoutMode,u=i?o.getLayoutParams(n):{},f=t.getTheme();r.merge(n,f.get(this.mainType));r.merge(n,this.getDefaultOption());i&&o.mergeLayoutParam(n,u,i)},mergeOption:function(n){r.merge(this.option,n,!0);var t=this.layoutMode;t&&o.mergeLayoutParam(this.option,n,t)},optionUpdated:function(){},getDefaultOption:function(){var t,n,e,i,u;if(!f.hasOwn(this,"__defaultOption")){for(t=[],n=this.constructor;n;)e=n.prototype.defaultOption,e&&t.push(e),n=n.superClass;for(i={},u=t.length-1;u>=0;u--)i=r.merge(i,t[u],!0);f.set(this,"__defaultOption",i)}return f.get(this,"__defaultOption")},getReferringComponents:function(n){return this.ecModel.queryComponents({mainType:n,index:this.get(n+"Index",!0),id:this.get(n+"Id",!0)})}});f.enableClassManagement(u,{registerWhenExtend:!0});e.enableSubTypeDefaulter(u);e.enableTopologicalTravel(u,h);r.mixin(u,i(139));n.exports=u},function(n,t,i){(function(t){function o(n){return u.isArray(n)||(n=[n]),n}function c(n,t){var r=n.dimensions,f=new e(u.map(r,n.getDimensionInfo,n),n.hostModel),i,h;a(f,n);for(var c=f._storage={},o=n._storage,s=0;s<r.length;s++)i=r[s],h=o[i],c[i]=u.indexOf(t,i)>=0?new h.constructor(o[i].length):o[i];return f}var l="undefined",f="undefined"==typeof window?t:window,y=typeof f.Float64Array===l?Array:f.Float64Array,p=typeof f.Int32Array===l?Array:f.Int32Array,w={float:y,int:p,ordinal:Array,number:Array,time:Array},b=i(10),k=i(48),u=i(1),s=i(6),h=u.isObject,d=["stackedOn","hasItemOption","_nameList","_idList","_rawData"],a=function(n,t){u.each(d.concat(t.__wrappedMethods||[]),function(i){t.hasOwnProperty(i)&&(n[i]=t[i])});n.__wrappedMethods=t.__wrappedMethods},e=function(n,t){var u,i;n=n||["x","y"];for(var f={},e=[],r=0;r<n.length;r++)i={},"string"==typeof n[r]?(u=n[r],i={name:u,stackable:!1,type:"number"}):(i=n[r],u=i.name,i.type=i.type||"number"),e.push(u),f[u]=i;this.dimensions=e;this._dimensionInfos=f;this.hostModel=t;this.dataType;this.indices=[];this._storage={};this._nameList=[];this._idList=[];this._optionModels=[];this.stackedOn=null;this._visual={};this._layout={};this._itemVisuals=[];this._itemLayouts=[];this._graphicEls=[];this._rawData;this._extent},r=e.prototype,v;r.type="list";r.hasItemOption=!0;r.getDimension=function(n){return isNaN(n)||(n=this.dimensions[n]||n),n};r.getDimensionInfo=function(n){return u.clone(this._dimensionInfos[this.getDimension(n)])};r.initData=function(n,t,i){var b,k,l,f,d,c,a,g,r,u,e;n=n||[];this._rawData=n;var v=this._storage={},nt=this.indices=[],o=this.dimensions,tt=n.length,y=this._dimensionInfos,p=[],h={};for(t=t||[],r=0;r<o.length;r++)b=y[o[r]],k=w[b.type],v[o[r]]=new k(tt);for(l=this,i||(l.hasItemOption=!1),i=i||function(n,t,i,r){var u=s.getDataItemValue(n);return s.isDataItemOption(n)&&(l.hasItemOption=!0),s.converDataValue(u instanceof Array?u[r]:u,y[t])},f=0;f<n.length;f++){for(d=n[f],c=0;c<o.length;c++)a=o[c],g=v[a],g[f]=i(d,a,f,c);nt.push(f)}for(r=0;r<n.length;r++)t[r]||n[r]&&null!=n[r].name&&(t[r]=n[r].name),u=t[r]||"",e=n[r]&&n[r].id,!e&&u&&(h[u]=h[u]||0,e=u,h[u]>0&&(e+="__ec__"+h[u]),h[u]++),e&&(p[r]=e);this._nameList=t;this._idList=p};r.count=function(){return this.indices.length};r.get=function(n,t,i){var o=this._storage,s=this.indices[t],r,e,u,f;if(null==s)return NaN;if(r=o[n]&&o[n][s],i&&(e=this._dimensionInfos[n],e&&e.stackable))for(u=this.stackedOn;u;)f=u.get(n,t),(r>=0&&f>0||r<=0&&f<0)&&(r+=f),u=u.stackedOn;return r};r.getValues=function(n,t,i){var f=[],r,e;for(u.isArray(n)||(i=t,t=n,n=this.dimensions),r=0,e=n.length;r<e;r++)f.push(this.get(n[r],t,i));return f};r.hasValue=function(n){for(var i=this.dimensions,r=this._dimensionInfos,t=0,u=i.length;t<u;t++)if("ordinal"!==r[i[t]].type&&isNaN(this.get(i[t],n)))return!1;return!0};r.getDataExtent=function(n,t,i){var h,f,r,e;if(n=this.getDimension(n),h=this._storage[n],f=this.getDimensionInfo(n),t=f&&f.stackable&&t,e=(this._extent||(this._extent={}))[n+!!t],e)return e;if(h){for(var o=1/0,s=-(1/0),u=0,c=this.count();u<c;u++)r=this.get(n,u,t),i&&!i(r,n,u)||(r<o&&(o=r),r>s&&(s=r));return this._extent[n+!!t]=[o,s]}return[1/0,-(1/0)]};r.getSum=function(n,t){var e=this._storage[n],u=0,i,f,r;if(e)for(i=0,f=this.count();i<f;i++)r=this.get(n,i,t),isNaN(r)||(u+=r);return u};r.indexOf=function(n,t){var o=this._storage,r=o[n],u=this.indices,i,f,e;if(r)for(i=0,f=u.length;i<f;i++)if(e=u[i],r[e]===t)return i;return-1};r.indexOfName=function(n){for(var r,i=this.indices,u=this._nameList,t=0,f=i.length;t<f;t++)if(r=i[t],u[r]===n)return t;return-1};r.indexOfRawIndex=function(n){var i=this.indices,f=i[n],r,u,t;if(null!=f&&f===n)return n;for(r=0,u=i.length-1;r<=u;)if(t=(r+u)/2|0,i[t]<n)r=t+1;else{if(!(i[t]>n))return t;u=t-1}return-1};r.indexOfNearest=function(n,t,i,r){var c=this._storage,l=c[n],f=[],u,o;if(!l)return f;null==r&&(r=1/0);for(var s=Number.MAX_VALUE,h=-1,e=0,a=this.count();e<a;e++)u=t-this.get(n,e,i),o=Math.abs(u),u<=r&&o<=s&&((o<s||u>=0&&h<0)&&(s=o,h=u,f.length=0),f.push(e));return f};r.getRawIndex=function(n){var t=this.indices[n];return null==t?-1:t};r.getRawDataItem=function(n){return this._rawData[this.getRawIndex(n)]};r.getName=function(n){return this._nameList[this.indices[n]]||""};r.getId=function(n){return this._idList[this.indices[n]]||this.getRawIndex(n)+""};r.each=function(n,t,i,r){var f,e;"function"==typeof n&&(r=i,i=t,t=n,n=[]);n=u.map(o(n),this.getDimension,this);var s=[],h=n.length,c=this.indices;for(r=r||this,f=0;f<c.length;f++)switch(h){case 0:t.call(r,f);break;case 1:t.call(r,this.get(n[0],f,i),f);break;case 2:t.call(r,this.get(n[0],f,i),this.get(n[1],f,i),f);break;default:for(e=0;e<h;e++)s[e]=this.get(n[e],f,i);s[e]=f;t.apply(r,s)}};r.filterSelf=function(n,t,i,r){var f,h,e;"function"==typeof n&&(r=i,i=t,t=n,n=[]);n=u.map(o(n),this.getDimension,this);var c=[],s=[],l=n.length,a=this.indices;for(r=r||this,f=0;f<a.length;f++){if(1===l)h=t.call(r,this.get(n[0],f,i),f);else{for(e=0;e<l;e++)s[e]=this.get(n[e],f,i);s[e]=f;h=t.apply(r,s)}h&&c.push(a[f])}return this.indices=c,this._extent={},this};r.mapArray=function(n,t,i,r){"function"==typeof n&&(r=i,i=t,t=n,n=[]);var u=[];return this.each(n,function(){u.push(t&&t.apply(this,arguments))},i,r),u};r.map=function(n,t,i,r){n=u.map(o(n),this.getDimension,this);var f=c(this,n),s=f.indices=this.indices,h=f._storage,e=[];return this.each(n,function(){var f=arguments[arguments.length-1],i=t&&t.apply(this,arguments),r;if(null!=i)for("number"==typeof i&&(e[0]=i,i=e),r=0;r<i.length;r++){var o=n[r],u=h[o],c=s[f];u&&(u[c]=i[r])}},i,r),f};r.downSample=function(n,t,i,r){for(var e,a,f,h=c(this,[n]),v=this._storage,y=h._storage,b=this.indices,k=h.indices=[],s=[],p=[],o=Math.floor(1/t),w=y[n],l=this.count(),u=0;u<v[n].length;u++)y[n][u]=v[n][u];for(u=0;u<l;u+=o){for(o>l-u&&(o=l-u,s.length=o),e=0;e<o;e++)f=b[u+e],s[e]=w[f],p[e]=f;a=i(s);f=p[r(s,a)||0];w[f]=a;k.push(f)}return h};r.getItemModel=function(n){var t=this.hostModel;return n=this.indices[n],new b(this._rawData[n],t,t&&t.ecModel)};r.diff=function(n){var t,r=this._idList,u=n&&n._idList,i="e\0\0";return new k(n?n.indices:[],this.indices,function(n){return null!=(t=u[n])?t:i+n},function(n){return null!=(t=r[n])?t:i+n})};r.getVisual=function(n){var t=this._visual;return t&&t[n]};r.setVisual=function(n,t){if(h(n))for(var i in n)n.hasOwnProperty(i)&&this.setVisual(i,n[i]);else this._visual=this._visual||{},this._visual[n]=t};r.setLayout=function(n,t){if(h(n))for(var i in n)n.hasOwnProperty(i)&&this.setLayout(i,n[i]);else this._layout[n]=t};r.getLayout=function(n){return this._layout[n]};r.getItemLayout=function(n){return this._itemLayouts[n]};r.setItemLayout=function(n,t,i){this._itemLayouts[n]=i?u.extend(this._itemLayouts[n]||{},t):t};r.clearItemLayouts=function(){this._itemLayouts.length=0};r.getItemVisual=function(n,t,i){var r=this._itemVisuals[n],u=r&&r[t];return null!=u||i?u:this.getVisual(t)};r.setItemVisual=function(n,t,i){var u=this._itemVisuals[n]||{},r;if(this._itemVisuals[n]=u,h(t))for(r in t)t.hasOwnProperty(r)&&(u[r]=t[r]);else u[t]=i};r.clearAllVisual=function(){this._visual={};this._itemVisuals=[]};v=function(n){n.seriesIndex=this.seriesIndex;n.dataIndex=this.dataIndex;n.dataType=this.dataType};r.setItemGraphicEl=function(n,t){var i=this.hostModel;t&&(t.dataIndex=n,t.dataType=this.dataType,t.seriesIndex=i&&i.seriesIndex,"group"===t.type&&t.traverse(v,t));this._graphicEls[n]=t};r.getItemGraphicEl=function(n){return this._graphicEls[n]};r.eachItemGraphicEl=function(n,t){u.each(this._graphicEls,function(i,r){i&&n&&n.call(t,i,r)})};r.cloneShallow=function(){var t=u.map(this.dimensions,this.getDimensionInfo,this),n=new e(t,this.hostModel);return n._storage=this._storage,a(n,this),n.indices=this.indices.slice(),this._extent&&(n._extent=u.extend({},this._extent)),n};r.wrapMethod=function(n,t){var i=this[n];"function"==typeof i&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(n),this[n]=function(){var n=i.apply(this,arguments);return t.apply(this,[n].concat(u.slice(arguments)))})};r.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"];r.CHANGABLE_METHODS=["filterSelf"];n.exports=e}).call(t,function(){return this}())},function(n,t,i){function s(n){f.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(n),'componentType "'+n+'" illegal')}function h(n,t){var i=f.slice(arguments,2);return this.superClass.prototype[t].apply(n,i)}function c(n,t,i){return this.superClass.prototype[t].apply(n,i)}var f=i(1),r={},l=".",u="___EC__COMPONENT__CONTAINER___",o="\0ec_\0",e;r.set=function(n,t,i){return n[o+t]=i};r.get=function(n,t){return n[o+t]};r.hasOwn=function(n,t){return n.hasOwnProperty(o+t)};e=r.parseClassType=function(n){var t={main:"",sub:""};return n&&(n=n.split(l),t.main=n[0]||"",t.sub=n[1]||""),t};r.enableClassExtend=function(n){n.$constructor=n;n.extend=function(n){var i=this,t=function(){n.$constructor?n.$constructor.apply(this,arguments):i.apply(this,arguments)};return f.extend(t.prototype,n),t.extend=this.extend,t.superCall=h,t.superApply=c,f.inherits(t,this),t.superClass=i,t}};r.enableClassManagement=function(n,t){function o(n){var t=i[n.main];return t&&t[u]||(t=i[n.main]={},t[u]=!0),t}var i,r;return t=t||{},i={},(n.registerClass=function(n,t){if(t)if(s(t),t=e(t),t.sub){if(t.sub!==u){var r=o(t);r[t.sub]=n}}else i[t.main]=n;return n},n.getClass=function(n,t,r){var f=i[n];if(f&&f[u]&&(f=t?f[t]:null),r&&!f)throw new Error(t?"Component "+n+"."+(t||"")+" not exists. Load it first.":n+".type should be specified.");return f},n.getClassesByMainType=function(n){n=e(n);var r=[],t=i[n.main];return t&&t[u]?f.each(t,function(n,t){t!==u&&r.push(n)}):r.push(t),r},n.hasClass=function(n){return n=e(n),!!i[n.main]},n.getAllClassMainTypes=function(){var n=[];return f.each(i,function(t,i){n.push(i)}),n},n.hasSubTypes=function(n){n=e(n);var t=i[n.main];return t&&t[u]},n.parseClassType=e,t.registerWhenExtend)&&(r=n.extend,r&&(n.extend=function(t){var i=r.call(this,t);return n.registerClass(i,t.type)})),n};r.setReadOnly=function(){};n.exports=r},function(n,t,i){function r(n,t){var r=n+":"+t;if(u[r])return u[r];for(var o=(n+"").split("\n"),i=0,f=0,h=o.length;f<h;f++)i=Math.max(s.measureText(o[f],t).width,i);return e>v&&(e=0,u={}),e++,u[r]=i,i}function h(n,t,i,u){var o=((n||"")+"").split("\n").length,s=r(n,t),e=r("国",t),h=o*e,f=new y(0,0,s,h);switch(f.lineHeight=e,u){case"bottom":case"alphabetic":f.y-=e;break;case"middle":f.y-=e/2}switch(i){case"end":case"right":f.x-=f.width;break;case"center":f.x-=f.width/2}return f}function c(n,t,i,r){var u=t.x,f=t.y,s=t.height,o=t.width,h=i.height,c=s/2-h/2,e="left";switch(n){case"left":u-=r;f+=c;e="right";break;case"right":u+=r+o;f+=c;e="left";break;case"top":u+=o/2;f-=r+h;e="center";break;case"bottom":u+=o/2;f+=s+r;e="center";break;case"inside":u+=o/2;f+=c;e="center";break;case"insideLeft":u+=r;f+=c;e="left";break;case"insideRight":u+=o-r;f+=c;e="right";break;case"insideTop":u+=o/2;f+=r;e="center";break;case"insideBottom":u+=o/2;f+=s-h-r;e="center";break;case"insideTopLeft":u+=r;f+=r;e="left";break;case"insideTopRight":u+=o-r;f+=r;e="right";break;case"insideBottomLeft":u+=r;f+=s-h-r;break;case"insideBottomRight":u+=o-r;f+=s-h-r;e="right"}return{x:u,y:f,textAlign:e,textBaseline:"top"}}function l(n,t,i,u,e){var l,o,c,y,w;if(!t)return"";e=e||{};u=f(u,"...");for(var b=f(e.maxIterations,2),k=f(e.minChar,0),d=r("国",i),p=r("a",i),g=f(e.placeholder,""),s=t=Math.max(0,t-1),h=0;h<k&&s>=p;h++)s-=p;l=r(u);l>s&&(u="",l=0);s=t-l;for(var v=(n+"").split("\n"),h=0,nt=v.length;h<nt;h++)if(o=v[h],c=r(o,i),!(c<=t)){for(y=0;;y++){if(c<=s||y>=b){o+=u;break}w=0===y?a(o,s,p,d):c>0?Math.floor(o.length*s/c):0;o=o.substr(0,w);c=r(o,i)}""===o&&(o=g);v[h]=o}return v.join("\n")}function a(n,t,i,r){for(var f,e=0,u=0,o=n.length;u<o&&e<t;u++)f=n.charCodeAt(u),e+=0<=f&&f<=127?i:r;return u}var u={},e=0,v=5e3,o=i(1),y=i(11),f=o.retrieve,s={getWidth:r,getBoundingRect:h,adjustTextPositionOnRect:c,truncateText:l,measureText:function(n,t){var i=o.getContext();return i.font=t||"12px sans-serif",i.measureText(n)}};n.exports=s},function(n,t,i){var o=i(147),f=i(42);i(148);i(146);var s=i(34),e=i(4),u=i(1),h=i(16),r={};r.getScaleExtent=function(n,t){var s,f,h,c=n.type,i=t.getMin(),r=t.getMax(),l=null!=i,a=null!=r,o=n.getExtent();return"ordinal"===c?s=(t.get("data")||[]).length:(f=t.get("boundaryGap"),u.isArray(f)||(f=[f||0,f||0]),f[0]=e.parsePercent(f[0],1),f[1]=e.parsePercent(f[1],1),h=o[1]-o[0]),null==i&&(i="ordinal"===c?s?0:NaN:o[0]-f[0]*h),null==r&&(r="ordinal"===c?s?s-1:NaN:o[1]+f[1]*h),"dataMin"===i&&(i=o[0]),"dataMax"===r&&(r=o[1]),(null==i||!isFinite(i))&&(i=NaN),(null==r||!isFinite(r))&&(r=NaN),n.setBlank(u.eqNaN(i)||u.eqNaN(r)),t.getNeedCrossZero()&&(i>0&&r>0&&!l&&(i=0),i<0&&r<0&&!a&&(r=0)),[i,r]};r.niceScaleExtent=function(n,t){var i=r.getScaleExtent(n,t),s=null!=t.getMin(),h=null!=t.getMax(),c=t.get("splitNumber"),e,o,f,u;"log"===n.type&&(n.base=t.get("logBase"));n.setExtent(i[0],i[1]);n.niceExtent(c,s,h);e=t.get("minInterval");!isFinite(e)||s||h||"interval"!==n.type||(u=n.getInterval(),o=Math.max(Math.abs(u),e)/u,i=n.getExtent(),f=(i[1]+i[0])/2,n.setExtent(o*(i[0]-f)+f,o*(i[1]-f)+f),n.niceExtent(c));u=t.get("interval");null!=u&&n.setInterval&&n.setInterval(u)};r.createScaleByModel=function(n,t){if(t=t||n.get("type"))switch(t){case"category":return new o(n.getCategories(),[1/0,-(1/0)]);case"value":return new f;default:return(s.getClass(t)||f).create(n)}};r.ifAxisCrossZero=function(n){var t=n.scale.getExtent(),i=t[0],r=t[1];return!(i>0&&r>0||i<0&&r<0)};r.getAxisLabelInterval=function(n,t,i,r){var o,s=0,c=0,f=1,e,l,u;for(t.length>40&&(f=Math.floor(t.length/40)),e=0;e<n.length;e+=f)l=n[e],u=h.getBoundingRect(t[e],i,"center","top"),u[r?"x":"y"]+=l,u[r?"width":"height"]*=1.3,o?o.intersect(u)?(c++,s=Math.max(s,c)):(o.union(u),c=0):o=u.clone();return 0===s&&f>1?f:(s+1)*f-1};r.getFormattedLabels=function(n,t){var i=n.scale,f=i.getTicksLabels(),e=i.getTicks();return"string"==typeof t?(t=function(n){return function(t){return n.replace("{value}",null!=t?t:"")}}(t),u.map(f,t)):"function"==typeof t?u.map(e,function(i,u){return t(r.getAxisRawValue(n,i),u)},this):f};r.getAxisRawValue=function(n,t){return"category"===n.type?n.scale.getLabel(t):t};n.exports=r},function(n,t,i){"use strict";var r=i(1),s=i(7),l=i(15),u=i(6),y=i(13),a=i(60),p=i(9),h=i(12),f=l.set,o=l.get,e=s.encodeHTML,v=s.addCommas,c=y.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.normal.color",layoutMode:null,init:function(n,t,i){this.seriesIndex=this.componentIndex;this.mergeDefaultAndTheme(n,i);var r=this.getInitialData(n,i);f(this,"dataBeforeProcessed",r);this.restoreData()},mergeDefaultAndTheme:function(n,t){var i=this.layoutMode,f=i?h.getLayoutParams(n):{};r.merge(n,t.getTheme().get(this.subType));r.merge(n,this.getDefaultOption());u.defaultEmphasis(n.label,u.LABEL_OPTIONS);this.fillDataTextStyle(n.data);i&&h.mergeLayoutParam(n,f,i)},mergeOption:function(n,t){var u,i;n=r.merge(this.option,n,!0);this.fillDataTextStyle(n.data);u=this.layoutMode;u&&h.mergeLayoutParam(this.option,n,u);i=this.getInitialData(n,t);i&&(f(this,"data",i),f(this,"dataBeforeProcessed",i.cloneShallow()))},fillDataTextStyle:function(n){if(n)for(var t=0;t<n.length;t++)n[t]&&n[t].label&&u.defaultEmphasis(n[t].label,u.LABEL_OPTIONS)},getInitialData:function(){},getData:function(n){var t=o(this,"data");return null==n?t:t.getLinkedData(n)},setData:function(n){f(this,"data",n)},getRawData:function(){return o(this,"dataBeforeProcessed")},coordDimToDataDim:function(n){return[n]},dataDimToCoordDim:function(n){return n},getBaseAxis:function(){var n=this.coordinateSystem;return n&&n.getBaseAxis&&n.getBaseAxis()},formatTooltip:function(n,t){function y(n){var i=[];return r.each(n,function(n,r){var u,e=f.getDimensionInfo(r),o=e&&e.type;u="ordinal"===o?n+"":"time"===o?t?"":s.formatTime("yyyy/MM/dd hh:mm:ss",n):v(n);u&&i.push(u)}),i.join(", ")}var f=o(this,"data"),h=this.getRawValue(n),c=e(r.isArray(h)?y(h):v(h)),a=f.getName(n),i=f.getItemVisual(n,"color"),l,u;return r.isObject(i)&&i.colorStops&&(i=(i.colorStops[0]||{}).color),i=i||"transparent",l='<span style="display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'+e(i)+'"><\/span>',u=this.name,"\0-"===u&&(u=""),t?l+e(this.name)+" : "+c:(u&&e(u)+"<br />")+l+(a?e(a)+" : "+c:c)},isAnimationEnabled:function(){if(p.node)return!1;var n=this.getShallow("animation");return n&&this.getData().count()>this.getShallow("animationThreshold")&&(n=!1),n},restoreData:function(){f(this,"data",o(this,"dataBeforeProcessed").cloneShallow())},getColorFromPalette:function(n,t){var r=this.ecModel,i=a.getColorFromPalette.call(this,n,t);return i||(i=r.getColorFromPalette(n,t)),i},getAxisTooltipData:null,getTooltipPosition:null});r.mixin(c,u.dataFormatMixin);r.mixin(c,a);n.exports=c},function(n){var i="undefined"==typeof Float32Array?Array:Float32Array,t={create:function(){var n=new i(6);return t.identity(n),n},identity:function(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,n},copy:function(n,t){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n},mul:function(n,t,i){var r=t[0]*i[0]+t[2]*i[1],u=t[1]*i[0]+t[3]*i[1],f=t[0]*i[2]+t[2]*i[3],e=t[1]*i[2]+t[3]*i[3],o=t[0]*i[4]+t[2]*i[5]+t[4],s=t[1]*i[4]+t[3]*i[5]+t[5];return n[0]=r,n[1]=u,n[2]=f,n[3]=e,n[4]=o,n[5]=s,n},translate:function(n,t,i){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4]+i[0],n[5]=t[5]+i[1],n},rotate:function(n,t,i){var f=t[0],e=t[2],o=t[4],s=t[1],h=t[3],c=t[5],r=Math.sin(i),u=Math.cos(i);return n[0]=f*u+s*r,n[1]=-f*r+s*u,n[2]=e*u+h*r,n[3]=-e*r+u*h,n[4]=u*o+r*c,n[5]=u*c-r*o,n},scale:function(n,t,i){var r=i[0],u=i[1];return n[0]=t[0]*r,n[1]=t[1]*u,n[2]=t[2]*r,n[3]=t[3]*u,n[4]=t[4]*r,n[5]=t[5]*u,n},invert:function(n,t){var r=t[0],u=t[2],o=t[4],f=t[1],e=t[3],s=t[5],i=r*e-f*u;return i?(i=1/i,n[0]=e*i,n[1]=-f*i,n[2]=-u*i,n[3]=r*i,n[4]=(u*s-e*o)*i,n[5]=(f*o-r*s)*i,n):null}};n.exports=t},function(n,t,i){"use strict";function o(n){return n>-a&&n<a}function p(n){return n>a||n<-a}function f(n,t,i,r,u){var f=1-u;return f*f*(f*n+3*u*t)+u*u*(u*r+3*f*i)}function d(n,t,i,r,u){var f=1-u;return 3*(((t-n)*f+2*(i-t)*u)*f+(r-i)*u*u)}function g(n,t,i,r,u,f){var c=r+3*(t-i)-n,h=3*(i-2*t+n),b=3*(t-n),ft=n-u,a=h*h-3*c*b,p=h*b-9*c*ft,st=b*b-3*h*ft,y=0,nt,e;if(o(a)&&o(p))o(h)?f[0]=0:(e=-b/h,e>=0&&e<=1&&(f[y++]=e));else if(nt=p*p-4*a*st,o(nt)){var et=p/a,e=-h/c+et,w=-et/2;e>=0&&e<=1&&(f[y++]=e);w>=0&&w<=1&&(f[y++]=w)}else if(nt>0){var ot=s(nt),d=a*h+1.5*c*(-p+ot),g=a*h+1.5*c*(-p-ot);d=d<0?-l(-d,v):l(d,v);g=g<0?-l(-g,v):l(g,v);e=(-h-(d+g))/(3*c);e>=0&&e<=1&&(f[y++]=e)}else{var ht=(2*a*h-3*c*p)/(2*s(a*a*a)),tt=Math.acos(ht)/3,it=s(a),rt=Math.cos(tt),e=(-h-2*it*rt)/(3*c),w=(-h+it*(rt+k*Math.sin(tt)))/(3*c),ut=(-h+it*(rt-k*Math.sin(tt)))/(3*c);e>=0&&e<=1&&(f[y++]=e);w>=0&&w<=1&&(f[y++]=w);ut>=0&&ut<=1&&(f[y++]=ut)}return y}function nt(n,t,i,r,u){var e=6*i-12*t+6*n,h=9*t+3*r-3*n-9*i,v=3*t-3*n,c=0,f,l;if(o(h))p(e)&&(f=-v/e,f>=0&&f<=1&&(u[c++]=f));else if(l=e*e-4*h*v,o(l))u[0]=-e/(2*h);else if(l>0){var y=s(l),f=(-e+y)/(2*h),a=(-e-y)/(2*h);f>=0&&f<=1&&(u[c++]=f);a>=0&&a<=1&&(u[c++]=a)}return c}function tt(n,t,i,r,u,f){var e=(t-n)*u+n,o=(i-t)*u+t,h=(r-i)*u+i,s=(o-e)*u+e,c=(h-o)*u+o,l=(c-s)*u+s;f[0]=n;f[1]=e;f[2]=s;f[3]=l;f[4]=l;f[5]=c;f[6]=h;f[7]=r}function it(n,t,i,e,o,l,a,v,y,p,w){var d,tt,it,g,ut,rt=.005,k=1/0,nt,ft;for(u[0]=y,u[1]=p,nt=0;nt<1;nt+=.05)r[0]=f(n,i,o,a,nt),r[1]=f(t,e,l,v,nt),g=h(u,r),g<k&&(d=nt,k=g);for(k=1/0,ft=0;ft<32&&!(rt<b);ft++)tt=d-rt,it=d+rt,r[0]=f(n,i,o,a,tt),r[1]=f(t,e,l,v,tt),g=h(r,u),tt>=0&&g<k?(d=tt,k=g):(c[0]=f(n,i,o,a,it),c[1]=f(t,e,l,v,it),ut=h(c,u),it<=1&&ut<k?(d=it,k=ut):rt*=.5);return w&&(w[0]=f(n,i,o,a,d),w[1]=f(t,e,l,v,d)),s(k)}function e(n,t,i,r){var u=1-r;return u*(u*n+2*r*t)+r*r*i}function rt(n,t,i,r){return 2*((1-r)*(t-n)+r*(i-t))}function ut(n,t,i,r,u){var h=n-2*t+i,e=2*(t-n),v=n-r,c=0,l,f;if(o(h))p(e)&&(f=-v/e,f>=0&&f<=1&&(u[c++]=f));else if(l=e*e-4*h*v,o(l))f=-e/(2*h),f>=0&&f<=1&&(u[c++]=f);else if(l>0){var y=s(l),f=(-e+y)/(2*h),a=(-e-y)/(2*h);f>=0&&f<=1&&(u[c++]=f);a>=0&&a<=1&&(u[c++]=a)}return c}function ft(n,t,i){var r=n+i-2*t;return 0===r?.5:(n-t)/r}function et(n,t,i,r,u){var f=(t-n)*r+n,e=(i-t)*r+t,o=(e-f)*r+f;u[0]=n;u[1]=f;u[2]=o;u[3]=o;u[4]=e;u[5]=i}function ot(n,t,i,f,o,l,a,v,y){var w,tt=.005,p=1/0,d,it,g,nt,k,rt;for(u[0]=a,u[1]=v,d=0;d<1;d+=.05)r[0]=e(n,i,o,d),r[1]=e(t,f,l,d),k=h(u,r),k<p&&(w=d,p=k);for(p=1/0,it=0;it<32&&!(tt<b);it++)g=w-tt,nt=w+tt,r[0]=e(n,i,o,g),r[1]=e(t,f,l,g),k=h(r,u),g>=0&&k<p?(w=g,p=k):(c[0]=e(n,i,o,nt),c[1]=e(t,f,l,nt),rt=h(c,u),nt<=1&&rt<p?(w=nt,p=rt):tt*=.5);return y&&(y[0]=e(n,i,o,w),y[1]=e(t,f,l,w)),s(p)}var w=i(5),y=w.create,h=w.distSquare,l=Math.pow,s=Math.sqrt,a=1e-8,b=.0001,k=s(3),v=1/3,u=y(),r=y(),c=y();n.exports={cubicAt:f,cubicDerivativeAt:d,cubicRootAt:g,cubicExtrema:nt,cubicSubdivide:tt,cubicProjectPoint:it,quadraticAt:e,quadraticDerivativeAt:rt,quadraticRootAt:ut,quadraticExtremum:ft,quadraticSubdivide:et,quadraticProjectPoint:ot}},function(n,t,i){"use strict";function o(n){return n.getBoundingClientRect?n.getBoundingClientRect():{left:0,top:0}}function r(n,t,i,r){return i=i||{},r||!e.canvasSupported?f(n,t,i):e.browser.firefox&&null!=t.layerX&&t.layerX!==t.offsetX?(i.zrX=t.layerX,i.zrY=t.layerY):null!=t.offsetX?(i.zrX=t.offsetX,i.zrY=t.offsetY):f(n,t,i),i}function f(n,t,i){var r=o(n);i.zrX=t.clientX-r.left;i.zrY=t.clientY-r.top}function s(n,t,i){var u,e,f;return(t=t||window.event,null!=t.zrX)?t:(u=t.type,e=u&&u.indexOf("touch")>=0,e?(f="touchend"!=u?t.targetTouches[0]:t.changedTouches[0],f&&r(n,f,t,i)):(r(n,t,t,i),t.zrDelta=t.wheelDelta?t.wheelDelta/120:-(t.detail||0)/3),t)}function h(n,t,i){u?n.addEventListener(t,i):n.attachEvent("on"+t,i)}function c(n,t,i){u?n.removeEventListener(t,i):n.detachEvent("on"+t,i)}var l=i(23),e=i(9),u="undefined"!=typeof window&&!!window.addEventListener,a=u?function(n){n.preventDefault();n.stopPropagation();n.cancelBubble=!0}:function(n){n.returnValue=!1;n.cancelBubble=!0};n.exports={clientToLocal:r,normalizeEvent:s,addEventListener:h,removeEventListener:c,stop:a,Dispatcher:l}},function(n,t,i){function u(n){return n=Math.round(n),n<0?0:n>255?255:n}function k(n){return n=Math.round(n),n<0?0:n>360?360:n}function c(n){return n<0?0:n>1?1:n}function a(n){return u(n.length&&"%"===n.charAt(n.length-1)?parseFloat(n)/100*255:parseInt(n,10))}function o(n){return c(n.length&&"%"===n.charAt(n.length-1)?parseFloat(n)/100:parseFloat(n))}function v(n,t,i){return i<0?i+=1:i>1&&(i-=1),6*i<1?n+(t-n)*i*6:2*i<1?t:3*i<2?n+(t-n)*(2/3-i)*6:n}function f(n,t,i){return n+(t-n)*i}function r(n,t,i,r,u){return n[0]=t,n[1]=i,n[2]=r,n[3]=u,n}function y(n,t){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n}function s(n,t){l&&y(l,t);l=b.put(n,l||t.slice())}function e(n,t){var h,u,e,c,i;if(n){if(t=t||[],h=b.get(n),h)return y(t,h);if(n+="",u=n.replace(/ /g,"").toLowerCase(),u in w)return y(t,w[u]),s(n,t),t;if("#"!==u.charAt(0)){if(e=u.indexOf("("),c=u.indexOf(")"),e!==-1&&c+1===u.length){var v=u.substr(0,e),f=u.substr(e+1,c-(e+1)).split(","),l=1;switch(v){case"rgba":if(4!==f.length)return void r(t,0,0,0,1);l=o(f.pop());case"rgb":return 3!==f.length?void r(t,0,0,0,1):(r(t,a(f[0]),a(f[1]),a(f[2]),l),s(n,t),t);case"hsla":return 4!==f.length?void r(t,0,0,0,1):(f[3]=o(f[3]),p(f,t),s(n,t),t);case"hsl":return 3!==f.length?void r(t,0,0,0,1):(p(f,t),s(n,t),t);default:return}}r(t,0,0,0,1)}else{if(4===u.length)return i=parseInt(u.substr(1),16),i>=0&&i<=4095?(r(t,(3840&i)>>4|(3840&i)>>8,240&i|(240&i)>>4,15&i|(15&i)<<4,1),s(n,t),t):void r(t,0,0,0,1);if(7===u.length)return i=parseInt(u.substr(1),16),i>=0&&i<=16777215?(r(t,(16711680&i)>>16,(65280&i)>>8,255&i,1),s(n,t),t):void r(t,0,0,0,1)}}}function p(n,t){var e=(parseFloat(n[0])%360+360)%360/360,s=o(n[1]),i=o(n[2]),f=i<=.5?i*(s+1):i+s-i*s,h=2*i-f;return t=t||[],r(t,u(255*v(h,f,e+1/3)),u(255*v(h,f,e)),u(255*v(h,f,e-1/3)),1),4===n.length&&(t[3]=n[3]),t}function d(n){var h;if(n){var i,s,u=n[0]/255,f=n[1]/255,e=n[2]/255,o=Math.min(u,f,e),t=Math.max(u,f,e),r=t-o,c=(t+o)/2;if(0===r)i=0,s=0;else{s=c<.5?r/(t+o):r/(2-t-o);var l=((t-u)/6+r/2)/r,a=((t-f)/6+r/2)/r,v=((t-e)/6+r/2)/r;u===t?i=v-a:f===t?i=1/3+l-v:e===t&&(i=2/3+a-l);i<0&&(i+=1);i>1&&(i-=1)}return h=[360*i,s,c],null!=n[3]&&h.push(n[3]),h}}function g(n,t){var i=e(n),r;if(i){for(r=0;r<3;r++)i[r]=t<0?i[r]*(1-t)|0:(255-i[r])*t+i[r]|0;return h(i,4===i.length?"rgba":"rgb")}}function nt(n){var t=e(n);if(t)return(16777216+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)}function tt(n,t,i){if(i=i||[0,0,0,0],!t||!t.length||!(n>=0&&n<=1))return i;var s=n*(t.length-1),h=Math.floor(s),l=Math.ceil(s),r=t[h],e=t[l],o=s-h;return i[0]=u(f(r[0],e[0],o)),i[1]=u(f(r[1],e[1],o)),i[2]=u(f(r[2],e[2],o)),i[3]=c(f(r[3],e[3],o)),i}function it(n,t,i){if(t&&t.length&&n>=0&&n<=1){var r=n*(t.length-1),a=Math.floor(r),v=Math.ceil(r),o=e(t[a]),s=e(t[v]),l=r-a,y=h([u(f(o[0],s[0],l)),u(f(o[1],s[1],l)),u(f(o[2],s[2],l)),c(f(o[3],s[3],l))],"rgba");return i?{color:y,leftIndex:a,rightIndex:v,value:r}:y}}function rt(n,t,i,r){if(n=e(n))return n=d(n),null!=t&&(n[0]=k(t)),null!=i&&(n[1]=o(i)),null!=r&&(n[2]=o(r)),h(p(n),"rgba")}function ut(n,t){if(n=e(n),n&&null!=t)return n[3]=c(t),h(n,"rgba")}function h(n,t){if(n){var i=n[0]+","+n[1]+","+n[2];return"rgba"!==t&&"hsva"!==t&&"hsla"!==t||(i+=","+n[3]),t+"("+i+")"}}var ft=i(67),w={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},b=new ft(20),l=null;n.exports={parse:e,lift:g,toHex:nt,fastMapToColor:tt,mapToColor:it,modifyHSL:rt,modifyAlpha:ut,stringify:h}},function(n){var i=Array.prototype.slice,t=function(){this._$handlers={}};t.prototype={constructor:t,one:function(n,t,i){var r=this._$handlers,u;if(!t||!n)return this;for(r[n]||(r[n]=[]),u=0;u<r[n].length;u++)if(r[n][u].h===t)return this;return r[n].push({h:t,one:!0,ctx:i||this}),this},on:function(n,t,i){var r=this._$handlers,u;if(!t||!n)return this;for(r[n]||(r[n]=[]),u=0;u<r[n].length;u++)if(r[n][u].h===t)return this;return r[n].push({h:t,one:!1,ctx:i||this}),this},isSilent:function(n){var t=this._$handlers;return t[n]&&t[n].length},off:function(n,t){var i=this._$handlers;if(!n)return this._$handlers={},this;if(t){if(i[n]){for(var u=[],r=0,f=i[n].length;r<f;r++)i[n][r].h!=t&&u.push(i[n][r]);i[n]=u}i[n]&&0===i[n].length&&delete i[n]}else delete i[n];return this},trigger:function(n){var u,f;if(this._$handlers[n]){u=arguments;f=u.length;f>3&&(u=i.call(u,1));for(var r=this._$handlers[n],e=r.length,t=0;t<e;){switch(f){case 1:r[t].h.call(r[t].ctx);break;case 2:r[t].h.call(r[t].ctx,u[1]);break;case 3:r[t].h.call(r[t].ctx,u[1],u[2]);break;default:r[t].h.apply(r[t].ctx,u)}r[t].one?(r.splice(t,1),e--):t++}}return this},triggerWithContext:function(n){var t,e;if(this._$handlers[n]){t=arguments;e=t.length;e>4&&(t=i.call(t,1,t.length-1));for(var f=t[t.length-1],u=this._$handlers[n],o=u.length,r=0;r<o;){switch(e){case 1:u[r].h.call(f);break;case 2:u[r].h.call(f,t[1]);break;case 3:u[r].h.call(f,t[1],t[2]);break;default:u[r].h.apply(f,t)}u[r].one?(u.splice(r,1),o--):r++}}return this}};n.exports=t},function(n,t,i){"use strict";var r=i(3),o=i(11),s=r.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,t){var i=t.cx,r=t.cy,f=t.width/2,u=t.height/2;n.moveTo(i,r-u);n.lineTo(i+f,r+u);n.lineTo(i-f,r+u);n.closePath()}}),h=r.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,t){var i=t.cx,r=t.cy,u=t.width/2,f=t.height/2;n.moveTo(i,r-f);n.lineTo(i+u,r);n.lineTo(i,r+f);n.lineTo(i-u,r);n.closePath()}}),c=r.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,t){var r=t.x,o=t.y,l=t.width/5*3,a=Math.max(l,t.height),i=l/2,u=i*i/(a-i),s=o-a+i+u,f=Math.asin(u/i),h=Math.cos(f)*i,v=Math.sin(f),y=Math.cos(f),e,c;n.arc(r,s,i,Math.PI-f,2*Math.PI+f);e=.6*i;c=.7*i;n.bezierCurveTo(r+h-v*e,s+u+y*e,r,o-c,r,o);n.bezierCurveTo(r,o-c,r-h+v*e,s+u+y*e,r-h,s+u);n.closePath()}}),l=r.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,t){var u=t.height,e=t.width,i=t.x,r=t.y,f=e/3*2;n.moveTo(i,r);n.lineTo(i+f,r+u);n.lineTo(i,r+u/4*3);n.lineTo(i-f,r+u);n.lineTo(i,r);n.closePath()}}),f={line:r.Line,rect:r.Rect,roundRect:r.Rect,square:r.Rect,circle:r.Circle,diamond:h,pin:c,arrow:l,triangle:s},a={line:function(n,t,i,r,u){u.x1=n;u.y1=t+r/2;u.x2=n+i;u.y2=t+r/2},rect:function(n,t,i,r,u){u.x=n;u.y=t;u.width=i;u.height=r},roundRect:function(n,t,i,r,u){u.x=n;u.y=t;u.width=i;u.height=r;u.r=Math.min(i,r)/4},square:function(n,t,i,r,u){var f=Math.min(i,r);u.x=n;u.y=t;u.width=f;u.height=f},circle:function(n,t,i,r,u){u.cx=n+i/2;u.cy=t+r/2;u.r=Math.min(i,r)/2},diamond:function(n,t,i,r,u){u.cx=n+i/2;u.cy=t+r/2;u.width=i;u.height=r},pin:function(n,t,i,r,u){u.x=n+i/2;u.y=t+r/2;u.width=i;u.height=r},arrow:function(n,t,i,r,u){u.x=n+i/2;u.y=t+r/2;u.width=i;u.height=r},triangle:function(n,t,i,r,u){u.cx=n+i/2;u.cy=t+r/2;u.width=i;u.height=r}},e={},u;for(u in f)f.hasOwnProperty(u)&&(e[u]=new f[u]);var v=r.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var n=this.style,t=this.shape;"pin"===t.symbolType&&"inside"===n.textPosition&&(n.textPosition=["50%","40%"],n.textAlign="center",n.textVerticalAlign="middle")},buildPath:function(n,t,i){var u=t.symbolType,r=e[u];"none"!==t.symbolType&&(r||(u="rect",r=e[u]),a[u](t.x,t.y,t.width,t.height,r.shape),r.buildPath(n,r.shape,i))}}),y=function(n){if("image"!==this.type){var t=this.style,i=this.shape;i&&"line"===i.symbolType?t.stroke=n:this.__isEmptyBrush?(t.stroke=n,t.fill="#fff"):(t.fill&&(t.fill=n),t.stroke&&(t.stroke=n));this.dirty(!1)}},p={createSymbol:function(n,t,i,u,f,e){var h=0===n.indexOf("empty"),s;return h&&(n=n.substr(5,1).toLowerCase()+n.substr(6)),s=0===n.indexOf("image://")?new r.Image({style:{image:n.slice(8),x:t,y:i,width:u,height:f}}):0===n.indexOf("path://")?r.makePath(n.slice(7),{},new o(t,i,u,f)):new v({shape:{symbolType:n,x:t,y:i,width:u,height:f}}),s.__isEmptyBrush=h,s.setColor=y,s.setColor(e),s}};n.exports=p},function(n,t,i){function u(n,t,i){var o,s,h;if(!t)return n;i=i||{};o=i.dimCount;null==o&&(s=f(t[0]),o=r.isArray(s)&&s.length||1);for(var c=i.defaultNames||[],l=i.extraPrefix||"extra",u=0;u<o;u++)n[u]||(h=c[u]||l+(u-c.length),n[u]=e(t,u)?{type:"ordinal",name:h}:h);return n}function f(n){return r.isArray(n)?n:r.isObject(n)?n.value:n}var r=i(1),e=u.guessOrdinal=function(n,t){for(var i,u=0,e=n.length;u<e;u++){if((i=f(n[u]),!r.isArray(i))||(i=i[t],null!=i&&isFinite(i)))return!1;if(r.isString(i)&&"-"!==i)return!0}return!1};n.exports=u},function(n,t,i){"use strict";function r(){this._coordinateSystems=[]}var f=i(1),u={};r.prototype={constructor:r,create:function(n,t){var i=[];f.each(u,function(r){var u=r.create(n,t);i=i.concat(u||[])});this._coordinateSystems=i},update:function(n,t){f.each(this._coordinateSystems,function(i){i.update&&i.update(n,t)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}};r.register=function(n,t){u[n]=t};r.get=function(n){return u[n]};n.exports=r},function(n,t,i){"use strict";function c(n){for(var t=0;t<n.length&&null==n[t];)t++;return n[t]}function l(n){var t=c(n);return null!=t&&!e.isArray(s(t))}function a(n,t,i){n=n||[];var k=t.get("coordinateSystem"),d=w[k],a=p.get(k),u=d&&d(n,t,i),r=u&&u.dimensions;r||(r=a&&(a.getDimensionsInfo?a.getDimensionsInfo():a.dimensions.slice())||["x","y"],r=f(r,n,{defaultNames:r.concat(["value"])}));var g=u?u.categoryIndex:-1,c=new y(r,t),nt=v(u,n),b={},tt=g>=0&&l(n)?function(n,t,i,u){return o.isDataItemOption(n)&&(c.hasItemOption=!0),u===g?i:h(s(n),r[u])}:function(n,t,i,f){var v=s(n),l=h(v&&v[f],r[f]),a;return o.isDataItemOption(n)&&(c.hasItemOption=!0),a=u&&u.categoryAxesModels,a&&a[t]&&"string"==typeof l&&(b[t]=b[t]||a[t].getCategories(),l=e.indexOf(b[t],l),l<0&&!isNaN(l)&&(l=+l)),l};return c.hasItemOption=!1,c.initData(n,nt,tt),c}function r(n){return"category"!==n&&"time"!==n}function u(n){return"category"===n?"ordinal":"time"===n?"time":"float"}function v(n,t){var f,r=[],o=n&&n.dimensions[n.categoryIndex],u,s,i;if((o&&(f=n.categoryAxesModels[o.name]),f)&&(u=f.getCategories(),u))if(s=t.length,e.isArray(t[0])&&t[0].length>1)for(r=[],i=0;i<s;i++)r[i]=u[t[i][n.categoryIndex||0]];else r=u.slice(0);return r}var y=i(14),f=i(25),e=i(1),o=i(6),p=i(26),s=o.getDataItemValue,h=o.converDataValue,w={cartesian2d:function(n,t,i){var c=e.map(["xAxis","yAxis"],function(n){return i.queryComponents({mainType:n,index:t.get(n+"Index"),id:t.get(n+"Id")})[0]}),l=c[0],a=c[1],s=l.get("type"),h=a.get("type"),v=[{name:"x",type:u(s),stackable:r(s)},{name:"y",type:u(h),stackable:r(h)}],y="category"===s,p="category"===h,o;return f(v,n,{defaultNames:["x","y","z"]}),o={},y&&(o.x=l),p&&(o.y=a),{dimensions:v,categoryIndex:y?0:p?1:-1,categoryAxesModels:o}},singleAxis:function(n,t,i){var s=i.queryComponents({mainType:"singleAxis",index:t.get("singleAxisIndex"),id:t.get("singleAxisId")})[0],e=s.get("type"),h="category"===e,c=[{name:"single",type:u(e),stackable:r(e)}],o;return f(c,n),o={},h&&(o.single=s),{dimensions:c,categoryIndex:h?0:-1,categoryAxesModels:o}},polar:function(n,t,i){var h=i.queryComponents({mainType:"polar",index:t.get("polarIndex"),id:t.get("polarId")})[0],c=h.findAxisModel("angleAxis"),l=h.findAxisModel("radiusAxis"),o=l.get("type"),s=c.get("type"),a=[{name:"radius",type:u(o),stackable:r(o)},{name:"angle",type:u(s),stackable:r(s)}],v="category"===s,y="category"===o,e;return f(a,n,{defaultNames:["radius","angle","value"]}),e={},y&&(e.radius=l),v&&(e.angle=c),{dimensions:a,categoryIndex:v?1:y?0:-1,categoryAxesModels:e}},geo:function(n){return{dimensions:f([{name:"lng"},{name:"lat"}],n,{defaultNames:["lng","lat","value"]})}}};n.exports=a},function(n){"use strict";var t={};n.exports={register:function(n,i){t[n]=i},get:function(n){return t[n]}}},function(n,t,i){function r(){this.group=new h;this.uid=c.getUID("viewChart")}function f(n,t){if(n&&(n.trigger(t),"group"===n.type))for(var i=0;i<n.childCount();i++)f(n.childAt(i),t)}function e(n,t,i){var r=s.queryDataIndex(n,t);null!=r?l.each(s.normalizeToArray(r),function(t){f(n.getItemGraphicEl(t),i)}):n.eachItemGraphicEl(function(n){f(n,i)})}var h=i(36),c=i(49),o=i(15),s=i(6),l=i(1),u;r.prototype={type:"chart",init:function(){},render:function(){},highlight:function(n,t,i,r){e(n.getData(),r,"emphasis")},downplay:function(n,t,i,r){e(n.getData(),r,"normal")},remove:function(){this.group.removeAll()},dispose:function(){}};u=r.prototype;u.updateView=u.updateLayout=u.updateVisual=function(n,t,i,r){this.render(n,t,i,r)};o.enableClassExtend(r,["dispose"]);o.enableClassManagement(r,{registerWhenExtend:!0});n.exports=r},function(n,t,i){"use strict";var d=i(20),p=i(5),h=i(81),g=i(11),w=i(35).devicePixelRatio,r={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},u=[],o=[],f=[],e=[],b=Math.min,k=Math.max,c=Math.cos,l=Math.sin,a=Math.sqrt,s=Math.abs,y="undefined"!=typeof Float32Array,v=function(){this.data=[];this._len=0;this._ctx=null;this._xi=0;this._yi=0;this._x0=0;this._y0=0;this._ux=0;this._uy=0};v.prototype={constructor:v,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(n,t){this._ux=s(1/w/n)||0;this._uy=s(1/w/t)||0},getContext:function(){return this._ctx},beginPath:function(n){return this._ctx=n,n&&n.beginPath(),n&&(this.dpr=n.dpr),this._len=0,this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(n,t){return this.addData(r.M,n,t),this._ctx&&this._ctx.moveTo(n,t),this._x0=n,this._y0=t,this._xi=n,this._yi=t,this},lineTo:function(n,t){var i=s(n-this._xi)>this._ux||s(t-this._yi)>this._uy||this._len<5;return this.addData(r.L,n,t),this._ctx&&i&&(this._needsDash()?this._dashedLineTo(n,t):this._ctx.lineTo(n,t)),i&&(this._xi=n,this._yi=t),this},bezierCurveTo:function(n,t,i,u,f,e){return this.addData(r.C,n,t,i,u,f,e),this._ctx&&(this._needsDash()?this._dashedBezierTo(n,t,i,u,f,e):this._ctx.bezierCurveTo(n,t,i,u,f,e)),this._xi=f,this._yi=e,this},quadraticCurveTo:function(n,t,i,u){return this.addData(r.Q,n,t,i,u),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(n,t,i,u):this._ctx.quadraticCurveTo(n,t,i,u)),this._xi=i,this._yi=u,this},arc:function(n,t,i,u,f,e){return this.addData(r.A,n,t,i,i,u,f-u,0,e?0:1),this._ctx&&this._ctx.arc(n,t,i,u,f,e),this._xi=c(f)*i+n,this._yi=l(f)*i+n,this},arcTo:function(n,t,i,r,u){return this._ctx&&this._ctx.arcTo(n,t,i,r,u),this},rect:function(n,t,i,u){return this._ctx&&this._ctx.rect(n,t,i,u),this.addData(r.R,n,t,i,u),this},closePath:function(){this.addData(r.Z);var n=this._ctx,t=this._x0,i=this._y0;return n&&(this._needsDash()&&this._dashedLineTo(t,i),n.closePath()),this._xi=t,this._yi=i,this},fill:function(n){n&&n.fill();this.toStatic()},stroke:function(n){n&&n.stroke();this.toStatic()},setLineDash:function(n){if(n instanceof Array){this._lineDash=n;this._dashIdx=0;for(var i=0,t=0;t<n.length;t++)i+=n[t];this._dashSum=i}return this},setLineDashOffset:function(n){return this._dashOffset=n,this},len:function(){return this._len},setData:function(n){var i=n.length,t;for(this.data&&this.data.length==i||!y||(this.data=new Float32Array(i)),t=0;t<i;t++)this.data[t]=n[t];this._len=i},appendPath:function(n){var t,u,i;n instanceof Array||(n=[n]);for(var f=n.length,e=0,r=this._len,t=0;t<f;t++)e+=n[t].len();for(y&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+e)),t=0;t<f;t++)for(u=n[t].data,i=0;i<u.length;i++)this.data[r++]=u[i];this._len=r},addData:function(n){var i=this.data,t;for(this._len+arguments.length>i.length&&(this._expandData(),i=this.data),t=0;t<arguments.length;t++)i[this._len++]=arguments[t];this._prevCmd=n},_expandData:function(){if(!(this.data instanceof Array)){for(var t=[],n=0;n<this._len;n++)t[n]=this.data[n];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(n,t){var c,o,l=this._dashSum,e=this._dashOffset,v=this._lineDash,p=this._ctx,s=this._xi,h=this._yi,i=n-s,r=t-h,y=a(i*i+r*r),u=s,f=h,w=v.length;for(i/=y,r/=y,e<0&&(e=l+e),e%=l,u-=e*i,f-=e*r;i>0&&u<=n||i<0&&u>=n||0==i&&(r>0&&f<=t||r<0&&f>=t);)o=this._dashIdx,c=v[o],u+=i*c,f+=r*c,this._dashIdx=(o+1)%w,i>0&&u<s||i<0&&u>s||r>0&&f<h||r<0&&f>h||p[o%2?"moveTo":"lineTo"](i>=0?b(u,n):k(u,n),r>=0?b(f,t):k(f,t));i=u-n;r=f-t;this._dashOffset=-a(i*i+r*r)},_dashedBezierTo:function(n,t,i,r,u,f){var e,s,h,v,y,tt=this._dashSum,c=this._dashOffset,p=this._lineDash,w=this._ctx,b=this._xi,k=this._yi,l=d.cubicAt,g=0,o=this._dashIdx,it=p.length,nt=0;for(c<0&&(c=tt+c),c%=tt,e=0;e<1;e+=.1)s=l(b,n,i,u,e+.1)-l(b,n,i,u,e),h=l(k,t,r,f,e+.1)-l(k,t,r,f,e),g+=a(s*s+h*h);for(;o<it&&(nt+=p[o],!(nt>c));o++);for(e=(nt-c)/g;e<=1;)v=l(b,n,i,u,e),y=l(k,t,r,f,e),o%2?w.moveTo(v,y):w.lineTo(v,y),e+=p[o]/g,o=(o+1)%it;o%2!=0&&w.lineTo(u,f);s=u-v;h=f-y;this._dashOffset=-a(s*s+h*h)},_dashedQuadraticTo:function(n,t,i,r){var u=i,f=r;i=(i+2*n)/3;r=(r+2*t)/3;n=(this._xi+2*n)/3;t=(this._yi+2*t)/3;this._dashedBezierTo(n,t,i,r,u,f)},toStatic:function(){var n=this.data;n instanceof Array&&(n.length=this._len,y&&(this.data=new Float32Array(n)))},getBoundingRect:function(){var tt,it,rt;u[0]=u[1]=f[0]=f[1]=Number.MAX_VALUE;o[0]=o[1]=e[0]=e[1]=-Number.MAX_VALUE;for(var t=this.data,i=0,s=0,a=0,v=0,n=0;n<t.length;){tt=t[n++];switch(1==n&&(i=t[n],s=t[n+1],a=i,v=s),tt){case r.M:a=t[n++];v=t[n++];i=a;s=v;f[0]=a;f[1]=v;e[0]=a;e[1]=v;break;case r.L:h.fromLine(i,s,t[n],t[n+1],f,e);i=t[n++];s=t[n++];break;case r.C:h.fromCubic(i,s,t[n++],t[n++],t[n++],t[n++],t[n],t[n+1],f,e);i=t[n++];s=t[n++];break;case r.Q:h.fromQuadratic(i,s,t[n++],t[n++],t[n],t[n+1],f,e);i=t[n++];s=t[n++];break;case r.A:var w=t[n++],b=t[n++],k=t[n++],d=t[n++],y=t[n++],nt=t[n++]+y,ut=(t[n++],1-t[n++]);1==n&&(a=c(y)*k+w,v=l(y)*d+b);h.fromArc(w,b,k,d,y,nt,ut,f,e);i=c(nt)*k+w;s=l(nt)*d+b;break;case r.R:a=i=t[n++];v=s=t[n++];it=t[n++];rt=t[n++];h.fromLine(a,v,a+it,v+rt,f,e);break;case r.Z:i=a;s=v}p.min(u,u,f);p.max(o,o,e)}return 0===n&&(u[0]=u[1]=o[0]=o[1]=0),new g(u[0],u[1],o[0]-u[0],o[1]-u[1])},rebuildPath:function(n){for(var g,h,a,u,f,w,b,i=this.data,ft=this._ux,et=this._uy,d=this._len,t=0;t<d;){g=i[t++];switch(1==t&&(u=i[t],f=i[t+1],h=u,a=f),g){case r.M:h=u=i[t++];a=f=i[t++];n.moveTo(u,f);break;case r.L:w=i[t++];b=i[t++];(s(w-u)>ft||s(b-f)>et||t===d-1)&&(n.lineTo(w,b),u=w,f=b);break;case r.C:n.bezierCurveTo(i[t++],i[t++],i[t++],i[t++],i[t++],i[t++]);u=i[t-2];f=i[t-1];break;case r.Q:n.quadraticCurveTo(i[t++],i[t++],i[t++],i[t++]);u=i[t-2];f=i[t-1];break;case r.A:var v=i[t++],y=i[t++],e=i[t++],o=i[t++],p=i[t++],ot=i[t++],nt=i[t++],tt=i[t++],it=e>o?e:o,rt=e>o?1:e/o,ut=e>o?o/e:1,st=Math.abs(e-o)>.001,k=p+ot;st?(n.translate(v,y),n.rotate(nt),n.scale(rt,ut),n.arc(0,0,it,p,k,1-tt),n.scale(1/rt,1/ut),n.rotate(-nt),n.translate(-v,-y)):n.arc(v,y,it,p,k,1-tt);1==t&&(h=c(p)*e+v,a=l(p)*o+y);u=c(k)*e+v;f=l(k)*o+y;break;case r.R:h=u=i[t];a=f=i[t+1];n.rect(i[t++],i[t++],i[t++],i[t++]);break;case r.Z:n.closePath();u=h;f=a}}}};v.CMD=r;n.exports=v},function(n,t,i){var r=i(1);n.exports=function(n){for(var t=0;t<n.length;t++)n[t][1]||(n[t][1]=n[t][0]);return function(t,i){for(var f,o,e={},u=0;u<n.length;u++)f=n[u][1],t&&r.indexOf(t,f)>=0||i&&r.indexOf(i,f)<0||(o=this.getShallow(f),null!=o&&(e[n[u][0]]=o));return e}}},function(n,t,i){"use strict";var u=i(3),f=i(1),r=i(2);i(56);i(115);r.extendComponentView({type:"grid",render:function(n){this.group.removeAll();n.get("show")&&this.group.add(new u.Rect({shape:n.coordinateSystem.getRect(),style:f.defaults({fill:n.get("backgroundColor")},n.getItemStyle()),silent:!0,z2:-1}))}});r.registerPreprocessor(function(n){n.xAxis&&n.yAxis&&!n.grid&&(n.grid={})})},function(n,t,i){function u(n,t){var r=n[1]-n[0],u=t,i=r/u/2;n[0]+=i;n[1]-=i}var f=i(4),e=f.linearMap,o=i(1),s=[0,1],r=function(n,t,i){this.dim=n;this.scale=t;this._extent=i||[0,0];this.inverse=!1;this.onBand=!1};r.prototype={constructor:r,contain:function(n){var t=this._extent,i=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]);return n>=i&&n<=r},containData:function(n){return this.contain(this.dataToCoord(n))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(n){return f.getPixelPrecision(n||this.scale.getExtent(),this._extent)},setExtent:function(n,t){var i=this._extent;i[0]=n;i[1]=t},dataToCoord:function(n,t){var i=this._extent,r=this.scale;return n=r.normalize(n),this.onBand&&"ordinal"===r.type&&(i=i.slice(),u(i,r.count())),e(n,s,i,t)},coordToData:function(n,t){var i=this._extent,r=this.scale,f;return this.onBand&&"ordinal"===r.type&&(i=i.slice(),u(i,r.count())),f=e(n,i,s,t),this.scale.scale(f)},pointToData:function(){},getTicksCoords:function(n){if(this.onBand&&!n){for(var i=this.getBands(),r=[],t=0;t<i.length;t++)r.push(i[t][0]);return i[t-1]&&r.push(i[t-1][1]),r}return o.map(this.scale.getTicks(),this.dataToCoord,this)},getLabelsCoords:function(){return o.map(this.scale.getTicks(),this.dataToCoord,this)},getBands:function(){for(var r=this.getExtent(),u=[],t=this.scale.count(),i=r[0],e=r[1],f=e-i,n=0;n<t;n++)u.push([f*n/t+i,f*(n+1)/t+i]);return u},getBandWidth:function(){var t=this._extent,i=this.scale.getExtent(),n=i[1]-i[0]+(this.onBand?1:0),r;return 0===n&&(n=1),r=Math.abs(t[1]-t[0]),Math.abs(r)/n}};n.exports=r},function(n,t,i){function u(){this._extent=[1/0,-(1/0)];this._interval=0;this.init&&this.init.apply(this,arguments)}var f=i(15),r=u.prototype;r.parse=function(n){return n};r.contain=function(n){var t=this._extent;return n>=t[0]&&n<=t[1]};r.normalize=function(n){var t=this._extent;return t[1]===t[0]?.5:(n-t[0])/(t[1]-t[0])};r.scale=function(n){var t=this._extent;return n*(t[1]-t[0])+t[0]};r.unionExtent=function(n){var t=this._extent;n[0]<t[0]&&(t[0]=n[0]);n[1]>t[1]&&(t[1]=n[1])};r.unionExtentFromData=function(n,t){this.unionExtent(n.getDataExtent(t,!0))};r.getExtent=function(){return this._extent.slice()};r.setExtent=function(n,t){var i=this._extent;isNaN(n)||(i[0]=n);isNaN(t)||(i[1]=t)};r.getTicksLabels=function(){for(var t=[],i=this.getTicks(),n=0;n<i.length;n++)t.push(this.getLabel(i[n]));return t};r.isBlank=function(){return this._isBlank};r.setBlank=function(n){this._isBlank=n};f.enableClassExtend(u);f.enableClassManagement(u,{registerWhenExtend:!0});n.exports=u},function(n){var t=1,i;"undefined"!=typeof window&&(t=Math.max(window.devicePixelRatio||1,1));i={debugMode:0,devicePixelRatio:t};n.exports=i},function(n,t,i){var u=i(1),f=i(63),e=i(11),r=function(n){n=n||{};f.call(this,n);for(var t in n)n.hasOwnProperty(t)&&(this[t]=n[t]);this._children=[];this.__storage=null;this.__dirty=!0};r.prototype={constructor:r,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(n){return this._children[n]},childOfName:function(n){for(var i=this._children,t=0;t<i.length;t++)if(i[t].name===n)return i[t]},childCount:function(){return this._children.length},add:function(n){return n&&n!==this&&n.parent!==this&&(this._children.push(n),this._doAdd(n)),this},addBefore:function(n,t){if(n&&n!==this&&n.parent!==this&&t&&t.parent===this){var i=this._children,r=i.indexOf(t);r>=0&&(i.splice(r,0,n),this._doAdd(n))}return this},_doAdd:function(n){n.parent&&n.parent.remove(n);n.parent=this;var t=this.__storage,i=this.__zr;t&&t!==n.__storage&&(t.addToMap(n),n instanceof r&&n.addChildrenToStorage(t));i&&i.refresh()},remove:function(n){var i=this.__zr,t=this.__storage,f=this._children,e=u.indexOf(f,n);return e<0?this:(f.splice(e,1),n.parent=null,t&&(t.delFromMap(n.id),n instanceof r&&n.delChildrenFromStorage(t)),i&&i.refresh(),this)},removeAll:function(){for(var n,i=this._children,u=this.__storage,t=0;t<i.length;t++)n=i[t],u&&(u.delFromMap(n.id),n instanceof r&&n.delChildrenFromStorage(u)),n.parent=null;return i.length=0,this},eachChild:function(n,t){for(var u,r=this._children,i=0;i<r.length;i++)u=r[i],n.call(t,u,i);return this},traverse:function(n,t){for(var r,i=0;i<this._children.length;i++)r=this._children[i],n.call(t,r),"group"===r.type&&r.traverse(n,t);return this},addChildrenToStorage:function(n){for(var i,t=0;t<this._children.length;t++)i=this._children[t],n.addToMap(i),i instanceof r&&i.addChildrenToStorage(n)},delChildrenFromStorage:function(n){for(var i,t=0;t<this._children.length;t++)i=this._children[t],n.delFromMap(i.id),i instanceof r&&i.delChildrenFromStorage(n)},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(n){for(var r,u,o,t=null,i=new e(0,0,0,0),s=n||this._children,h=[],f=0;f<s.length;f++)r=s[f],r.ignore||r.invisible||(u=r.getBoundingRect(),o=r.getLocalTransform(h),o?(i.copy(u),i.applyTransform(o),t=t||i.clone(),t.union(i)):(t=t||u.clone(),t.union(u)));return t||i}};u.inherits(r,f);n.exports=r},function(n,t,i){function r(n){n=n||{};u.call(this,n);for(var t in n)n.hasOwnProperty(t)&&"style"!==t&&(this[t]=n[t]);this.style=new e(n.style);this._rect=null;this.__clipPaths=[]}var f=i(1),e=i(70),u=i(63),o=i(83);r.prototype={constructor:r,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:-1,beforeBrush:function(){},afterBrush:function(){},brush:function(){},getBoundingRect:function(){},contain:function(n,t){return this.rectContain(n,t)},traverse:function(n,t){n.call(t,this)},rectContain:function(n,t){var i=this.transformCoordToLocal(n,t),r=this.getBoundingRect();return r.contain(i[0],i[1])},dirty:function(){this.__dirty=!0;this._rect=null;this.__zr&&this.__zr.refresh()},animateStyle:function(n){return this.animate("style",n)},attrKV:function(n,t){"style"!==n?u.prototype.attrKV.call(this,n,t):this.style.set(t)},setStyle:function(n,t){return this.style.set(n,t),this.dirty(!1),this},useStyle:function(n){return this.style=new e(n),this.dirty(!1),this}};f.inherits(r,u);f.mixin(r,o);n.exports=r},function(n){var t=function(n){this.colorStops=n||[]};t.prototype={constructor:t,addColorStop:function(n,t){this.colorStops.push({offset:n,color:t})}};n.exports=t},function(n,t,i){function c(n){var t={componentType:n.mainType};return t[n.mainType+"Index"]=n.componentIndex,t}function b(n,t,i,r){var e,s,f=v(i-n.rotation),c=r[0]>r[1],h="start"===t&&!c||"start"!==t&&c;return o(f-u/2)?(s=h?"bottom":"top",e="center"):o(f-1.5*u)?(s=h?"top":"bottom",e="center"):(s="middle",e=f<1.5*u&&f>u/2?h?"left":"right":h?"right":"left"),{rotation:f,textAlign:e,textVerticalAlign:s}}function l(n){var t=n.get("tooltip");return n.get("silent")||!(n.get("triggerEvent")||t&&t.show)}var f=i(1),k=i(7),r=i(3),d=i(10),a=i(4),v=a.remRadian,o=a.isRadianAroundZero,g=i(5),s=g.applyTransform,h=f.retrieve,u=Math.PI,e=function(n,t){this.opt=t;this.axisModel=n;f.defaults(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0});this.group=new r.Group;var i=new r.Group({position:t.position.slice(),rotation:t.rotation});i.updateTransform();this._transform=i.transform;this._dumbGroup=i};e.prototype={constructor:e,hasBuilder:function(n){return!!y[n]},add:function(n){y[n].call(this)},getGroup:function(){return this.group}};var y={axisLine:function(){var o=this.opt,u=this.axisModel;if(u.get("axisLine.show")){var e=this.axisModel.axis.getExtent(),i=this._transform,n=[e[0],0],t=[e[1],0];i&&(s(n,n,i),s(t,t,i));this.group.add(new r.Line(r.subPixelOptimizeLine({anid:"line",shape:{x1:n[0],y1:n[1],x2:t[0],y2:t[1]},style:f.extend({lineCap:"round"},u.getModel("axisLine.lineStyle").getLineStyle()),strokeContainThreshold:o.strokeContainThreshold||5,silent:!0,z2:1})))}},axisTick:function(){var u=this.axisModel,e=u.axis,c;if(u.get("axisTick.show")&&!e.scale.isBlank())for(var o=u.getModel("axisTick"),l=this.opt,v=o.getModel("lineStyle"),y=o.get("length"),p=nt(o,l.labelInterval),a=e.getTicksCoords(o.get("alignWithLabel")),b=e.scale.getTicks(),n=[],t=[],h=this._transform,i=0;i<a.length;i++)w(e,i,p)||(c=a[i],n[0]=c,n[1]=0,t[0]=c,t[1]=l.tickDirection*y,h&&(s(n,n,h),s(t,t,h)),this.group.add(new r.Line(r.subPixelOptimizeLine({anid:"tick_"+b[i],shape:{x1:n[0],y1:n[1],x2:t[0],y2:t[1]},style:f.defaults(v.getLineStyle(),{stroke:u.get("axisLine.lineStyle.color")}),z2:2,silent:!0}))))},axisLabel:function(){function b(n,t){var i=n&&n.getBoundingRect().clone(),r=t&&t.getBoundingRect().clone();if(i&&r)return i.applyTransform(n.getLocalTransform()),r.applyTransform(t.getLocalTransform()),i.intersect(r)}var t=this.opt,n=this.axisModel,i=n.axis,tt=h(t.axisLabelShow,n.get("axisLabel.show")),v,g,y,nt;if(tt&&!i.scale.isBlank()){var s=n.getModel("axisLabel"),k=s.getModel("textStyle"),it=s.get("margin"),rt=i.scale.getTicks(),ut=n.getFormattedLabels(),ft=(h(t.labelRotate,s.get("rotate"))||0)*u/180,a=p(t.rotation,ft,t.labelDirection),o=n.get("data"),e=[],et=l(n),ot=n.get("triggerEvent");(f.each(rt,function(u,f){var h;if(!w(i,f,t.labelInterval)){h=k;o&&o[u]&&o[u].textStyle&&(h=new d(o[u].textStyle,k,n.ecModel));var l=h.getTextColor()||n.get("axisLine.lineStyle.color"),y=i.dataToCoord(u),p=[y,t.labelOffset+t.labelDirection*it],v=i.scale.getLabel(u),s=new r.Text({anid:"label_"+u,style:{text:ut[f],textAlign:h.get("align",!0)||a.textAlign,textVerticalAlign:h.get("baseline",!0)||a.textVerticalAlign,textFont:h.getFont(),fill:"function"==typeof l?l("category"===i.type?v:"value"===i.type?u+"":u,f):l},position:p,rotation:a.rotation,silent:et,z2:10});ot&&(s.eventData=c(n),s.eventData.targetType="axisLabel",s.eventData.value=v);this._dumbGroup.add(s);s.updateTransform();e.push(s);this.group.add(s);s.decomposeTransform()}},this),null!=n.getMin())&&(v=e[0],g=e[1],b(v,g)&&(v.ignore=!0));null!=n.getMax()&&(y=e[e.length-1],nt=e[e.length-2],b(nt,y)&&(y.ignore=!0))}},axisName:function(){var e=this.opt,n=this.axisModel,t=h(e.axisName,n.get("name")),s,i;if(t){var a,y=n.get("nameLocation"),nt=e.nameDirection,tt=n.getModel("nameTextStyle"),w=n.get("nameGap")||0,o=this.axisModel.axis.getExtent(),it=o[0]>o[1]?-1:1,ht=["start"===y?o[0]-it*w:"end"===y?o[1]+it*w:(o[0]+o[1])/2,"middle"===y?e.labelOffset+nt*w:0],v=n.get("nameRotate");null!=v&&(v=v*u/180);"middle"===y?a=p(e.rotation,null!=v?v:e.rotation,nt):(a=b(e,y,v||0,o),s=e.axisNameAvailableWidth,null!=s&&(s=Math.abs(s/Math.sin(a.rotation)),!isFinite(s)&&(s=null)));var rt=tt.getFont(),d=n.get("nameTruncate",!0)||{},ut=d.ellipsis,ft=h(d.maxWidth,s),et=null!=ut&&null!=ft?k.truncateText(t,ft,rt,ut,{minChar:2,placeholder:d.placeholder}):t,g=n.get("tooltip",!0),ot=n.mainType,st={componentType:ot,name:t,$vars:["name"]};st[ot+"Index"]=n.componentIndex;i=new r.Text({anid:"name",__fullText:t,__truncatedText:et,style:{text:et,textFont:rt,fill:tt.getTextColor()||n.get("axisLine.lineStyle.color"),textAlign:a.textAlign,textVerticalAlign:a.textVerticalAlign},position:ht,rotation:a.rotation,silent:l(n),z2:1,tooltip:g&&g.show?f.extend({content:t,formatter:function(){return t},formatterParams:st},g):null});n.get("triggerEvent")&&(i.eventData=c(n),i.eventData.targetType="axisName",i.eventData.name=t);this._dumbGroup.add(i);i.updateTransform();this.group.add(i);i.decomposeTransform()}}},p=e.innerTextLayout=function(n,t,i){var f,e,r=v(t-n);return o(r)?(e=i>0?"top":"bottom",f="center"):o(r-u)?(e=i>0?"bottom":"top",f="center"):(e="middle",f=r>0&&r<u?i>0?"right":"left":i>0?"left":"right"),{rotation:r,textAlign:f,textVerticalAlign:e}},w=e.ifIgnoreOnTick=function(n,t,i){var r,u=n.scale;return"ordinal"===u.type&&("function"==typeof i?(r=u.getTicks()[t],!i(r,u.getLabel(r))):t%(i+1))},nt=e.getInterval=function(n,t){var i=n.get("interval");return null!=i&&"auto"!=i||(i=t),i};n.exports=e},function(n,t,i){function u(n,t,i,u,o,s){var c=r.getAxisPointerClass(n.axisPointerClass),h;c&&(h=e.getAxisPointerModel(t),h?(n._axisPointer||(n._axisPointer=new c)).render(t,h,u,s):f(n,u))}function f(n,t,i){var r=n._axisPointer;r&&r.dispose(t,i);n._axisPointer=null}var e=i(45),r=i(2).extendComponentView({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(n,t,i,f){this.axisPointerClass&&e.fixValue(n);r.superApply(this,"render",arguments);u(this,n,t,i,f,!0)},updateAxisPointer:function(n,t,i,r){u(this,n,t,i,r,!1)},remove:function(n,t){var i=this._axisPointer;i&&i.remove(t);r.superApply(this,"remove",arguments)},dispose:function(n,t){f(this,t);r.superApply(this,"dispose",arguments)}}),o=[];r.registerAxisPointerClass=function(n,t){o[n]=t};r.getAxisPointerClass=function(n){return n&&o[n]};n.exports=r},function(n,t,i){function u(n){return r.isObject(n)&&null!=n.value?n.value:n}var r=i(1),f=i(17);n.exports={getFormattedLabels:function(){return f.getFormattedLabels(this.axis,this.get("axisLabel.formatter"))},getCategories:function(){return"category"===this.get("type")&&r.map(this.get("data"),u)},getMin:function(n){var i=this.option,t=n||null==i.rangeStart?i.min:i.rangeStart;return this.axis&&null!=t&&"dataMin"!==t&&!r.eqNaN(t)&&(t=this.axis.scale.parse(t)),t},getMax:function(n){var i=this.option,t=n||null==i.rangeEnd?i.max:i.rangeEnd;return this.axis&&null!=t&&"dataMax"!==t&&!r.eqNaN(t)&&(t=this.axis.scale.parse(t)),t},getNeedCrossZero:function(){var n=this.option;return null==n.rangeStart&&null==n.rangeEnd&&!n.scale},getCoordSysModel:r.noop,setRange:function(n,t){this.option.rangeStart=n;this.option.rangeEnd=t},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}}},function(n,t,i){var e=i(4),h=i(7),c=i(34),o=Math.floor,s=Math.ceil,u=e.getPrecisionSafe,r=e.round,f=c.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(n,t){var i=this._extent;isNaN(n)||(i[0]=parseFloat(n));isNaN(t)||(i[1]=parseFloat(t))},unionExtent:function(n){var t=this._extent;n[0]<t[0]&&(t[0]=n[0]);n[1]>t[1]&&(t[1]=n[1]);f.prototype.setExtent.call(this,t[0],t[1])},getInterval:function(){return this._interval||this.niceTicks(),this._interval},setInterval:function(n){this._interval=n;this._niceExtent=this._extent.slice()},getTicks:function(){var t,o,i;this._interval||this.niceTicks();var e=this._interval,f=this._extent,n=[];if(e){for(t=this._niceExtent,o=this._intervalPrecision=u(e),o+=2,f[0]<t[0]&&n.push(f[0]),i=t[0];i<=t[1];)if(n.push(i),i=r(i+e,o),n.length>1e4)return[];f[1]>(n.length?n[n.length-1]:t[1])&&n.push(f[1])}return n},getTicksLabels:function(){for(var t=[],i=this.getTicks(),n=0;n<i.length;n++)t.push(this.getLabel(i[n]));return t},getLabel:function(n,t){var i=t&&t.precision;return null!=n&&null!=i&&("auto"===i&&(i=this._intervalPrecision+2),n=r(n,i,t&&t.pad)),h.addCommas(n)},niceTicks:function(n){var t,i;if(n=n||5,t=this._extent,i=t[1]-t[0],isFinite(i)){i<0&&(i=-i,t.reverse());var f=r(e.nice(i/n,!0),Math.max(u(t[0]),u(t[1]))+2),h=u(f)+2,c=[r(s(t[0]/f)*f,h),r(o(t[1]/f)*f,h)];this._interval=f;this._niceExtent=c}},niceExtent:function(n,t,i){var u=this._extent,e,h,f;u[0]===u[1]&&(0!==u[0]?(e=u[0],i?u[0]-=e/2:(u[1]+=e/2,u[0]-=e/2)):u[1]=1);h=u[1]-u[0];isFinite(h)||(u[0]=0,u[1]=1);this.niceTicks(n);f=this._interval;t||(u[0]=r(o(u[0]/f)*f));i||(u[1]=r(s(u[1]/f)*f))}});f.create=function(){return new f};n.exports=f},function(n){var t={},i="\0__throttleOriginMethod",r="\0__throttleRate",u="\0__throttleType";t.throttle=function(n,t,i){function u(){l=(new Date).getTime();r=null;n.apply(s,h||[])}var f,e,s,h,c=0,l=0,r=null,o;return t=t||0,o=function(){f=(new Date).getTime();s=this;h=arguments;e=f-(i?c:l)-t;clearTimeout(r);i?r=setTimeout(u,t):e>=0?u():r=setTimeout(u,-e);c=f},o.clear=function(){r&&(clearTimeout(r),r=null)},o};t.createOrUpdate=function(n,f,e,o){var s=n[f];if(s){var h=s[i]||s,c=s[u],l=s[r];if(l!==e||c!==o){if(null==e||!o)return n[f]=h;s=n[f]=t.throttle(h,e,"debounce"===o);s[i]=h;s[u]=o;s[r]=e}return s}};t.clear=function(n,t){var r=n[t];r&&r[i]&&(n[t]=r[i])};n.exports=t},function(n,t,i){function u(n){this.group=new e.Group;this._symbolCtor=n||o}function f(n,t,i){var r=n.getItemLayout(t);return r&&!isNaN(r[0])&&!isNaN(r[1])&&!(i&&i(t))&&"none"!==n.getItemVisual(t,"symbol")}var e=i(3),o=i(54),r=u.prototype;r.updateData=function(n,t){var r=this.group,i=n.hostModel,u=this._data,o=this._symbolCtor,s={itemStyle:i.getModel("itemStyle.normal").getItemStyle(["color"]),hoverItemStyle:i.getModel("itemStyle.emphasis").getItemStyle(),symbolRotate:i.get("symbolRotate"),symbolOffset:i.get("symbolOffset"),hoverAnimation:i.get("hoverAnimation"),labelModel:i.getModel("label.normal"),hoverLabelModel:i.getModel("label.emphasis")};n.diff(u).add(function(i){var e=n.getItemLayout(i),u;f(n,i,t)&&(u=new o(n,i,s),u.attr("position",e),n.setItemGraphicEl(i,u),r.add(u))}).update(function(h,c){var l=u.getItemGraphicEl(c),a=n.getItemLayout(h);return f(n,h,t)?(l?(l.updateData(n,h,s),e.updateProps(l,{position:a},i)):(l=new o(n,h),l.attr("position",a)),r.add(l),void n.setItemGraphicEl(h,l)):void r.remove(l)}).remove(function(n){var t=u.getItemGraphicEl(n);t&&t.fadeOut(function(){r.remove(t)})}).execute();this._data=n};r.updateLayout=function(){var n=this._data;n&&n.eachItemGraphicEl(function(t,i){var r=n.getItemLayout(i);t.attr("position",r)})};r.remove=function(n){var t=this.group,i=this._data;i&&(n?i.eachItemGraphicEl(function(n){n.fadeOut(function(){t.remove(n)})}):t.removeAll())};n.exports=u},function(n,t,i){function c(n,t,i){var u=t.getComponent("tooltip"),r=t.getComponent("axisPointer"),o=r.get("link",!0)||[],c=[];f(i.getCoordinateSystems(),function(i){function y(u,f,h){var y=h.model.getModel("axisPointer",r),g=y.get("show"),p,k;if(g&&("auto"!==g||u||s(y))){null==f&&(f=y.get("triggerTooltip"));y=u?l(h,a,r,t,u,f):y;var nt=y.get("snap"),w=e(h.model),tt=f||nt||"category"===h.type,d=n.axesInfo[w]={key:w,axis:h,coordSys:i,axisPointerModel:y,triggerTooltip:f,involveSeries:tt,snap:nt,useHandle:s(y),seriesModels:[]};b[w]=d;n.seriesInvolved|=tt;p=v(o,h);null!=p&&(k=c[p]||(c[p]={axesInfo:{}}),k.axesInfo[w]=d,k.mapper=o[p].mapper,d.linkGroup=k)}}var p,b,k,a;if(i.axisPointerEnabled&&(p=e(i.model),b=n.coordSysAxesInfo[p]={},n.coordSysMap[p]=i,k=i.model,a=k.getModel("tooltip",u),f(i.getAxes(),h(y,!1,null)),i.getTooltipAxes&&u&&a.get("show"))){var d="axis"===a.get("trigger"),w="cross"===a.get("axisPointer.type"),g=i.getTooltipAxes(a.get("axisPointer.axis"));(d||w)&&f(g.baseAxes,h(y,!w||"cross",d));w&&f(g.otherAxes,h(y,"cross",!1))}})}function l(n,t,i,r,e,o){var c=t.getModel("axisPointer"),s={},h,l;return f(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(n){s[n]=u.clone(c.get(n))}),s.snap="category"!==n.type&&!!o,"cross"===c.get("type")&&(s.type="line"),h=s.label||(s.label={}),(null==h.show&&(h.show=!1),"cross"!==e||(h.show=!0,o))||(l=s.lineStyle=c.get("crossStyle"),l&&u.defaults(h.textStyle||(h.textStyle={}),l.textStyle)),n.model.getModel("axisPointer",new y(s,i,r))}function a(n,t){t.eachSeries(function(t){var i=t.coordinateSystem,r=t.get("tooltip.trigger",!0);i&&"none"!==r&&r!==!1&&"item"!==r&&t.get("axisPointer.show",!0)!==!1&&f(n.coordSysAxesInfo[e(i.model)],function(n){var r=n.axis;i.getAxis(r.dim)===r&&(n.seriesModels.push(t),null==n.seriesDataCount&&(n.seriesDataCount=0),n.seriesDataCount+=t.getData().count())})},this)}function v(n,t){for(var r,u=t.model,f=t.dim,i=0;i<n.length;i++)if(r=n[i]||{},o(r[f+"AxisId"],u.id)||o(r[f+"AxisIndex"],u.componentIndex)||o(r[f+"AxisName"],u.name))return i}function o(n,t){return"all"===n||u.isArray(n)&&u.indexOf(n,t)>=0||n===t}function s(n){return!!n.get("handle.show")}var u=i(1),y=i(10),f=u.each,h=u.curry,r={},e;r.collect=function(n,t){var i={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return c(i,n,t),i.seriesInvolved&&a(i,n),i};r.fixValue=function(n){var u=r.getAxisInfo(n),o,i;if(u){var f=u.axisPointerModel,h=u.axis.scale,e=f.option,c=f.get("status"),t=f.get("value");null!=t&&(t=h.parse(t));o=s(f);null==c&&(e.status=o?"show":"hide");i=h.getExtent().slice();i[0]>i[1]&&i.reverse();(null==t||t>i[1])&&(t=i[1]);t<i[0]&&(t=i[0]);e.value=t;o&&(e.status=u.axis.scale.isBlank()?"hide":"show")}};r.getAxisInfo=function(n){var t=(n.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[e(n)]};r.getAxisPointerModel=function(n){var t=r.getAxisInfo(n);return t&&t.axisPointerModel};e=r.makeKey=function(n){return n.type+"||"+n.id};n.exports=r},function(n,t,i){function e(n){var t={};return u(["start","end","startValue","endValue","throttle"],function(i){n.hasOwnProperty(i)&&(t[i]=n[i])}),t}function o(n,t){u([["start","startValue"],["end","endValue"]],function(i,r){var u=n._rangePropMode;null!=t[i[0]]?u[r]="percent":null!=t[i[1]]&&(u[r]="value")})}var f=i(1),s=i(9),h=i(2),c=i(6),l=i(74),a=i(195),u=f.each,r=l.eachAxisDim,v=h.extendComponentModel({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null},init:function(n,t,i){this._dataIntervalByAxis={};this._dataInfo={};this._axisProxies={};this.textStyleModel;this._autoThrottle=!0;this._rangePropMode=["percent","percent"];var r=e(n);this.mergeDefaultAndTheme(n,i);this.doInit(r)},mergeOption:function(n){var t=e(n);f.merge(this.option,n,!0);this.doInit(t)},doInit:function(n){var t=this.option;s.canvasSupported||(t.realtime=!1);this._setDefaultThrottle(n);o(this,n);u([["start","startValue"],["end","endValue"]],function(n,i){"value"===this._rangePropMode[i]&&(t[n[0]]=null)},this);this.textStyleModel=this.getModel("textStyle");this._resetTarget();this._giveAxisProxies()},_giveAxisProxies:function(){var n=this._axisProxies;this.eachTargetAxis(function(t,i,r,u){var f=this.dependentModels[t.axis][i],e=f.__dzAxisProxy||(f.__dzAxisProxy=new a(t.name,i,this,u));n[t.name+"_"+i]=e},this)},_resetTarget:function(){var n=this.option,t=this._judgeAutoMode();r(function(t){var i=t.axisIndex;n[i]=c.normalizeToArray(n[i])},this);"axisIndex"===t?this._autoSetAxisIndex():"orient"===t&&this._autoSetOrient()},_judgeAutoMode:function(){var n=this.option,t=!1,i;return r(function(i){null!=n[i.axisIndex]&&(t=!0)},this),i=n.orient,null==i&&t?"orient":t?void 0:(null==i&&(n.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var n=!0,e=this.get("orient",!0),t=this.option,o=this.dependentModels,i;n&&(i="vertical"===e?"y":"x",o[i+"Axis"].length?(t[i+"AxisIndex"]=[0],n=!1):u(o.singleAxis,function(i){n&&i.get("orient",!0)===e&&(t.singleAxisIndex=[i.componentIndex],n=!1)}));n&&r(function(i){var r,f,u,e;if(n){if(r=[],f=this.dependentModels[i.axis],f.length&&!r.length)for(u=0,e=f.length;u<e;u++)"category"===f[u].get("type")&&r.push(u);t[i.axisIndex]=r;r.length&&(n=!1)}},this);n&&this.ecModel.eachSeries(function(n){this._isSeriesHasAllAxesTypeOf(n,"value")&&r(function(i){var u=t[i.axisIndex],r=n.get(i.axisIndex),e=n.get(i.axisId),o=n.ecModel.queryComponents({mainType:i.axis,index:r,id:e})[0];r=o.componentIndex;f.indexOf(u,r)<0&&u.push(r)})},this)},_autoSetOrient:function(){var n;this.eachTargetAxis(function(t){n||(n=t.name)},this);this.option.orient="y"===n?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(n,t){var i=!0;return r(function(r){var f=n.get(r.axisIndex),u=this.dependentModels[r.axis][f];u&&u.get("type")===t||(i=!1)},this),i},_setDefaultThrottle:function(n){if(n.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var t=this.ecModel.option;this.option.throttle=t.animation&&t.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var n;return r(function(t){if(null==n){var i=this.get(t.axisIndex);i.length&&(n=this.dependentModels[t.axis][i[0]])}},this),n},eachTargetAxis:function(n,t){var i=this.ecModel;r(function(r){u(this.get(r.axisIndex),function(u){n.call(t,r,u,this,i)},this)},this)},getAxisProxy:function(n,t){return this._axisProxies[n+"_"+t]},getAxisModel:function(n,t){var i=this.getAxisProxy(n,t);return i&&i.getAxisModel()},setRawRange:function(n,t){u(["start","end","startValue","endValue"],function(t){this.option[t]=n[t]},this);t||o(this,n)},getPercentRange:function(){var n=this.findRepresentativeAxisProxy();if(n)return n.getDataPercentWindow()},getValueRange:function(n,t){if(null!=n||null!=t)return this.getAxisProxy(n,t).getDataValueWindow();var i=this.findRepresentativeAxisProxy();if(i)return i.getDataValueWindow()},findRepresentativeAxisProxy:function(){var n=this._axisProxies,t;for(t in n)if(n.hasOwnProperty(t)&&n[t].hostedBy(this))return n[t];for(t in n)if(n.hasOwnProperty(t)&&!n[t].hostedBy(this))return n[t]},getRangePropMode:function(){return this._rangePropMode.slice()}});n.exports=v},function(n,t,i){var r=i(62);n.exports=r.extend({type:"dataZoom",render:function(n,t,i){this.dataZoomModel=n;this.ecModel=t;this.api=i},getTargetCoordInfo:function(){function t(n,t,i,r){for(var u,f=0;f<i.length;f++)if(i[f].model===n){u=i[f];break}u||i.push(u={model:n,axisModels:[],coordIndex:r});u.axisModels.push(t)}var i=this.dataZoomModel,r=this.ecModel,n={};return i.eachTargetAxis(function(i,u){var e=r.getComponent(i.axis,u),f;e&&(f=e.getCoordSysModel(),f&&t(f,e,n[f.mainType]||(n[f.mainType]=[]),f.componentIndex))},this),n}})},function(n){"use strict";function i(n){return n}function t(n,t,r,u){this._old=n;this._new=t;this._oldKeyGetter=r||i;this._newKeyGetter=u||i}function r(n,t,i,r){for(var e,f,u=0;u<n.length;u++)e=r(n[u],u),f=t[e],null==f?(i.push(e),t[e]=u):(f.length||(t[e]=f=[f]),f.push(u))}t.prototype={constructor:t,add:function(n){return this._add=n,this},update:function(n){return this._update=n,this},remove:function(n){return this._remove=n,this},execute:function(){var s=this._old,c=this._new,l=this._oldKeyGetter,a=this._newKeyGetter,u={},h=[],o=[],t,i,n,e,f;for(r(s,{},h,l),r(c,u,o,a),t=0;t<s.length;t++)i=h[t],n=u[i],null!=n?(f=n.length,f?(1===f&&(u[i]=null),n=n.unshift()):u[i]=null,this._update&&this._update(n,t)):this._remove&&this._remove(t);for(t=0;t<o.length;t++)if(i=o[t],u.hasOwnProperty(i)){if(n=u[i],null==n)continue;if(n.length)for(e=0,f=n.length;e<f;e++)this._add&&this._add(n[e]);else this._add&&this._add(n)}}};n.exports=t},function(n,t,i){var r=i(1),e=i(15),f=e.parseClassType,o=0,u={},s="_";u.getUID=function(n){return[n||"",o++,Math.random()].join(s)};u.enableSubTypeDefaulter=function(n){var t={};return n.registerSubTypeDefaulter=function(n,i){n=f(n);t[n.main]=i},n.determineSubType=function(i,r){var u=r.type,e;return u||(e=f(i).main,n.hasSubTypes(i)&&t[e]&&(u=t[e](r))),u},n};u.enableTopologicalTravel=function(n,t){function u(n){var u={},e=[];return r.each(n,function(o){var s=i(u,o),c=s.originalDeps=t(o),h=f(c,n);s.entryCount=h.length;0===s.entryCount&&e.push(o);r.each(h,function(n){r.indexOf(s.predecessor,n)<0&&s.predecessor.push(n);var t=i(u,n);r.indexOf(t.successor,n)<0&&t.successor.push(o)})}),{graph:u,noEntryList:e}}function i(n,t){return n[t]||(n[t]={predecessor:[],successor:[]}),n[t]}function f(n,t){var i=[];return r.each(n,function(n){r.indexOf(t,n)>=0&&i.push(n)}),i}n.topologicalTravel=function(n,t,i,f){function c(n){s[n].entryCount--;0===s[n].entryCount&&h.push(n)}function y(n){e[n]=!0;c(n)}if(n.length){var l=u(t),s=l.graph,h=l.noEntryList,e={};for(r.each(n,function(n){e[n]=!0});h.length;){var o=h.pop(),a=s[o],v=!!e[o];v&&(i.call(f,o,a.originalDeps.slice()),delete e[o]);r.each(a.successor,v?y:c)}r.each(e,function(){throw new Error("Circle dependency may exists");})}}};n.exports=u},function(n){n.exports=function(n,t,i,r){r.eachRawSeriesByType(n,function(n){var u=n.getData(),e=n.get("symbol")||t,f=n.get("symbolSize");u.setVisual({legendSymbol:i||e,symbol:e,symbolSize:f});r.isSeriesFiltered(n)||("function"==typeof f&&u.each(function(t){var i=n.getRawValue(t),r=n.getDataParams(t);u.setItemVisual(t,"symbolSize",f(i,r))}),u.each(function(n){var t=u.getItemModel(n),i=t.getShallow("symbol",!0),r=t.getShallow("symbolSize",!0);null!=i&&u.setItemVisual(n,"symbol",i);null!=r&&u.setItemVisual(n,"symbolSize",r)}))})}},function(n){function s(n){for(var t=0;n>=e;)t|=1&n,n>>=1;return n+t}function u(n,t,i,r){var u=t+1;if(u===i)return 1;if(r(n[u++],n[t])<0){for(;u<i&&r(n[u],n[u-1])<0;)u++;h(n,t,u)}else for(;u<i&&r(n[u],n[u-1])>=0;)u++;return u-t}function h(n,t,i){for(i--;t<i;){var r=n[t];n[t++]=n[i];n[i--]=r}}function f(n,t,i,r,u){var e;for(r===t&&r++;r<i;r++){for(var o,h=n[r],f=t,s=r;f<s;)o=f+s>>>1,u(h,n[o])<0?s=o:f=o+1;e=r-f;switch(e){case 3:n[f+3]=n[f+2];case 2:n[f+2]=n[f+1];case 1:n[f+1]=n[f];break;default:for(;e>0;)n[f+e]=n[f+e-1],e--}n[f]=h}}function i(n,t,i,r,u,f){var o=0,s=0,e=1,c,h;if(f(n,t[i+u])>0){for(s=r-u;e<s&&f(n,t[i+u+e])>0;)o=e,e=(e<<1)+1,e<=0&&(e=s);e>s&&(e=s);o+=u;e+=u}else{for(s=u+1;e<s&&f(n,t[i+u-e])<=0;)o=e,e=(e<<1)+1,e<=0&&(e=s);e>s&&(e=s);c=o;o=u-e;e=u-c}for(o++;o<e;)h=o+(e-o>>>1),f(n,t[i+h])>0?o=h+1:e=h;return e}function r(n,t,i,r,u,f){var o=0,s=0,e=1,c,h;if(f(n,t[i+u])<0){for(s=u+1;e<s&&f(n,t[i+u-e])<0;)o=e,e=(e<<1)+1,e<=0&&(e=s);e>s&&(e=s);c=o;o=u-e;e=u-c}else{for(s=r-u;e<s&&f(n,t[i+u+e])>=0;)o=e,e=(e<<1)+1,e<=0&&(e=s);e>s&&(e=s);o+=u;e+=u}for(o++;o<e;)h=o+(e-o>>>1),f(n,t[i+h])<0?e=h:o=h+1;return e}function c(n,u){function v(n,t){c[s]=n;e[s]=t;s+=1}function y(){for(;s>1;){var n=s-2;if(n>=1&&e[n-1]<=e[n]+e[n+1]||n>=2&&e[n-2]<=e[n]+e[n-1])e[n-1]<e[n+1]&&n--;else if(e[n]>e[n+1])break;a(n)}}function p(){for(;s>1;){var n=s-2;n>0&&e[n-1]<e[n+1]&&n--;a(n)}}function a(t){var h=c[t],f=e[t],l=c[t+1],o=e[t+1],a;e[t]=f+o;t===s-3&&(c[t+1]=c[t+2],e[t+1]=e[t+2]);s--;a=r(n[l],n,h,f,0,u);h+=a;f-=a;0!==f&&(o=i(n[h+f-1],n,l,o,o-1,u),0!==o&&(f<=o?w(h,f,l,o):b(h,f,l,o)))}function w(e,o,s,c){for(var l=0,y,p,b,k,l=0;l<o;l++)f[l]=n[e+l];var v=0,w=s,a=e;if(n[a++]=n[w++],0!=--c){if(1===o){for(l=0;l<c;l++)n[a+l]=n[w+l];return void(n[a+c]=f[v])}for(k=h;;){y=0;p=0;b=!1;do if(u(n[w],f[v])<0){if(n[a++]=n[w++],p++,y=0,0==--c){b=!0;break}}else if(n[a++]=f[v++],y++,p=0,1==--o){b=!0;break}while((y|p)<k);if(b)break;do{if(y=r(n[w],f,v,o,0,u),0!==y){for(l=0;l<y;l++)n[a+l]=f[v+l];if(a+=y,v+=y,o-=y,o<=1){b=!0;break}}if(n[a++]=n[w++],0==--c){b=!0;break}if(p=i(f[v],n,w,c,0,u),0!==p){for(l=0;l<p;l++)n[a+l]=n[w+l];if(a+=p,w+=p,c-=p,0===c){b=!0;break}}if(n[a++]=f[v++],1==--o){b=!0;break}k--}while(y>=t||p>=t);if(b)break;k<0&&(k=0);k+=2}if(h=k,h<1&&(h=1),1===o){for(l=0;l<c;l++)n[a+l]=n[w+l];n[a+c]=f[v]}else{if(0===o)throw new Error;for(l=0;l<o;l++)n[a+l]=f[v+l]}}else for(l=0;l<o;l++)n[a+l]=f[v+l]}function b(e,o,s,c){for(var l=0,g,l=0;l<c;l++)f[l]=n[s+l];var y=e+o-1,b=c-1,a=s+c-1,v=0,k=0;if(n[a--]=n[y--],0!=--o){if(1===c){for(a-=o,y-=o,k=a+1,v=y+1,l=o-1;l>=0;l--)n[k+l]=n[v+l];return void(n[a]=f[b])}for(g=h;;){var p=0,w=0,d=!1;do if(u(f[b],n[y])<0){if(n[a--]=n[y--],p++,w=0,0==--o){d=!0;break}}else if(n[a--]=f[b--],w++,p=0,1==--c){d=!0;break}while((p|w)<g);if(d)break;do{if(p=o-r(f[b],n,e,o,o-1,u),0!==p){for(a-=p,y-=p,o-=p,k=a+1,v=y+1,l=p-1;l>=0;l--)n[k+l]=n[v+l];if(0===o){d=!0;break}}if(n[a--]=f[b--],1==--c){d=!0;break}if(w=c-i(n[y],f,0,c,c-1,u),0!==w){for(a-=w,b-=w,c-=w,k=a+1,v=b+1,l=0;l<w;l++)n[k+l]=f[v+l];if(c<=1){d=!0;break}}if(n[a--]=n[y--],0==--o){d=!0;break}g--}while(p>=t||w>=t);if(d)break;g<0&&(g=0);g+=2}if(h=g,h<1&&(h=1),1===c){for(a-=o,y-=o,k=a+1,v=y+1,l=o-1;l>=0;l--)n[k+l]=n[v+l];n[a]=f[b]}else{if(0===c)throw new Error;for(v=a-(c-1),l=0;l<c;l++)n[v+l]=f[l]}}else for(v=a-(c-1),l=0;l<c;l++)n[v+l]=f[l]}var c,e,h=t,l=0,k=o,d=0,s=0,f;l=n.length;l<2*o&&(k=l>>>1);f=[];d=l<120?5:l<1542?10:l<119151?19:40;c=[];e=[];this.mergeRuns=y;this.forceMergeRuns=p;this.pushRun=v}function l(n,t,i,r){var h,o,a,v,l;if(i||(i=0),r||(r=n.length),h=r-i,!(h<2)){if(o=0,h<e)return o=u(n,i,r,t),void f(n,i,r,i+o,t);a=new c(n,t);v=s(h);do(o=u(n,i,r,t),o<v)&&(l=h,l>v&&(l=v),f(n,i,i+l,i+o,t),o=l),a.pushRun(i,o),a.mergeRuns(),h-=o,i+=o;while(0!==h);a.forceMergeRuns()}}var e=32,t=7,o=256;n.exports=l},function(n,t,i){var r=i(35);n.exports=function(){var n;if(0!==r.debugMode)if(1==r.debugMode)for(n in arguments)throw new Error(arguments[n]);else if(r.debugMode>1)for(n in arguments)console.log(arguments[n])}},function(n,t,i){function r(n){u.call(this,n)}var u=i(37),e=i(11),o=i(1),s=i(67),f=new s(50);r.prototype={constructor:r,type:"image",brush:function(n,t){var i,r=this.style,s=r.image,o,l,a,h,c;if(r.bind(n,this,t),i="string"==typeof s?this._image:s,!i&&s){if(o=f.get(s),!o)return i=new Image,i.onload=function(){i.onload=null;for(var n=0;n<o.pending.length;n++)o.pending[n].dirty()},o={image:i,pending:[this]},i.src=s,f.put(s,o),void(this._image=i);if(i=o.image,this._image=i,!i.width||!i.height)return void o.pending.push(this)}if(i){if(l=r.x||0,a=r.y||0,!i.width||!i.height)return;var u=r.width,e=r.height,v=i.width/i.height;if(null==u&&null!=e?u=e*v:null==e&&null!=u?e=u/v:null==u&&null==e&&(u=i.width,e=i.height),this.setTransform(n),r.sWidth&&r.sHeight)h=r.sx||0,c=r.sy||0,n.drawImage(i,h,c,r.sWidth,r.sHeight,l,a,u,e);else if(r.sx&&r.sy){var h=r.sx,c=r.sy,y=u-h,p=e-c;n.drawImage(i,h,c,y,p,l,a,u,e)}else n.drawImage(i,l,a,u,e);this.restoreTransform(n);null!=r.text&&this.drawRectText(n,this.getBoundingRect())}},getBoundingRect:function(){var n=this.style;return this._rect||(this._rect=new e(n.x||0,n.y||0,n.width||0,n.height||0)),this._rect}};o.inherits(r,u);n.exports=r},function(n,t,i){function h(n,t){var i=n.getItemVisual(t,"symbolSize");return i instanceof Array?i.slice():[+i,+i]}function e(n){return[n[0]/2,n[1]/2]}function o(n,t,i){u.Group.call(this);this.updateData(n,t,i)}function c(n,t){this.parent.drift(n,t)}var f=i(1),l=i(24),u=i(3),s=i(4),r=o.prototype;r._createSymbol=function(n,t,i,r){this.removeAll();var o=t.hostModel,s=t.getItemVisual(i,"color"),f=l.createSymbol(n,-1,-1,2,2,s);f.attr({z2:100,culling:!0,scale:[0,0]});f.drift=c;u.initProps(f,{scale:e(r)},o,i);this._symbolType=n;this.add(f)};r.stopSymbolAnimation=function(n){this.childAt(0).stopAnimation(n)};r.getSymbolPath=function(){return this.childAt(0)};r.getScale=function(){return this.childAt(0).scale};r.highlight=function(){this.childAt(0).trigger("emphasis")};r.downplay=function(){this.childAt(0).trigger("normal")};r.setZ=function(n,t){var i=this.childAt(0);i.zlevel=n;i.z=t};r.setDraggable=function(n){var t=this.childAt(0);t.draggable=n;t.cursor=n?"move":"pointer"};r.updateData=function(n,t,i){var f;this.silent=!1;var o=n.getItemVisual(t,"symbol")||"circle",s=n.hostModel,r=h(n,t);o!==this._symbolType?this._createSymbol(o,n,t,r):(f=this.childAt(0),f.silent=!1,u.updateProps(f,{scale:e(r)},s,t));this._updateCommon(n,t,r,i);this._seriesModel=s};var a=["itemStyle","normal"],v=["itemStyle","emphasis"],y=["label","normal"],p=["label","emphasis"];r._updateCommon=function(n,t,i,r){var o=this.childAt(0),d=n.hostModel,g=n.getItemVisual(t,"color"),h,b,it,w,rt,ut,c,ft,et;"image"!==o.type&&o.useStyle({strokeNoScale:!0});r=r||null;var ot=r&&r.itemStyle,l=r&&r.hoverItemStyle,st=r&&r.symbolRotate,k=r&&r.symbolOffset,nt=r&&r.labelModel,tt=r&&r.hoverLabelModel,ht=r&&r.hoverAnimation;for(!r||n.hasItemOption?(h=n.getItemModel(t),ot=h.getModel(a).getItemStyle(["color"]),l=h.getModel(v).getItemStyle(),st=h.getShallow("symbolRotate"),k=h.getShallow("symbolOffset"),nt=h.getModel(y),tt=h.getModel(p),ht=h.getShallow("hoverAnimation")):l=f.extend({},l),b=o.style,o.attr("rotation",(st||0)*Math.PI/180||0),k&&o.attr("position",[s.parsePercent(k[0],i[0]),s.parsePercent(k[1],i[1])]),o.setColor(g),o.setStyle(ot),it=n.getItemVisual(t,"opacity"),null!=it&&(b.opacity=it),ut=n.dimensions.slice();ut.length&&(w=ut.pop(),rt=n.getDimensionInfo(w).type,"ordinal"===rt||"time"===rt););if(null!=w&&nt.getShallow("show")?(u.setText(b,nt,g),b.text=f.retrieve(d.getFormattedLabel(t,"normal"),n.get(w,t))):b.text="",null!=w&&tt.getShallow("show")?(u.setText(l,tt,g),l.text=f.retrieve(d.getFormattedLabel(t,"emphasis"),n.get(w,t))):l.text="",o.off("mouseover").off("mouseout").off("emphasis").off("normal"),o.hoverStyle=l,u.setHoverStyle(o),c=e(i),ht&&d.isAnimationEnabled()){ft=function(){var n=c[1]/c[0];this.animateTo({scale:[Math.max(1.1*c[0],c[0]+3),Math.max(1.1*c[1],c[1]+3*n)]},400,"elasticOut")};et=function(){this.animateTo({scale:c},400,"elasticOut")};o.on("mouseover",ft).on("mouseout",et).on("emphasis",ft).on("normal",et)}};r.fadeOut=function(n){var t=this.childAt(0);this.silent=t.silent=!0;t.style.text="";u.updateProps(t,{scale:[0,0]},this._seriesModel,this.dataIndex,n)};f.inherits(o,u.Group);n.exports=o},function(n,t,i){var r=i(2),f=i(45),e=i(193),u=i(1);i(191);i(192);i(118);r.registerPreprocessor(function(n){if(n){n.axisPointer&&0!==n.axisPointer.length||(n.axisPointer={});var t=n.axisPointer.link;t&&!u.isArray(t)&&(n.axisPointer.link=[t])}});r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,function(n,t){n.getComponent("axisPointer").coordSysAxesInfo=f.collect(n,t)});r.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},function(n,t,i){return e(t.getComponent("axisPointer").coordSysAxesInfo,n.currTrigger,n,n.dispatchAction||u.bind(i.dispatchAction,i),t,i,n.tooltipOption,n.highDownKey)})},function(n,t,i){function o(n,t){return n.getCoordSysModel()===t}function y(n){var i,f=n.model,e=f.getFormattedLabels(),s=f.getModel("axisLabel.textStyle"),o=1,r=e.length,t,u;for(r>40&&(o=Math.ceil(r/40)),t=0;t<r;t+=o)n.isLabelIgnored(t)||(u=s.getTextRect(e[t]),i?i.union(u):i=u);return i}function f(n,t,i){this._coordsMap={};this._coordsList=[];this._axesMap={};this._axesList=[];this._initCartesian(n,t,i);this.model=n}function p(n,t){var i=n.getExtent(),r=i[0]+i[1];n.toGlobalCoord="x"===n.dim?function(n){return n+t}:function(n){return r-n+t};n.toLocalCoord="x"===n.dim?function(n){return n-t}:function(n){return r-n+t}}function h(n){return e.map(v,function(t){return n.getReferringComponents(t)[0]})}function c(n){return"cartesian2d"===n.get("coordinateSystem")}var w=i(12),s=i(17),e=i(1),l=i(130),b=i(128),u=e.each,k=s.ifAxisCrossZero,a=s.niceScaleExtent,r,v;i(131);r=f.prototype;r.type="grid";r.axisPointerEnabled=!0;r.getRect=function(){return this._rect};r.update=function(n,t){function r(n){var r=i[n],u,t;for(u in r)if(r.hasOwnProperty(u)&&(t=r[u],t&&("category"===t.type||!k(t))))return!0;return!1}var i=this._axesMap;this._updateScale(n,this.model);u(i.x,function(n){a(n.scale,n.model)});u(i.y,function(n){a(n.scale,n.model)});u(i.x,function(n){r("y")&&(n.onZero=!1)});u(i.y,function(n){r("x")&&(n.onZero=!1)});this.resize(this.model,t)};r.resize=function(n,t){function f(){u(r,function(n){var t=n.isHorizontal(),r=t?[0,i.width]:[0,i.height],u=n.inverse?1:0;n.setExtent(r[u],r[1-u]);p(n,t?i.x:i.y)})}var i=w.getLayoutRect(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),r;this._rect=i;r=this._axesList;f();n.get("containLabel")&&(u(r,function(n){var t,u,r;n.model.get("axisLabel.inside")||(t=y(n),t&&(u=n.isHorizontal()?"height":"width",r=n.model.get("axisLabel.margin"),i[u]-=t[u]+r,"top"===n.position?i.y+=t.height+r:"left"===n.position&&(i.x+=t.width+r)))}),f())};r.getAxis=function(n,t){var i=this._axesMap[n],r;if(null!=i){if(null==t)for(r in i)if(i.hasOwnProperty(r))return i[r];return i[t]}};r.getAxes=function(){return this._axesList.slice()};r.getCartesian=function(n,t){var u,i,r;if(null!=n&&null!=t)return u="x"+n+"y"+t,this._coordsMap[u];for(e.isObject(n)&&(t=n.yAxisIndex,n=n.xAxisIndex),i=0,r=this._coordsList;i<r.length;i++)if(r[i].getAxis("x").index===n||r[i].getAxis("y").index===t)return r[i]};r.getCartesians=function(){return this._coordsList.slice()};r.convertToPixel=function(n,t,i){var r=this._findConvertTarget(n,t);return r.cartesian?r.cartesian.dataToPoint(i):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(i)):null};r.convertFromPixel=function(n,t,i){var r=this._findConvertTarget(n,t);return r.cartesian?r.cartesian.pointToData(i):r.axis?r.axis.coordToData(r.axis.toLocalCoord(i)):null};r._findConvertTarget=function(n,t){var i,o,r=t.seriesModel,u=t.xAxisModel||r&&r.getReferringComponents("xAxis")[0],f=t.yAxisModel||r&&r.getReferringComponents("yAxis")[0],s=t.gridModel,c=this._coordsList,h;return r?(i=r.coordinateSystem,e.indexOf(c,i)<0&&(i=null)):u&&f?i=this.getCartesian(u.componentIndex,f.componentIndex):u?o=this.getAxis("x",u.componentIndex):f?o=this.getAxis("y",f.componentIndex):s&&(h=s.coordinateSystem,h===this&&(i=this._coordsList[0])),{cartesian:i,axis:o}};r.containPoint=function(n){var t=this._coordsList[0];if(t)return t.containPoint(n)};r._initCartesian=function(n,t){function e(u){return function(e,h){var c,l,a;o(e,n,t)&&(c=e.get("position"),"x"===u?"top"!==c&&"bottom"!==c&&(c="bottom",r[c]&&(c="top"===c?"bottom":"top")):"left"!==c&&"right"!==c&&(c="left",r[c]&&(c="left"===c?"right":"left")),r[c]=!0,l=new b(u,s.createScaleByModel(e),[0,0],e.get("type"),c),a="category"===l.type,l.onBand=a&&e.get("boundaryGap"),l.inverse=e.get("inverse"),l.onZero=e.get("axisLine.onZero"),e.axis=l,l.model=e,l.grid=this,l.index=h,this._axesList.push(l),i[u][h]=l,f[u]++)}}var r={left:!1,right:!1,top:!1,bottom:!1},i={x:{},y:{}},f={x:0,y:0};return t.eachComponent("xAxis",e("x"),this),t.eachComponent("yAxis",e("y"),this),f.x&&f.y?(this._axesMap=i,void u(i.x,function(t,r){u(i.y,function(i,u){var e="x"+r+"y"+u,f=new l(e);f.grid=this;f.model=n;this._coordsMap[e]=f;this._coordsList.push(f);f.addAxis(t);f.addAxis(i)},this)},this)):(this._axesMap={},void(this._axesList=[]))};r._updateScale=function(n,t){function i(n,t,i){u(i.coordDimToDataDim(t.dim),function(i){t.scale.unionExtentFromData(n,i)})}e.each(this._axesList,function(n){n.scale.setExtent(1/0,-(1/0))});n.eachSeries(function(r){if(c(r)){var f=h(r,n),e=f[0],s=f[1];if(!o(e,t,n)||!o(s,t,n))return;var l=this.getCartesian(e.componentIndex,s.componentIndex),u=r.getData(),a=l.getAxis("x"),v=l.getAxis("y");"list"===u.type&&(i(u,a,r),i(u,v,r))}},this)};r.getTooltipAxes=function(n){var t=[],i=[];return u(this.getCartesians(),function(r){var u=null!=n&&"auto"!==n?r.getAxis(n):r.getBaseAxis(),f=r.getOtherAxis(u);e.indexOf(t,u)<0&&t.push(u);e.indexOf(i,f)<0&&i.push(f)}),{baseAxes:t,otherAxes:i}};v=["xAxis","yAxis"];f.create=function(n,t){var i=[];return n.eachComponent("grid",function(r,u){var e=new f(r,n,t);e.name="grid_"+u;e.resize(r,t);r.coordinateSystem=e;i.push(e)}),n.eachSeries(function(t){if(c(t)){var i=h(t,n),r=i[0],u=i[1],f=r.getCoordSysModel(),e=f.coordinateSystem;t.coordinateSystem=e.getCartesian(r.componentIndex,u.componentIndex)}}),i};f.dimensions=f.prototype.dimensions=l.prototype.dimensions;i(26).register("cartesian2d",f);n.exports=f},function(n,t,i){var f=i(92),r=i(1),e=i(13),u=i(12),o=["value","category","time","log"];n.exports=function(n,t,i,s){r.each(o,function(e){t.extend({type:n+"Axis."+e,mergeDefaultAndTheme:function(t,f){var o=this.layoutMode,s=o?u.getLayoutParams(t):{},h=f.getTheme();r.merge(t,h.get(e+"Axis"));r.merge(t,this.getDefaultOption());t.type=i(n,t);o&&u.mergeLayoutParam(t,s,o)},defaultOption:r.mergeAll([{},f[e+"Axis"],s],!0)})});e.registerSubTypeDefaulter(n+"Axis",r.curry(i,n))}},function(n,t,i){"use strict";function f(n,t){return t.type||(t.data?"category":"value")}var o=i(13),s=i(1),e=i(57),r=o.extend({type:"cartesian2dAxis",axis:null,init:function(){r.superApply(this,"init",arguments);this.resetRange()},mergeOption:function(){r.superApply(this,"mergeOption",arguments);this.resetRange()},restoreData:function(){r.superApply(this,"restoreData",arguments);this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}}),u;s.merge(r.prototype,i(41));u={offset:0};e("x",r,f,u);e("y",r,f,u);n.exports=r},function(n){n.exports=function(n,t){t.eachSeriesByType(n,function(n){var i=n.getData(),r=n.coordinateSystem,t;r&&(t=r.dimensions,1===t.length?i.each(t[0],function(n,t){i.setItemLayout(t,isNaN(n)?[NaN,NaN]:r.dataToPoint(n))}):2===t.length&&i.each(t,function(n,t,u){i.setItemLayout(u,isNaN(n)||isNaN(t)?[NaN,NaN]:r.dataToPoint([n,t]))},!0))})}},function(n,t,i){var u=i(15),r=u.set,f=u.get;n.exports={clearColorPalette:function(){r(this,"colorIdx",0);r(this,"colorNameMap",{})},getColorFromPalette:function(n,t){var e,i,u,o;return(t=t||this,e=f(t,"colorIdx")||0,i=f(t,"colorNameMap")||r(t,"colorNameMap",{}),i[n])?i[n]:(u=this.get("color",!0)||[],u.length?(o=u[e],n&&(i[n]=o),r(t,"colorIdx",(e+1)%u.length),o):void 0)}}},function(n){n.exports=function(n,t){var i=t.findComponents({mainType:"legend"});i&&i.length&&t.eachSeriesByType(n,function(n){var t=n.getData();t.filterSelf(function(n){for(var u=t.getName(n),r=0;r<i.length;r++)if(!i[r].isSelected(u))return!1;return!0},this)},this)}},function(n,t,i){var e=i(36),o=i(49),f=i(15),r=function(){this.group=new e;this.uid=o.getUID("viewComponent")},u;r.prototype={constructor:r,init:function(){},render:function(){},dispose:function(){}};u=r.prototype;u.updateView=u.updateLayout=u.updateVisual=function(){};f.enableClassExtend(r);f.enableClassManagement(r,{registerWhenExtend:!0});n.exports=r},function(n,t,i){"use strict";var s=i(68),f=i(23),e=i(98),o=i(176),u=i(1),r=function(n){e.call(this,n);f.call(this,n);o.call(this,n);this.id=n.id||s()};r.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,drift:function(n,t){switch(this.draggable){case"horizontal":t=0;break;case"vertical":n=0}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]);i[4]+=n;i[5]+=t;this.decomposeTransform();this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(){},attrKV:function(n,t){if("position"===n||"scale"===n||"origin"===n){if(t){var i=this[n];i||(i=this[n]=[]);i[0]=t[0];i[1]=t[1]}}else this[n]=t},hide:function(){this.ignore=!0;this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1;this.__zr&&this.__zr.refresh()},attr:function(n,t){if("string"==typeof n)this.attrKV(n,t);else if(u.isObject(n))for(var i in n)n.hasOwnProperty(i)&&this.attrKV(i,n[i]);return this.dirty(!1),this},setClipPath:function(n){var t=this.__zr;t&&n.addSelfToZr(t);this.clipPath&&this.clipPath!==n&&this.removeClipPath();this.clipPath=n;n.__zr=t;n.__clipTarget=this;this.dirty(!1)},removeClipPath:function(){var n=this.clipPath;n&&(n.__zr&&n.removeSelfFromZr(n.__zr),n.__zr=null,n.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(n){var t,i;if(this.__zr=n,t=this.animators,t)for(i=0;i<t.length;i++)n.animation.addAnimator(t[i]);this.clipPath&&this.clipPath.addSelfToZr(n)},removeSelfFromZr:function(n){var t,i;if(this.__zr=null,t=this.animators,t)for(i=0;i<t.length;i++)n.animation.removeAnimator(t[i]);this.clipPath&&this.clipPath.removeSelfFromZr(n)}};u.mixin(r,o);u.mixin(r,e);u.mixin(r,f);n.exports=r},function(n,t,i){function v(n,t){return n[t]}function y(n,t,i){n[t]=i}function u(n,t,i){return(t-n)*i+n}function o(n,t,i){return i>.5?t:n}function s(n,t,i,r,f){var s=n.length,h,e,o;if(1==f)for(e=0;e<s;e++)r[e]=u(n[e],t[e],i);else for(h=n[0].length,e=0;e<s;e++)for(o=0;o<h;o++)r[e][o]=u(n[e][o],t[e][o],i)}function h(n,t,i){var o=n.length,f=t.length,s,h,r,u;if(o!==f)if(s=o>f,s)n.length=f;else for(r=o;r<f;r++)n.push(1===i?t[r]:e.call(t[r]));for(h=n[0]&&n[0].length,r=0;r<n.length;r++)if(1===i)isNaN(n[r])&&(n[r]=t[r]);else for(u=0;u<h;u++)isNaN(n[r][u])&&(n[r][u]=t[r][u])}function p(n,t,i){var f,e,r,u;if(n===t)return!0;if(f=n.length,f!==t.length)return!1;if(1===i){for(r=0;r<f;r++)if(n[r]!==t[r])return!1}else for(e=n[0].length,r=0;r<f;r++)for(u=0;u<e;u++)if(n[r][u]!==t[r][u])return!1;return!0}function c(n,t,i,r,u,e,o,s,h){var a=n.length,v,c,l;if(1==h)for(c=0;c<a;c++)s[c]=f(n[c],t[c],i[c],r[c],u,e,o);else for(v=n[0].length,c=0;c<a;c++)for(l=0;l<v;l++)s[c][l]=f(n[c][l],t[c][l],i[c][l],r[c][l],u,e,o)}function f(n,t,i,r,u,f,e){var o=.5*(i-n),s=.5*(r-t);return(2*(t-i)+o+s)*e+(-3*(t-i)-2*o-s)*f+o*u+t}function w(n){var u,i,t;if(r(n)){if(u=n.length,r(n[0])){for(i=[],t=0;t<u;t++)i.push(e.call(n[t]));return i}return e.call(n)}return n}function l(n){return n[0]=Math.floor(n[0]),n[1]=Math.floor(n[1]),n[2]=Math.floor(n[2]),"rgba("+n.join(",")+")"}function b(n,t,i,e,a){var at=n._getter,kt=n._setter,ii="spline"===t,w=e.length,g,pt,ut,b,ni,v,ht,ft,et,ct,lt,wt,ot,ti,bt;if(w){var vt,dt=e[0].value,nt=r(dt),it=!1,st=!1,rt=nt&&r(dt[0])?2:1;e.sort(function(n,t){return n.time-t.time});vt=e[w-1].time;for(var tt=[],y=[],yt=e[0].value,gt=!0,b=0;b<w;b++)tt.push(e[b].time/vt),g=e[b].value,(nt&&p(g,yt,rt)||!nt&&g===yt||(gt=!1),yt=g,"string"==typeof g)&&(pt=d.parse(g),pt?(g=pt,it=!0):st=!0),y.push(g);if(!gt){for(ut=y[w-1],b=0;b<w-1;b++)nt?h(y[b],ut,rt):!isNaN(y[b])||isNaN(ut)||st||it||(y[b]=ut);return nt&&h(at(n._target,a),ut,rt),lt=0,wt=0,it&&(ot=[0,0,0,0]),ti=function(n,t){var i,e,r;if(t<0)i=0;else if(t<wt){for(ni=Math.min(lt+1,w-1),i=ni;i>=0&&!(tt[i]<=t);i--);i=Math.min(i,w-2)}else{for(i=lt;i<w&&!(tt[i]>t);i++);i=Math.min(i-1,w-2)}if(lt=i,wt=t,e=tt[i+1]-tt[i],0!==e)if(v=(t-tt[i])/e,ii)if(ft=y[i],ht=y[0===i?i:i-1],et=y[i>w-2?w-1:i+1],ct=y[i>w-3?w-1:i+2],nt)c(ht,ft,et,ct,v,v*v,v*v*v,at(n,a),rt);else{if(it)r=c(ht,ft,et,ct,v,v*v,v*v*v,ot,1),r=l(ot);else{if(st)return o(ft,et,v);r=f(ht,ft,et,ct,v,v*v,v*v*v)}kt(n,a,r)}else if(nt)s(y[i],y[i+1],v,at(n,a),rt);else{if(it)s(y[i],y[i+1],v,ot,1),r=l(ot);else{if(st)return o(y[i],y[i+1],v);r=u(y[i],y[i+1],v)}kt(n,a,r)}},bt=new k({target:n._target,life:vt,loop:n._loop,delay:n._delay,onframe:ti,ondestroy:i}),t&&"spline"!==t&&(bt.easing=t),bt}}}var k=i(155),d=i(22),g=i(1),r=g.isArrayLike,e=Array.prototype.slice,a=function(n,t,i,r){this._tracks={};this._target=n;this._loop=t||!1;this._getter=i||v;this._setter=r||y;this._clipCount=0;this._delay=0;this._doneList=[];this._onframeList=[];this._clipList=[]};a.prototype={when:function(n,t){var r=this._tracks,i,u;for(i in t)if(t.hasOwnProperty(i)){if(!r[i]){if(r[i]=[],u=this._getter(this._target,i),null==u)continue;0!==n&&r[i].push({time:0,value:w(u)})}r[i].push({time:n,value:t[i]})}return this},during:function(n){return this._onframeList.push(n),this},pause:function(){for(var n=0;n<this._clipList.length;n++)this._clipList[n].pause();this._paused=!0},resume:function(){for(var n=0;n<this._clipList.length;n++)this._clipList[n].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={};this._clipList.length=0;for(var t=this._doneList,i=t.length,n=0;n<i;n++)t[n].call(this)},start:function(n){var i,f=this,r=0,o=function(){r--;r||f._doneCallback()},u,t,e;for(u in this._tracks)this._tracks.hasOwnProperty(u)&&(t=b(this,n,o,this._tracks[u],u),t&&(this._clipList.push(t),r++,this.animation&&this.animation.addClip(t),i=t));return i&&(e=i.onframe,i.onframe=function(n,t){e(n,t);for(var i=0;i<f._onframeList.length;i++)f._onframeList[i](n,t)}),r||this._doneCallback(),this},stop:function(n){for(var r,t=this._clipList,u=this.animation,i=0;i<t.length;i++)r=t[i],n&&r.onframe(this._target,1),u&&u.removeClip(r);t.length=0},delay:function(n){return this._delay=n,this},done:function(n){return n&&this._doneList.push(n),this},getClips:function(){return this._clipList}};n.exports=a},function(n){n.exports="undefined"!=typeof window&&(window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(n){setTimeout(n,16)}},function(n){var t=2*Math.PI;n.exports={normalizeRadian:function(n){return n%=t,n<0&&(n+=t),n}}},function(n){var r=function(){this.head=null;this.tail=null;this._len=0},t=r.prototype;t.insert=function(n){var t=new u(n);return this.insertEntry(t),t};t.insertEntry=function(n){this.head?(this.tail.next=n,n.prev=this.tail,n.next=null,this.tail=n):this.head=this.tail=n;this._len++};t.remove=function(n){var t=n.prev,i=n.next;t?t.next=i:this.head=i;i?i.prev=t:this.tail=t;n.next=n.prev=null;this._len--};t.len=function(){return this._len};t.clear=function(){this.head=this.tail=null;this._len=0};var u=function(n){this.value=n;this.next;this.prev},f=function(n){this._list=new r;this._map={};this._maxSize=n||10;this._lastRemovedEntry=null},i=f.prototype;i.put=function(n,t){var f=this._list,e=this._map,s=null,o,i,r;return null==e[n]&&(o=f.len(),i=this._lastRemovedEntry,o>=this._maxSize&&o>0&&(r=f.head,f.remove(r),delete e[r.key],s=r.value,this._lastRemovedEntry=r),i?i.value=t:i=new u(t),i.key=n,f.insertEntry(i),e[n]=i),s};i.get=function(n){var t=this._map[n],i=this._list;if(null!=t)return t!==i.tail&&(i.remove(t),i.insertEntry(t)),t.value};i.clear=function(){this._list.clear();this._map={}};n.exports=f},function(n){var t=2311;n.exports=function(){return t++}},function(n){var t=function(n,t){this.image=n;this.repeat=t;this.type="pattern"};t.prototype.getCanvasPattern=function(n){return this._canvasPattern||(this._canvasPattern=n.createPattern(this.image,this.repeat))};n.exports=t},function(n){function e(n,t,i){var r=t.x,u=t.x2,f=t.y,e=t.y2;return t.global||(r=r*i.width+i.x,u=u*i.width+i.x,f=f*i.height+i.y,e=e*i.height+i.y),n.createLinearGradient(r,f,u,e)}function o(n,t,i){var f=i.width,e=i.height,s=Math.min(f,e),r=t.x,u=t.y,o=t.r;return t.global||(r=r*f+i.x,u=u*e+i.y,o*=s),n.createRadialGradient(r,u,0,r,u,o)}var i=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],t=function(n){this.extendFrom(n)},r,u,f;for(t.prototype={constructor:t,fill:"#000000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,textFill:"#000",textStroke:null,textPosition:"inside",textOffset:null,textBaseline:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textTransform:!1,textRotation:0,blend:null,bind:function(n,t,r){for(var h,o,c,u=this,f=r&&r.style,e=!f,s=0;s<i.length;s++)h=i[s],o=h[0],(e||u[o]!==f[o])&&(n[o]=u[o]||h[1]);((e||u.fill!==f.fill)&&(n.fillStyle=u.fill),(e||u.stroke!==f.stroke)&&(n.strokeStyle=u.stroke),(e||u.opacity!==f.opacity)&&(n.globalAlpha=null==u.opacity?1:u.opacity),(e||u.blend!==f.blend)&&(n.globalCompositeOperation=u.blend||"source-over"),this.hasStroke())&&(c=u.lineWidth,n.lineWidth=c/(this.strokeNoScale&&t&&t.getLineScale?t.getLineScale():1))},hasFill:function(){var n=this.fill;return null!=n&&"none"!==n},hasStroke:function(){var n=this.stroke;return null!=n&&"none"!==n&&this.lineWidth>0},extendFrom:function(n,t){var r,i;if(n){r=this;for(i in n)n.hasOwnProperty(i)&&(t||!r.hasOwnProperty(i))&&(r[i]=n[i])}},set:function(n,t){"string"==typeof n?this[n]=t:this.extendFrom(n,!0)},clone:function(){var n=new this.constructor;return n.extendFrom(this,!0),n},getGradient:function(n,t,i){for(var s="radial"===t.type?o:e,f=s(n,t,i),u=t.colorStops,r=0;r<u.length;r++)f.addColorStop(u[r].offset,u[r].color);return f}},r=t.prototype,u=0;u<i.length;u++)f=i[u],f[0]in r||(r[f[0]]=f[1]);t.getGradient=r.getGradient;n.exports=t},function(n,t,i){var r=i(166),u=i(165);n.exports={buildPath:function(n,t,i){var f=t.points,o=t.smooth,h,s,e,v;if(f&&f.length>=2){if(o&&"spline"!==o)for(h=u(f,o,i,t.smoothConstraint),n.moveTo(f[0][0],f[0][1]),s=f.length,e=0;e<(i?s:s-1);e++){var c=h[2*e],l=h[2*e+1],a=f[(e+1)%s];n.bezierCurveTo(c[0],c[1],l[0],l[1],a[0],a[1])}else for("spline"===o&&(f=r(f,i)),n.moveTo(f[0][0],f[0][1]),e=1,v=f.length;e<v;e++)n.lineTo(f[e][0],f[e][1]);i&&n.closePath()}}}},function(n,t,i){var u=i(1),r={};r.layout=function(n,t,i){function y(n){var t=p.getAxis(n);return t.toGlobalCoord(t.dataToCoord(0))}var w,v;i=i||{};var p=n.coordinateSystem,s=t.axis,r={},l=s.position,a=s.onZero?"onZero":l,h=s.dim,e=p.getRect(),o=[e.x,e.x+e.width,e.y,e.y+e.height],c=t.get("offset")||0,f={x:{top:o[2]-c,bottom:o[3]+c},y:{left:o[0]-c,right:o[1]+c}};return f.x.onZero=Math.max(Math.min(y("y"),f.x.bottom),f.x.top),f.y.onZero=Math.max(Math.min(y("x"),f.y.right),f.y.left),r.position=["y"===h?f.y[a]:o[0],"x"===h?f.x[a]:o[3]],r.rotation=Math.PI/2*("x"===h?0:1),w={top:-1,bottom:1,left:-1,right:1},r.labelDirection=r.tickDirection=r.nameDirection=w[l],r.labelOffset=s.onZero?f[h][l]-f[h].onZero:0,t.get("axisTick.inside")&&(r.tickDirection=-r.tickDirection),u.retrieve(i.labelInside,t.get("axisLabel.inside"))&&(r.labelDirection=-r.labelDirection),v=t.get("axisLabel.rotate"),r.labelRotate="top"===a?-v:v,r.labelInterval=s.getLabelInterval(),r.z2=1,r};n.exports=r},function(n,t,i){"use strict";function e(n,t,i,r){var u=r.getWidth(),f=r.getHeight();n[0]=Math.min(n[0]+t,u)-t;n[1]=Math.min(n[1]+i,f)-i;n[0]=Math.max(n[0],0);n[1]=Math.max(n[1],0)}var u=i(1),o=i(3),s=i(16),h=i(7),f=i(19),c=i(17),l=i(39),r={};r.buildElStyle=function(n){var t,i=n.get("type"),r=n.getModel(i+"Style");return"line"===i?(t=r.getLineStyle(),t.fill=null):"shadow"===i&&(t=r.getAreaStyle(),t.stroke=null),t};r.buildLabelElOption=function(n,t,i,u,f){var nt=i.get("value"),w=r.getValueLabel(nt,t.axis,t.ecModel,i.get("seriesDataIndices"),{precision:i.get("label.precision"),formatter:i.get("label.formatter")}),o=i.getModel("label"),b=o.getModel("textStyle"),a=h.normalizeCssArray(o.get("padding")||0),k=b.getFont(),d=s.getBoundingRect(w,k,f.textAlign,f.textBaseline),c=f.position,v=d.width+a[1]+a[3],y=d.height+a[0]+a[2],g=f.align,p,l;"right"===g&&(c[0]-=v);"center"===g&&(c[0]-=v/2);p=f.verticalAlign;"bottom"===p&&(c[1]-=y);"middle"===p&&(c[1]-=y/2);e(c,v,y,u);l=o.get("backgroundColor");l&&"auto"!==l||(l=t.get("axisLine.lineStyle.color"));n.label={shape:{x:0,y:0,width:v,height:y,r:o.get("borderRadius")},position:c.slice(),style:{text:w,textFont:k,textFill:b.getTextColor(),textPosition:"inside",fill:l,stroke:o.get("borderColor")||"transparent",lineWidth:o.get("borderWidth")||0,shadowBlur:o.get("shadowBlur"),shadowColor:o.get("shadowColor"),shadowOffsetX:o.get("shadowOffsetX"),shadowOffsetY:o.get("shadowOffsetY")}}};r.getValueLabel=function(n,t,i,r,f){var o=t.scale.getLabel(n,{precision:f.precision,pad:!0}),e=f.formatter,s;return e&&(s={value:c.getAxisRawValue(t,n),seriesData:[]},u.each(r,function(n){var t=i.getSeriesByIndex(n.seriesIndex),u=n.dataIndexInside,r=t&&t.getDataParams(u);r&&s.seriesData.push(r)}),u.isString(e)?o=e.replace("{value}",o):u.isFunction(e)&&(o=e(s))),o};r.getTransformedPosition=function(n,t,i){var r=f.create();return f.rotate(r,r,i.rotation),f.translate(r,r,i.position),o.applyTransform([n.dataToCoord(t),(i.labelOffset||0)+(i.labelDirection||1)*(i.labelMargin||0)],r)};r.buildCartesianSingleLabelElOption=function(n,t,i,u,f,e){var o=l.innerTextLayout(i.rotation,0,i.labelDirection);i.labelMargin=f.get("label.margin");r.buildLabelElOption(t,u,f,e,{position:r.getTransformedPosition(u.axis,n,i),align:o.textAlign,verticalAlign:o.textVerticalAlign})};r.makeLineShape=function(n,t,i){return i=i||0,{x1:n[i],y1:n[1-i],x2:t[i],y2:t[1-i]}};r.makeRectShape=function(n,t,i){return i=i||0,{x:n[i],y:n[1-i],width:t[i],height:t[1-i]}};r.makeSectorShape=function(n,t,i,r,u,f){return{cx:n,cy:t,r0:i,r:r,startAngle:u,endAngle:f,clockwise:!0}};n.exports=r},function(n,t,i){var f=i(7),r=i(1),u={},e=["cartesian2d","polar","singleAxis"];u.isCoordSupported=function(n){return r.indexOf(e,n)>=0};u.createNameEach=function(n,t){var i,u;return n=n.slice(),i=r.map(n,f.capitalFirst),t=(t||[]).slice(),u=r.map(t,f.capitalFirst),function(f,e){r.each(n,function(n,r){for(var s={name:n,capital:i[r]},o=0;o<t.length;o++)s[t[o]]=n+u[o];f.call(e,s)})}};u.eachAxisDim=u.createNameEach(["x","y","z","radius","angle","single"],["axisIndex","axis","index","id"]);u.createLinkedNodesFinder=function(n,t,i){function f(n,t){return r.indexOf(t.nodes,n)>=0}function e(n,u){var f=!1;return t(function(t){r.each(i(n,t)||[],function(n){u.records[t.name][n]&&(f=!0)})}),f}function u(n,u){u.nodes.push(n);t(function(t){r.each(i(n,t)||[],function(n){u.records[t.name][n]=!0})})}return function(i){function s(n){!f(n,r)&&e(n,r)&&(u(n,r),o=!0)}var r={nodes:[],records:{}},o;if(t(function(n){r.records[n.name]={}}),!i)return r;u(i,r);do o=!1,n(s);while(o);return r}};n.exports=u},function(n,t,i){var r=i(1);n.exports={updateSelectedMap:function(n){this._selectTargetMap=r.reduce(n||[],function(n,t){return n[t.name]=t,n},{})},select:function(n){var t=this._selectTargetMap,i=t[n],u=this.get("selectedMode");"single"===u&&r.each(t,function(n){n.selected=!1});i&&(i.selected=!0)},unSelect:function(n){var t=this._selectTargetMap[n];t&&(t.selected=!1)},toggleSelected:function(n){var t=this._selectTargetMap[n];if(null!=t)return this[t.selected?"unSelect":"select"](n),t.selected},isSelected:function(n){var t=this._selectTargetMap[n];return t&&t.selected}}},function(n,t,i){function u(n){f.defaultEmphasis(n.label,f.LABEL_OPTIONS)}var f=i(6),r=i(1),c=i(9),o=i(7),s=o.addCommas,e=o.encodeHTML,h=i(2).extendComponentModel({type:"marker",dependencies:["series","grid","polar","geo"],init:function(n,t,i,r){this.mergeDefaultAndTheme(n,i);this.mergeOption(n,i,r.createdBySelf,!0)},isAnimationEnabled:function(){if(c.node)return!1;var n=this.__hostSeries;return this.getShallow("animation")&&n&&n.isAnimationEnabled()},mergeOption:function(n,t,i,f){var o=this.constructor,e=this.mainType+"Model";i||t.eachSeries(function(n){var i=n.get(this.mainType),s=n[e];return i&&i.data?(s?s.mergeOption(i,t,!0):(f&&u(i),r.each(i.data,function(n){n instanceof Array?(u(n[0]),u(n[1])):u(n)}),s=new o(i,this,t),r.extend(s,{mainType:this.mainType,seriesIndex:n.seriesIndex,name:n.name,createdBySelf:!0}),s.__hostSeries=n),void(n[e]=s)):void(n[e]=null)},this)},formatTooltip:function(n){var f=this.getData(),t=this.getRawValue(n),o=r.isArray(t)?r.map(t,s).join(", "):s(t),u=f.getName(n),i=e(this.name);return(null!=t||u)&&(i+="<br />"),u&&(i+=e(u),null!=t&&(i+=" : ")),null!=t&&(i+=e(o)),i},getData:function(){return this._data},setData:function(n){this._data=n}});r.mixin(h,f.dataFormatMixin);n.exports=h},function(n,t,i){n.exports=i(2).extendComponentView({type:"marker",init:function(){this.markerGroupMap={}},render:function(n,t,i){var r=this.markerGroupMap,f,u;for(u in r)r.hasOwnProperty(u)&&(r[u].__keep=!1);f=this.type+"Model";t.eachSeries(function(n){var r=n[f];r&&this.renderSeries(n,r,t,i)},this);for(u in r)r.hasOwnProperty(u)&&!r[u].__keep&&this.group.remove(r[u].group)},renderSeries:function(){}})},function(n,t,i){function c(n){return!(isNaN(parseFloat(n.x))&&isNaN(parseFloat(n.y)))}function l(n){return!isNaN(parseFloat(n.x))&&!isNaN(parseFloat(n.y))}function a(n,t,i){var r=-1;do r=Math.max(v.getPrecision(n.get(t,i)),r),n=n.stackedOn;while(n);return r}function u(n,t,i,r,u,f){var e=[],c=o(t,r,n),s=t.indexOfNearest(r,c,!0)[0],h;return e[u]=t.get(i,s,!0),e[f]=t.get(r,s,!0),h=a(t,r,s),h>=0&&(e[f]=+e[f].toFixed(h)),e}var r=i(1),v=i(4),s=r.indexOf,f=r.curry,e={min:f(u,"min"),max:f(u,"max"),average:f(u,"average")},y=function(n,t){var a=n.getData(),v=n.coordinateSystem,c,i,p,y,f,u,w;if(t&&!l(t)&&!r.isArray(t.coord)&&v)if(c=v.dimensions,i=h(t,a,v,n),t=r.clone(t),t.type&&e[t.type]&&i.baseAxis&&i.valueAxis)p=s(c,i.baseAxis.dim),y=s(c,i.valueAxis.dim),t.coord=e[t.type](a,i.baseDataDim,i.valueDataDim,p,y),t.value=t.coord[y];else{for(f=[null!=t.xAxis?t.xAxis:t.radiusAxis,null!=t.yAxis?t.yAxis:t.angleAxis],u=0;u<2;u++)e[f[u]]&&(w=n.coordDimToDataDim(c[u])[0],f[u]=o(a,w,f[u]));t.coord=f}return t},h=function(n,t,i,r){var u={};return null!=n.valueIndex||null!=n.valueDim?(u.valueDataDim=null!=n.valueIndex?t.getDimension(n.valueIndex):n.valueDim,u.valueAxis=i.getAxis(r.dataDimToCoordDim(u.valueDataDim)),u.baseAxis=i.getOtherAxis(u.valueAxis),u.baseDataDim=r.coordDimToDataDim(u.baseAxis.dim)[0]):(u.baseAxis=r.getBaseAxis(),u.valueAxis=i.getOtherAxis(u.baseAxis),u.baseDataDim=r.coordDimToDataDim(u.baseAxis.dim)[0],u.valueDataDim=r.coordDimToDataDim(u.valueAxis.dim)[0]),u},p=function(n,t){return!(n&&n.containData&&t.coord&&!c(t))||n.containData(t.coord)},w=function(n,t,i,r){return r<2?n.coord&&n.coord[r]:n.value},o=function(n,t,i){if("average"===i){var r=0,u=0;return n.each(t,function(n){isNaN(n)||(r+=n,u++)},!0),r/u}return n.getDataExtent(t,!0)["max"===i?1:0]};n.exports={dataTransform:y,dataFilter:p,dimValueGetter:w,getAxisInfo:h,numCalculate:o}},function(n,t,i){function tt(n){var t=n.pieceList;n.hasSpecialVisual=!1;r.each(t,function(t,i){t.originIndex=i;null!=t.visual&&(n.hasSpecialVisual=!0)})}function it(n){var u=n.categories,t=n.visual,e=n.categoryMap={},f,i;for((s(u,function(n,t){e[n]=t}),r.isArray(t))||(f=[],r.isObject(t)?s(t,function(n,t){var i=e[t];f[null!=i?i:a]=n}):f[a]=t,t=d(n,f)),i=u.length-1;i>=0;i--)null==t[i]&&(delete e[u[i]],u.pop())}function v(n,t){var u=n.visual,i=[],f;r.isObject(u)?s(u,function(n){i.push(n)}):null!=u&&i.push(u);f={color:1,symbol:1};t||1!==i.length||f.hasOwnProperty(n.type)||(i[1]=i[0]);d(n,i)}function h(n){return{applyVisual:function(t,i,r){t=this.mapValueToVisual(t);r("color",n(i("color"),t))},_doMap:w([0,1])}}function k(n){var t=this.option.visual;return t[Math.round(o(n,[0,1],[0,t.length-1],!0))]||{}}function y(n){return function(t,i,r){r(n,this.mapValueToVisual(t))}}function c(n){var t=this.option.visual;return t[this.option.loop&&n!==a?n%t.length:n]}function p(){return this.option.visual[0]}function w(n){return{linear:function(t){return o(t,n,this.option.visual,!0)},category:c,piecewise:function(t,i){var r=b.call(this,i);return null==r&&(r=o(t,n,this.option.visual,!0)),r},fixed:p}}function b(n){var i=this.option,r=i.pieceList,f,t;if(i.hasSpecialVisual&&(f=u.findPieceIndex(n,r),t=r[f],t&&t.visual))return t.visual[this.type]}function d(n,t){return n.visual=t,"color"===n.type&&(n.parsedVisual=r.map(t,function(n){return f.parse(n)})),t}function l(n,t,i){return n?t<=i:t<i}var r=i(1),f=i(22),o=i(4).linearMap,s=r.each,g=r.isObject,a=-1,u=function(n){var i=n.mappingMethod,f=n.type,t=this.option=r.clone(n),u;this.type=f;this.mappingMethod=i;this._normalizeData=nt[i];u=e[f];this.applyVisual=u.applyVisual;this.getColorMapper=u.getColorMapper;this._doMap=u._doMap[i];"piecewise"===i?(v(t),tt(t)):"category"===i?t.categories?it(t):v(t,!0):(r.assert("linear"!==i||t.dataExtent),v(t))},e,nt;u.prototype={constructor:u,mapValueToVisual:function(n){var t=this._normalizeData(n);return this._doMap(t,n)},getNormalizer:function(){return r.bind(this._normalizeData,this)}};e=u.visualHandlers={color:{applyVisual:y("color"),getColorMapper:function(){var n=this.option;return r.bind("category"===n.mappingMethod?function(n,t){return!t&&(n=this._normalizeData(n)),c.call(this,n)}:function(t,i,r){var u=!!r;return!i&&(t=this._normalizeData(t)),r=f.fastMapToColor(t,n.parsedVisual,r),u?r:f.stringify(r,"rgba")},this)},_doMap:{linear:function(n){return f.stringify(f.fastMapToColor(n,this.option.parsedVisual),"rgba")},category:c,piecewise:function(n,t){var i=b.call(this,t);return null==i&&(i=f.stringify(f.fastMapToColor(n,this.option.parsedVisual),"rgba")),i},fixed:p}},colorHue:h(function(n,t){return f.modifyHSL(n,t)}),colorSaturation:h(function(n,t){return f.modifyHSL(n,null,t)}),colorLightness:h(function(n,t){return f.modifyHSL(n,null,null,t)}),colorAlpha:h(function(n,t){return f.modifyAlpha(n,t)}),opacity:{applyVisual:y("opacity"),_doMap:w([0,1])},symbol:{applyVisual:function(n,t,i){var u=this.mapValueToVisual(n),f;if(r.isString(u))i("symbol",u);else if(g(u))for(f in u)u.hasOwnProperty(f)&&i(f,u[f])},_doMap:{linear:k,category:c,piecewise:function(n,t){var i=b.call(this,t);return null==i&&(i=k.call(this,n)),i},fixed:p}},symbolSize:{applyVisual:y("symbolSize"),_doMap:w([0,1])}};nt={linear:function(n){return o(n,this.option.dataExtent,[0,1],!0)},piecewise:function(n){var t=this.option.pieceList,i=u.findPieceIndex(n,t,!0);if(null!=i)return o(i,[0,t.length-1],[0,1],!0)},category:function(n){var t=this.option.categories?this.option.categoryMap[n]:n;return null==t?a:t},fixed:r.noop};u.listVisualTypes=function(){var n=[];return r.each(e,function(t,i){n.push(i)}),n};u.addVisualHandler=function(n,t){e[n]=t};u.isValidType=function(n){return e.hasOwnProperty(n)};u.eachVisual=function(n,t,i){r.isObject(n)?r.each(n,t,i):t.call(i,n)};u.mapVisual=function(n,t,i){var e,f=r.isArray(n)?[]:r.isObject(n)?{}:(e=!0,null);return u.eachVisual(n,function(n,r){var u=t.call(i,n,r);e?f=u:f[r]=u}),f};u.retrieveVisuals=function(n){var t,i={};return n&&s(e,function(r,u){n.hasOwnProperty(u)&&(i[u]=n[u],t=!0)}),t?i:null};u.prepareVisualTypes=function(n){if(g(n)){var t=[];s(n,function(n,i){t.push(i)});n=t}else{if(!r.isArray(n))return[];n=n.slice()}return n.sort(function(n,t){return"color"===t&&"color"!==n&&0===n.indexOf("color")?1:-1}),n};u.dependsOn=function(n,t){return"color"===t?!(!n||0!==n.indexOf(t)):n===t};u.findPieceIndex=function(n,t,i){function s(t,i){var r=Math.abs(t-n);r<c&&(c=r,h=i)}for(var f,h,c=1/0,r=0,e=t.length;r<e;r++)if(f=t[r].value,null!=f){if(f===n||"string"==typeof f&&f===n+"")return r;i&&s(f,r)}for(r=0,e=t.length;r<e;r++){var a=t[r],u=a.interval,o=a.close;if(u){if(u[0]===-(1/0)){if(l(o[1],n,u[1]))return r}else if(u[1]===1/0){if(l(o[0],u[0],n))return r}else if(l(o[0],u[0],n)&&l(o[1],n,u[1]))return r;i&&s(u[0],r);i&&s(u[1],r)}}if(i)return n===1/0?t.length-1:n===-(1/0)?0:h};n.exports=u},function(n){n.exports=function(n,t){var i={};t.eachRawSeriesByType(n,function(n){var r=n.getRawData(),f={},u;t.isSeriesFiltered(n)||(u=n.getData(),u.each(function(n){var t=u.getRawIndex(n);f[t]=n}),r.each(function(t){var e=f[t],s=null!=e&&u.getItemVisual(e,"color",!0),h,o;s?r.setItemVisual(t,"color",s):(h=r.getItemModel(t),o=h.get("itemStyle.normal.color")||n.getColorFromPalette(r.getName(t),i),r.setItemVisual(t,"color",o),null!=e&&u.setItemVisual(e,"color",o))}))})}},function(n,t,i){var o=i(5),s=i(20),e={},r=Math.min,u=Math.max,a=Math.sin,v=Math.cos,h=o.create(),c=o.create(),l=o.create(),f=2*Math.PI,y,p;e.fromPoints=function(n,t,i){if(0!==n.length){for(var f=n[0],o=f[0],s=f[0],h=f[1],c=f[1],e=1;e<n.length;e++)f=n[e],o=r(o,f[0]),s=u(s,f[0]),h=r(h,f[1]),c=u(c,f[1]);t[0]=o;t[1]=h;i[0]=s;i[1]=c}};e.fromLine=function(n,t,i,f,e,o){e[0]=r(n,i);e[1]=r(t,f);o[0]=u(n,i);o[1]=u(t,f)};y=[];p=[];e.fromCubic=function(n,t,i,f,e,o,h,c,l,a){var v,d=s.cubicExtrema,g=s.cubicAt,w=d(n,i,e,h,y),b,k;for(l[0]=1/0,l[1]=1/0,a[0]=-(1/0),a[1]=-(1/0),v=0;v<w;v++)b=g(n,i,e,h,y[v]),l[0]=r(b,l[0]),a[0]=u(b,a[0]);for(w=d(t,f,o,c,p),v=0;v<w;v++)k=g(t,f,o,c,p[v]),l[1]=r(k,l[1]),a[1]=u(k,a[1]);l[0]=r(n,l[0]);a[0]=u(n,a[0]);l[0]=r(h,l[0]);a[0]=u(h,a[0]);l[1]=r(t,l[1]);a[1]=u(t,a[1]);l[1]=r(c,l[1]);a[1]=u(c,a[1])};e.fromQuadratic=function(n,t,i,f,e,o,h,c){var l=s.quadraticExtremum,a=s.quadraticAt,p=u(r(l(n,i,e),1),0),w=u(r(l(t,f,o),1),0),v=a(n,i,e,p),y=a(t,f,o,w);h[0]=r(n,e,v);h[1]=r(t,o,y);c[0]=u(n,e,v);c[1]=u(t,o,y)};e.fromArc=function(n,t,i,r,u,e,s,y,p){var b=o.min,k=o.max,d=Math.abs(u-e),g,w;if(d%f<.0001&&d>.0001)return y[0]=n-i,y[1]=t-r,p[0]=n+i,void(p[1]=t+r);for((h[0]=v(u)*i+n,h[1]=a(u)*r+t,c[0]=v(e)*i+n,c[1]=a(e)*r+t,b(y,h,c),k(p,h,c),u%=f,u<0&&(u+=f),e%=f,e<0&&(e+=f),u>e&&!s?e+=f:u<e&&s&&(u+=f),s)&&(g=e,e=u,u=g),w=0;w<e;w+=Math.PI/2)w>u&&(l[0]=v(w)*i+n,l[1]=a(w)*r+t,b(y,l,y),k(p,l,p))};n.exports=e},function(n,t,i){var f=i(37),e=i(1),u=i(16),r=function(n){f.call(this,n)};r.prototype={constructor:r,type:"text",brush:function(n,t){var i=this.style,a=i.x||0,r=i.y||0,e=i.text,o,h,c,f;if(null!=e&&(e+=""),i.bind(n,this,t),e){if(this.setTransform(n),h=i.textAlign,c=i.textFont||i.font,i.textVerticalAlign){f=u.getBoundingRect(e,c,i.textAlign,"top");switch(o="middle",i.textVerticalAlign){case"middle":r-=f.height/2-f.lineHeight/2;break;case"bottom":r-=f.height-f.lineHeight/2;break;default:r+=f.lineHeight/2}}else o=i.textBaseline;n.font=c||"12px sans-serif";n.textAlign=h||"left";n.textAlign!==h&&(n.textAlign="left");n.textBaseline=o||"alphabetic";n.textBaseline!==o&&(n.textBaseline="alphabetic");for(var v=u.measureText("国",n.font).width,l=e.split("\n"),s=0;s<l.length;s++)i.hasStroke()&&n.strokeText(l[s],a,r),i.hasFill()&&n.fillText(l[s],a,r),r+=v;this.restoreTransform(n)}},getBoundingRect:function(){var t=this.style,r,n,i;if(!this._rect){r=t.textVerticalAlign;n=u.getBoundingRect(t.text+"",t.textFont||t.font,t.textAlign,r?"top":t.textBaseline);switch(r){case"middle":n.y-=n.height/2;break;case"bottom":n.y-=n.height}(n.x+=t.x||0,n.y+=t.y||0,t.hasStroke())&&(i=t.lineWidth,n.x-=i/2,n.y-=i/2,n.width+=i,n.height+=i);this._rect=n}return this._rect}};e.inherits(r,f);n.exports=r},function(n,t,i){function f(n,t){return"string"==typeof n?n.lastIndexOf("%")>=0?parseFloat(n)/100*t:parseFloat(n):n}var e=i(16),o=i(11),r=new o,u=function(){};u.prototype={constructor:u,drawRectText:function(n,t,i){var u=this.style,l=u.text,s,v,w,b,k,y;if(null!=l&&(l+=""),l){n.save();var a,o,p=u.textPosition,d=u.textOffset,tt=u.textDistance,c=u.textAlign,g=u.textFont||u.font,h=u.textBaseline,nt=u.textVerticalAlign;if(i=i||e.getBoundingRect(l,g,c,h),s=this.transform,u.textTransform?this.setTransform(n):s&&(r.copy(t),r.applyTransform(s),t=r),p instanceof Array){if(a=t.x+f(p[0],t.width),o=t.y+f(p[1],t.height),c=c||"left",h=h||"top",nt){switch(nt){case"middle":o-=i.height/2-i.lineHeight/2;break;case"bottom":o-=i.height-i.lineHeight/2;break;default:o+=i.lineHeight/2}h="middle"}}else v=e.adjustTextPositionOnRect(p,t,i,tt),a=v.x,o=v.y,c=c||v.textAlign,h=h||v.textBaseline;for(d&&(a+=d[0],o+=d[1]),n.textAlign=c||"left",n.textBaseline=h||"alphabetic",w=u.textFill,b=u.textStroke,w&&(n.fillStyle=w),b&&(n.strokeStyle=b),n.font=g||"12px sans-serif",n.shadowBlur=u.textShadowBlur,n.shadowColor=u.textShadowColor||"transparent",n.shadowOffsetX=u.textShadowOffsetX,n.shadowOffsetY=u.textShadowOffsetY,k=l.split("\n"),u.textRotation&&(s&&n.translate(s[4],s[5]),n.rotate(u.textRotation),s&&n.translate(-s[4],-s[5])),y=0;y<k.length;y++)b&&n.strokeText(k[y],a,o),w&&n.fillText(k[y],a,o),o+=i.lineHeight;n.restore()}}};n.exports=u},function(n,t,i){function s(n){delete r[n]}var h=i(68),o=i(9),c=i(1),l=i(150),a=i(153),v=i(154),y=i(161),p=!o.canvasSupported,f={canvas:i(152)},r={},u={},e;u.version="3.4.1";u.init=function(n,t){var i=new e(h(),n,t);return r[i.id]=i,i};u.dispose=function(n){if(n)n.dispose();else{for(var t in r)r.hasOwnProperty(t)&&r[t].dispose();r={}}return u};u.getInstance=function(n){return r[n]};u.registerPainter=function(n,t){f[n]=t};e=function(n,t,i){var e,h,w,b;i=i||{};this.dom=t;this.id=n;var s=this,r=new a,u=i.renderer;if(p){if(!f.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");u="vml"}else u&&f[u]||(u="canvas");e=new f[u](t,r,i);this.storage=r;this.painter=e;h=o.node?null:new y(e.getViewportRoot());this.handler=new l(r,e,h,e.root);this.animation=new v({stage:{update:c.bind(this.flush,this)}});this.animation.start();this._needsRefresh;w=r.delFromMap;b=r.addToMap;r.delFromMap=function(n){var t=r.get(n);w.call(r,n);t&&t.removeSelfFromZr(s)};r.addToMap=function(n){b.call(r,n);n.addSelfToZr(s)}};e.prototype={constructor:e,getId:function(){return this.id},add:function(n){this.storage.addRoot(n);this._needsRefresh=!0},remove:function(n){this.storage.delRoot(n);this._needsRefresh=!0},configLayer:function(n,t){this.painter.configLayer(n,t);this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1;this.painter.refresh();this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},flush:function(){this._needsRefresh&&this.refreshImmediately();this._needsRefreshHover&&this.refreshHoverImmediately()},addHover:function(n,t){this.painter.addHover&&(this.painter.addHover(n,t),this.refreshHover())},removeHover:function(n){this.painter.removeHover&&(this.painter.removeHover(n),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1;this.painter.refreshHover&&this.painter.refreshHover()},resize:function(n){n=n||{};this.painter.resize(n.width,n.height);this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(n,t){return this.painter.pathToImage(n,t)},setCursorStyle:function(n){this.handler.setCursorStyle(n)},on:function(n,t,i){this.handler.on(n,t,i)},off:function(n,t){this.handler.off(n,t)},trigger:function(n,t){this.handler.trigger(n,t)},clear:function(){this.storage.delRoot();this.painter.clear()},dispose:function(){this.animation.stop();this.clear();this.storage.dispose();this.painter.dispose();this.handler.dispose();this.animation=this.storage=this.painter=this.handler=null;s(this.id)}};n.exports=u},function(n,t,i){var r=i(2),u=i(1);n.exports=function(n,t){u.each(t,function(t){t.update="updateView";r.registerAction(t,function(i,r){var u={};return r.eachComponent({mainType:"series",subType:n,query:i},function(n){n[t.method]&&n[t.method](i.name);var r=n.getData();r.each(function(t){var i=r.getName(t);u[i]=n.isSelected(i)||!1})}),{name:i.name,selected:u}})})}},function(n,t,i){"use strict";var r=i(18),u=i(27);n.exports=r.extend({type:"series.__base_bar__",getInitialData:function(n,t){return u(n.data,this,t)},getMarkerPosition:function(n){var t=this.coordinateSystem;if(t){var i=t.dataToPoint(n,!0),r=this.getData(),u=r.getLayout("offset"),f=r.getLayout("size"),e=t.getBaseAxis().isHorizontal()?0:1;return i[e]+=u+f/2,i}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,itemStyle:{normal:{},emphasis:{}}}})},function(n,t,i){function r(n,t,i,r,u){e.setText(n,t,i);n.text=r;"outside"===n.textPosition&&(n.textPosition=u)}var u=i(1),e=i(3),f={};f.setLabel=function(n,t,i,f,e,o,s){var h=i.getModel("label.normal"),c=i.getModel("label.emphasis");h.get("show")?r(n,h,f,u.retrieve(e.getFormattedLabel(o,"normal"),e.getRawValue(o)),s):n.text="";c.get("show")?r(t,c,f,u.retrieve(e.getFormattedLabel(o,"emphasis"),e.getRawValue(o)),s):t.text=""};n.exports=f},function(n,t,i){function r(n){return isNaN(n[0])||isNaN(n[1])}function o(n,t,i,o,s,c,p,w,b,k,d){for(var g,it,nt,st,ut,rt,ht=0,tt=i,ft=0;ft<o;ft++){if(g=t[tt],tt>=s||tt<0)break;if(r(g)){if(d){tt+=c;continue}break}if(tt===i)n[c>0?"moveTo":"lineTo"](g[0],g[1]),y(u,g);else if(b>0){if(it=tt+c,nt=t[it],d)for(;nt&&r(t[it]);)it+=c,nt=t[it];var et=.5,ot=t[ht],nt=t[it];!nt||r(nt)?y(f,g):(r(nt)&&!d&&(nt=g),e.sub(h,nt,ot),"x"===k||"y"===k?(rt="x"===k?0:1,st=Math.abs(g[rt]-ot[rt]),ut=Math.abs(g[rt]-nt[rt])):(st=e.dist(g,ot),ut=e.dist(g,nt)),et=ut/(ut+st),v(f,g,h,-b*(1-et)));l(u,u,w);a(u,u,p);l(f,f,w);a(f,f,p);n.bezierCurveTo(u[0],u[1],f[0],f[1],g[0],g[1]);v(u,g,h,b*et)}else n.lineTo(g[0],g[1]);ht=tt;tt+=c}return ft}function s(n,t){var r=[1/0,1/0],u=[-(1/0),-(1/0)],f,i;if(t)for(f=0;f<n.length;f++)i=n[f],i[0]<r[0]&&(r[0]=i[0]),i[1]<r[1]&&(r[1]=i[1]),i[0]>u[0]&&(u[0]=i[0]),i[1]>u[1]&&(u[1]=i[1]);return{min:t?r:u,max:t?u:r}}var c=i(8),e=i(5),l=e.min,a=e.max,v=e.scaleAndAdd,y=e.copy,h=[],u=[],f=[];n.exports={Polyline:c.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},buildPath:function(n,t){var f=t.points,u=0,i=f.length,e=s(f,t.smoothConstraint);if(t.connectNulls){for(;i>0&&r(f[i-1]);i--);for(;u<i&&r(f[u]);u++);}for(;u<i;)u+=o(n,f,u,i,i,1,e.min,e.max,t.smooth,t.smoothMonotone,t.connectNulls)+1}}),Polygon:c.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},buildPath:function(n,t){var f=t.points,h=t.stackedOnPoints,u=0,i=f.length,c=t.smoothMonotone,l=s(f,t.smoothConstraint),a=s(h,t.smoothConstraint),e;if(t.connectNulls){for(;i>0&&r(f[i-1]);i--);for(;u<i&&r(f[u]);u++);}for(;u<i;)e=o(n,f,u,i,i,1,l.min,l.max,t.smooth,c,t.connectNulls),o(n,h,u+e-1,e,i,-1,a.min,a.max,t.stackedOnSmooth,c,t.connectNulls),u+=e+1,n.closePath()}})}},function(n,t,i){var u=i(1),r={retrieveTargetInfo:function(n,t){var r,i,u;if(n&&("treemapZoomToNode"===n.type||"treemapRootToNode"===n.type)){if(r=t.getData().tree.root,i=n.targetNode,i&&r.contains(i))return{node:i};if(u=n.targetNodeId,null!=u&&(i=r.getNodeById(u)))return{node:i}}},getPathToRoot:function(n){for(var t=[];n;)n=n.parentNode,n&&t.push(n);return t.reverse()},aboveViewRoot:function(n,t){var i=r.getPathToRoot(n);return u.indexOf(i,t)>=0},wrapTreePathInfo:function(n,t){for(var r,i=[];n;)r=n.dataIndex,i.push({name:n.name,dataIndex:r,value:t.getRawValue(r)}),n=n.parentNode;return i.reverse(),i}};n.exports=r},function(n,t,i){function h(n){if(!n.target||!n.target.draggable){var t=n.offsetX,i=n.offsetY;this.containsPoint&&this.containsPoint(t,i)&&(this._x=t,this._y=i,this._dragging=!0)}}function c(n){var t,f;if(this._dragging&&(r.stop(n.event),"pinch"!==n.gestureEvent)){if(s.isTaken(this._zr,"globalPan"))return;var i=n.offsetX,u=n.offsetY,e=this._x,o=this._y,h=i-e,c=u-o;this._x=i;this._y=u;t=this.target;t&&(f=t.position,f[0]+=h,f[1]+=c,t.dirty());r.stop(n.event);this.trigger("pan",h,c,e,o,i,u)}}function l(){this._dragging=!1}function a(n){if(0!==n.wheelDelta){var t=n.wheelDelta>0?1.1:1/1.1;u.call(this,n,t,n.offsetX,n.offsetY)}}function v(n){if(!s.isTaken(this._zr,"globalPan")){var t=n.pinchScale>1?1.1:1/1.1;u.call(this,n,t,n.pinchX,n.pinchY)}}function u(n,t,i,u){var f,s,l,a,o;if(this.containsPoint&&this.containsPoint(i,u)){if(r.stop(n.event),f=this.target,s=this.zoomLimit,f){var h=f.position,c=f.scale,e=this.zoom=this.zoom||1;(e*=t,s)&&(l=s.min||0,a=s.max||1/0,e=Math.max(Math.min(a,e),l));o=e/this.zoom;this.zoom=e;h[0]-=(i-h[0])*(o-1);h[1]-=(u-h[1])*(o-1);c[0]*=o;c[1]*=o;f.dirty()}this.trigger("zoom",t,i,u)}}function f(n,t){this.target=t;this.containsPoint;this.zoomLimit;this.zoom;this._zr=n;var i=o.bind,r=i(h,this),u=i(c,this),f=i(l,this),s=i(a,this),y=i(v,this);e.call(this);this.setContainsPoint=function(n){this.containsPoint=n};this.enable=function(t){this.disable();null==t&&(t=!0);t!==!0&&"move"!==t&&"pan"!==t||(n.on("mousedown",r),n.on("mousemove",u),n.on("mouseup",f));t!==!0&&"scale"!==t&&"zoom"!==t||(n.on("mousewheel",s),n.on("pinch",y))};this.disable=function(){n.off("mousedown",r);n.off("mousemove",u);n.off("mouseup",f);n.off("mousewheel",s);n.off("pinch",y)};this.dispose=this.disable;this.isDragging=function(){return this._dragging};this.isPinching=function(){return this._pinching}}var e=i(23),o=i(1),r=i(21),s=i(126);o.mixin(f,e);n.exports=f},function(n){n.exports=function(n,t,i,r,u){function f(n,t,i){var r=t.length?t.slice():[t,t];return t[0]>t[1]&&r.reverse(),n<0&&r[0]+n<i[0]&&(n=i[0]-r[0]),n>0&&r[1]+n>i[1]&&(n=i[1]-r[1]),n}return n?("rigid"===r?(n=f(n,t,i),t[0]+=n,t[1]+=n):(n=f(n,t[u],i),t[u]+=n,"push"===r&&t[0]>t[1]&&(t[1-u]=t[u])),t):t}},function(n,t,i){var r=i(1),f={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,lineStyle:{color:"#333",width:1,type:"solid"}},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,margin:8,textStyle:{fontSize:12}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},o=r.merge({boundaryGap:!0,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},f),u=r.merge({boundaryGap:[0,0],splitNumber:5},f),s=r.defaults({scale:!0,min:"dataMin",max:"dataMax"},u),e=r.defaults({logBase:10},u);e.scale=!0;n.exports={categoryAxis:o,valueAxis:u,timeAxis:s,logAxis:e}},function(n,t,i){"use strict";function e(n){return n.get("stack")||"__ec_stack_"+n.seriesIndex}function f(n){return n.dim+n.index}function o(n){var i={},t;return r.each(n,function(n){var p=n.getData(),w=n.coordinateSystem,s=w.getBaseAxis(),l=s.getExtent(),c="category"===s.type?s.getBandWidth():Math.abs(l[1]-l[0])/p.count(),t=i[f(s)]||{bandWidth:c,remainedWidth:c,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},o=t.stacks,r;i[f(s)]=t;r=e(n);o[r]||t.autoWidthCount++;o[r]=o[r]||{width:0,maxWidth:0};var h=u(n.get("barWidth"),c),a=u(n.get("barMaxWidth"),c),v=n.get("barGap"),y=n.get("barCategoryGap");h&&!o[r].width&&(h=Math.min(t.remainedWidth,h),o[r].width=h,t.remainedWidth-=h);a&&(o[r].maxWidth=a);null!=v&&(t.gap=v);null!=y&&(t.categoryGap=y)}),t={},r.each(i,function(n,i){var l,h,a;t[i]={};var c=n.stacks,y=n.bandWidth,v=u(n.categoryGap,y),e=u(n.gap,1),s=n.remainedWidth,o=n.autoWidthCount,f=(s-v)/(o+(o-1)*e);f=Math.max(f,0);r.each(c,function(n){var t=n.maxWidth;!n.width&&t&&t<f&&(t=Math.min(t,s),s-=t,n.width=t,o--)});f=(s-v)/(o+(o-1)*e);f=Math.max(f,0);h=0;r.each(c,function(n){n.width||(n.width=f);l=n;h+=n.width*(1+e)});l&&(h-=l.width*e);a=-h/2;r.each(c,function(n,r){t[i][r]=t[i][r]||{offset:a,width:n.width};a+=n.width*(1+e)})}),t}function s(n,t){var s=o(r.filter(t.getSeriesByType(n),function(n){return!t.isSeriesFiltered(n)&&n.coordinateSystem&&"cartesian2d"===n.coordinateSystem.type})),i={},u={};t.eachSeriesByType(n,function(n){var o=n.getData(),l=n.coordinateSystem,a=l.getBaseAxis(),t=e(n),p=s[f(a)][t],v=p.offset,y=p.width,r=l.getOtherAxis(a),h=n.get("barMinHeight")||0,c=a.onZero?r.toGlobalCoord(r.dataToCoord(0)):r.getGlobalExtent()[0],w=l.dataToPoints(o,!0);i[t]=i[t]||[];u[t]=u[t]||[];o.setLayout({offset:v,size:y});o.each(r.dim,function(n,f){if(!isNaN(n)){i[t][f]||(i[t][f]={p:c,n:c},u[t][f]={p:c,n:c});var p,b,e,s,l=n>=0?"p":"n",a=w[f],k=i[t][f][l],d=u[t][f][l];r.isHorizontal()?(p=k,b=a[1]+v,e=a[0]-d,s=y,u[t][f][l]+=e,Math.abs(e)<h&&(e=(e<0?-1:1)*h),i[t][f][l]+=e):(p=a[0]+v,b=k,e=y,s=a[1]-d,u[t][f][l]+=s,Math.abs(s)<h&&(s=(s<=0?-1:1)*h),i[t][f][l]+=s);o.setItemLayout(f,{x:p,y:b,width:e,height:s})}},!0)},this)}var r=i(1),h=i(4),u=h.parsePercent;n.exports=s},function(n){n.exports={containStroke:function(n,t,i,r,u,f,e){var h,l;if(0===u)return!1;var o=u,s=0,c=n;return e>t+o&&e>r+o||e<t-o&&e<r-o||f>n+o&&f>i+o||f<n-o&&f<i-o?!1:n===i?Math.abs(f-n)<=o/2:(s=(t-r)/(n-i),c=(n*r-i*t)/(n-i),h=s*f-e+c,l=h*h/(s*s+1),l<=o/2*o/2)}}},function(n,t,i){var r=i(20);n.exports={containStroke:function(n,t,i,u,f,e,o,s,h){var c,l;return 0===o?!1:(c=o,h>t+c&&h>u+c&&h>e+c||h<t-c&&h<u-c&&h<e-c||s>n+c&&s>i+c&&s>f+c||s<n-c&&s<i-c&&s<f-c)?!1:(l=r.quadraticProjectPoint(n,t,i,u,f,e,s,h,null),l<=c/2)}}},function(n){n.exports=function(n,t,i,r,u,f){var o,e,s;return f>t&&f>r||f<t&&f<r?0:r===t?0:(o=r<t?1:-1,e=(f-t)/(r-t),1!==e&&0!==e||(o=r<t?.5:-.5),s=e*(i-n)+n,s>u?o:0)}},function(n,t,i){"use strict";var f=i(1),u=i(38),r=function(n,t,i,r,f,e){this.x=null==n?0:n;this.y=null==t?0:t;this.x2=null==i?1:i;this.y2=null==r?0:r;this.type="linear";this.global=e||!1;u.call(this,f)};r.prototype={constructor:r};f.inherits(r,u);n.exports=r},function(n,t,i){"use strict";function f(n){return n>h||n<-h}var u=i(19),s=i(5),e=u.identity,h=5e-5,c=function(n){n=n||{};n.position||(this.position=[0,0]);null==n.rotation&&(this.rotation=0);n.scale||(this.scale=[1,1]);this.origin=this.origin||null},r=c.prototype,o;r.transform=null;r.needLocalTransform=function(){return f(this.rotation)||f(this.position[0])||f(this.position[1])||f(this.scale[0]-1)||f(this.scale[1]-1)};r.updateTransform=function(){var t=this.parent,r=t&&t.transform,i=this.needLocalTransform(),n=this.transform;return i||r?(n=n||u.create(),i?this.getLocalTransform(n):e(n),r&&(i?u.mul(n,t.transform,n):u.copy(n,t.transform)),this.transform=n,this.invTransform=this.invTransform||u.create(),void u.invert(this.invTransform,n)):void(n&&e(n))};r.getLocalTransform=function(n){n=n||[];e(n);var t=this.origin,f=this.scale,i=this.rotation,r=this.position;return t&&(n[4]-=t[0],n[5]-=t[1]),u.scale(n,n,f),i&&u.rotate(n,n,i),t&&(n[4]+=t[0],n[5]+=t[1]),n[4]+=r[0],n[5]+=r[1],n};r.setTransform=function(n){var i=this.transform,t=n.dpr||1;i?n.setTransform(t*i[0],t*i[1],t*i[2],t*i[3],t*i[4],t*i[5]):n.setTransform(t,0,0,t,0,0)};r.restoreTransform=function(n){var t=(this.transform,n.dpr||1);n.setTransform(t,0,0,t,0,0)};o=[];r.decomposeTransform=function(){var r,n;if(this.transform){r=this.parent;n=this.transform;r&&r.transform&&(u.mul(o,r.invTransform,n),n=o);var t=n[0]*n[0]+n[1]*n[1],i=n[2]*n[2]+n[3]*n[3],e=this.position,s=this.scale;f(t-1)&&(t=Math.sqrt(t));f(i-1)&&(i=Math.sqrt(i));n[0]<0&&(t=-t);n[3]<0&&(i=-i);e[0]=n[4];e[1]=n[5];s[0]=t;s[1]=i;this.rotation=Math.atan2(-n[1]/i,n[0]/t)}};r.getGlobalScale=function(){var n=this.transform,t,i;return n?(t=Math.sqrt(n[0]*n[0]+n[1]*n[1]),i=Math.sqrt(n[2]*n[2]+n[3]*n[3]),n[0]<0&&(t=-t),n[3]<0&&(i=-i),[t,i]):[1,1]};r.transformCoordToLocal=function(n,t){var i=[n,t],r=this.invTransform;return r&&s.applyTransform(i,i,r),i};r.transformCoordToGlobal=function(n,t){var i=[n,t],r=this.transform;return r&&s.applyTransform(i,i,r),i};n.exports=c},function(n,t,i){"use strict";function u(n,t){r.each(f,function(t){this[t]=r.bind(n[t],n)},this);this.getCoordinateSystems=r.bind(t.getCoordinateSystems,t)}var r=i(1),f=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"];n.exports=u},function(n,t,i){var f=i(1),u,r;i(56);i(101);i(102);u=i(93);r=i(2);r.registerLayout(f.curry(u,"bar"));r.registerVisual(function(n){n.eachSeriesByType("bar",function(n){var t=n.getData();t.setVisual("legendSymbol","roundRect")})});i(32)},function(n,t,i){n.exports=i(86).extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect"})},function(n,t,i){"use strict";function f(n,t,i,f,e,o,s){var h=new r.Rect({shape:u.extend({},f)});if(o){var a=h.shape,c=e?"height":"width",l={};a[c]=0;l[c]=f[c];r[s?"updateProps":"initProps"](h,{shape:l},o,t)}return h}function e(n,t,i){i.style.text="";r.updateProps(i,{shape:{width:0}},t,n,function(){i.parent&&i.parent.remove(i)})}function o(n,t,i){var r=n.getItemLayout(t),u=c(i,r),f=r.width>0?1:-1,e=r.height>0?1:-1;return{x:r.x+f*u/2,y:r.y+e*u/2,width:r.width-f*u,height:r.height-e*u}}function s(n,t,i,f,e,o,s){var h=t.getItemVisual(i,"color"),y=t.getItemVisual(i,"opacity"),c=f.getModel("itemStyle.normal"),a=f.getModel("itemStyle.emphasis").getBarItemStyle(),v;n.setShape("r",c.get("barBorderRadius")||0);n.useStyle(u.defaults({fill:h,opacity:y},c.getBarItemStyle()));v=s?e.height>0?"bottom":"top":e.width>0?"left":"right";l.setLabel(n.style,a,f,h,o,i,v);r.setHoverStyle(n,a)}function c(n,t){var i=n.get(a)||0;return Math.min(i,Math.abs(t.width),Math.abs(t.height))}var u=i(1),r=i(3),l=i(87),a=["itemStyle","normal","barBorderWidth"],h;u.extend(i(10).prototype,i(103));h=i(2).extendChartView({type:"bar",render:function(n,t,i){var r=n.get("coordinateSystem");return"cartesian2d"===r&&this._renderOnCartesian(n,t,i),this.group},dispose:u.noop,_renderOnCartesian:function(n){var h=this.group,t=n.getData(),c=this._data,l=n.coordinateSystem,a=l.getBaseAxis(),i=a.isHorizontal(),u=n.isAnimationEnabled()?n:null;t.diff(c).add(function(r){if(t.hasValue(r)){var e=t.getItemModel(r),l=o(t,r,e),c=f(t,r,e,l,i,u);t.setItemGraphicEl(r,c);h.add(c);s(c,t,r,e,l,n,i)}}).update(function(e,l){var a=c.getItemGraphicEl(l),v,y;if(!t.hasValue(e))return void h.remove(a);v=t.getItemModel(e);y=o(t,e,v);a?r.updateProps(a,{shape:y},u,e):a=f(t,e,v,y,i,u,!0);t.setItemGraphicEl(e,a);h.add(a);s(a,t,e,v,y,n,i)}).remove(function(n){var t=c.getItemGraphicEl(n);t&&e(n,u,t)}).execute();this._data=t},remove:function(n){var i=this.group,t=this._data;n.get("animation")?t&&t.eachItemGraphicEl(function(t){e(t.dataIndex,n,t)}):i.removeAll()}});n.exports=h},function(n,t,i){var r=i(31)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);n.exports={getBarItemStyle:function(n){var i=r.call(this,n),t;return this.getBorderLineDash&&(t=this.getBorderLineDash(),t&&(i.lineDash=t)),i}}},function(n,t,i){function h(n){return"_"+n+"Type"}function c(n,t,i){var o=t.getItemVisual(i,"color"),f=t.getItemVisual(i,n),u=t.getItemVisual(i,n+"Size"),e;if(f&&"none"!==f)return r.isArray(u)||(u=[u,u]),e=y.createSymbol(f,-u[0]/2,-u[1]/2,u[0],u[1],o),e.name=n,e}function a(n){var t=new p({name:"line"});return e(t.shape,n),t}function e(n,t){var r=t[0],u=t[1],i=t[2];n.x1=r[0];n.y1=r[1];n.x2=u[0];n.y2=u[1];n.percent=1;i?(n.cpx1=i[0],n.cpy1=i[1]):(n.cpx1=NaN,n.cpy1=NaN)}function v(){var y=this,c=y.childOfName("fromSymbol"),a=y.childOfName("toSymbol"),i=y.childOfName("label"),r,o,u,t,p,w,b,f,k;if(c||a||!i.ignore){for(r=1,o=this.parent;o;)o.scale&&(r/=o.scale[0]),o=o.parent;if(u=y.childOfName("line"),this.__dirty||u.__dirty){var s=u.shape.percent,v=u.pointAt(0),h=u.pointAt(s),n=l.sub([],h,v);if((l.normalize(n,n),c)&&(c.attr("position",v),t=u.tangentAt(0),c.attr("rotation",Math.PI/2-Math.atan2(t[1],t[0])),c.attr("scale",[r*s,r*s])),a&&(a.attr("position",h),t=u.tangentAt(1),a.attr("rotation",-Math.PI/2-Math.atan2(t[1],t[0])),a.attr("scale",[r*s,r*s])),!i.ignore){if(i.attr("position",h),f=5*r,"end"===i.__position)p=[n[0]*f+h[0],n[1]*f+h[1]],w=n[0]>.8?"left":n[0]<-.8?"right":"center",b=n[1]>.8?"top":n[1]<-.8?"bottom":"middle";else if("middle"===i.__position){var d=s/2,t=u.tangentAt(d),e=[t[1],-t[0]],g=u.pointAt(d);e[1]>0&&(e[0]=-e[0],e[1]=-e[1]);p=[g[0]+e[0]*f,g[1]+e[1]*f];w="center";b="bottom";k=-Math.atan2(t[1],t[0]);h[0]<v[0]&&(k=Math.PI+k);i.attr("rotation",k)}else p=[-n[0]*f+v[0],-n[1]*f+v[1]],w=n[0]>.8?"right":n[0]<-.8?"left":"center",b=n[1]>.8?"bottom":n[1]<-.8?"top":"middle";i.attr({style:{textVerticalAlign:i.__verticalAlign||b,textAlign:i.__textAlign||w},position:p,scale:[r,r]})}}}}function o(n,t,i){u.Group.call(this);this._createLine(n,t,i)}var y=i(24),l=i(5),p=i(187),u=i(3),r=i(1),w=i(4),s=["fromSymbol","toSymbol"],f=o.prototype;f.beforeUpdate=v;f._createLine=function(n,t,i){var o=n.hostModel,l=n.getItemLayout(t),f=a(l),e;f.shape.percent=0;u.initProps(f,{shape:{percent:1}},o,t);this.add(f);e=new u.Text({name:"label"});this.add(e);r.each(s,function(i){var r=c(i,n,t);this.add(r);this[h(i)]=n.getItemVisual(t,i)},this);this._updateCommonStl(n,t,i)};f.updateData=function(n,t,i){var o=n.hostModel,l=this.childOfName("line"),a=n.getItemLayout(t),f={shape:{}};e(f.shape,a);u.updateProps(l,f,o,t);r.each(s,function(i){var r=n.getItemVisual(t,i),u=h(i),f;this[u]!==r&&(this.remove(this.childOfName(i)),f=c(i,n,t),this.add(f));this[u]=r},this);this._updateCommonStl(n,t,i)};f._updateCommonStl=function(n,t,i){var v=n.hostModel,tt=this.childOfName("line"),y=i&&i.lineStyle,it=i&&i.hoverLineStyle,c=i&&i.labelModel,p=i&&i.hoverLabelModel,e,l,b,o,h,nt;(!i||n.hasItemOption)&&(e=n.getItemModel(t),y=e.getModel("lineStyle.normal").getLineStyle(),it=e.getModel("lineStyle.emphasis").getLineStyle(),c=e.getModel("label.normal"),p=e.getModel("label.emphasis"));l=n.getItemVisual(t,"color");b=r.retrieve(n.getItemVisual(t,"opacity"),y.opacity,1);tt.useStyle(r.defaults({strokeNoScale:!0,fill:"none",stroke:l,opacity:b},y));tt.hoverStyle=it;r.each(s,function(n){var t=this.childOfName(n);t&&(t.setColor(l),t.setStyle({opacity:b}))},this);var k,a,d=c.getShallow("show"),g=p.getShallow("show"),f=this.childOfName("label");(d||g)&&(o=v.getRawValue(t),a=null==o?a=n.getName(t):isFinite(o)?w.round(o):o,k=l||"#000");d?(h=c.getModel("textStyle"),f.setStyle({text:r.retrieve(v.getFormattedLabel(t,"normal",n.dataType),a),textFont:h.getFont(),fill:h.getTextColor()||k}),f.__textAlign=h.get("align"),f.__verticalAlign=h.get("baseline"),f.__position=c.get("position")):f.setStyle("text","");g?(nt=p.getModel("textStyle"),f.hoverStyle={text:r.retrieve(v.getFormattedLabel(t,"emphasis",n.dataType),a),textFont:nt.getFont(),fill:nt.getTextColor()||k}):f.hoverStyle={text:""};f.ignore=!d&&!g;u.setHoverStyle(this)};f.updateLayout=function(n,t){this.setLinePoints(n.getItemLayout(t))};f.setLinePoints=function(n){var t=this.childOfName("line");e(t.shape,n);t.dirty()};r.inherits(o,u.Group);n.exports=o},function(n,t,i){function u(n){return isNaN(n[0])||isNaN(n[1])}function f(n){return!u(n[0])&&!u(n[1])}function e(n){this._ctor=n||s;this.group=new o.Group}var o=i(3),s=i(104),r=e.prototype;r.updateData=function(n){var r=this._lineData,t=this.group,e=this._ctor,i=n.hostModel,u={lineStyle:i.getModel("lineStyle.normal").getLineStyle(),hoverLineStyle:i.getModel("lineStyle.emphasis").getLineStyle(),labelModel:i.getModel("label.normal"),hoverLabelModel:i.getModel("label.emphasis")};n.diff(r).add(function(i){if(f(n.getItemLayout(i))){var r=new e(n,i,u);n.setItemGraphicEl(i,r);t.add(r)}}).update(function(i,o){var s=r.getItemGraphicEl(o);return f(n.getItemLayout(i))?(s?s.updateData(n,i,u):s=new e(n,i,u),n.setItemGraphicEl(i,s),void t.add(s)):void t.remove(s)}).remove(function(n){t.remove(r.getItemGraphicEl(n))}).execute();this._lineData=n};r.updateLayout=function(){var n=this._lineData;n.eachItemGraphicEl(function(t,i){t.updateLayout(n,i)},this)};r.remove=function(){this.group.removeAll()};n.exports=e},function(n,t,i){var u=i(1),r=i(2),f=r.PRIORITY;i(107);i(108);r.registerVisual(u.curry(i(50),"line","circle","line"));r.registerLayout(u.curry(i(59),"line"));r.registerProcessor(f.PROCESSOR.STATISTIC,u.curry(i(145),"line"));i(32)},function(n,t,i){"use strict";var r=i(27),u=i(18);n.exports=u.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(n,t){return r(n.data,this,t)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clipOverflow:!0,label:{normal:{position:"top"}},lineStyle:{normal:{width:2,type:"solid"}},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:!1,connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}})},function(n,t,i){"use strict";function o(n,t){var i,r,u;if(n.length===t.length){for(i=0;i<n.length;i++)if(r=n[i],u=t[i],r[0]!==u[0]||r[1]!==u[1])return;return!0}}function s(n){return"number"==typeof n?n:n?.3:0}function h(n){var t=n.getGlobalExtent(),i,r;return n.onBand&&(i=n.getBandWidth()/2-1,r=t[1]>t[0]?1:-1,t[0]+=r*i,t[1]-=r*i),t}function c(n){return n>=0?1:-1}function y(n,t){var r=n.getBaseAxis(),u=n.getOtherAxis(r),e=r.onZero?0:u.scale.getExtent()[0],i=u.dim,f="x"===i||"radius"===i?1:0;return t.mapArray([i],function(u,o){for(var l,h,s=t.stackedOn;s&&c(s.get(i,o))===c(u);){l=s;break}return h=[],h[f]=t.get(r.dim,o),h[1-f]=l?l.get(i,o,!0):e,n.dataToPoint(h)},!0)}function p(n,t,i){var r=h(n.getAxis("x")),f=h(n.getAxis("y")),v=n.getBaseAxis().isHorizontal(),l=Math.min(r[0],r[1]),a=Math.min(f[0],f[1]),e=Math.max(r[0],r[1])-l,o=Math.max(f[0],f[1])-a,y=i.get("lineStyle.normal.width")||2,s=i.get("clipOverflow")?y/2:Math.max(e,o),c;return v?(a-=s,o+=2*s):(l-=s,e+=2*s),c=new u.Rect({shape:{x:l,y:a,width:e,height:o}}),t&&(c.shape[v?"width":"height"]=0,u.initProps(c,{shape:{width:e,height:o}},i)),c}function w(n,t,i){var o=n.getAngleAxis(),h=n.getRadiusAxis(),s=h.getExtent(),r=o.getExtent(),f=Math.PI/180,e=new u.Sector({shape:{cx:n.cx,cy:n.cy,r0:s[0],r:s[1],startAngle:-r[0]*f,endAngle:-r[1]*f,clockwise:o.inverse}});return t&&(e.shape.endAngle=-r[0]*f,u.initProps(e,{shape:{endAngle:-r[1]*f}},i)),e}function l(n,t,i){return"polar"===n.type?w(n,t,i):p(n,t,i)}function r(n,t,i){for(var s,o,u,l,h,c=t.getBaseAxis(),r="x"===c.dim||"radius"===c.dim?0:1,f=[],e=0;e<n.length-1;e++){s=n[e+1];o=n[e];f.push(o);u=[];switch(i){case"end":u[r]=s[r];u[1-r]=o[1-r];f.push(u);break;case"middle":l=(o[r]+s[r])/2;h=[];u[r]=h[r]=l;u[1-r]=o[1-r];h[1-r]=s[1-r];f.push(u);f.push(h);break;default:u[r]=o[r];u[1-r]=s[1-r];f.push(u)}}return n[e]&&f.push(n[e]),f}function b(n,t){var e=n.getVisual("visualMeta"),o,s,h;if(e&&e.length&&n.count()){for(s=e.length-1;s>=0;s--)if(e[s].dimension<2){o=e[s];break}if(o&&"cartesian2d"===t.type){var b=o.dimension,c=n.dimensions[b],v=t.getAxis(c),i=f.map(o.stops,function(n){return{coord:v.toGlobalCoord(v.dataToCoord(n.value)),color:n.color}}),r=i.length,l=o.outerColors.slice();r&&i[0].coord>i[r-1].coord&&(i.reverse(),l.reverse());var y=10,a=i[0].coord-y,p=i[r-1].coord+y,w=p-a;return w<.001?"transparent":(f.each(i,function(n){n.offset=(n.coord-a)/w}),i.push({offset:r?i[r-1].offset:.5,color:l[1]||"transparent"}),i.unshift({offset:r?i[0].offset:.5,color:l[0]||"transparent"}),h=new u.LinearGradient(0,0,0,0,i,!0),h[c]=a,h[c+"2"]=p,h)}}}var f=i(1),k=i(44),d=i(54),g=i(109),u=i(3),a=i(6),v=i(88),e=i(29);n.exports=e.extend({type:"line",init:function(){var t=new u.Group,n=new k;this.group.add(n.group);this._symbolDraw=n;this._lineGroup=t},render:function(n,t,i){var u=n.coordinateSystem,et=this.group,e=n.getData(),lt=n.getModel("lineStyle.normal"),ot=n.getModel("areaStyle.normal"),h=e.mapArray(e.getItemLayout,!0),st="polar"===u.type,at=this._coordSys,nt=this._symbolDraw,p=this._polyline,c=this._polygon,w=this._lineGroup,k=n.get("animation"),tt=!ot.isEmpty(),a=y(u,e),d=n.get("showSymbol"),ht=d&&!st&&!n.get("showAllSymbol")&&this._getSymbolIgnoreFunc(e,u),it=this._data,v,rt,g,ut,ft,ct;it&&it.eachItemGraphicEl(function(n,t){n.__temp&&(et.remove(n),it.setItemGraphicEl(t,null))});d||nt.remove();et.add(w);v=!st&&n.get("step");p&&at.type===u.type&&v===this._step?(tt&&!c?c=this._newPolygon(h,a,u,k):c&&!tt&&(w.remove(c),c=this._polygon=null),w.setClipPath(l(u,!1,n)),d&&nt.updateData(e,ht),e.eachItemGraphicEl(function(n){n.stopAnimation(!0)}),o(this._stackedOnPoints,a)&&o(this._points,h)||(k?this._updateAnimation(e,a,u,i,v):(v&&(h=r(h,u,v),a=r(a,u,v)),p.setShape({points:h}),c&&c.setShape({points:h,stackedOnPoints:a})))):(d&&nt.updateData(e,ht),v&&(h=r(h,u,v),a=r(a,u,v)),p=this._newPolyline(h,u,k),tt&&(c=this._newPolygon(h,a,u,k)),w.setClipPath(l(u,!0,n)));rt=b(e,u)||e.getVisual("color");p.useStyle(f.defaults(lt.getLineStyle(),{fill:"none",stroke:rt,lineJoin:"bevel"}));g=n.get("smooth");(g=s(n.get("smooth")),p.setShape({smooth:g,smoothMonotone:n.get("smoothMonotone"),connectNulls:n.get("connectNulls")}),c)&&(ut=e.stackedOn,ft=0,(c.useStyle(f.defaults(ot.getAreaStyle(),{fill:rt,opacity:.7,lineJoin:"bevel"})),ut)&&(ct=ut.hostModel,ft=s(ct.get("smooth"))),c.setShape({smooth:g,stackedOnSmooth:ft,smoothMonotone:n.get("smoothMonotone"),connectNulls:n.get("connectNulls")}));this._data=e;this._coordSys=u;this._stackedOnPoints=a;this._points=h;this._step=v},dispose:function(){},highlight:function(n,t,i,r){var o=n.getData(),f=a.queryDataIndex(o,r),u,s;if(!(f instanceof Array)&&null!=f&&f>=0){if(u=o.getItemGraphicEl(f),!u){if(s=o.getItemLayout(f),!s)return;u=new d(o,f);u.position=s;u.setZ(n.get("zlevel"),n.get("z"));u.ignore=isNaN(s[0])||isNaN(s[1]);u.__temp=!0;o.setItemGraphicEl(f,u);u.stopSymbolAnimation(!0);this.group.add(u)}u.highlight()}else e.prototype.highlight.call(this,n,t,i,r)},downplay:function(n,t,i,r){var o=n.getData(),f=a.queryDataIndex(o,r),u;null!=f&&f>=0?(u=o.getItemGraphicEl(f),u&&(u.__temp?(o.setItemGraphicEl(f,null),this.group.remove(u)):u.downplay())):e.prototype.downplay.call(this,n,t,i,r)},_newPolyline:function(n){var t=this._polyline;return t&&this._lineGroup.remove(t),t=new v.Polyline({shape:{points:n},silent:!0,z2:10}),this._lineGroup.add(t),this._polyline=t,t},_newPolygon:function(n,t){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new v.Polygon({shape:{points:n,stackedOnPoints:t},silent:!0}),this._lineGroup.add(i),this._polygon=i,i},_getSymbolIgnoreFunc:function(n,t){var i=t.getAxesByScale("ordinal")[0];if(i&&i.isLabelIgnored)return f.bind(i.isLabelIgnored,i)},_updateAnimation:function(n,t,i,f,e){var s=this._polyline,l=this._polygon,w=n.hostModel,o=g(this._data,n,this._stackedOnPoints,t,this._coordSys,i),a=o.current,b=o.stackedOnCurrent,v=o.next,k=o.stackedOnNext,d,p;e&&(a=r(o.current,i,e),b=r(o.stackedOnCurrent,i,e),v=r(o.next,i,e),k=r(o.stackedOnNext,i,e));s.shape.__points=o.current;s.shape.points=a;u.updateProps(s,{shape:{points:v}},w);l&&(l.setShape({points:a,stackedOnPoints:b}),u.updateProps(l,{shape:{points:v,stackedOnPoints:k}},w));for(var c=[],y=o.status,h=0;h<y.length;h++)d=y[h].cmd,"="===d&&(p=n.getItemGraphicEl(y[h].idx1),p&&c.push({el:p,ptIdx:h}));s.animators&&s.animators.length&&s.animators[0].during(function(){for(var t,n=0;n<c.length;n++)t=c[n].el,t.attr("position",s.shape.__points[c[n].ptIdx])})},remove:function(){var t=this.group,n=this._data;this._lineGroup.removeAll();this._symbolDraw.remove(!0);n&&n.eachItemGraphicEl(function(i,r){i.__temp&&(t.remove(i),n.setItemGraphicEl(r,null))});this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}})},function(n){function t(n){return n>=0?1:-1}function i(n,i,r){for(var f,e,o=n.getBaseAxis(),h=n.getOtherAxis(o),l=o.onZero?0:h.scale.getExtent()[0],u=h.dim,c="x"===u||"radius"===u?1:0,s=i.stackedOn,a=i.get(u,r);s&&t(s.get(u,r))===t(a);){e=s;break}return f=[],f[c]=i.get(o.dim,r),f[1-c]=e?e.get(u,r,!0):l,n.dataToPoint(f)}function r(n,t){var i=[];return t.diff(n).add(function(n){i.push({cmd:"+",idx:n})}).update(function(n,t){i.push({cmd:"=",idx:t,idx1:n})}).remove(function(n){i.push({cmd:"-",idx:n})}).execute(),i}n.exports=function(n,t,u,f,e,o){for(var c,d,v,g,nt,s,tt=r(n,t),y=[],p=[],w=[],b=[],it=[],l=[],a=[],k=o.dimensions,h=0;h<tt.length;h++){c=tt[h];d=!0;switch(c.cmd){case"=":v=n.getItemLayout(c.idx);g=t.getItemLayout(c.idx1);(isNaN(v[0])||isNaN(v[1]))&&(v=g.slice());y.push(v);p.push(g);w.push(u[c.idx]);b.push(f[c.idx1]);a.push(t.getRawIndex(c.idx1));break;case"+":s=c.idx;y.push(e.dataToPoint([t.get(k[0],s,!0),t.get(k[1],s,!0)]));p.push(t.getItemLayout(s).slice());w.push(i(e,t,s));b.push(f[s]);a.push(t.getRawIndex(s));break;case"-":s=c.idx;nt=n.getRawIndex(s);nt!==s?(y.push(n.getItemLayout(s)),p.push(o.dataToPoint([n.get(k[0],s,!0),n.get(k[1],s,!0)])),w.push(u[s]),b.push(i(o,n,s)),a.push(nt)):d=!1}d&&(it.push(c),l.push(l.length))}l.sort(function(n,t){return a[n]-a[t]});for(var rt=[],ut=[],ft=[],et=[],ot=[],h=0;h<l.length;h++)s=l[h],rt[h]=y[s],ut[h]=p[s],ft[h]=w[s],et[h]=b[s],ot[h]=it[s];return{current:rt,next:ut,stackedOnCurrent:ft,stackedOnNext:et,status:ot}}},function(n,t,i){var r=i(1),u=i(2);i(111);i(112);i(85)("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]);u.registerVisual(r.curry(i(80),"pie"));u.registerLayout(r.curry(i(114),"pie"));u.registerProcessor(r.curry(i(61),"pie"))},function(n,t,i){"use strict";var u=i(14),f=i(1),e=i(6),o=i(25),s=i(75),r=i(2).extendSeriesModel({type:"series.pie",init:function(n){r.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()};this.updateSelectedMap(n.data);this._defaultLabelLine(n)},mergeOption:function(n){r.superCall(this,"mergeOption",n);this.updateSelectedMap(this.option.data)},getInitialData:function(n){var i=o(["value"],n.data),t=new u(i,this);return t.initData(n.data),t},getDataParams:function(n){var i=this.getData(),t=r.superCall(this,"getDataParams",n),u=i.getSum("value");return t.percent=u?+(i.get("value",n)/u*100).toFixed(2):0,t.$vars.push("percent"),t},_defaultLabelLine:function(n){e.defaultEmphasis(n.labelLine,["show"]);var t=n.labelLine.normal,i=n.labelLine.emphasis;t.show=t.show&&n.label.normal.show;i.show=i.show&&n.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,avoidLabelOverlap:!0,stillShowZeroSum:!0,label:{normal:{rotate:!1,show:!0,position:"outer"},emphasis:{}},labelLine:{normal:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}}},itemStyle:{normal:{borderWidth:1},emphasis:{}},animationType:"expansion",animationEasing:"cubicOut",data:[]}});f.mixin(r,s);n.exports=r},function(n,t,i){function c(n,t,i,r){var u=t.getData(),f=this.dataIndex,o=u.getName(f),s=t.get("selectedOffset");r.dispatchAction({type:"pieToggleSelect",from:n,name:o,seriesId:t.id});u.each(function(n){e(u.getItemGraphicEl(n),u.getItemLayout(n),t.isSelected(u.getName(n)),s,i)})}function e(n,t,i,r,u){var f=(t.startAngle+t.endAngle)/2,s=Math.cos(f),h=Math.sin(f),e=i?r:0,o=[s*e,h*e];u?n.animate().when(200,{position:o}).start("bounceOut"):n.attr("position",o)}function f(n,t){function f(){i.ignore=i.hoverIgnore;u.ignore=u.hoverIgnore}function e(){i.ignore=i.normalIgnore;u.ignore=u.normalIgnore}r.Group.call(this);var o=new r.Sector({z2:2}),i=new r.Polyline,u=new r.Text;this.add(o);this.add(i);this.add(u);this.updateData(n,t,!0);this.on("emphasis",f).on("normal",e).on("mouseover",f).on("mouseout",e)}function o(n,t,i,r,f){var e=r.getModel("textStyle"),o="inside"===f||"inner"===f;return{fill:e.getTextColor()||(o?"#fff":n.getItemVisual(t,"color")),opacity:n.getItemVisual(t,"opacity"),textFont:e.getFont(),text:u.retrieve(n.hostModel.getFormattedLabel(t,i),n.getName(t))}}var r=i(3),u=i(1),s=f.prototype,h;s.updateData=function(n,t,i){function a(){f.stopAnimation(!0);f.animateTo({shape:{r:s.r+10}},300,"elasticOut")}function v(){f.stopAnimation(!0);f.animateTo({shape:{r:s.r}},300,"elasticOut")}var f=this.childAt(0),o=n.hostModel,h=n.getItemModel(t),s=n.getItemLayout(t),c=u.extend({},s),y,l,p;(c.label=null,i)?(f.setShape(c),y=o.getShallow("animationType"),"scale"===y?(f.shape.r=s.r0,r.initProps(f,{shape:{r:s.r}},o,t)):(f.shape.endAngle=s.startAngle,r.updateProps(f,{shape:{endAngle:s.endAngle}},o,t))):r.updateProps(f,{shape:c},o,t);l=h.getModel("itemStyle");p=n.getItemVisual(t,"color");f.useStyle(u.defaults({lineJoin:"bevel",fill:p},l.getModel("normal").getItemStyle()));f.hoverStyle=l.getModel("emphasis").getItemStyle();e(this,n.getItemLayout(t),h.get("selected"),o.get("selectedOffset"),o.get("animation"));f.off("mouseover").off("mouseout").off("emphasis").off("normal");h.get("hoverAnimation")&&o.isAnimationEnabled()&&f.on("mouseover",a).on("mouseout",v).on("emphasis",a).on("normal",v);this._updateLabel(n,t);r.setHoverStyle(this)};s._updateLabel=function(n,t){var u=this.childAt(1),f=this.childAt(2),a=n.hostModel,s=n.getItemModel(t),p=n.getItemLayout(t),i=p.label,w=n.getItemVisual(t,"color"),e;r.updateProps(u,{shape:{points:i.linePoints||[[i.x,i.y],[i.x,i.y],[i.x,i.y]]}},a,t);r.updateProps(f,{style:{x:i.x,y:i.y}},a,t);f.attr({style:{textVerticalAlign:i.verticalAlign,textAlign:i.textAlign,textFont:i.font},rotation:i.rotation,origin:[i.x,i.y],z2:10});var h=s.getModel("label.normal"),c=s.getModel("label.emphasis"),l=s.getModel("labelLine.normal"),v=s.getModel("labelLine.emphasis"),y=h.get("position")||c.get("position");f.setStyle(o(n,t,"normal",h,y));f.ignore=f.normalIgnore=!h.get("show");f.hoverIgnore=!c.get("show");u.ignore=u.normalIgnore=!l.get("show");u.hoverIgnore=!v.get("show");u.setStyle({stroke:w,opacity:n.getItemVisual(t,"opacity")});u.setStyle(l.getModel("lineStyle").getLineStyle());f.hoverStyle=o(n,t,"emphasis",c,y);u.hoverStyle=v.getModel("lineStyle").getLineStyle();e=l.get("smooth");e&&e===!0&&(e=.4);u.setShape({smooth:e})};u.inherits(f,r.Group);h=i(29).extend({type:"pie",init:function(){var n=new r.Group;this._sectorGroup=n},render:function(n,t,i,r){if(!r||r.from!==this.uid){var e=n.getData(),s=this._data,o=this.group,l=t.get("animation"),a=!s,v=n.get("animationType"),y=u.curry(c,this.uid,n,l,i),p=n.get("selectedMode");if(e.diff(s).add(function(n){var t=new f(e,n);a&&"scale"!==v&&t.eachChild(function(n){n.stopAnimation(!0)});p&&t.on("click",y);e.setItemGraphicEl(n,t);o.add(t)}).update(function(n,t){var i=s.getItemGraphicEl(t);i.updateData(e,n);i.off("click");p&&i.on("click",y);o.add(i);e.setItemGraphicEl(n,i)}).remove(function(n){var t=s.getItemGraphicEl(n);o.remove(t)}).execute(),l&&a&&e.count()>0&&"scale"!==v){var h=e.getItemLayout(0),w=Math.max(i.getWidth(),i.getHeight())/2,b=u.bind(o.removeClipPath,o);o.setClipPath(this._createClipPath(h.cx,h.cy,w,h.startAngle,h.clockwise,b,n))}this._data=e}},dispose:function(){},_createClipPath:function(n,t,i,u,f,e,o){var s=new r.Sector({shape:{cx:n,cy:t,r0:0,r:i,startAngle:u,endAngle:u,clockwise:f}});return r.initProps(s,{shape:{endAngle:u+(f?1:-1)*Math.PI*2}},o,e),s},containPoint:function(n,t){var e=t.getData(),i=e.getItemLayout(0);if(i){var r=n[0]-i.cx,u=n[1]-i.cy,f=Math.sqrt(r*r+u*u);return f<=i.r&&f>=i.r0}}});n.exports=h},function(n,t,i){"use strict";function r(n,t,i,r,u,f,e){function p(t,i,r){for(var u=t;u<i;u++)if(n[u].y+=r,u>t&&u+1<i&&n[u+1].y>n[u].y+n[u].height)return void c(u,r/2);c(i-1,r/2)}function c(t,i){for(var r=t;r>=0&&(n[r].y-=i,!(r>0&&n[r].y>n[r-1].y+n[r-1].height));r--);}function a(n,t,i,r,u,f){for(var s=f>0?t?Number.MAX_VALUE:0:t?Number.MAX_VALUE:0,e=0,a=n.length;e<a;e++)if("center"!==n[e].position){var h=Math.abs(n[e].y-r),c=n[e].len,l=n[e].len2,o=h<u+c?Math.sqrt((u+c+l)*(u+c+l)-h*h):Math.abs(n[e].x-i);t&&o>=s&&(o=s-10);!t&&o<=s&&(o=s+10);n[e].x=i+o*f;s=o}}var o;n.sort(function(n,t){return n.y-t.y});for(var l,s=0,h=n.length,v=[],y=[],o=0;o<h;o++)l=n[o].y-s,l<0&&p(o,h,-l,u),s=n[o].y+n[o].height;for(e-s<0&&c(h-1,s-e),o=0;o<h;o++)n[o].y>=i?y.push(n[o]):v.push(n[o]);a(v,!1,t,i,r,u);a(y,!0,t,i,r,u)}function u(n,t,i,u,f,e){for(var s,l,h=[],c=[],o=0;o<n.length;o++)n[o].x<t?h.push(n[o]):c.push(n[o]);for(r(c,t,i,u,1,f,e),r(h,t,i,u,-1,f,e),o=0;o<n.length;o++)s=n[o].linePoints,s&&(l=s[1][0]-s[2][0],s[2][0]=n[o].x<t?n[o].x+3:n[o].x-3,s[1][1]=s[2][1]=n[o].y,s[1][0]=s[2][0]+l)}var f=i(16);n.exports=function(n,t,i,r){var o,s,e=n.getData(),h=[],c=!1;e.each(function(i){var a,v,it,y,r=e.getItemLayout(i),g=e.getItemModel(i),nt=g.getModel("label.normal"),p=nt.get("position")||g.get("label.emphasis.position"),rt=g.getModel("labelLine.normal"),tt=rt.get("length"),ut=rt.get("length2"),w=(r.startAngle+r.endAngle)/2,u=Math.cos(w),b=Math.sin(w),l,k,d;if(o=r.cx,s=r.cy,l="inside"===p||"inner"===p,"center"===p)a=r.cx,v=r.cy,y="center";else{if(k=(l?(r.r+r.r0)/2*u:r.r*u)+o,d=(l?(r.r+r.r0)/2*b:r.r*b)+s,a=k+3*u,v=d+3*b,!l){var ft=k+u*(tt+t-r.r),et=d+b*(tt+t-r.r),ot=ft+(u<0?-1:1)*ut,st=et;a=ot+(u<0?-5:5);v=st;it=[[k,d],[ft,et],[ot,st]]}y=l?"center":u>0?"left":"right"}var ht=nt.getModel("textStyle").getFont(),ct=nt.get("rotate")?u<0?-w+Math.PI:-w:0,lt=n.getFormattedLabel(i,"normal")||e.getName(i),at=f.getBoundingRect(lt,ht,y,"top");c=!!ct;r.label={x:a,y:v,position:p,height:at.height,len:tt,len2:ut,linePoints:it,textAlign:y,verticalAlign:"middle",font:ht,rotation:ct};l||h.push(r.label)});!c&&n.get("avoidLabelOverlap")&&u(h,o,s,t,i,r)}},function(n,t,i){var f=i(4),r=f.parsePercent,s=i(113),e=i(1),u=2*Math.PI,o=Math.PI/180;n.exports=function(n,t,i){t.eachSeriesByType(n,function(n){var c=n.get("center"),l=n.get("radius"),it;e.isArray(l)||(l=[0,l]);e.isArray(c)||(c=[c,c]);var k=i.getWidth(),d=i.getHeight(),rt=Math.min(k,d),ut=r(c[0],k),ft=r(c[1],d),g=r(l[0],rt/2),y=r(l[1],rt/2),t=n.getData(),p=-n.get("startAngle")*o,a=n.get("minAngle")*o,et=t.getSum("value"),w=Math.PI/(et||t.count())*2,nt=n.get("clockwise"),tt=n.get("roseType"),ht=n.get("stillShowZeroSum"),ot=t.getDataExtent("value");ot[0]=0;var b=u,st=0,h=p,v=nt?1:-1;(t.each("value",function(n,i){var r,e;if(isNaN(n))return void t.setItemLayout(i,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:nt,cx:ut,cy:ft,r0:g,r:tt?NaN:y});r="area"!==tt?0===et&&ht?w:n*w:u/(t.count()||1);r<a?(r=a,b-=a):st+=n;e=h+v*r;t.setItemLayout(i,{angle:r,startAngle:h,endAngle:e,clockwise:nt,cx:ut,cy:ft,r0:g,r:tt?f.linearMap(n,ot,[g,y]):y});h=e},!0),b<u)&&(b<=.001?(it=u/t.count(),t.each(function(n){var i=t.getItemLayout(n);i.startAngle=p+v*n*it;i.endAngle=p+v*(n+1)*it})):(w=b/st,h=p,t.each("value",function(n,i){var r=t.getItemLayout(i),u=r.angle===a?a:n*w;r.startAngle=h;r.endAngle=h+v*u;h+=v*u})));s(n,y,k,d)})}},function(n,t,i){"use strict";i(58);i(116)},function(n,t,i){var r=i(1),u=i(3),f=i(39),h=i(40),c=i(72),o=f.ifIgnoreOnTick,s=f.getInterval,l=["axisLine","axisLabel","axisTick","axisName"],a=["splitArea","splitLine"],e=h.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(n,t,i,o){var h;if(this.group.removeAll(),h=this._axisGroup,this._axisGroup=new u.Group,this.group.add(this._axisGroup),n.get("show")){var v=n.getCoordSysModel(),y=c.layout(v,n),s=new f(n,y);r.each(l,s.add,s);this._axisGroup.add(s.getGroup());r.each(a,function(t){n.get(t+".show")&&this["_"+t](n,v,y.labelInterval)},this);u.groupTransition(h,this._axisGroup,n);e.superCall(this,"render",n,t,i,o)}},_splitLine:function(n,t,i){var f=n.axis,v,b;if(!f.scale.isBlank()){var y=n.getModel("splitLine"),p=y.getModel("lineStyle"),e=p.get("color"),k=s(y,i);e=r.isArray(e)?e:[e];for(var h=t.coordinateSystem.getRect(),d=f.isHorizontal(),g=0,w=f.getTicksCoords(),nt=f.scale.getTicks(),c=[],l=[],tt=p.getLineStyle(),a=0;a<w.length;a++)o(f,a,k)||(v=f.toGlobalCoord(w[a]),d?(c[0]=v,c[1]=h.y,l[0]=v,l[1]=h.y+h.height):(c[0]=h.x,c[1]=v,l[0]=h.x+h.width,l[1]=v),b=g++%e.length,this._axisGroup.add(new u.Line(u.subPixelOptimizeLine({anid:"line_"+nt[a],shape:{x1:c[0],y1:c[1],x2:l[0],y2:l[1]},style:r.defaults({stroke:e[b]},tt),silent:!0}))))}},_splitArea:function(n,t,i){var f=n.axis,h,c,l,y,p,w,nt;if(!f.scale.isBlank()){var b=n.getModel("splitArea"),k=b.getModel("areaStyle"),e=k.get("color"),a=t.coordinateSystem.getRect(),v=f.getTicksCoords(),tt=f.scale.getTicks(),d=f.toGlobalCoord(v[0]),g=f.toGlobalCoord(v[0]),it=0,rt=s(b,i),ut=k.getAreaStyle();for(e=r.isArray(e)?e:[e],h=1;h<v.length;h++)o(f,h,rt)||(w=f.toGlobalCoord(v[h]),f.isHorizontal()?(c=d,l=a.y,y=w-c,p=a.height):(c=a.x,l=g,y=a.width,p=w-l),nt=it++%e.length,this._axisGroup.add(new u.Rect({anid:"area_"+tt[h],shape:{x:c,y:l,width:y,height:p},style:r.defaults({fill:e[nt]},ut),silent:!0})),d=c+y,g=l+p)}}});e.extend({type:"xAxis"});e.extend({type:"yAxis"})},function(n,t,i){"use strict";function e(){}function h(n,t,i,r){c(u(i).lastProp,r)||(u(i).lastProp=r,t?f.updateProps(i,r,n):(i.stopAnimation(),i.attr(r)))}function c(n,t){if(r.isObject(n)&&r.isObject(t)){var i=!0;return r.each(t,function(t,r){i&=c(n[r],t)}),!!i}return n===t}function l(n,t){n[t.get("label.show")?"show":"hide"]()}function o(n){return{position:n.position.slice(),rotation:n.rotation||0}}function y(n,t){var i=n.get("icon"),u={x:-1,y:-1,width:2,height:2},e=r.extend({style:{strokeNoScale:!0},rectHover:!0,cursor:"move",draggable:!0},t);return 0===i.indexOf("image://")?(u.image=i.slice(8),e.style=u,new f.Image(e)):f.makePath(i.replace("path://",""),e,u,"center")}function a(n,t,i){var r=t.get("z"),u=t.get("zlevel");n&&n.traverse(function(n){"group"!==n.type&&(null!=r&&(n.z=r),null!=u&&(n.zlevel=u),n.silent=i)})}var r=i(1),p=i(15),f=i(3),u=i(6).makeGetter(),w=i(45),b=i(21),k=i(43),v=r.clone,s=r.bind;e.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(n,t,i,u){var c=t.get("value"),l=t.get("status"),e,s,o,v,p,y;if(this._axisModel=n,this._axisPointerModel=t,this._api=i,u||this._lastValue!==c||this._lastStatus!==l){if(this._lastValue=c,this._lastStatus=l,e=this._group,s=this._handle,!l||"hide"===l)return e&&e.hide(),void(s&&s.hide());e&&e.show();s&&s.show();o={};this.makeElOption(o,c,n,t,i);v=o.graphicKey;v!==this._lastGraphicKey&&this.clear(i);this._lastGraphicKey=v;p=this._moveAnimation=this.determineAnimation(n,t);e?(y=r.curry(h,t,p),this.updatePointerEl(e,o,y,t),this.updateLabelEl(e,o,y,t)):(e=this._group=new f.Group,this.createPointerEl(e,o,n,t),this.createLabelEl(e,o,n,t),i.getZr().add(e));a(e,t,!0);this._renderHandle(c)}},remove:function(n){this.clear(n)},dispose:function(n){this.clear(n)},determineAnimation:function(n,t){var i=t.get("animation"),r=n.axis,e="category"===r.type,o=t.get("snap"),u,s,f;return!o&&!e?!1:"auto"===i||null==i?(u=this.animationThreshold,e&&r.getBandWidth()>u)?!0:o?(s=w.getAxisInfo(n).seriesDataCount,f=r.getExtent(),Math.abs(f[0]-f[1])/s>u):!1:i===!0},makeElOption:function(){},createPointerEl:function(n,t){var i=t.pointer,r=u(n).pointerEl=new f[i.type](v(t.pointer));n.add(r)},createLabelEl:function(n,t,i,r){var e=u(n).labelEl=new f.Rect(v(t.label));n.add(e);l(e,r)},updatePointerEl:function(n,t,i){var r=u(n).pointerEl;r&&(r.setStyle(t.pointer.style),i(r,{shape:t.pointer.shape}))},updateLabelEl:function(n,t,i,r){var f=u(n).labelEl;f&&(f.setStyle(t.label.style),i(f,{shape:t.label.shape,position:t.label.position}),l(f,r))},_renderHandle:function(n){var h,c,i;if(!this._dragging&&this.updateHandleTransform){var f=this._axisPointerModel,e=this._api.getZr(),t=this._handle,u=f.getModel("handle"),o=f.get("status");if(!u.get("show")||!o||"hide"===o)return t&&e.remove(t),void(this._handle=null);this._handle||(h=!0,t=this._handle=y(u,{onmousemove:function(n){b.stop(n.event)},onmousedown:s(this._onHandleDragMove,this,0,0),drift:s(this._onHandleDragMove,this),ondragend:s(this._onHandleDragEnd,this)}),e.add(t));a(t,f,!1);c=["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];t.setStyle(u.getItemStyle(null,c));i=u.get("size");r.isArray(i)||(i=[i,i]);t.attr("scale",[i[0]/2,i[1]/2]);k.createOrUpdate(this,"_doDispatchAxisPointer",u.get("throttle")||0,"fixRate");this._moveHandleToValue(n,h)}},_moveHandleToValue:function(n,t){h(this._axisPointerModel,!t&&this._moveAnimation,this._handle,o(this.getHandleTransform(n,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(n,t){var i=this._handle,r;i&&(this._dragging=!0,r=this.updateHandleTransform(o(i),[n,t],this._axisModel,this._axisPointerModel),this._payloadInfo=r,i.stopAnimation(),i.attr(o(r)),u(i).lastProp=null,this._doDispatchAxisPointer())},_doDispatchAxisPointer:function(){var i=this._handle;if(i){var n=this._payloadInfo,t={type:"updateAxisPointer",x:n.cursorPoint[0],y:n.cursorPoint[1],tooltipOption:n.tooltipOption,highDownKey:"axisPointerHandle"},r=this._axisModel.axis;t[r.dim+"AxisId"]=this._axisModel.id;this._api.dispatchAction(t)}},_onHandleDragEnd:function(){var n,t;this._dragging=!1;n=this._handle;n&&(t=this._axisPointerModel.get("value"),this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"}))},getHandleTransform:null,updateHandleTransform:null,clear:function(n){this._lastValue=null;this._lastStatus=null;var t=n.getZr(),i=this._group,r=this._handle;t&&i&&(this._lastGraphicKey=null,i&&t.remove(i),r&&t.remove(r),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(n,t,i){return i=i||0,{x:n[i],y:n[1-i],width:t[i],height:t[1-i]}}};e.prototype.constructor=e;p.enableClassExtend(e);n.exports=e},function(n,t,i){"use strict";function u(n,t){var i={};return i[t.dim+"AxisIndex"]=t.index,n.getCartesian(i)}function f(n){return"x"===n.dim?0:1}var s=i(3),h=i(117),r=i(73),e=i(72),c=i(40),o=h.extend({makeElOption:function(n,t,i,f,o){var s=i.axis,c=s.grid,y=f.get("type"),p=u(c,s).getOtherAxis(s).getGlobalExtent(),w=s.toGlobalCoord(s.dataToCoord(t,!0)),a=r.buildElStyle(f),h=l[y](s,w,p,a),v;h.style=a;n.graphicKey=h.type;n.pointer=h;v=e.layout(c.model,i);r.buildCartesianSingleLabelElOption(t,n,v,i,f,o)},getHandleTransform:function(n,t,i){var u=e.layout(t.axis.grid.model,t,{labelInside:!1});return u.labelMargin=i.get("handle.margin"),{position:r.getTransformedPosition(t.axis,n,u),rotation:u.rotation+(u.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(n,t,i){var e=i.axis,a=e.grid,h=e.getGlobalExtent(!0),c=u(a,e).getOtherAxis(e).getGlobalExtent(),r="x"===e.dim?0:1,f=n.position,o,s,l;return f[r]+=t[r],f[r]=Math.min(h[1],f[r]),f[r]=Math.max(h[0],f[r]),o=(c[1]+c[0])/2,s=[o,o],s[r]=f[r],l=[{verticalAlign:"middle"},{align:"center"}],{position:f,rotation:n.rotation,cursorPoint:s,tooltipOption:l[r]}}}),l={line:function(n,t,i,u){var e=r.makeLineShape([t,i[0]],[t,i[1]],f(n));return s.subPixelOptimizeLine({shape:e,style:u}),{type:"Line",shape:e}},shadow:function(n,t,i){var u=n.getBandWidth(),e=i[1]-i[0];return{type:"Rect",shape:r.makeRectShape([t-u/2,i[0]],[u,e],f(n))}}};c.registerAxisPointerClass("CartesianAxisPointer",o);n.exports=o},function(n,t,i){var r=i(1),u=i(6);n.exports=function(n,t){var i,h=[],l=n.seriesIndex,c,f,o,s,e;return null==l||!(i=t.getSeriesByIndex(l))?{point:[]}:(c=i.getData(),f=u.queryDataIndex(c,n),null==f||r.isArray(f))?{point:[]}:(o=c.getItemGraphicEl(f),s=i.coordinateSystem,i.getTooltipPosition?h=i.getTooltipPosition(f)||[]:s&&s.dataToPoint?h=s.dataToPoint(c.getValues(r.map(s.dimensions,function(n){return i.coordDimToDataDim(n)[0]}),f,!0))||[]:o&&(e=o.getBoundingRect().clone(),e.applyTransform(o.transform),h=[e.x+e.width/2,e.y+e.height/2]),{point:h,el:o})}},function(n,t,i){function s(n,t){function i(i,u){n.on(i,function(i){var f=l(t);a(r(n).records,function(n){n&&u(n,i,f.dispatchAction)});h(f.pendings,t)})}r(n).initialized||(r(n).initialized=!0,i("click",u.curry(e,"click")),i("mousemove",u.curry(e,"mousemove")),i("globalout",c))}function h(n,t){var i,r=n.showTip.length,u=n.hideTip.length;r?i=n.showTip[r-1]:u&&(i=n.hideTip[u-1]);i&&(i.dispatchAction=null,t.dispatchAction(i))}function c(n,t,i){n.handler("leave",null,i)}function e(n,t,i,r){t.handler(n,i,r)}function l(n){var t={showTip:[],hideTip:[]},i=function(r){var u=t[r.type];u?u.push(r):(r.dispatchAction=i,n.dispatchAction(r))};return{dispatchAction:i,pendings:t}}var o=i(9),u=i(1),r=i(6).makeGetter(),a=u.each,f={};f.register=function(n,t,i){var u,f;o.node||(u=t.getZr(),r(u).records||(r(u).records={}),s(u,t),f=r(u).records[n]||(r(u).records[n]={}),f.handler=i)};f.unregister=function(n,t){if(!o.node){var i=t.getZr(),u=(r(i).records||{})[n];u&&(r(i).records[n]=null)}};n.exports=f},function(n,t,i){var r=i(1),u=i(74),f=i(2);f.registerAction("dataZoom",function(n,t){var f=u.createLinkedNodesFinder(r.bind(t.eachComponent,t,"dataZoom"),u.eachAxisDim,function(n,t){return n.get(t.axisIndex)}),i=[];t.eachComponent({mainType:"dataZoom",query:n},function(n){i.push.apply(i,f(n).nodes)});r.each(i,function(t){t.setRawRange({start:n.start,end:n.end,startValue:n.startValue,endValue:n.endValue})})})},function(n,t,i){function r(n,t,i){i.getAxisProxy(n.name,t).reset(i)}function u(n,t,i){i.getAxisProxy(n.name,t).filterData(i)}var f=i(2);f.registerProcessor(function(n){n.eachComponent("dataZoom",function(n){n.eachTargetAxis(r);n.eachTargetAxis(u)});n.eachComponent("dataZoom",function(n){var t=n.findRepresentativeAxisProxy(),i=t.getDataPercentWindow(),r=t.getDataValueWindow();n.setRawRange({start:i[0],end:i[1],startValue:r[0],endValue:r[1]},!0)})})},function(n,t,i){function r(n){var t=n[u];return t||(t=n[u]=[{}]),t}var e=i(1),f=e.each,u="\0_ec_hist_store",o={push:function(n,t){var i=r(n);f(t,function(t,r){for(var o,f,e,u=i.length-1;u>=0;u--)if(o=i[u],o[r])break;u<0&&(f=n.queryComponents({mainType:"dataZoom",subType:"select",id:r})[0],f&&(e=f.getPercentRange(),i[0][r]={dataZoomId:r,start:e[0],end:e[1]}))});i.push(t)},pop:function(n){var t=r(n),u=t[t.length-1],i;return t.length>1&&t.pop(),i={},f(u,function(n,r){for(var n,u=t.length-1;u>=0;u--)if(n=t[u][r],n){i[r]=n;break}}),i},clear:function(n){n[u]=null},count:function(n){return r(n).length}};n.exports=o},function(n,t,i){i(13).registerSubTypeDefaulter("dataZoom",function(){return"slider"})},function(n,t,i){function a(n){bt.call(this);this._zr=n;this.group=new f.Group;this._brushType;this._brushOption;this._panels;this._track=[];this._dragging;this._covers=[];this._creatingCover;this._creatingPanel;this._enableGlobalPan;this._uid="brushController_"+bi++;this._handlers={};u(ii,function(n,t){this._handlers[t]=r.bind(n,this)},this)}function ri(n,t){var i=n._zr;n._enableGlobalPan||dt.take(i,ni,n._uid);u(n._handlers,function(n,t){i.on(t,n)});n._brushType=t.brushType;n._brushOption=r.merge(r.clone(ti),t,!0)}function ui(n){var t=n._zr;dt.release(t,ni,n._uid);u(n._handlers,function(n,i){t.off(i,n)});n._brushType=n._brushOption=null}function tt(n,t){var i=l[t.brushType].createCover(n,t);return ut(i),i.__brushOption=t,n.group.add(i),i}function it(n,t){var i=y(t);return i.endCreating&&(i.endCreating(n,t),ut(t)),t}function rt(n,t){var i=t.__brushOption;y(t).updateCoverShape(n,t,i.range,i)}function ut(n){n.traverse(function(n){n.z=gt;n.z2=gt})}function v(n,t){y(t).updateCommon(n,t);rt(n,t)}function y(n){return l[n.__brushOption.brushType]}function ft(n,t,i){var r=n._panels,f;return r?(u(r,function(n){n.contain(t,i)&&(f=n)}),f):!0}function et(n,t){var r=n._panels,i;return r?(i=t.__brushOption.panelId,null==i||r[i]):!0}function p(n){var t=n._covers,i=t.length;return u(t,function(t){n.group.remove(t)},n),t.length=0,!!i}function h(n,t){var i=li(n._covers,function(n){var t=n.__brushOption,i=r.clone(t.range);return{brushType:t.brushType,panelId:t.panelId,range:i}});n.trigger("brush",i,{isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function fi(n){var t=n._track;if(!t.length)return!1;var i=t[t.length-1],r=t[0],u=i[0]-r[0],f=i[1]-r[1],e=ai(u*u+f*f,.5);return e>vi}function ot(n){var t=n.length-1;return t<0&&(t=0),[n[0],n[t]]}function st(n,t,i,r){var e=new f.Group;return e.add(new f.Rect({name:"main",style:b(i),silent:!0,draggable:!0,cursor:"move",drift:o(n,t,e,"nswe"),ondragend:o(h,t,{isEnd:!0})})),u(r,function(i){e.add(new f.Rect({name:i,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:o(n,t,e,i),ondragend:o(h,t,{isEnd:!0})}))}),e}function ht(n,t,i,r){var f=r.brushStyle.lineWidth||0,u=s(f,yi),c=i[0][0],l=i[1][0],o=c-f/2,h=l-f/2,y=i[0][1],p=i[1][1],a=y-u+f/2,v=p-u+f/2,w=y-c,b=p-l,k=w+f,d=b+f;e(n,t,"main",c,l,w,b);r.transformable&&(e(n,t,"w",o,h,u,d),e(n,t,"e",a,h,u,d),e(n,t,"n",o,h,k,u),e(n,t,"s",o,v,k,u),e(n,t,"nw",o,h,u,u),e(n,t,"ne",a,h,u,u),e(n,t,"sw",o,v,u,u),e(n,t,"se",a,v,u,u))}function w(n,t){var r=t.__brushOption,i=r.transformable,f=t.childAt(0);f.useStyle(b(r));f.attr({silent:!i,cursor:i?"move":"default"});u(["w","e","n","s","se","sw","ne","nw"],function(r){var u=t.childOfName(r),f=k(n,r);u&&u.attr({silent:!i,invisible:!i,cursor:i?wi[f]+"-resize":null})})}function e(n,t,i,r,u,f,e){var o=t.childOfName(i);o&&o.setShape(si(d(n,t,[[r,u],[r+f,u+e]])))}function b(n){return r.defaults({strokeNoScale:!0},n.brushStyle)}function ct(n,t,i,r){var u=[c(n,i),c(t,r)],f=[s(n,i),s(t,r)];return[[u[0],f[0]],[u[1],f[1]]]}function ei(n){return f.getTransform(n.group)}function k(n,t){var i;if(t.length>1)return t=t.split(""),i=[k(n,t[0]),k(n,t[1])],("e"===i[0]||"w"===i[0])&&i.reverse(),i.join("");var i=f.transformDirection({w:"left",e:"right",n:"top",s:"bottom"}[t],ei(n));return{left:"w",right:"e",top:"n",bottom:"s"}[i]}function lt(n,t,i,r,f,e,o){var c=r.__brushOption,s=n(c.range),l=at(i,e,o);u(f.split(""),function(n){var t=pi[n];s[t[0]][t[1]]+=l[t[0]]});c.range=t(ct(s[0][0],s[1][0],s[0][1],s[1][1]));v(i,r);h(i,{isEnd:!1})}function oi(n,t,i,r){var e=t.__brushOption.range,f=at(n,i,r);u(e,function(n){n[0]+=f[0];n[1]+=f[1]});v(n,t);h(n,{isEnd:!1})}function at(n,t,i){var r=n.group,u=r.transformCoordToLocal(t,i),f=r.transformCoordToLocal(0,0);return[u[0]-f[0],u[1]-f[1]]}function d(n,t,i){var f=et(n,t),u;return f===!0?r.clone(i):(u=f.getBoundingRect(),r.map(i,function(n){var i=n[0],t;return i=s(i,u.x),i=c(i,u.x+u.width),t=n[1],t=s(t,u.y),t=c(t,u.y+u.height),[i,t]}))}function si(n){var t=c(n[0][0],n[1][0]),i=c(n[0][1],n[1][1]),r=s(n[0][0],n[1][0]),u=s(n[0][1],n[1][1]);return{x:t,y:i,width:r-t,height:u-i}}function hi(n,t){var f=t.offsetX,e=t.offsetY,o=n._zr;if(n._brushType){for(var s,h=n._panels,r=n._covers,i=0;i<r.length;i++)if(l[r[i].__brushOption.brushType].contain(r[i],f,e)){s=!0;break}s||(h?u(h,function(n){n.contain(f,e)&&o.setCursorStyle("crosshair")}):o.setCursorStyle("crosshair"))}}function g(n){var t=n.event;t.preventDefault&&t.preventDefault()}function nt(n,t,i){return n.childOfName("main").contain(t,i)}function vt(n,t,i){var s,c=t.offsetX,a=t.offsetY,u=n._creatingCover,f=n._creatingPanel,o=n._brushOption,e,h,v;return(n._track.push(n.group.transformCoordToLocal(c,a)),fi(n)||u)?(f&&!u&&("single"===o.brushMode&&p(n),e=r.clone(o),e.brushType=yt(e.brushType,f),e.panelId=f===!0?null:f.__brushPanelId,u=n._creatingCover=tt(n,e),n._covers.push(u)),u&&(h=l[yt(n._brushType,f)],v=u.__brushOption,v.range=h.getCreatingRange(d(n,u,n._track)),i&&(it(n,u),h.updateCommon(n,u)),rt(n,u),s={isEnd:i})):i&&"single"===o.brushMode&&o.removeOnClick&&ft(n,c,a)&&p(n)&&(s={isEnd:i,removeOnClick:!0}),s}function yt(n,t){return"auto"===n?t.__defaultBrushType:n}function pt(n){if(this._dragging){g(n);var t=vt(this,n,!0);this._dragging=!1;this._track=[];this._creatingCover=null;t&&h(this,t)}}function wt(n){return{createCover:function(t,i){return st(o(lt,function(t){var i=[t,[0,100]];return n&&i.reverse(),i},function(t){return t[n]}),t,i,[["w","e"],["n","s"]][n])},getCreatingRange:function(t){var i=ot(t),r=c(i[0][n],i[1][n]),u=s(i[0][n],i[1][n]);return[r,u]},updateCoverShape:function(t,i,r,u){var s,f=u.brushStyle.width,h,o,e,c;null==f?(h=et(t,i),o=0,h!==!0&&(e=h.getBoundingRect(),f=n?e.width:e.height,o=n?e.x:e.y),s=[o,o+(f||0)]):s=[-f/2,f/2];c=[r,s];n&&c.reverse();ht(t,i,c,u)},updateCommon:w,contain:nt}}var bt=i(23),r=i(1),kt=i(11),f=i(3),dt=i(126),ci=i(48),o=r.curry,u=r.each,li=r.map,c=Math.min,s=Math.max,ai=Math.pow,gt=1e4,vi=6,yi=6,ni="globalPan",pi={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},wi={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},ti={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},bi=0,ii,l;a.prototype={constructor:a,enableBrush:function(n){return this._brushType&&ui(this),n.brushType&&ri(this,n),this},setPanels:function(n){var t=this._panels||{},i=this._panels=n&&n.length&&{},r=this.group;return i&&u(n,function(n){var o=n.panelId,u=t[o],e;u||(u=new f.Rect({silent:!0,invisible:!0}),r.add(u));e=n.rect;e instanceof kt||(e=kt.create(e));u.attr("shape",e.plain());u.__brushPanelId=o;u.__defaultBrushType=n.defaultBrushType;i[o]=u;t[o]=null}),u(t,function(n){n&&r.remove(n)}),this},mount:function(n){n=n||{};this._enableGlobalPan=n.enableGlobalPan;var t=this.group;return this._zr.add(t),t.attr({position:n.position||[0,0],rotation:n.rotation||0,scale:n.scale||[1,1]}),this},eachCover:function(n,t){u(this._covers,n,t)},updateCovers:function(n){function u(n,t){return(null!=n.id?n.id:c+t)+"-"+n.brushType}function s(n,t){return u(n.__brushOption,t)}function f(r,u){var f=n[r],s;null!=u&&t[u]===o?e[r]=t[u]:(s=e[r]=null!=u?(t[u].__brushOption=f,t[u]):it(i,tt(i,f)),v(i,s))}function h(n){t[n]!==o&&i.group.remove(t[n])}n=r.map(n,function(n){return r.merge(r.clone(ti),n,!0)});var c="\0-brush-index-",t=this._covers,e=this._covers=[],i=this,o=this._creatingCover;return new ci(t,n,s,u).add(f).update(f).remove(h).execute(),this},unmount:function(){return this.enableBrush(!1),p(this),this._zr.remove(this.group),this},dispose:function(){this.unmount();this.off()}};r.mixin(a,bt);ii={mousedown:function(n){var t,i,r;this._dragging?pt.call(this,n):n.target&&n.target.draggable||(g(n),t=n.offsetX,i=n.offsetY,this._creatingCover=null,r=this._creatingPanel=ft(this,t,i),r&&(this._dragging=!0,this._track=[this.group.transformCoordToLocal(t,i)]))},mousemove:function(n){if(hi(this,n),this._dragging){g(n);var t=vt(this,n,!1);t&&h(this,t)}},mouseup:pt};l={lineX:wt(0),lineY:wt(1),rect:{createCover:function(n,t){return st(o(lt,function(n){return n},function(n){return n}),n,t,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(n){var t=ot(n);return ct(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(n,t,i,r){ht(n,t,i,r)},updateCommon:w,contain:nt},polygon:{createCover:function(n,t){var i=new f.Group;return i.add(new f.Polyline({name:"main",style:b(t),silent:!0})),i},getCreatingRange:function(n){return n},endCreating:function(n,t){t.remove(t.childAt(0));t.add(new f.Polygon({name:"main",draggable:!0,drift:o(oi,n,t),ondragend:o(h,n,{isEnd:!0})}))},updateCoverShape:function(n,t,i){t.childAt(0).setShape({points:d(n,t,i)})},updateCommon:w,contain:nt}};n.exports=a},function(n,t,i){function r(n){return n[u]||(n[u]={})}var u="\0_ec_interaction_mutex",f={take:function(n,t,i){var u=r(n);u[t]=i},release:function(n,t,i){var u=r(n),f=u[t];f===i&&(u[t]=null)},isTaken:function(n,t){return!!r(n)[t]}};i(2).registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){});n.exports=f},function(n,t,i){function f(n,t,i){r.positionElement(n,t.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()},t.get("padding"))}var r=i(12),e=i(7),u=i(3);n.exports={layout:function(n,t,i){var u=r.getLayoutRect(t.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()},t.get("padding"));r.box(t.get("orient"),n,t.get("itemGap"),u.width,u.height);f(n,t,i)},addBackground:function(n,t){var i=e.normalizeCssArray(t.get("padding")),r=n.getBoundingRect(),o=t.getItemStyle(["color","opacity"]),f;o.fill=t.get("backgroundColor");f=new u.Rect({shape:{x:r.x-i[3],y:r.y-i[0],width:r.width+i[1]+i[3],height:r.height+i[0]+i[2]},style:o,silent:!0,z2:-1});u.subPixelOptimizeRect(f);n.add(f)}}},function(n,t,i){var f=i(1),u=i(33),e=i(132),r=function(n,t,i,r,f){u.call(this,n,t,i);this.type=r||"value";this.position=f||"bottom"};r.prototype={constructor:r,index:0,onZero:!1,model:null,isHorizontal:function(){var n=this.position;return"top"===n||"bottom"===n},getGlobalExtent:function(n){var t=this.getExtent();return t[0]=this.toGlobalCoord(t[0]),t[1]=this.toGlobalCoord(t[1]),n&&t[0]>t[1]&&t.reverse(),t},getOtherAxis:function(){this.grid.getOtherAxis()},getLabelInterval:function(){var n=this._labelInterval;return n||(n=this._labelInterval=e(this)),n},isLabelIgnored:function(n){if("category"===this.type){var t=this.getLabelInterval();return"function"==typeof t&&!t(n,this.scale.getLabel(n))||n%(t+1)}},pointToData:function(n,t){return this.coordToData(this.toLocalCoord(n["x"===this.dim?0:1]),t)},toLocalCoord:null,toGlobalCoord:null};f.inherits(r,u);n.exports=r},function(n,t,i){"use strict";function f(n){return this._axes[n]}var u=i(1),r=function(n){this._axes={};this._dimList=[];this.name=n||""};r.prototype={constructor:r,type:"cartesian",getAxis:function(n){return this._axes[n]},getAxes:function(){return u.map(this._dimList,f,this)},getAxesByScale:function(n){return n=n.toLowerCase(),u.filter(this.getAxes(),function(t){return t.scale.type===n})},addAxis:function(n){var t=n.dim;this._axes[t]=n;this._dimList.push(t)},dataToCoord:function(n){return this._dataCoordConvert(n,"dataToCoord")},coordToData:function(n){return this._dataCoordConvert(n,"coordToData")},_dataCoordConvert:function(n,t){for(var i,e,u=this._dimList,f=n instanceof Array?[]:{},r=0;r<u.length;r++)i=u[r],e=this._axes[i],f[i]=e[t](n[i]);return f}};n.exports=r},function(n,t,i){"use strict";function r(n){u.call(this,n)}var f=i(1),u=i(129);r.prototype={constructor:r,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(n){var t=this.getAxis("x"),i=this.getAxis("y");return t.contain(t.toLocalCoord(n[0]))&&i.contain(i.toLocalCoord(n[1]))},containData:function(n){return this.getAxis("x").containData(n[0])&&this.getAxis("y").containData(n[1])},dataToPoints:function(n,t){return n.mapArray(["x","y"],function(n,t){return this.dataToPoint([n,t])},t,this)},dataToPoint:function(n,t){var i=this.getAxis("x"),r=this.getAxis("y");return[i.toGlobalCoord(i.dataToCoord(n[0],t)),r.toGlobalCoord(r.dataToCoord(n[1],t))]},pointToData:function(n,t){var i=this.getAxis("x"),r=this.getAxis("y");return[i.coordToData(i.toLocalCoord(n[0]),t),r.coordToData(r.toLocalCoord(n[1]),t)]},getOtherAxis:function(n){return this.getAxis("x"===n.dim?"y":"x")}};f.inherits(r,u);n.exports=r},function(n,t,i){"use strict";i(58);var r=i(13);n.exports=r.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}})},function(n,t,i){"use strict";var r=i(1),u=i(17);n.exports=function(n){var i=n.model,f=i.getModel("axisLabel"),t=f.get("interval");return"category"!==n.type||"auto"!==t?"auto"===t?0:t:u.getAxisLabelInterval(r.map(n.scale.getTicks(),n.dataToCoord,n),i.getFormattedLabels(),f.getModel("textStyle").getFont(),n.isHorizontal())}},function(n,t,i){var o=i(27),s=i(24),r=i(17),u=i(41),f=i(10),e=i(1);n.exports={createList:function(n){var t=n.get("data");return o(t,n,n.ecModel)},completeDimensions:i(25),createSymbol:s.createSymbol,createScale:function(n,t){var i=t,o;return t instanceof f||(i=new f(t),e.mixin(i,u)),o=r.createScaleByModel(i),o.setExtent(n[0],n[1]),r.niceScaleExtent(o,i),o},mixinAxisModelCommonMethods:function(n){e.mixin(n,u)}}},function(n,t,i){var r=i(3),f=i(1),u=Math.PI;n.exports=function(n,t){var i;t=t||{};f.defaults(t,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var o=new r.Rect({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4}),e=new r.Arc({shape:{startAngle:-u/2,endAngle:-u/2+.1,r:10},style:{stroke:t.color,lineCap:"round",lineWidth:5},zlevel:t.zlevel,z:10001}),s=new r.Rect({style:{fill:"none",text:t.text,textPosition:"right",textDistance:10,textFill:t.textColor},zlevel:t.zlevel,z:10001});return e.animateShape(!0).when(1e3,{endAngle:3*u/2}).start("circularInOut"),e.animateShape(!0).when(1e3,{startAngle:3*u/2}).delay(300).start("circularInOut"),i=new r.Group,i.add(e),i.add(s),i.add(o),i.resize=function(){var i=n.getWidth()/2,r=n.getHeight()/2,t;e.setShape({cx:i,cy:r});t=e.shape.r;s.setShape({x:i-t,y:r-t,width:2*t,height:2*t});o.setShape({x:0,y:0,width:n.getWidth(),height:n.getHeight()})},i.resize(),i}},function(n,t,i){function k(n,t){r.each(t,function(t,i){f.hasClass(i)||("object"==typeof t?n[i]=n[i]?r.merge(n[i],t,!1):r.clone(t):null==n[i]&&(n[i]=t))})}function d(n){n=n;this.option={};this.option[a]=1;this._componentsMap={series:[]};this._seriesIndices=null;k(n,this._theme.option);r.merge(n,tt,!1);this.mergeOption(n)}function g(n,t){r.isArray(t)||(t=t?[t]:[]);var i={};return u(t,function(t){i[t]=(n[t]||[]).slice()}),i}function nt(n,t,i){return t.type?t.type:i?i.subType:f.determineSubType(n,t)}function h(n){return w(n,function(n){return n.componentIndex})||[]}function y(n,t){return t.hasOwnProperty("subType")?e(n,function(n){return n.subType===t.subType}):n}function s(){}var r=i(1),o=i(6),p=i(10),u=r.each,e=r.filter,w=r.map,c=r.isArray,b=r.indexOf,l=r.isObject,f=i(13),tt=i(137),a="\0_ec_inner",v=p.extend({constructor:v,init:function(n,t,i,r){i=i||{};this.option=null;this._theme=new p(i);this._optionManager=r},setOption:function(n,t,i){r.assert(!(a in n),"please use chart.getOption()");this._optionManager.setOption(n,t);this.resetOption(null,i)},resetOption:function(n,t){var i=!1,r=this._optionManager,f,e,o;return n&&"recreate"!==n||(f=r.mountOption("recreate"===n),this.option&&"recreate"!==n?(!t&&this.restoreData(),this.mergeOption(f)):d.call(this,f),i=!0),("timeline"!==n&&"media"!==n||this.restoreData(),n&&"recreate"!==n&&"timeline"!==n)||(e=r.getTimelineOption(this),e&&(this.mergeOption(e),i=!0)),n&&"recreate"!==n&&"media"!==n||(o=r.getMediaOption(this,this._api),o.length&&u(o,function(n){this.mergeOption(n,i=!0)},this)),i},mergeOption:function(n){function s(e,s){var v=o.normalizeToArray(n[e]),c=o.mappingToExists(i[e],v),a;o.makeIdAndName(c);u(c,function(n){var t=n.option;l(t)&&(n.keyInfo.mainType=e,n.keyInfo.subType=nt(e,t,n.exist))});a=g(i,s);t[e]=[];i[e]=[];u(c,function(n,u){var o=n.exist,s=n.option,c,h;(r.assert(l(s)||o,"Empty component definition"),s)?(c=f.getClass(e,n.keyInfo.subType,!0),o&&o instanceof c?(o.name=n.keyInfo.name,o.mergeOption(s,this),o.optionUpdated(s,!1)):(h=r.extend({dependentModels:a,componentIndex:u},n.keyInfo),o=new c(s,this,this,h),r.extend(o,h),o.init(s,this,this,h),o.optionUpdated(null,!0))):(o.mergeOption({},this),o.optionUpdated({},!1));i[e][u]=o;t[e][u]=o.option},this);"series"===e&&(this._seriesIndices=h(i.series))}var t=this.option,i=this._componentsMap,e=[];u(n,function(n,i){null!=n&&(f.hasClass(i)?e.push(i):t[i]=null==t[i]?r.clone(n):r.merge(t[i],n,!0))});f.topologicalTravel(e,f.getAllClassMainTypes(),s,this);this._seriesIndices=this._seriesIndices||[]},getOption:function(){var n=r.clone(this.option);return u(n,function(t,i){if(f.hasClass(i)){for(var t=o.normalizeToArray(t),r=t.length-1;r>=0;r--)o.isIdInner(t[r])&&t.splice(r,1);n[i]=t}}),delete n[a],n},getTheme:function(){return this._theme},getComponent:function(n,t){var i=this._componentsMap[n];if(i)return i[t||0]},queryComponents:function(n){var h=n.mainType,r,o,s;if(!h)return[];var i=n.index,u=n.id,f=n.name,t=this._componentsMap[h];return!t||!t.length?[]:(null!=i?(c(i)||(i=[i]),r=e(w(i,function(n){return t[n]}),function(n){return!!n})):null!=u?(o=c(u),r=e(t,function(n){return o&&b(u,n.id)>=0||!o&&n.id===u})):null!=f?(s=c(f),r=e(t,function(n){return s&&b(f,n.name)>=0||!s&&n.name===f})):r=t.slice(),y(r,n))},findComponents:function(n){function r(n){var i=t+"Index",r=t+"Id",u=t+"Name";return!n||null==n[i]&&null==n[r]&&null==n[u]?null:{mainType:t,index:n[i],id:n[r],name:n[u]}}function u(t){return n.filter?e(t,n.filter):t}var f=n.query,t=n.mainType,i=r(f),o=i?this.queryComponents(i):this._componentsMap[t];return u(y(o,n))},eachComponent:function(n,t,i){var f=this._componentsMap,e;"function"==typeof n?(i=t,t=n,u(f,function(n,r){u(n,function(n,u){t.call(i,r,n,u)})})):r.isString(n)?u(f[n],t,i):l(n)&&(e=this.findComponents(n),u(e,t,i))},getSeriesByName:function(n){var t=this._componentsMap.series;return e(t,function(t){return t.name===n})},getSeriesByIndex:function(n){return this._componentsMap.series[n]},getSeriesByType:function(n){var t=this._componentsMap.series;return e(t,function(t){return t.subType===n})},getSeries:function(){return this._componentsMap.series.slice()},eachSeries:function(n,t){s(this);u(this._seriesIndices,function(i){var r=this._componentsMap.series[i];n.call(t,r,i)},this)},eachRawSeries:function(n,t){u(this._componentsMap.series,n,t)},eachSeriesByType:function(n,t,i){s(this);u(this._seriesIndices,function(r){var u=this._componentsMap.series[r];u.subType===n&&t.call(i,u,r)},this)},eachRawSeriesByType:function(n,t,i){return u(this.getSeriesByType(n),t,i)},isSeriesFiltered:function(n){return s(this),r.indexOf(this._seriesIndices,n.componentIndex)<0},filterSeries:function(n,t){s(this);var i=e(this._componentsMap.series,n,t);this._seriesIndices=h(i)},restoreData:function(){var n=this._componentsMap,t;this._seriesIndices=h(n.series);t=[];u(n,function(n,i){t.push(i)});f.topologicalTravel(t,f.getAllClassMainTypes(),function(t){u(n[t],function(n){n.restoreData()})})}});r.mixin(v,i(60));n.exports=v},function(n,t,i){function o(n){this._api=n;this._timelineOptions=[];this._mediaList=[];this._mediaDefault;this._currentMediaIndices=[];this._optionBackup;this._newBaseOption}function c(n,t,i){var e,r,o=[],s=[],h=n.timeline,c;return(n.baseOption&&(r=n.baseOption),(h||n.options)&&(r=r||{},o=(n.options||[]).slice()),n.media)&&(r=r||{},c=n.media,f(c,function(n){n&&n.option&&(n.query?s.push(n):e||(e=n))})),r||(r=n),r.timeline||(r.timeline=h),f([r].concat(o).concat(u.map(s,function(n){return n.option})),function(n){f(t,function(t){t(n,i)})}),{baseOption:r,timelineOptions:o,mediaDefault:e,mediaList:s}}function l(n,t,i){var f={width:t,height:i,aspectratio:t/i},r=!0;return u.each(n,function(n,t){var i=t.match(w),u,e;i&&i[1]&&i[2]&&(u=i[1],e=i[2].toLowerCase(),a(f[e],n,u)||(r=!1))}),r}function a(n,t,i){return"min"===i?n>=t:"max"===i?n<=t:n===t}function v(n,t){return n.join(",")===t.join(",")}function y(n,t){t=t||{};f(t,function(t,i){var r,u;null!=t&&(r=n[i],p.hasClass(i)?(t=s.normalizeToArray(t),r=s.normalizeToArray(r),u=s.mappingToExists(r,t),n[i]=e(u,function(n){return n.option&&n.exist?h(n.exist,n.option,!0):n.exist||n.option})):n[i]=h(r,t,!0))})}var u=i(1),s=i(6),p=i(13),f=u.each,r=u.clone,e=u.map,h=u.merge,w=/^(min|max)?(.+)$/;o.prototype={constructor:o,setOption:function(n,t){n=r(n,!0);var u=this._optionBackup,i=c.call(this,n,t,!u);this._newBaseOption=i.baseOption;u?(y(u.baseOption,i.baseOption),i.timelineOptions.length&&(u.timelineOptions=i.timelineOptions),i.mediaList.length&&(u.mediaList=i.mediaList),i.mediaDefault&&(u.mediaDefault=i.mediaDefault)):this._optionBackup=i},mountOption:function(n){var t=this._optionBackup;return this._timelineOptions=e(t.timelineOptions,r),this._mediaList=e(t.mediaList,r),this._mediaDefault=r(t.mediaDefault),this._currentMediaIndices=[],r(n?t.baseOption:this._newBaseOption)},getTimelineOption:function(n){var i,u=this._timelineOptions,t;return u.length&&(t=n.getComponent("timeline"),t&&(i=r(u[t.getCurrentIndex()],!0))),i},getMediaOption:function(){var s=this._api.getWidth(),h=this._api.getHeight(),i=this._mediaList,u=this._mediaDefault,n=[],f=[],t,o;if(!i.length&&!u)return f;for(t=0,o=i.length;t<o;t++)l(i[t].query,s,h)&&n.push(t);return!n.length&&u&&(n=[-1]),n.length&&!v(n,this._currentMediaIndices)&&(f=e(n,function(n){return r(n===-1?u.option:i[n].option)})),this._currentMediaIndices=n,f}};n.exports=o},function(n){var t="";"undefined"!=typeof navigator&&(t=navigator.platform||"");n.exports={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],textStyle:{fontFamily:t.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3}},function(n,t,i){n.exports={getAreaStyle:i(31)([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]])}},function(n){n.exports={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}},function(n,t,i){var r=i(31)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]);n.exports={getItemStyle:function(n,t){var i=r.call(this,n,t),u=this.getBorderLineDash();return u&&(i.lineDash=u),i},getBorderLineDash:function(){var n=this.get("borderType");return"solid"===n||null==n?null:"dashed"===n?[5,5]:[1,1]}}},function(n,t,i){var r=i(31)([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);n.exports={getLineStyle:function(n){var t=r.call(this,n),i=this.getLineDash(t.lineWidth);return i&&(t.lineDash=i),t},getLineDash:function(n){null==n&&(n=1);var t=this.get("type"),i=Math.max(n,2),r=4*n;return"solid"===t||null==t?null:"dashed"===t?[r,r]:[i,i]}}},function(n,t,i){function r(n,t){return n&&n.getShallow(t)}var u=i(16);n.exports={getTextColor:function(){var n=this.ecModel;return this.getShallow("color")||n&&n.get("textStyle.color")},getFont:function(){var t=this.ecModel,n=t&&t.getModel("textStyle");return[this.getShallow("fontStyle")||r(n,"fontStyle"),this.getShallow("fontWeight")||r(n,"fontWeight"),(this.getShallow("fontSize")||r(n,"fontSize")||12)+"px",this.getShallow("fontFamily")||r(n,"fontFamily")||"sans-serif"].join(" ")},getTextRect:function(n){return u.getBoundingRect(n,this.getFont(),this.getShallow("align"),this.getShallow("baseline"))},truncateText:function(n,t,i,r){return u.truncateText(n,t,this.getFont(),i,r)}}},function(n,t,i){function o(n,t){t=t.split(",");for(var i=n,r=0;r<t.length&&(i=i&&i[t[r]],null!=i);r++);return i}function s(n,t,i,r){t=t.split(",");for(var e,u=n,f=0;f<t.length-1;f++)e=t[f],null==u[e]&&(u[e]={}),u=u[e];(r||null==u[t[f]])&&(u[t[f]]=i)}function f(n){r(c,function(t){t[0]in n&&!(t[1]in n)&&(n[t[1]]=n[t[0]])})}var u=i(1),h=i(144),c=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],l=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],e=["bar","boxplot","candlestick","chord","effectScatter","funnel","gauge","lines","graph","heatmap","line","map","parallel","pie","radar","sankey","scatter","treemap"],r=u.each;n.exports=function(n){r(n.series,function(n){var t,r,i;if(u.isObject(n))for(t=n.type,(h(n),"pie"!==t&&"gauge"!==t||null!=n.clockWise&&(n.clockwise=n.clockWise),"gauge"===t)&&(r=o(n,"pointer.color"),null!=r&&s(n,"itemStyle.normal.color",r)),i=0;i<e.length;i++)if(e[i]===n.type){f(n);break}});n.dataRange&&(n.visualMap=n.dataRange);r(l,function(t){var i=n[t];i&&(u.isArray(i)||(i=[i]),r(i,function(n){f(n)}))})}},function(n,t,i){function r(n){var t=n&&n.itemStyle;t&&u.each(f,function(i){var r=t.normal,f=t.emphasis;r&&r[i]&&(n[i]=n[i]||{},n[i].normal?u.merge(n[i].normal,r[i]):n[i].normal=r[i],r[i]=null);f&&f[i]&&(n[i]=n[i]||{},n[i].emphasis?u.merge(n[i].emphasis,f[i]):n[i].emphasis=f[i],f[i]=null)})}var u=i(1),f=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];n.exports=function(n){var f,e,s,o,i,t;if(n&&(r(n),r(n.markPoint),r(n.markLine),f=n.data,f)){for(t=0;t<f.length;t++)r(f[t]);if(e=n.markPoint,e&&e.data)for(s=e.data,t=0;t<s.length;t++)r(s[t]);if(o=n.markLine,o&&o.data)for(i=o.data,t=0;t<i.length;t++)u.isArray(i[t])?(r(i[t][0]),r(i[t][1])):r(i[t])}}},function(n){var t={average:function(n){for(var r=0,i=0,t=0;t<n.length;t++)isNaN(n[t])||(r+=n[t],i++);return 0===i?NaN:r/i},sum:function(n){for(var i=0,t=0;t<n.length;t++)i+=n[t]||0;return i},max:function(n){for(var i=-(1/0),t=0;t<n.length;t++)n[t]>i&&(i=n[t]);return i},min:function(n){for(var i=1/0,t=0;t<n.length;t++)n[t]<i&&(i=n[t]);return i},nearest:function(n){return n[0]}},i=function(n){return Math.round(n.length/2)};n.exports=function(n,r){r.eachSeriesByType(n,function(n){var u=n.getData(),r=n.get("sampling"),e=n.coordinateSystem,f;if("cartesian2d"===e.type&&r){var o=e.getBaseAxis(),c=e.getOtherAxis(o),s=o.getExtent(),l=s[1]-s[0],h=Math.round(u.count()/l);h>1&&("string"==typeof r?f=t[r]:"function"==typeof r&&(f=r),f&&(u=u.downSample(c.dim,1/h,f,i),n.setData(u)))}},this)}},function(n,t,i){function f(n,t){return y(n,v(t))}var l=i(1),c=i(34),u=i(4),a=i(42),e=c.prototype,o=a.prototype,v=u.getPrecisionSafe,y=u.round,p=Math.floor,w=Math.ceil,s=Math.pow,r=Math.log,h=c.extend({type:"log",base:10,$constructor:function(){c.apply(this,arguments);this._originalScale=new a},getTicks:function(){var n=this._originalScale,t=this._extent,i=n.getExtent();return l.map(o.getTicks.call(this),function(r){var e=u.round(s(this.base,r));return e=r===t[0]&&n.__fixMin?f(e,i[0]):e,e=r===t[1]&&n.__fixMax?f(e,i[1]):e},this)},getLabel:o.getLabel,scale:function(n){return n=e.scale.call(this,n),s(this.base,n)},setExtent:function(n,t){var i=this.base;n=r(n)/r(i);t=r(t)/r(i);o.setExtent.call(this,n,t)},getExtent:function(){var r=this.base,n=e.getExtent.call(this),t,i;return n[0]=s(r,n[0]),n[1]=s(r,n[1]),t=this._originalScale,i=t.getExtent(),t.__fixMin&&(n[0]=f(n[0],i[0])),t.__fixMax&&(n[1]=f(n[1],i[1])),n},unionExtent:function(n){this._originalScale.unionExtent(n);var t=this.base;n[0]=r(n[0])/r(t);n[1]=r(n[1])/r(t);e.unionExtent.call(this,n)},unionExtentFromData:function(n,t){this.unionExtent(n.getDataExtent(t,!0,function(n){return n>0}))},niceTicks:function(n){var i,r,t,f,e;if(n=n||10,i=this._extent,r=i[1]-i[0],!(r===1/0||r<=0)){for(t=u.quantity(r),f=n/r*t,f<=.5&&(t*=10);!isNaN(t)&&Math.abs(t)<1&&Math.abs(t)>0;)t*=10;e=[u.round(w(i[0]/t)*t),u.round(p(i[1]/t)*t)];this._interval=t;this._niceExtent=e}},niceExtent:function(n,t,i){o.niceExtent.call(this,n,t,i);var r=this._originalScale;r.__fixMin=t;r.__fixMax=i}});l.each(["contain","normalize"],function(n){h.prototype[n]=function(t){return t=r(t)/r(this.base),e[n].call(this,t)}});h.create=function(){return new h};n.exports=h},function(n,t,i){var r=i(1),e=i(34),u=e.prototype,f=e.extend({type:"ordinal",init:function(n,t){this._data=n;this._extent=t||[0,n.length-1]},parse:function(n){return"string"==typeof n?r.indexOf(this._data,n):Math.round(n)},contain:function(n){return n=this.parse(n),u.contain.call(this,n)&&null!=this._data[n]},normalize:function(n){return u.normalize.call(this,this.parse(n))},scale:function(n){return Math.round(u.scale.call(this,n))},getTicks:function(){for(var t=[],i=this._extent,n=i[0];n<=i[1];)t.push(n),n++;return t},getLabel:function(n){return this._data[n]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(n,t){this.unionExtent(n.getDataExtent(t,!1))},niceTicks:r.noop,niceExtent:r.noop});f.create=function(){return new f};n.exports=f},function(n,t,i){var v=i(1),o=i(4),y=i(7),c=i(42),p=c.prototype,l=Math.ceil,a=Math.floor,u=1e3,f=60*u,e=60*f,r=24*e,w=function(n,t,i,r){for(;i<r;){var u=i+r>>>1;n[u][2]<t?i=u+1:r=u}return i},s=c.extend({type:"time",getLabel:function(n){var t=this._stepLvl,i=new Date(n);return y.formatTime(t[0],i)},niceExtent:function(n,t,i){var u=this._extent,e,f;(u[0]===u[1]&&(u[0]-=r,u[1]+=r),u[1]===-(1/0)&&u[0]===1/0)&&(e=new Date,u[1]=new Date(e.getFullYear(),e.getMonth(),e.getDate()),u[0]=u[1]-r);this.niceTicks(n);f=this._interval;t||(u[0]=o.round(a(u[0]/f)*f));i||(u[1]=o.round(l(u[1]/f)*f))},niceTicks:function(n){var e,s,c;n=n||10;var i=this._extent,u=i[1]-i[0],v=u/n,f=h.length,y=w(h,v,0,f),r=h[Math.min(y,f-1)],t=r[2];"year"===r[0]&&(e=u/t,s=o.nice(e/n,!0),t*=s);c=[l(i[0]/t)*t,a(i[1]/t)*t];this._stepLvl=r;this._interval=t;this._niceExtent=c},parse:function(n){return+o.parseDate(n)}}),h;v.each(["contain","normalize"],function(n){s.prototype[n]=function(t){return p[n].call(this,this.parse(t))}});h=[["hh:mm:ss",1,u],["hh:mm:ss",5,5*u],["hh:mm:ss",10,10*u],["hh:mm:ss",15,15*u],["hh:mm:ss",30,30*u],["hh:mm\nMM-dd",1,f],["hh:mm\nMM-dd",5,5*f],["hh:mm\nMM-dd",10,10*f],["hh:mm\nMM-dd",15,15*f],["hh:mm\nMM-dd",30,30*f],["hh:mm\nMM-dd",1,e],["hh:mm\nMM-dd",2,2*e],["hh:mm\nMM-dd",6,6*e],["hh:mm\nMM-dd",12,12*e],["MM-dd\nyyyy",1,r],["week",7,7*r],["month",1,31*r],["quarter",3,95*r],["half-year",6,190*r],["year",1,380*r]];s.create=function(){return new s};n.exports=s},function(n,t,i){var r=i(38);n.exports=function(n){function t(t){var f=(t.visualColorAccessPath||"itemStyle.normal.color").split("."),i=t.getData(),u=t.get(f)||t.getColorFromPalette(t.get("name"));i.setVisual("color",u);n.isSeriesFiltered(t)||("function"!=typeof u||u instanceof r||i.each(function(n){i.setItemVisual(n,"color",u(t.getDataParams(n)))}),i.each(function(n){var r=i.getItemModel(n),t=r.get(f,!0);null!=t&&i.setItemVisual(n,"color",t)}))}n.eachRawSeries(t)}},function(n,t,i){"use strict";function h(n,t,i){return{type:n,event:i,target:t,cancelBubble:!1,offsetX:i.zrX,offsetY:i.zrY,gestureEvent:i.gestureEvent,pinchX:i.pinchX,pinchY:i.pinchY,pinchScale:i.pinchScale,wheelDelta:i.zrDelta,zrByTouch:i.zrByTouch}}function f(){}function c(n,t,i){if(n[n.rectHover?"rectContain":"contain"](t,i)){for(var r=n;r;){if(r.silent||r.clipPath&&!r.clipPath.contain(t,i))return!1;r=r.parent}return!0}return!1}var u=i(1),e=i(177),o=i(23),s,r;f.prototype.dispose=function(){};s=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"];r=function(n,t,i,r){o.call(this);this.storage=n;this.painter=t;this.painterRoot=r;i=i||new f;this.proxy=i;i.handler=this;this._hovered;this._lastTouchMoment;this._lastX;this._lastY;e.call(this);u.each(s,function(n){i.on&&i.on(n,this[n],this)},this)};r.prototype={constructor:r,mousemove:function(n){var u=n.zrX,f=n.zrY,t=this.findHover(u,f,null),i=this._hovered,r=this.proxy;this._hovered=t;r.setCursor&&r.setCursor(t?t.cursor:"default");i&&t!==i&&i.__zr&&this.dispatchToElement(i,"mouseout",n);this.dispatchToElement(t,"mousemove",n);t&&t!==i&&this.dispatchToElement(t,"mouseover",n)},mouseout:function(n){this.dispatchToElement(this._hovered,"mouseout",n);var i,t=n.toElement||n.relatedTarget;do t=t&&t.parentNode;while(t&&9!=t.nodeType&&!(i=t===this.painterRoot));i||this.trigger("globalout",{event:n})},resize:function(){this._hovered=null},dispatch:function(n,t){var i=this[n];i&&i.call(this,t)},dispose:function(){this.proxy.dispose();this.storage=this.proxy=this.painter=null},setCursorStyle:function(n){var t=this.proxy;t.setCursor&&t.setCursor(n)},dispatchToElement:function(n,t,i){for(var f="on"+t,r=h(t,n,i),u=n;u&&(u[f]&&(r.cancelBubble=u[f].call(u,r)),u.trigger(t,r),u=u.parent,!r.cancelBubble););r.cancelBubble||(this.trigger(t,r),this.painter&&this.painter.eachOtherLayer(function(n){"function"==typeof n[f]&&n[f].call(n,r);n.trigger&&n.trigger(t,r)}))},findHover:function(n,t,i){for(var u=this.storage.getDisplayList(),r=u.length-1;r>=0;r--)if(!u[r].silent&&u[r]!==i&&!u[r].ignore&&c(u[r],n,t))return u[r]}};u.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(n){r.prototype[n]=function(t){var i=this.findHover(t.zrX,t.zrY,null);if("mousedown"===n)this._downel=i,this._upel=i;else if("mosueup"===n)this._upel=i;else if("click"===n&&this._downel!==this._upel)return;this.dispatchToElement(i,n,t)}});u.mixin(r,o);u.mixin(r,e);n.exports=r},function(n,t,i){function f(){return!1}function u(n,t,i,r){var u=document.createElement(t),e=i.getWidth(),o=i.getHeight(),f=u.style;return f.position="absolute",f.left=0,f.top=0,f.width=e+"px",f.height=o+"px",u.width=e*r,u.height=o*r,u.setAttribute("data-zr-dom-id",n),u}var e=i(1),o=i(35),s=i(70),h=i(69),r=function(n,t,i){var s,r;i=i||o.devicePixelRatio;"string"==typeof n?s=u(n,"canvas",t,i):e.isObject(n)&&(s=n,n=s.id);this.id=n;this.dom=s;r=s.style;r&&(s.onselectstart=f,r["-webkit-user-select"]="none",r["user-select"]="none",r["-webkit-touch-callout"]="none",r["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",r.padding=0,r.margin=0,r["border-width"]=0);this.domBack=null;this.ctxBack=null;this.painter=t;this.config=null;this.clearColor=0;this.motionBlur=!1;this.lastFrameAlpha=.7;this.dpr=i};r.prototype={constructor:r,elCount:0,__dirty:!0,initContext:function(){this.ctx=this.dom.getContext("2d");this.ctx.dpr=this.dpr},createBackBuffer:function(){var n=this.dpr;this.domBack=u("back-"+this.id,"canvas",this.painter,n);this.ctxBack=this.domBack.getContext("2d");1!=n&&this.ctxBack.scale(n,n)},resize:function(n,t){var i=this.dpr,r=this.dom,f=r.style,u=this.domBack;f.width=n+"px";f.height=t+"px";r.width=n*i;r.height=t*i;u&&(u.width=n*i,u.height=t*i,1!=i&&this.ctxBack.scale(i,i))},clear:function(n){var e=this.dom,t=this.ctx,r=e.width,u=e.height,i=this.clearColor,o=this.motionBlur&&!n,a=this.lastFrameAlpha,c=this.dpr,f,l;(o&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(e,0,0,r/c,u/c)),t.clearRect(0,0,r,u),i)&&(i.colorStops?(f=i.__canvasGradient||s.getGradient(t,i,{x:0,y:0,width:r,height:u}),i.__canvasGradient=f):i.image&&(f=h.prototype.getCanvasPattern.call(i,t)),t.save(),t.fillStyle=f||i,t.fillRect(0,0,r,u),t.restore());o&&(l=this.domBack,t.save(),t.globalAlpha=a,t.drawImage(l,0,0,r,u),t.restore())}};n.exports=r},function(n,t,i){"use strict";function u(n){return parseInt(n,10)}function v(n){return!!n&&(!!n.__builtin__||"function"==typeof n.resize&&"function"==typeof n.refresh)}function y(n){n.__unusedCount++}function p(n){1==n.__unusedCount&&n.clear()}function w(n,t,i){return s.copy(n.getBoundingRect()),n.transform&&s.applyTransform(n.transform),h.width=t,h.height=i,!s.intersect(h)}function b(n,t){if(n==t)return!1;if(!n||!t||n.length!==t.length)return!0;for(var i=0;i<n.length;i++)if(n[i]!==t[i])return!0}function k(n,t){for(var i,u,r=0;r<n.length;r++)i=n[r],u=i.path,i.setTransform(t),u.beginPath(t),i.buildPath(u,i.shape),t.clip(),i.restoreTransform(t)}function d(n,t){var i=document.createElement("div");return i.style.cssText=["position:relative","overflow:hidden","width:"+n+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",i}var g=i(35),r=i(1),e=i(52),l=i(11),nt=i(51),f=i(151),a=i(65),o=5,s=new l(0,0,0,0),h=new l(0,0,0,0),c=function(n,t,i){var o=!n.nodeName||"CANVAS"===n.nodeName.toUpperCase(),u,s,h,c,l,e,a;this._opts=i=r.extend({},i||{});this.dpr=i.devicePixelRatio||g.devicePixelRatio;this._singleCanvas=o;this.root=n;u=n.style;u&&(u["-webkit-tap-highlight-color"]="transparent",u["-webkit-user-select"]=u["user-select"]=u["-webkit-touch-callout"]="none",n.innerHTML="");this.storage=t;s=this._zlevelList=[];h=this._layers={};(this._layerConfig={},o)?(null!=i.width&&(n.width=i.width),null!=i.height&&(n.height=i.height),c=n.width,l=n.height,this._width=c,this._height=l,e=new f(n,this,1),e.initContext(),h[0]=e,s.push(0),this._domRoot=n):(this._width=this._getSize(0),this._height=this._getSize(1),a=this._domRoot=d(this._width,this._height),n.appendChild(a));this._progressiveLayers=[];this._hoverlayer;this._hoverElements=[]};c.prototype={constructor:c,isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},refresh:function(n){var f=this.storage.getDisplayList(!0),r=this._zlevelList,t,u,i;for(this._paintList(f,n),t=0;t<r.length;t++)u=r[t],i=this._layers[u],!i.__builtin__&&i.refresh&&i.refresh();return this.refreshHover(),this._progressiveLayers.length&&this._startProgessive(),this},addHover:function(n,t){if(!n.__hoverMir){var i=new n.constructor({style:n.style,shape:n.shape});i.__from=n;n.__hoverMir=i;i.setStyle(t);this._hoverElements.push(i)}},removeHover:function(n){var u=n.__hoverMir,t=this._hoverElements,i=r.indexOf(t,u);i>=0&&t.splice(i,1);n.__hoverMir=null},clearHover:function(){for(var i,n=this._hoverElements,t=0;t<n.length;t++)i=n[t].__from,i&&(i.__hoverMir=null);n.length=0},refreshHover:function(){var u=this._hoverElements,f=u.length,t=this._hoverlayer,e,r,i,n;if(t&&t.clear(),f){for(nt(u,this.storage.displayableSortFunc),t||(t=this._hoverlayer=this.getLayer(1e5)),e={},t.ctx.save(),r=0;r<f;)i=u[r],n=i.__from,n&&n.__zr?(r++,n.invisible||(i.transform=n.transform,i.invTransform=n.invTransform,i.__clipPaths=n.__clipPaths,this._doPaintEl(i,t,!0,e))):(u.splice(r,1),n.__hoverMir=null,f--);t.ctx.restore()}},_startProgessive:function(){function t(){i===n._progressiveToken&&n.storage&&(n._doPaintList(n.storage.getDisplayList()),n._furtherProgressive?(n._progress++,a(t)):n._progressiveToken=-1)}var n=this,i;n._furtherProgressive&&(i=n._progressiveToken=+new Date,n._progress++,a(t))},_clearProgressive:function(){this._progressiveToken=-1;this._progress=0;r.each(this._progressiveLayers,function(n){n.__dirty&&n.clear()})},_paintList:function(n,t){null==t&&(t=!1);this._updateLayerStatus(n);this._clearProgressive();this.eachBuiltinLayer(y);this._doPaintList(n,t);this.eachBuiltinLayer(p)},_doPaintList:function(n,t){function v(n){var t=u.dpr||1;u.save();u.globalAlpha=1;u.shadowBlur=0;f.__dirty=!0;u.setTransform(1,0,0,1,0,0);u.drawImage(n.dom,0,0,k*t,d*t);u.restore()}for(var f,h,u,y,i,p,b=0,k=this._width,d=this._height,l=this._progress,c=0,g=n.length;c<g;c++){var s=n[c],w=this._singleCanvas?0:s.zlevel,a=s.__frame;if(a<0&&i&&(v(i),i=null),h!==w&&(u&&u.restore(),y={},h=w,f=this.getLayer(h),f.__builtin__||e("ZLevel "+h+" has been used by unkown layer "+f.id),u=f.ctx,u.save(),f.__unusedCount=0,(f.__dirty||t)&&f.clear()),f.__dirty||t){if(a>=0){if(!i){if(i=this._progressiveLayers[Math.min(b++,o-1)],i.ctx.save(),i.renderScope={},i&&i.__progress>i.__maxProgress){c=i.__nextIdxNotProg-1;continue}p=i.__progress;i.__dirty||(l=p);i.__progress=l+1}a===l&&this._doPaintEl(s,i,!0,i.renderScope)}else this._doPaintEl(s,f,t,y);s.__dirty=!1}}i&&v(i);u&&u.restore();this._furtherProgressive=!1;r.each(this._progressiveLayers,function(n){n.__maxProgress>=n.__progress&&(this._furtherProgressive=!0)},this)},_doPaintEl:function(n,t,i,r){var u=t.ctx,e=n.transform,f;!(t.__dirty||i)||n.invisible||0===n.style.opacity||e&&!e[0]&&!e[3]||n.culling&&w(n,this._width,this._height)||(f=n.__clipPaths,(r.prevClipLayer!==t||b(f,r.prevElClipPaths))&&(r.prevElClipPaths&&(r.prevClipLayer.ctx.restore(),r.prevClipLayer=r.prevElClipPaths=null,r.prevEl=null),f&&(u.save(),k(f,u),r.prevClipLayer=t,r.prevElClipPaths=f)),n.beforeBrush&&n.beforeBrush(u),n.brush(u,r.prevEl||null),r.prevEl=n,n.afterBrush&&n.afterBrush(u))},getLayer:function(n){if(this._singleCanvas)return this._layers[0];var t=this._layers[n];return t||(t=new f("zr_"+n,this,this.dpr),t.__builtin__=!0,this._layerConfig[n]&&r.merge(t,this._layerConfig[n],!0),this.insertLayer(n,t),t.initContext()),t},insertLayer:function(n,t){var f=this._layers,r=this._zlevelList,h=r.length,o=null,i=-1,u=this._domRoot,s;if(f[n])return void e("ZLevel "+n+" has been used already");if(!v(t))return void e("Layer of zlevel "+n+" is not valid");if(h>0&&n>r[0]){for(i=0;i<h-1&&!(r[i]<n&&r[i+1]>n);i++);o=f[r[i]]}(r.splice(i+1,0,n),f[n]=t,t.virtual)||(o?(s=o.dom,s.nextSibling?u.insertBefore(t.dom,s.nextSibling):u.appendChild(t.dom)):u.firstChild?u.insertBefore(t.dom,u.firstChild):u.appendChild(t.dom))},eachLayer:function(n,t){for(var r,u=this._zlevelList,i=0;i<u.length;i++)r=u[i],n.call(t,this._layers[r],r)},eachBuiltinLayer:function(n,t){for(var r,u,f=this._zlevelList,i=0;i<f.length;i++)u=f[i],r=this._layers[u],r.__builtin__&&n.call(t,r,u)},eachOtherLayer:function(n,t){for(var r,u,f=this._zlevelList,i=0;i<f.length;i++)u=f[i],r=this._layers[u],r.__builtin__||n.call(t,r,u)},getLayers:function(){return this._layers},_updateLayerStatus:function(n){var b=this._layers,u=this._progressiveLayers,a={},v={},w,l;this.eachBuiltinLayer(function(n,t){a[t]=n.elCount;n.elCount=0;n.__dirty=!1});r.each(u,function(n,t){v[t]=n.elCount;n.elCount=0;n.__dirty=!1});for(var t,y,h=0,p=0,e=0,k=n.length;e<k;e++){var i=n[e],d=this._singleCanvas?0:i.zlevel,s=b[d],c=i.progressive;(s&&(s.elCount++,s.__dirty=s.__dirty||i.__dirty),c>=0)?(y!==c&&(y=c,p++),w=i.__frame=p-1,t||(l=Math.min(h,o-1),t=u[l],t||(t=u[l]=new f("progressive",this,this.dpr),t.initContext()),t.__maxProgress=0),t.__dirty=t.__dirty||i.__dirty,t.elCount++,t.__maxProgress=Math.max(t.__maxProgress,w),t.__maxProgress>=t.__progress&&(s.__dirty=!0)):(i.__frame=-1,t&&(t.__nextIdxNotProg=e,h++,t=null))}t&&(h++,t.__nextIdxNotProg=e);this.eachBuiltinLayer(function(n,t){a[t]!==n.elCount&&(n.__dirty=!0)});u.length=Math.min(h,o);r.each(u,function(n,t){v[t]!==n.elCount&&(i.__dirty=!0);n.__dirty&&(n.__progress=0)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(n){n.clear()},configLayer:function(n,t){var i,u;t&&(i=this._layerConfig,i[n]?r.merge(i[n],t,!0):i[n]=t,u=this._layers[n],u&&r.merge(u,i[n],!0))},delLayer:function(n){var i=this._layers,u=this._zlevelList,t=i[n];t&&(t.dom.parentNode.removeChild(t.dom),delete i[n],u.splice(r.indexOf(u,n),1))},resize:function(n,t){var i=this._domRoot,u,f;if(i.style.display="none",u=this._opts,null!=n&&(u.width=n),null!=t&&(u.height=t),n=this._getSize(0),t=this._getSize(1),i.style.display="",this._width!=n||t!=this._height){i.style.width=n+"px";i.style.height=t+"px";for(f in this._layers)this._layers.hasOwnProperty(f)&&this._layers[f].resize(n,t);r.each(this._progressiveLayers,function(i){i.resize(n,t)});this.refresh(!0)}return this._width=n,this._height=t,this},clearLayer:function(n){var t=this._layers[n];t&&t.clear()},dispose:function(){this.root.innerHTML="";this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(n){var t,u;if(n=n||{},this._singleCanvas)return this._layers[0].dom;t=new f("image",this,n.pixelRatio||this.dpr);t.initContext();t.clearColor=n.backgroundColor;t.clear();for(var r=this.storage.getDisplayList(!0),e={},i=0;i<r.length;i++)u=r[i],this._doPaintEl(u,t,!0,e);return t.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(n){var f=this._opts,t=["width","height"][n],e=["clientWidth","clientHeight"][n],o=["paddingLeft","paddingTop"][n],s=["paddingRight","paddingBottom"][n],i,r;return null!=f[t]&&"auto"!==f[t]?parseFloat(f[t]):(i=this.root,r=document.defaultView.getComputedStyle(i),(i[e]||u(r[t])||u(i.style[t]))-(u(r[o])||0)-(u(r[s])||0)|0)},pathToImage:function(n,t){var r,b,f;t=t||this.dpr;var e=document.createElement("canvas"),o=e.getContext("2d"),s=n.getBoundingRect(),u=n.style,h=u.shadowBlur,l=u.shadowOffsetX,a=u.shadowOffsetY,c=u.hasStroke()?u.lineWidth:0,v=Math.max(c/2,-l+h),k=Math.max(c/2,l+h),y=Math.max(c/2,-a+h),d=Math.max(c/2,a+h),p=s.width+v+k,w=s.height+y+d;return e.width=p*t,e.height=w*t,o.scale(t,t),o.clearRect(0,0,p,w),o.dpr=t,r={position:n.position,rotation:n.rotation,scale:n.scale},n.position=[v-s.x,y-s.y],n.rotation=0,n.scale=[1,1],n.updateTransform(),n&&n.brush(o),b=i(53),f=new b({style:{x:0,y:0,image:e}}),null!=r.position&&(f.position=n.position=r.position),null!=r.rotation&&(f.rotation=n.rotation=r.rotation),null!=r.scale&&(f.scale=n.scale=r.scale),f}};n.exports=c},function(n,t,i){"use strict";function f(n,t){return n.zlevel===t.zlevel?n.z===t.z?n.z2-t.z2:n.z-t.z:n.zlevel-t.zlevel}var e=i(1),o=i(9),r=i(36),s=i(51),u=function(){this._elements={};this._roots=[];this._displayList=[];this._displayListLen=0};u.prototype={constructor:u,traverse:function(n,t){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(n,t)},getDisplayList:function(n,t){return t=t||!1,n&&this.updateDisplayList(t),this._displayList},updateDisplayList:function(n){this._displayListLen=0;for(var i=this._roots,r=this._displayList,t=0,u=i.length;t<u;t++)this._updateAndAddDisplayable(i[t],null,n);r.length=this._displayListLen;o.canvasSupported&&s(r,f)},_updateAndAddDisplayable:function(n,t,i){var f,r,e,o,u,s;if(!n.ignore||i){if(n.beforeUpdate(),n.__dirty&&n.update(),n.afterUpdate(),f=n.clipPath,f)for(t=t?t.slice():[],r=f,e=n;r;)r.parent=e,r.updateTransform(),t.push(r),e=r,r=r.clipPath;if(n.isGroup){for(o=n._children,u=0;u<o.length;u++)s=o[u],n.__dirty&&(s.__dirty=!0),this._updateAndAddDisplayable(s,t,i);n.__dirty=!1}else n.__clipPaths=t,this._displayList[this._displayListLen++]=n}},addRoot:function(n){this._elements[n.id]||(n instanceof r&&n.addChildrenToStorage(this),this.addToMap(n),this._roots.push(n))},delRoot:function(n){var u,t,o,i,f;if(null==n){for(t=0;t<this._roots.length;t++)u=this._roots[t],u instanceof r&&u.delChildrenFromStorage(this);return this._elements={},this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(n instanceof Array)for(t=0,o=n.length;t<o;t++)this.delRoot(n[t]);else i="string"==typeof n?this._elements[n]:n,f=e.indexOf(this._roots,i),f>=0&&(this.delFromMap(i.id),this._roots.splice(f,1),i instanceof r&&i.delChildrenFromStorage(this))},addToMap:function(n){return n instanceof r&&(n.__storage=this),n.dirty(!1),this._elements[n.id]=n,this},get:function(n){return this._elements[n]},delFromMap:function(n){var i=this._elements,t=i[n];return t&&(delete i[n],t instanceof r&&(t.__storage=null)),this},dispose:function(){this._elements=this._renderList=this._roots=null},displayableSortFunc:f};n.exports=u},function(n,t,i){"use strict";var u=i(1),f=i(21).Dispatcher,e=i(65),o=i(64),r=function(n){n=n||{};this.stage=n.stage||{};this.onframe=n.onframe||function(){};this._clips=[];this._running=!1;this._time;this._pausedTime;this._pauseStart;this._paused=!1;f.call(this)};r.prototype={constructor:r,addClip:function(n){this._clips.push(n)},addAnimator:function(n){n.animation=this;for(var i=n.getClips(),t=0;t<i.length;t++)this.addClip(i[t])},removeClip:function(n){var t=u.indexOf(this._clips,n);t>=0&&this._clips.splice(t,1)},removeAnimator:function(n){for(var i=n.getClips(),t=0;t<i.length;t++)this.removeClip(i[t]);n.animation=null},_update:function(){for(var e,o,r=(new Date).getTime()-this._pausedTime,u=r-this._time,t=this._clips,i=t.length,f=[],s=[],n=0;n<i;n++)e=t[n],o=e.step(r,u),o&&(f.push(o),s.push(e));for(n=0;n<i;)t[n]._needsRemove?(t[n]=t[i-1],t.pop(),i--):n++;for(i=f.length,n=0;n<i;n++)s[n].fire(f[n]);this._time=r;this.onframe(u);this.trigger("frame",u);this.stage.update&&this.stage.update()},_startLoop:function(){function t(){n._running&&(e(t),!n._paused&&n._update())}var n=this;this._running=!0;e(t)},start:function(){this._time=(new Date).getTime();this._pausedTime=0;this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},animate:function(n,t){t=t||{};var i=new o(n,t.loop,t.getter,t.setter);return this.addAnimator(i),i}};u.mixin(r,f);n.exports=r},function(n,t,i){function r(n){this._target=n.target;this._life=n.life||1e3;this._delay=n.delay||0;this._initialized=!1;this.loop=null!=n.loop&&n.loop;this.gap=n.gap||0;this.easing=n.easing||"Linear";this.onframe=n.onframe;this.ondestroy=n.ondestroy;this.onrestart=n.onrestart;this._pausedTime=0;this._paused=!1}var u=i(156);r.prototype={constructor:r,step:function(n,t){var i;if(this._initialized||(this._startTime=n+this._delay,this._initialized=!0),this._paused)return void(this._pausedTime+=t);if(i=(n-this._startTime-this._pausedTime)/this._life,!(i<0)){i=Math.min(i,1);var r=this.easing,f="string"==typeof r?u[r]:r,e="function"==typeof f?f(i):i;return this.fire("frame",e),1==i?this.loop?(this.restart(n),"restart"):(this._needsRemove=!0,"destroy"):null}},restart:function(n){var t=(n-this._startTime-this._pausedTime)%this._life;this._startTime=n-t+this.gap;this._pausedTime=0;this._needsRemove=!1},fire:function(n,t){n="on"+n;this[n]&&this[n](this._target,t)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};n.exports=r},function(n){var t={linear:function(n){return n},quadraticIn:function(n){return n*n},quadraticOut:function(n){return n*(2-n)},quadraticInOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)},cubicIn:function(n){return n*n*n},cubicOut:function(n){return--n*n*n+1},cubicInOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)},quarticIn:function(n){return n*n*n*n},quarticOut:function(n){return 1- --n*n*n*n},quarticInOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)},quinticIn:function(n){return n*n*n*n*n},quinticOut:function(n){return--n*n*n*n*n+1},quinticInOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)},sinusoidalIn:function(n){return 1-Math.cos(n*Math.PI/2)},sinusoidalOut:function(n){return Math.sin(n*Math.PI/2)},sinusoidalInOut:function(n){return.5*(1-Math.cos(Math.PI*n))},exponentialIn:function(n){return 0===n?0:Math.pow(1024,n-1)},exponentialOut:function(n){return 1===n?1:1-Math.pow(2,-10*n)},exponentialInOut:function(n){return 0===n?0:1===n?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(-Math.pow(2,-10*(n-1))+2)},circularIn:function(n){return 1-Math.sqrt(1-n*n)},circularOut:function(n){return Math.sqrt(1- --n*n)},circularInOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},elasticIn:function(n){var i,t=.1,r=.4;return 0===n?0:1===n?1:(!t||t<1?(t=1,i=r/4):i=r*Math.asin(1/t)/(2*Math.PI),-(t*Math.pow(2,10*(n-=1))*Math.sin((n-i)*2*Math.PI/r)))},elasticOut:function(n){var i,t=.1,r=.4;return 0===n?0:1===n?1:(!t||t<1?(t=1,i=r/4):i=r*Math.asin(1/t)/(2*Math.PI),t*Math.pow(2,-10*n)*Math.sin((n-i)*2*Math.PI/r)+1)},elasticInOut:function(n){var i,t=.1,r=.4;return 0===n?0:1===n?1:(!t||t<1?(t=1,i=r/4):i=r*Math.asin(1/t)/(2*Math.PI),(n*=2)<1?-.5*t*Math.pow(2,10*(n-=1))*Math.sin((n-i)*2*Math.PI/r):t*Math.pow(2,-10*(n-=1))*Math.sin((n-i)*2*Math.PI/r)*.5+1)},backIn:function(n){var t=1.70158;return n*n*((t+1)*n-t)},backOut:function(n){var t=1.70158;return--n*n*((t+1)*n+t)+1},backInOut:function(n){var t=2.5949095;return(n*=2)<1?.5*n*n*((t+1)*n-t):.5*((n-=2)*n*((t+1)*n+t)+2)},bounceIn:function(n){return 1-t.bounceOut(1-n)},bounceOut:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},bounceInOut:function(n){return n<.5?.5*t.bounceIn(2*n):.5*t.bounceOut(2*n-1)+.5}};n.exports=t},function(n,t,i){var u=i(66).normalizeRadian,r=2*Math.PI;n.exports={containStroke:function(n,t,i,f,e,o,s,h,c){var a,v,y,l;return 0===s?!1:(a=s,h-=n,c-=t,v=Math.sqrt(h*h+c*c),v-a>i||v+a<i)?!1:Math.abs(f-e)%r<.0001?!0:(o?(y=f,f=u(e),e=u(y)):(f=u(f),e=u(e)),f>e&&(e+=r),l=Math.atan2(c,h),l<0&&(l+=r),l>=f&&l<=e||l+r>=f&&l+r<=e)}}},function(n,t,i){var r=i(20);n.exports={containStroke:function(n,t,i,u,f,e,o,s,h,c,l){var a,v;return 0===h?!1:(a=h,l>t+a&&l>u+a&&l>e+a&&l>s+a||l<t-a&&l<u-a&&l<e-a&&l<s-a||c>n+a&&c>i+a&&c>f+a&&c>o+a||c<n-a&&c<i-a&&c<f-a&&c<o-a)?!1:(v=r.cubicProjectPoint(n,t,i,u,f,e,o,s,c,l,null),v<=a/2)}}},function(n,t,i){"use strict";function a(n,t){return Math.abs(n-t)<nt}function v(){var n=u[0];u[0]=u[1];u[1]=n}function y(n,t,i,e,o,s,h,c,l,a){var k;if(a>t&&a>e&&a>s&&a>c||a<t&&a<e&&a<s&&a<c||(k=f.cubicRootAt(t,e,s,c,a,r),0===k))return 0;for(var w,d,nt=0,b=-1,g=0;g<k;g++){var p=r[g],y=0===p||1===p?.5:1,tt=f.cubicAt(n,i,o,h,p);tt<l||(b<0&&(b=f.cubicExtrema(t,e,s,c,u),u[1]<u[0]&&b>1&&v(),w=f.cubicAt(t,e,s,c,u[0]),b>1&&(d=f.cubicAt(t,e,s,c,u[1]))),nt+=2==b?p<u[0]?w<t?y:-y:p<u[1]?d<w?y:-y:c<d?y:-y:p<u[0]?w<t?y:-y:c<w?y:-y)}return nt}function p(n,t,i,u,e,o,s,h){var y,a,c,v;if(h>t&&h>u&&h>o||h<t&&h<u&&h<o||(y=f.quadraticRootAt(t,u,o,h,r),0===y))return 0;if(a=f.quadraticExtremum(t,u,o),a>=0&&a<=1){for(var p=0,w=f.quadraticAt(t,u,o,a),l=0;l<y;l++)c=0===r[l]||1===r[l]?.5:1,v=f.quadraticAt(n,i,e,r[l]),v<s||(p+=r[l]<a?w<t?c:-c:o<w?c:-c);return p}return c=0===r[0]||1===r[0]?.5:1,v=f.quadraticAt(n,i,e,r[0]),v<s?0:o<t?c:-c}function w(n,t,i,u,f,e,o,s){var p,v,w,y,b,l,a;if((s-=t,s>i||s<-i)||(v=Math.sqrt(i*i-s*s),r[0]=-v,r[1]=v,p=Math.abs(u-f),p<.0001))return 0;if(p%h<.0001)return u=0,f=h,a=e?1:-1,o>=r[0]+n&&o<=r[1]+n?a:0;for(e?(v=u,u=c(f),f=c(v)):(u=c(u),f=c(f)),u>f&&(f+=h),w=0,y=0;y<2;y++)b=r[y],b+n>o&&(l=Math.atan2(s,b),a=e?1:-1,l<0&&(l=h+l),(l>=u&&l<=f||l+h>=u&&l+h<=f)&&(l>Math.PI/2&&l<1.5*Math.PI&&(a=-a),w+=a));return w}function l(n,t,i,r,u){for(var ot,ht,b=0,c=0,h=0,v=0,l=0,f=0;f<n.length;){ot=n[f++];switch(ot===e.M&&f>1&&(i||(b+=o(c,h,v,l,r,u))),1==f&&(c=n[f],h=n[f+1],v=c,l=h),ot){case e.M:v=n[f++];l=n[f++];c=v;h=l;break;case e.L:if(i){if(s(c,h,n[f],n[f+1],t,r,u))return!0}else b+=o(c,h,n[f],n[f+1],r,u)||0;c=n[f++];h=n[f++];break;case e.C:if(i){if(k.containStroke(c,h,n[f++],n[f++],n[f++],n[f++],n[f],n[f+1],t,r,u))return!0}else b+=y(c,h,n[f++],n[f++],n[f++],n[f++],n[f],n[f+1],r,u)||0;c=n[f++];h=n[f++];break;case e.Q:if(i){if(d.containStroke(c,h,n[f++],n[f++],n[f],n[f+1],t,r,u))return!0}else b+=p(c,h,n[f++],n[f++],n[f],n[f+1],r,u)||0;c=n[f++];h=n[f++];break;case e.A:var rt=n[f++],ft=n[f++],st=n[f++],ut=n[f++],it=n[f++],et=n[f++],ct=(n[f++],1-n[f++]),nt=Math.cos(it)*st+rt,tt=Math.sin(it)*ut+ft;if(f>1?b+=o(c,h,nt,tt,r,u):(v=nt,l=tt),ht=(r-rt)*ut/st+rt,i){if(g.containStroke(rt,ft,ut,it,it+et,ct,t,ht,u))return!0}else b+=w(rt,ft,ut,it,it+et,ct,ht,u);c=Math.cos(it+et)*st+rt;h=Math.sin(it+et)*ut+ft;break;case e.R:v=c=n[f++];l=h=n[f++];var lt=n[f++],at=n[f++],nt=v+lt,tt=l+at;if(i){if(s(v,l,nt,l,t,r,u)||s(nt,l,nt,tt,t,r,u)||s(nt,tt,v,tt,t,r,u)||s(v,tt,v,l,t,r,u))return!0}else b+=o(nt,l,nt,tt,r,u),b+=o(v,tt,v,l,r,u);break;case e.Z:if(i){if(s(c,h,v,l,t,r,u))return!0}else b+=o(c,h,v,l,r,u);c=v;h=l}}return i||a(h,l)||(b+=o(c,h,v,l,r,u)||0),0!==b}var e=i(30).CMD,b=i(94),k=i(158),d=i(95),g=i(157),c=i(66).normalizeRadian,f=i(20),o=i(96),s=b.containStroke,h=2*Math.PI,nt=.0001,r=[-1,-1,-1],u=[-1,-1];n.exports={contain:function(n,t,i){return l(n,0,!1,t,i)},containStroke:function(n,t,i,r){return l(n,t,!0,i,r)}}},function(n,t,i){"use strict";function f(n){var t=n[1][0]-n[0][0],i=n[1][1]-n[0][1];return Math.sqrt(t*t+i*i)}function e(n){return[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]}var o=i(21),u=function(){this._track=[]},r;u.prototype={constructor:u,recognize:function(n,t,i){return this._doTrack(n,t,i),this._recognize(n)},clear:function(){return this._track.length=0,this},_doTrack:function(n,t,i){var r=n.touches,e,s;if(r){for(var u={points:[],touches:[],target:t,event:n},f=0,h=r.length;f<h;f++)e=r[f],s=o.clientToLocal(i,e,{}),u.points.push([s.zrX,s.zrY]),u.touches.push(e);this._track.push(u)}},_recognize:function(n){var t,i;for(t in r)if(r.hasOwnProperty(t)&&(i=r[t](this._track,n),i))return i}};r={pinch:function(n,t){var o=n.length,i,r,u,s;if(o&&(i=(n[o-1]||{}).points,r=(n[o-2]||{}).points||i,r&&r.length>1&&i&&i.length>1))return u=f(i)/f(r),isFinite(u)||(u=1),t.pinchScale=u,s=e(i),t.pinchX=s[0],t.pinchY=s[1],{type:"pinch",target:n[0].target,event:t}}};n.exports=u},function(n,t,i){function y(n){return"mousewheel"===n&&l.browser.firefox?"DOMMouseScroll":n}function o(n,t,i){var u=n._gestureMgr,r,f;"start"===i&&u.clear();r=u.recognize(t,n.handler.findHover(t.zrX,t.zrY,null),n.dom);("end"===i&&u.clear(),r)&&(f=r.type,t.gestureEvent=f,n.handler.dispatchToElement(r.target,f,r.event))}function s(n){n._touching=!0;clearTimeout(n._touchTimer);n._touchTimer=setTimeout(function(){n._touching=!1},700)}function p(n){var t=n.pointerType;return"pen"===t||"touch"===t}function k(n){function t(n,t){return function(){if(!t._touching)return n.apply(t,arguments)}}u.each(a,function(t){n._handlers[t]=u.bind(r[t],n)});u.each(b,function(t){n._handlers[t]=u.bind(r[t],n)});u.each(e,function(i){n._handlers[i]=t(r[i],n)})}function h(n){function t(t,i){u.each(t,function(t){g(n,y(t),i._handlers[t])},i)}w.call(this);this.dom=n;this._touching=!1;this._touchTimer;this._gestureMgr=new d;this._handlers={};k(this);l.pointerEventsSupported?t(b,this):(l.touchEventsSupported&&t(a,this),t(e,this))}var c=i(21),u=i(1),w=i(23),l=i(9),d=i(160),g=c.addEventListener,nt=c.removeEventListener,f=c.normalizeEvent,tt=300,e=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],a=["touchstart","touchend","touchmove"],it={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},b=u.map(e,function(n){var t=n.replace("mouse","pointer");return it[t]?t:n}),r={mousemove:function(n){n=f(this.dom,n);this.trigger("mousemove",n)},mouseout:function(n){n=f(this.dom,n);var t=n.toElement||n.relatedTarget;if(t!=this.dom)for(;t&&9!=t.nodeType;){if(t===this.dom)return;t=t.parentNode}this.trigger("mouseout",n)},touchstart:function(n){n=f(this.dom,n);n.zrByTouch=!0;this._lastTouchMoment=new Date;o(this,n,"start");r.mousemove.call(this,n);r.mousedown.call(this,n);s(this)},touchmove:function(n){n=f(this.dom,n);n.zrByTouch=!0;o(this,n,"change");r.mousemove.call(this,n);s(this)},touchend:function(n){n=f(this.dom,n);n.zrByTouch=!0;o(this,n,"end");r.mouseup.call(this,n);+new Date-this._lastTouchMoment<tt&&r.click.call(this,n);s(this)},pointerdown:function(n){r.mousedown.call(this,n)},pointermove:function(n){p(n)||r.mousemove.call(this,n)},pointerup:function(n){r.mouseup.call(this,n)},pointerout:function(n){p(n)||r.mouseout.call(this,n)}},v;u.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(n){r[n]=function(t){t=f(this.dom,t);this.trigger(n,t)}});v=h.prototype;v.dispose=function(){for(var i,t=e.concat(a),n=0;n<t.length;n++)i=t[n],nt(this.dom,y(i),this._handlers[i])};v.setCursor=function(n){this.dom.style.cursor=n||"default"};u.mixin(h,w);n.exports=h},function(n,t,i){var r=i(8);n.exports=r.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var n=this.__dirtyPath,i=this.shape.paths,t=0;t<i.length;t++)n=n||i[t].__dirtyPath;this.__dirtyPath=n;this.__dirty=this.__dirty||n},beforeBrush:function(){this._updatePathDirty();for(var t=this.shape.paths||[],i=this.getGlobalScale(),n=0;n<t.length;n++)t[n].path.setScale(i[0],i[1])},buildPath:function(n,t){for(var r=t.paths||[],i=0;i<r.length;i++)r[i].buildPath(n,r[i].shape,!0)},afterBrush:function(){for(var t=this.shape.paths,n=0;n<t.length;n++)t[n].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),r.prototype.getBoundingRect.call(this)}})},function(n,t,i){"use strict";var f=i(1),u=i(38),r=function(n,t,i,r,f){this.x=null==n?.5:n;this.y=null==t?.5:t;this.r=null==i?.5:i;this.type="radial";this.global=f||!1;u.call(this,r)};r.prototype={constructor:r};f.inherits(r,u);n.exports=r},function(n){n.exports={buildPath:function(n,t){var i,e,o,s,h=t.x,c=t.y,r=t.width,u=t.height,f=t.r,l;r<0&&(h+=r,r=-r);u<0&&(c+=u,u=-u);"number"==typeof f?i=e=o=s=f:f instanceof Array?1===f.length?i=e=o=s=f[0]:2===f.length?(i=o=f[0],e=s=f[1]):3===f.length?(i=f[0],e=s=f[1],o=f[2]):(i=f[0],e=f[1],o=f[2],s=f[3]):i=e=o=s=0;i+e>r&&(l=i+e,i*=r/l,e*=r/l);o+s>r&&(l=o+s,o*=r/l,s*=r/l);e+o>u&&(l=e+o,e*=u/l,o*=u/l);i+s>u&&(l=i+s,i*=u/l,s*=u/l);n.moveTo(h+i,c);n.lineTo(h+r-e,c);0!==e&&n.quadraticCurveTo(h+r,c,h+r,c+e);n.lineTo(h+r,c+u-o);0!==o&&n.quadraticCurveTo(h+r,c+u,h+r-o,c+u);n.lineTo(h+s,c+u);0!==s&&n.quadraticCurveTo(h,c+u,h,c+u-s);n.lineTo(h,c+i);0!==i&&n.quadraticCurveTo(h,c,h+i,c)}}},function(n,t,i){var r=i(5),u=r.min,f=r.max,e=r.scale,o=r.distance,s=r.add;n.exports=function(n,t,i,h){var d,g,a,v,y=[],b=[],rt=[],ut=[],c,l,k,p,w;if(h){for(a=[1/0,1/0],v=[-(1/0),-(1/0)],c=0,l=n.length;c<l;c++)u(a,a,n[c]),f(v,v,n[c]);u(a,a,h[0]);f(v,v,h[1])}for(c=0,l=n.length;c<l;c++){if(k=n[c],i)d=n[c?c-1:l-1],g=n[(c+1)%l];else{if(0===c||c===l-1){y.push(r.clone(n[c]));continue}d=n[c-1];g=n[c+1]}r.sub(b,g,d);e(b,b,t);var nt=o(k,d),tt=o(k,g),it=nt+tt;0!==it&&(nt/=it,tt/=it);e(rt,b,-nt);e(ut,b,tt);p=s([],k,rt);w=s([],k,ut);h&&(f(p,p,a),u(p,p,v),f(w,w,a),u(w,w,v));y.push(p);y.push(w)}return i&&y.push(y.shift()),y}},function(n,t,i){function r(n,t,i,r,u,f,e){var o=.5*(i-n),s=.5*(r-t);return(2*(t-i)+o+s)*e+(-3*(t-i)-2*o-s)*f+o*u+t}var u=i(5);n.exports=function(n,t){for(var o,a,v,i=n.length,y=[],p=0,e=1;e<i;e++)p+=u.distance(n[e-1],n[e]);for(o=p/2,o=o<i?i:o,e=0;e<o;e++){var h,c,l,w=e/(o-1)*(t?i:i-1),f=Math.floor(w),s=w-f,b=n[f%i];t?(h=n[(f-1+i)%i],c=n[(f+1)%i],l=n[(f+2)%i]):(h=n[0===f?f:f-1],c=n[f>i-2?i-1:f+1],l=n[f>i-3?i-1:f+2]);a=s*s;v=s*a;y.push([r(h[0],b[0],c[0],l[0],s,a,v),r(h[1],b[1],c[1],l[1],s,a,v)])}return y}},function(n,t,i){n.exports=i(8).extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(n,t){var u=t.cx,f=t.cy,i=Math.max(t.r,0),r=t.startAngle,e=t.endAngle,o=t.clockwise,s=Math.cos(r),h=Math.sin(r);n.moveTo(s*i+u,h*i+f);n.arc(u,f,i,r,e,!o)}})},function(n,t,i){"use strict";function f(n,t,i){var r=n.cpx2,u=n.cpy2;return null===r||null===u?[(i?l:h)(n.x1,n.cpx1,n.cpx2,n.x2,t),(i?l:h)(n.y1,n.cpy1,n.cpy2,n.y2,t)]:[(i?c:s)(n.x1,n.cpx1,n.x2,t),(i?c:s)(n.y1,n.cpy1,n.y2,t)]}var u=i(20),a=i(5),e=u.quadraticSubdivide,o=u.cubicSubdivide,s=u.quadraticAt,h=u.cubicAt,c=u.quadraticDerivativeAt,l=u.cubicDerivativeAt,r=[];n.exports=i(8).extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(n,t){var a=t.x1,v=t.y1,u=t.x2,f=t.y2,s=t.cpx1,h=t.cpy1,c=t.cpx2,l=t.cpy2,i=t.percent;0!==i&&(n.moveTo(a,v),null==c||null==l?(i<1&&(e(a,s,u,i,r),s=r[1],u=r[2],e(v,h,f,i,r),h=r[1],f=r[2]),n.quadraticCurveTo(s,h,u,f)):(i<1&&(o(a,s,c,u,i,r),s=r[1],c=r[2],u=r[3],o(v,h,l,f,i,r),h=r[1],l=r[2],f=r[3]),n.bezierCurveTo(s,h,c,l,u,f)))},pointAt:function(n){return f(this.shape,n,!1)},tangentAt:function(n){var t=f(this.shape,n,!0);return a.normalize(t,t)}})},function(n,t,i){"use strict";n.exports=i(8).extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(n,t,i){i&&n.moveTo(t.cx+t.r,t.cy);n.arc(t.cx,t.cy,t.r,0,2*Math.PI,!0)}})},function(n,t,i){n.exports=i(8).extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(n,t){var f=t.x1,e=t.y1,r=t.x2,u=t.y2,i=t.percent;0!==i&&(n.moveTo(f,e),i<1&&(r=f*(1-i)+r*i,u=e*(1-i)+u*i),n.lineTo(r,u))},pointAt:function(n){var t=this.shape;return[t.x1*(1-n)+t.x2*n,t.y1*(1-n)+t.y2*n]}})},function(n,t,i){var r=i(71);n.exports=i(8).extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(n,t){r.buildPath(n,t,!0)}})},function(n,t,i){var r=i(71);n.exports=i(8).extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(n,t){r.buildPath(n,t,!1)}})},function(n,t,i){var r=i(164);n.exports=i(8).extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(n,t){var i=t.x,u=t.y,f=t.width,e=t.height;t.r?r.buildPath(n,t):n.rect(i,u,f,e);n.closePath()}})},function(n,t,i){n.exports=i(8).extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(n,t){var i=t.cx,r=t.cy,u=2*Math.PI;n.moveTo(i+t.r,r);n.arc(i,r,t.r,0,u,!1);n.moveTo(i+t.r0,r);n.arc(i,r,t.r0,0,u,!0)}})},function(n,t,i){var f=i(9),u=i(8),r=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]];n.exports=u.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:f.browser.ie&&f.browser.version>=11?function(){var o,i=this.__clipPaths,e=this.style,t,f,n;if(i)for(t=0;t<i.length;t++)if(f=i[t]&&i[t].shape,f&&f.startAngle===f.endAngle){for(n=0;n<r.length;n++)r[n][2]=e[r[n][0]],e[r[n][0]]=r[n][1];o=!0;break}if(u.prototype.brush.apply(this,arguments),o)for(n=0;n<r.length;n++)e[r[n][0]]=r[n][2]}:u.prototype.brush,buildPath:function(n,t){var r=t.cx,u=t.cy,i=Math.max(t.r0||0,0),o=Math.max(t.r,0),f=t.startAngle,e=t.endAngle,s=t.clockwise,h=Math.cos(f),c=Math.sin(f);n.moveTo(h*i+r,c*i+u);n.lineTo(h*o+r,c*o+u);n.arc(r,u,o,f,e,!s);n.lineTo(Math.cos(e)*i+r,Math.sin(e)*i+u);0!==i&&n.arc(r,u,i,e,f,s);n.closePath()}})},function(n,t,i){"use strict";var e=i(64),r=i(1),o=r.isString,u=r.isFunction,s=r.isObject,h=i(52),f=function(){this.animators=[]};f.prototype={constructor:f,animate:function(n,t){var o,a=!1,f=this,v=this.__zr,s,i,c,y,l,u;if(n){for(s=n.split("."),i=f,a="shape"===s[0],c=0,y=s.length;c<y;c++)i&&(i=i[s[c]]);i&&(o=i)}else o=f;return o?(l=f.animators,u=new e(o,t),u.during(function(){f.dirty(a)}).done(function(){l.splice(r.indexOf(l,u),1)}),l.push(u),v&&v.animation.addAnimator(u),u):void h('Property "'+n+'" is not existed in element '+f.id)},stopAnimation:function(n){for(var t=this.animators,r=t.length,i=0;i<r;i++)t[i].stop(n);return t.length=0,this},animateTo:function(n,t,i,r,f){function c(){s--;s||f&&f()}var e,s,h;for(o(i)?(f=r,r=i,i=0):u(r)?(f=r,r="linear",i=0):u(i)?(f=i,i=0):u(t)?(f=t,t=500):t||(t=500),this.stopAnimation(),this._animateToShallow("",this,n,t,i,r,f),e=this.animators.slice(),s=e.length,s||f&&f(),h=0;h<e.length;h++)e[h].done(c).start(r)},_animateToShallow:function(n,t,i,u,f){var h={},c=0,e,o;for(e in i)i.hasOwnProperty(e)&&(null!=t[e]?s(i[e])&&!r.isArrayLike(i[e])?this._animateToShallow(n?n+"."+e:e,t[e],i[e],u,f):(h[e]=i[e],c++):null!=i[e]&&(n?(o={},o[n]={},o[n][e]=i[e],this.attr(o)):this.attr(e,i[e])));return c>0&&this.animate(n,!1).when(null==u?500:u,h).delay(f||0),this}};n.exports=f},function(n){function t(){this.on("mousedown",this._dragStart,this);this.on("mousemove",this._drag,this);this.on("mouseup",this._dragEnd,this);this.on("globalout",this._dragEnd,this)}t.prototype={constructor:t,_dragStart:function(n){var t=n.target;t&&t.draggable&&(this._draggingTarget=t,t.dragging=!0,this._x=n.offsetX,this._y=n.offsetY,this.dispatchToElement(t,"dragstart",n.event))},_drag:function(n){var i=this._draggingTarget,t,r;if(i){var u=n.offsetX,f=n.offsetY,e=u-this._x,o=f-this._y;this._x=u;this._y=f;i.drift(e,o,n);this.dispatchToElement(i,"drag",n.event);t=this.findHover(u,f,i);r=this._dropTarget;this._dropTarget=t;i!==t&&(r&&t!==r&&this.dispatchToElement(r,"dragleave",n.event),t&&t!==r&&this.dispatchToElement(t,"dragenter",n.event))}},_dragEnd:function(n){var t=this._draggingTarget;t&&(t.dragging=!1);this.dispatchToElement(t,"dragend",n.event);this._dropTarget&&this.dispatchToElement(this._dropTarget,"drop",n.event);this._draggingTarget=null;this._dropTarget=null}};n.exports=t},function(n,t,i){function c(n,t,i,e,o,c,l,a,v,y,w){var d=v*(f/180),b=u(d)*(n-i)/2+r(d)*(t-e)/2,k=-1*r(d)*(n-i)/2+u(d)*(t-e)/2,it=b*b/(l*l)+k*k/(a*a);it>1&&(l*=s(it),a*=s(it));var ft=(o===c?-1:1)*s((l*l*a*a-l*l*k*k-a*a*b*b)/(l*l*k*k+a*a*b*b))||0,nt=ft*l*k/a,tt=ft*-a*b/l,et=(n+i)/2+u(d)*nt-r(d)*tt,ot=(t+e)/2+r(d)*nt+u(d)*tt,st=p([1,0],[(b-nt)/l,(k-tt)/a]),rt=[(b-nt)/l,(k-tt)/a],ut=[(-1*b-nt)/l,(-1*k-tt)/a],g=p(rt,ut);h(rt,ut)<=-1&&(g=f);h(rt,ut)>=1&&(g=0);0===c&&g>0&&(g-=2*f);1===c&&g<0&&(g+=2*f);w.addData(y,et,ot,l,a,st,g,d,c)}function w(n){var b,nt,g,p,w,tt,it,rt,ut,ft,v,y,h,l;if(!n)return[];for(nt=n.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,","),b=0;b<o.length;b++)nt=nt.replace(new RegExp(o[b],"g"),"|"+o[b]);var k,et=nt.split("|"),r=0,u=0,e=new a,s=a.CMD;for(b=1;b<et.length;b++){var f,ot=et[b],d=ot.charAt(0),i=0,t=ot.slice(1).replace(/e,-/g,"e-").split(",");for(t.length>0&&""===t[0]&&t.shift(),g=0;g<t.length;g++)t[g]=parseFloat(t[g]);for(;i<t.length&&!isNaN(t[i])&&!isNaN(t[0]);){v=r;y=u;switch(d){case"l":r+=t[i++];u+=t[i++];f=s.L;e.addData(f,r,u);break;case"L":r=t[i++];u=t[i++];f=s.L;e.addData(f,r,u);break;case"m":r+=t[i++];u+=t[i++];f=s.M;e.addData(f,r,u);d="l";break;case"M":r=t[i++];u=t[i++];f=s.M;e.addData(f,r,u);d="L";break;case"h":r+=t[i++];f=s.L;e.addData(f,r,u);break;case"H":r=t[i++];f=s.L;e.addData(f,r,u);break;case"v":u+=t[i++];f=s.L;e.addData(f,r,u);break;case"V":u=t[i++];f=s.L;e.addData(f,r,u);break;case"C":f=s.C;e.addData(f,t[i++],t[i++],t[i++],t[i++],t[i++],t[i++]);r=t[i-2];u=t[i-1];break;case"c":f=s.C;e.addData(f,t[i++]+r,t[i++]+u,t[i++]+r,t[i++]+u,t[i++]+r,t[i++]+u);r+=t[i-2];u+=t[i-1];break;case"S":p=r;w=u;h=e.len();l=e.data;k===s.C&&(p+=r-l[h-4],w+=u-l[h-3]);f=s.C;v=t[i++];y=t[i++];r=t[i++];u=t[i++];e.addData(f,p,w,v,y,r,u);break;case"s":p=r;w=u;h=e.len();l=e.data;k===s.C&&(p+=r-l[h-4],w+=u-l[h-3]);f=s.C;v=r+t[i++];y=u+t[i++];r+=t[i++];u+=t[i++];e.addData(f,p,w,v,y,r,u);break;case"Q":v=t[i++];y=t[i++];r=t[i++];u=t[i++];f=s.Q;e.addData(f,v,y,r,u);break;case"q":v=t[i++]+r;y=t[i++]+u;r+=t[i++];u+=t[i++];f=s.Q;e.addData(f,v,y,r,u);break;case"T":p=r;w=u;h=e.len();l=e.data;k===s.Q&&(p+=r-l[h-4],w+=u-l[h-3]);r=t[i++];u=t[i++];f=s.Q;e.addData(f,p,w,r,u);break;case"t":p=r;w=u;h=e.len();l=e.data;k===s.Q&&(p+=r-l[h-4],w+=u-l[h-3]);r+=t[i++];u+=t[i++];f=s.Q;e.addData(f,p,w,r,u);break;case"A":tt=t[i++];it=t[i++];rt=t[i++];ut=t[i++];ft=t[i++];v=r;y=u;r=t[i++];u=t[i++];f=s.A;c(v,y,r,u,ut,ft,tt,it,rt,f,e);break;case"a":tt=t[i++];it=t[i++];rt=t[i++];ut=t[i++];ft=t[i++];v=r;y=u;r+=t[i++];u+=t[i++];f=s.A;c(v,y,r,u,ut,ft,tt,it,rt,f,e)}}"z"!==d&&"Z"!==d||(f=s.Z,e.addData(f));k=f}return e.toStatic(),e}function l(n,t){var i,r=w(n);return t=t||{},t.buildPath=function(n){n.setData(r.data);i&&b(n,i);var t=n.getContext();t&&n.rebuildPath(t)},t.applyTransform=function(n){i||(i=v.create());v.mul(i,n,i);this.dirty(!0)},t}var e=i(8),a=i(30),b=i(179),v=i(19),o=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"],s=Math.sqrt,r=Math.sin,u=Math.cos,f=Math.PI,y=function(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])},h=function(n,t){return(n[0]*t[0]+n[1]*t[1])/(y(n)*y(t))},p=function(n,t){return(n[0]*t[1]<n[1]*t[0]?-1:1)*Math.acos(h(n,t))};n.exports={createFromString:function(n,t){return new e(l(n,t))},extendFromString:function(n,t){return e.extend(l(n,t))},mergePath:function(n,t){for(var i,u,f=[],o=n.length,r=0;r<o;r++)i=n[r],i.__dirty&&i.buildPath(i.path,i.shape,!0),f.push(i.path);return u=new e(t),u.buildPath=function(n){n.appendPath(f);var t=n.getContext();t&&n.rebuildPath(t)},u}}},function(n,t,i){function e(n,t){for(var v,l,a,e=n.data,b=r.M,k=r.C,d=r.L,g=r.R,nt=r.A,tt=r.Q,i,o=0,c=0;o<e.length;){switch(v=e[o++],c=o,l=0,v){case b:l=1;break;case d:l=1;break;case k:l=3;break;case tt:l=2;break;case nt:var it=t[4],rt=t[5],y=f(t[0]*t[0]+t[1]*t[1]),p=f(t[2]*t[2]+t[3]*t[3]),w=h(-t[1]/p,t[0]/y);e[o++]+=it;e[o++]+=rt;e[o++]*=y;e[o++]*=p;e[o++]+=w;e[o++]+=w;o+=2;c=o;break;case g:i[0]=e[o++];i[1]=e[o++];u(i,i,t);e[c++]=i[0];e[c++]=i[1];i[0]+=e[o++];i[1]+=e[o++];u(i,i,t);e[c++]=i[0];e[c++]=i[1]}for(a=0;a<l;a++)i=s[a],i[0]=e[o++],i[1]=e[o++],u(i,i,t),e[c++]=i[0],e[c++]=i[1]}}var r=i(30).CMD,o=i(5),u=o.applyTransform,s=[[],[],[]],f=Math.sqrt,h=Math.atan2;n.exports=e},function(n,t,i){var o;if(!i(9).canvasSupported){var u,f="urn:schemas-microsoft-com:vml",s=window,r=s.document,e=!1;try{r.namespaces.zrvml||r.namespaces.add("zrvml",f);u=function(n){return r.createElement("<zrvml:"+n+' class="zrvml">')}}catch(h){u=function(n){return r.createElement("<"+n+' xmlns="'+f+'" class="zrvml">')}}o=function(){if(!e){e=!0;var n=r.styleSheets;n.length<31?r.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):n[0].addRule(".zrvml","behavior:url(#default#VML)")}};n.exports={doc:r,initVML:o,createNode:u}}},function(n,t,i){"use strict";function u(n){return null==n.value?n:n.value}var f=i(14),e=i(25),o=i(308),r=i(1),s={_baseAxisDim:null,getInitialData:function(n,t){var i,r,c=t.getComponent("xAxis",this.get("xAxisIndex")),l=t.getComponent("yAxis",this.get("yAxisIndex")),a=c.get("type"),v=l.get("type"),o,s,h;return"category"===a?(n.layout="horizontal",i=c.getCategories(),r=!0):"category"===v?(n.layout="vertical",i=l.getCategories(),r=!0):n.layout=n.layout||"horizontal",this._baseAxisDim="horizontal"===n.layout?"x":"y",o=n.data,s=this.dimensions=["base"].concat(this.valueDimensions),e(s,o),h=new f(s,this),h.initData(o,i?i.slice():null,function(n,t,i,f){var e=u(n);return r?"base"===t?i:e[f-1]:e[f]}),h},coordDimToDataDim:function(n){var t=this.valueDimensions.slice(),i=["base"],r={horizontal:{x:i,y:t},vertical:{x:t,y:i}};return r[this.get("layout")][n]},dataDimToCoordDim:function(n){var t;return r.each(["x","y"],function(i){var u=this.coordDimToDataDim(i);r.indexOf(u,n)>=0&&(t=i)},this),t},getBaseAxis:function(){var n=this._baseAxisDim;return this.ecModel.getComponent(n+"Axis",this.get(n+"AxisIndex")).axis}},h={init:function(){var n=this._whiskerBoxDraw=new o(this.getStyleUpdater());this.group.add(n.group)},render:function(n){this._whiskerBoxDraw.updateData(n.getData())},remove:function(){this._whiskerBoxDraw.remove()}};n.exports={seriesModelMixin:s,viewMixin:h}},function(n,t,i){function l(n,t,i){var u=this._targetInfoList=[],f={},o=a(t,n);r(it,function(n,t){(!i||!i.include||e(i.include,t)>=0)&&n(o,u,f)})}function s(n){return n[0]>n[1]&&n.reverse(),n}function a(n,t){return nt.parseFinder(n,t,{includeMainTypes:tt})}function v(n,t,i,r){var f=i.getAxis(["x","y"][n]),o=s(u.map([0,1],function(n){return t?f.coordToData(f.toLocalCoord(r[n])):f.toGlobalCoord(f.dataToCoord(r[n]))})),e=[];return e[n]=o,e[1-n]=[NaN,NaN],{values:o,xyMinMax:e}}function y(n,t,i,r){return[t[0]-r[n]*i[0],t[1]-r[n]*i[1]]}function d(n,t){var r=p(n),u=p(t),i=[r[0]/u[0],r[1]/u[1]];return isNaN(i[0])&&(i[0]=1),isNaN(i[1])&&(i[1]=1),i}function p(n){return n?[n[0][1]-n[0][0],n[1][1]-n[1][0]]:[NaN,NaN]}var u=i(1),g=i(3),nt=i(6),r=u.each,e=u.indexOf,o=u.curry,h=["dataToPoint","pointToData"],tt=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],f=l.prototype;f.setOutputRanges=function(n,t){this.matchOutputRanges(n,t,function(n,t,i){if((n.coordRanges||(n.coordRanges=[])).push(t),!n.coordRange){n.coordRange=t;var r=c[n.brushType](0,i,t);n.__rangeOffset={offset:k[n.brushType](r.values,n.range,[1,1]),xyMinMax:r.xyMinMax}}})};f.matchOutputRanges=function(n,t,i){r(n,function(n){var r=this.findTargetInfo(n,t);r&&r!==!0&&u.each(r.coordSyses,function(r){var u=c[n.brushType](1,r,n.range);i(n,u.values,r,t)})},this)};f.setInputRanges=function(n,t){r(n,function(n){var i=this.findTargetInfo(n,t),r,u;(n.range=n.range||[],i&&i!==!0)&&(n.panelId=i.panelId,r=c[n.brushType](0,i.coordSys,n.coordRange),u=n.__rangeOffset,n.range=u?k[n.brushType](r.values,u.offset,d(r.xyMinMax,u.xyMinMax)):r.values)},this)};f.makePanelOpts=function(n){return u.map(this._targetInfoList,function(t){return{panelId:t.panelId,rect:t.getPanelRect(),defaultBrushType:n&&n(t)}})};f.controlSeries=function(n,t,i){var r=this.findTargetInfo(n,i);return r===!0||r&&e(r.coordSyses,t.coordinateSystem)>=0};f.findTargetInfo=function(n,t){for(var r,u,f=this._targetInfoList,e=a(t,n),i=0;i<f.length;i++)if(r=f[i],u=n.panelId,u){if(r.panelId===u)return r}else for(i=0;i<w.length;i++)if(w[i](e,r))return r;return!0};var it={grid:function(n,t){var u=n.xAxisModels,f=n.yAxisModels,h=n.gridModels,i={},o={},s={};(u||f||h)&&(r(u,function(n){var t=n.axis.grid.model;i[t.id]=t;o[t.id]=!0}),r(f,function(n){var t=n.axis.grid.model;i[t.id]=t;s[t.id]=!0}),r(h,function(n){i[n.id]=n;o[n.id]=!0;s[n.id]=!0}),r(i,function(n){var h=n.coordinateSystem,i=[];r(h.getCartesians(),function(n){(e(u,n.getAxis("x").model)>=0||e(f,n.getAxis("y").model)>=0)&&i.push(n)});t.push({panelId:"grid--"+n.id,gridModel:n,coordSys:i[0],coordSyses:i,getPanelRect:b.grid,xAxisDeclared:o[n.id],yAxisDeclared:s[n.id]})}))},geo:function(n,t){r(n.geoModels,function(n){var i=n.coordinateSystem;t.push({panelId:"geo--"+n.id,geoModel:n,coordSys:i,coordSyses:[i],getPanelRect:b.geo})})}},w=[function(n,t){var r=n.xAxisModel,u=n.yAxisModel,i=n.gridModel;return!i&&r&&(i=r.axis.grid.model),!i&&u&&(i=u.axis.grid.model),i&&i===t.gridModel},function(n,t){var i=n.geoModel;return i&&i===t.geoModel}],b={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var n=this.coordSys,t=n.getBoundingRect().clone();return t.applyTransform(g.getTransform(n)),t}},c={lineX:o(v,0),lineY:o(v,1),rect:function(n,t,i){var r=t[h[n]]([i[0][0],i[1][0]]),u=t[h[n]]([i[0][1],i[1][1]]),f=[s([r[0],u[0]]),s([r[1],u[1]])];return{values:f,xyMinMax:f}},polygon:function(n,t,i){var r=[[1/0,-(1/0)],[1/0,-(1/0)]],f=u.map(i,function(i){var u=t[h[n]](i);return r[0][0]=Math.min(r[0][0],u[0]),r[1][0]=Math.min(r[1][0],u[1]),r[0][1]=Math.max(r[0][1],u[0]),r[1][1]=Math.max(r[1][1],u[1]),u});return{values:f,xyMinMax:r}}},k={lineX:o(y,0),lineY:o(y,1),rect:function(n,t,i){return[[n[0][0]-i[0]*t[0][0],n[0][1]-i[0]*t[0][1]],[n[1][0]-i[1]*t[1][0],n[1][1]-i[1]*t[1][1]]]},polygon:function(n,t,i){return u.map(n,function(n,r){return[n[0]-i[0]*t[r][0],n[1]-i[1]*t[r][1]]})}};n.exports=l},function(n,t,i){function h(n,t){var h=n.get("boundingCoords"),f,e,i;null!=h&&(f=h[0],e=h[1],isNaN(f[0])||isNaN(f[1])||isNaN(e[0])||isNaN(e[1])||this.setBoundingRect(f[0],f[1],e[0]-f[0],e[1]-f[1]));var c,y=this.getBoundingRect(),r=n.get("layoutCenter"),u=n.get("layoutSize"),a=t.getWidth(),v=t.getHeight(),w=n.get("aspectScale")||.75,o=y.width/y.height*w,p=!1;r&&u&&(r=[s.parsePercent(r[0],a),s.parsePercent(r[1],v)],u=s.parsePercent(u,Math.min(a,v)),isNaN(r[0])||isNaN(r[1])||isNaN(u)||(p=!0));p?(i={},o>1?(i.width=u,i.height=u/o):(i.height=u,i.width=u*o),i.y=r[1]-i.height/2,i.x=r[0]-i.width/2):(c=n.getBoxLayoutParams(),c.aspect=o,i=l.getLayoutRect(c,{width:a,height:v}));this.setViewRect(i.x,i.y,i.width,i.height);this.setCenter(n.get("center"));this.setZoom(n.get("zoom"))}function c(n,t){r.each(t.get("geoCoord"),function(t,i){n.addGeoCoord(i,t)})}var o=i(391),l=i(12),r=i(1),s=i(4),e={},u={dimensions:o.prototype.dimensions,create:function(n,t){var u=[],i;return n.eachComponent("geo",function(n,i){var s=n.get("map"),f=e[s],r=new o(s+i,s,f&&f.geoJson,f&&f.specialAreas,n.get("nameMap"));r.zoomLimit=n.get("scaleLimit");u.push(r);c(r,n);n.coordinateSystem=r;r.model=n;r.resize=h;r.resize(n,t)}),n.eachSeries(function(n){var i=n.get("coordinateSystem"),t;"geo"===i&&(t=n.get("geoIndex")||0,n.coordinateSystem=u[t])}),i={},n.eachSeriesByType("map",function(n){if(!n.getHostGeoModel()){var t=n.getMapType();i[t]=i[t]||[];i[t].push(n)}}),r.each(i,function(n,i){var s=e[i],l=r.map(n,function(n){return n.get("nameMap")}),f=new o(i,i,s&&s.geoJson,s&&s.specialAreas,r.mergeAll(l));f.zoomLimit=r.retrieve.apply(null,r.map(n,function(n){return n.get("scaleLimit")}));u.push(f);f.resize=h;f.resize(n[0],t);r.each(n,function(n){n.coordinateSystem=f;c(f,n)})}),u},registerMap:function(n,t,i){t.geoJson&&!t.features&&(i=t.specialAreas,t=t.geoJson);"string"==typeof t&&(t="undefined"!=typeof JSON&&JSON.parse?JSON.parse(t):new Function("return ("+t+");")());e[n]={geoJson:t,specialAreas:i}},getMap:function(n){return e[n]},getFilledRegions:function(n,t){var r=(n||[]).slice(),e=u.getMap(t),o=e&&e.geoJson,i,f;if(!o)return n;for(var s={},h=o.features,i=0;i<r.length;i++)s[r[i].name]=r[i];for(i=0;i<h.length;i++)f=h[i].properties.name,s[f]||r.push({name:f});return r}},f=i(2);f.registerMap=u.registerMap;f.getMap=u.getMap;f.parseGeoJSON=i(258);f.loadMap=function(){};f.registerCoordinateSystem("geo",u);n.exports=u},function(n,t,i){function f(n){if(n)for(var t in n)if(n.hasOwnProperty(t))return!0}var r=i(1),u=i(79),e=r.each,o={createVisualMappings:function(n,t,i){function o(){var n=function(){};return n.prototype.__hidden=n.prototype,new n}var f={};return e(t,function(t){var s=f[t]=o();e(n[t],function(n,f){if(u.isValidType(f)){var e={type:f,visual:n};i&&i(e,t);s[f]=new u(e);"opacity"===f&&(e=r.clone(e),e.type="colorAlpha",s.__hidden.__alphaForOpacity=new u(e))}})}),f},replaceVisualOption:function(n,t,i){var u;r.each(i,function(n){t.hasOwnProperty(n)&&f(t[n])&&(u=!0)});u&&r.each(i,function(i){t.hasOwnProperty(i)&&f(t[i])?n[i]=r.clone(t[i]):delete n[i]})},applyVisual:function(n,t,i,f,e,o){function l(n){return i.getItemVisual(s,n)}function a(n,t){i.setItemVisual(s,n,t)}function h(n,r){var u,v;if(s=null==o?n:r,u=i.getRawDataItem(s),!u||u.visualMap!==!1)for(var y=f.call(e,n),p=t[y],w=c[y],h=0,b=w.length;h<b;h++)v=w[h],p[v]&&p[v].applyVisual(n,l,a)}var c={},s;r.each(n,function(n){var i=u.prepareVisualTypes(t[n]);c[n]=i});null==o?i.each(h,!0):i.each([o],h,!0)}};n.exports=o},function(n){function h(){throw new Error("setTimeout has not been defined");}function c(){throw new Error("clearTimeout has not been defined");}function l(n){if(i===setTimeout)return setTimeout(n,0);if((i===h||!i)&&setTimeout)return i=setTimeout,setTimeout(n,0);try{return i(n,0)}catch(t){try{return i.call(null,n,0)}catch(t){return i.call(this,n,0)}}}function y(n){if(r===clearTimeout)return clearTimeout(n);if((r===c||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(n);try{return r(n)}catch(t){try{return r.call(null,n)}catch(t){return r.call(this,n)}}}function p(){o&&e&&(o=!1,e.length?u=e.concat(u):s=-1,u.length&&a())}function a(){var t,n;if(!o){for(t=l(p),o=!0,n=u.length;n;){for(e=u,u=[];++s<n;)e&&e[s].run();s=-1;n=u.length}e=null;o=!1;y(t)}}function v(n,t){this.fun=n;this.array=t}function f(){}var i,r,t=n.exports={};!function(){try{i="function"==typeof setTimeout?setTimeout:h}catch(n){i=h}try{r="function"==typeof clearTimeout?clearTimeout:c}catch(n){r=c}}();var e,u=[],o=!1,s=-1;t.nextTick=function(n){var i=new Array(arguments.length-1),t;if(arguments.length>1)for(t=1;t<arguments.length;t++)i[t-1]=arguments[t];u.push(new v(n,i));1!==u.length||o||l(a)};v.prototype.run=function(){this.fun.apply(null,this.array)};t.title="browser";t.browser=!0;t.env={};t.argv=[];t.version="";t.versions={};t.on=f;t.addListener=f;t.once=f;t.off=f;t.removeListener=f;t.removeAllListeners=f;t.emit=f;t.binding=function(){throw new Error("process.binding is not supported");};t.cwd=function(){return"/"};t.chdir=function(){throw new Error("process.chdir is not supported");};t.umask=function(){return 0}},function(n,t,i){function u(){this.group=new f.Group;this._symbolEl=new o({})}var f=i(3),e=i(24),o=f.extendShape({shape:{points:null,sizes:null},symbolProxy:null,buildPath:function(n,t){for(var u,i,e=t.points,s=t.sizes,o=this.symbolProxy,r=o.shape,f=0;f<e.length;f++)u=e[f],i=s[f],i[0]<4?n.rect(u[0]-i[0]/2,u[1]-i[1]/2,i[0],i[1]):(r.x=u[0]-i[0]/2,r.y=u[1]-i[1]/2,r.width=i[0],r.height=i[1],o.buildPath(n,r,!0))},findDataIndex:function(n,t){for(var u=this.shape,f=u.points,h=u.sizes,i=f.length-1;i>=0;i--){var e=f[i],r=h[i],o=e[0]-r[0]/2,s=e[1]-r[1]/2;if(n>=o&&t>=s&&n<=o+r[0]&&t<=s+r[1])return i}return-1}}),r=u.prototype;r.updateData=function(n){var t,i,r;this.group.removeAll();t=this._symbolEl;i=n.hostModel;t.setShape({points:n.mapArray(n.getItemLayout),sizes:n.mapArray(function(t){var i=n.getItemVisual(t,"symbolSize");return i instanceof Array||(i=[i,i]),i})});t.symbolProxy=e.createSymbol(n.getVisual("symbol"),0,0,0,0);t.setColor=t.symbolProxy.setColor;t.useStyle(i.getModel("itemStyle.normal").getItemStyle(["color"]));r=n.getVisual("color");r&&t.setColor(r);t.seriesIndex=i.seriesIndex;t.on("mousemove",function(n){t.dataIndex=null;var i=t.findDataIndex(n.offsetX,n.offsetY);i>0&&(t.dataIndex=i)});this.group.add(t)};r.updateLayout=function(n){var t=n.getData();this._symbolEl.setShape({points:t.mapArray(t.getItemLayout)})};r.remove=function(){this.group.removeAll()};n.exports=u},function(n,t,i){function r(n){return isNaN(+n.cpx1)||isNaN(+n.cpy1)}var u=i(3),o=i(5),e=u.Line.prototype,f=u.BezierCurve.prototype;n.exports=u.extendShape({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(n,t){(r(t)?e:f).buildPath(n,t)},pointAt:function(n){return r(this.shape)?e.pointAt.call(this,n):f.pointAt.call(this,n)},tangentAt:function(n){var t=this.shape,i=r(t)?[t.x2-t.x1,t.y2-t.y1]:f.tangentAt.call(this,n);return o.normalize(i,i)}})},function(n,t,i){var r=i(1),u=i(2);i(189);i(190);u.registerVisual(r.curry(i(50),"scatter","circle",null));u.registerLayout(r.curry(i(59),"scatter"));i(32)},function(n,t,i){"use strict";var r=i(27),u=i(18);n.exports=u.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis"],getInitialData:function(n,t){return r(n.data,this,t)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{normal:{opacity:.8}}}})},function(n,t,i){var r=i(44),u=i(186);i(2).extendChartView({type:"scatter",init:function(){this._normalSymbolDraw=new r;this._largeSymbolDraw=new u},render:function(n){var r=n.getData(),i=this._largeSymbolDraw,u=this._normalSymbolDraw,f=this.group,t=n.get("large")&&r.count()>n.get("largeThreshold")?i:u;this._symbolDraw=t;t.updateData(r);f.add(t.group);f.remove(t===i?u.group:i.group)},updateLayout:function(n){this._symbolDraw.updateLayout(n)},remove:function(n,t){this._symbolDraw&&this._symbolDraw.remove(t,!0)},dispose:function(){}})},function(n,t,i){var r=i(2),u=r.extendComponentModel({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,textStyle:{color:"#fff"},padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}});n.exports=u},function(n,t,i){var r=i(120),u=i(2).extendComponentView({type:"axisPointer",render:function(n,t,i){var u=t.getComponent("tooltip"),f=n.get("triggerOn")||u&&u.get("triggerOn")||"mousemove|click";r.register("axisPointer",i,function(n,t,i){"none"!==f&&("leave"===n||f.indexOf(n)>=0)&&i({type:"updateAxisPointer",currTrigger:n,x:t&&t.offsetX,y:t&&t.offsetY})})},remove:function(n,t){r.disopse(t.getZr(),"axisPointer");u.superApply(this._model,"remove",arguments)},dispose:function(n,t){r.unregister("axisPointer",t);u.superApply(this._model,"dispose",arguments)}})},function(n,t,i){function l(n,t,i,u,h,c,l,a){var g=null!=i.x&&null!=i.y?[i.x,i.y]:nt({seriesIndex:i.seriesIndex,dataIndex:i.dataIndex},h).point;var rt=n.axesInfo,ot="leave"===t||s(g),it={},tt={},ut={list:[],map:{}},ft=[],et={showPointer:f(v,tt),showTooltip:f(y,ut),highlight:f(p,ft)};return r(n.coordSysMap,function(t,u){var f=t.containPoint(g);r(n.coordSysAxesInfo[u],function(n){var t=n.axis;ot||!f||d(i,t)||e(n,t.pointToData(g),et,!1,it)})}),r(rt,function(n,t){var i=n.linkGroup;i&&!tt[t]&&r(i.axesInfo,function(t,r){var f=tt[r],u;t!==n&&f&&(u=f.value,i.mapper&&(u=n.axis.scale.parse(i.mapper(u,o(t),o(n)))),e(n,u,et,!0,it))})}),w(tt,rt),b(ut,g,l,u),k(ft,u,c,a),it}function e(n,t,i,r,f){var s=n.axis;if(!s.scale.isBlank()&&s.containData(t)){if(!n.involveSeries)return void i.showPointer(n,t);var h=a(t,n),e=h.payloadBatch,o=h.snapToValue;e[0]&&null==f.seriesIndex&&u.extend(f,e[0]);!r&&n.snap&&s.containData(o)&&null!=o&&(t=o);i.highlight("highlight",e);i.showPointer(n,t,e);i.showTooltip(n,h,o)}}function a(n,t){var i=t.axis,s=i.dim,e=n,u=[],f=Number.MAX_VALUE,o=-1;return r(t.seriesModels,function(t){var h,c,v=t.coordDimToDataDim(s),y,l,a;if(t.getAxisTooltipData)y=t.getAxisTooltipData(v,n,i),c=y.dataIndices,h=y.nestestValue;else{if(c=t.getData().indexOfNearest(v[0],n,!1,"category"===i.type?.5:null),!c.length)return;h=t.getData().get(v[0],c[0])}null!=h&&isFinite(h)&&(l=n-h,a=Math.abs(l),a<=f&&((a<f||l>=0&&o<0)&&(f=a,o=l,e=h,u.length=0),r(c,function(n){u.push({seriesIndex:t.seriesIndex,dataIndexInside:n,dataIndex:t.getData().getRawIndex(n)})})))}),{payloadBatch:u,snapToValue:e}}function v(n,t,i,r){n[t.key]={value:i,payloadBatch:r}}function y(n,t,i,r){var o=i.payloadBatch,s=t.axis,e=s.model,h=t.axisPointerModel;if(t.triggerTooltip&&o.length){var u=t.coordSys.model,c=g.makeKey(u),f=n.map[c];f||(f=n.map[c]={coordSysId:u.id,coordSysIndex:u.componentIndex,coordSysType:u.type,coordSysMainType:u.mainType,dataByAxis:[]},n.list.push(f));f.dataByAxis.push({axisDim:s.dim,axisIndex:e.componentIndex,axisType:e.type,axisId:e.id,value:r,valueLabelOpt:{precision:h.get("label.precision"),formatter:h.get("label.formatter")},seriesDataIndices:o.slice()})}}function p(n,t,i){n.push.apply(n,i)}function w(n,t){r(t,function(t,i){var r=t.axisPointerModel.option,u=n[i];u?(!t.useHandle&&(r.status="show"),r.value=u.value,r.seriesDataIndices=(u.payloadBatch||[]).slice()):!t.useHandle&&(r.status="hide")})}function b(n,t,i,r){if(s(t)||!n.list.length)return void r({type:"hideTip"});var u=((n.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:i,dataIndexInside:u.dataIndexInside,dataIndex:u.dataIndex,seriesIndex:u.seriesIndex,dataByCoordSys:n.list})}function k(n,t,i,r){var h=i.getZr(),s,f,e,o;r="lastHighlights"+(r||"");s=c(h)[r]||{};f=c(h)[r]={};u.each(n,function(n){var t=n.seriesIndex+" | "+n.dataIndex;f[t]=n});e=[];o=[];u.each(s,function(n,t){f[t]||o.push(n)});u.each(f,function(n,t){s[t]||e.push(n)});o.length&&i.dispatchAction({type:"downplay",escapeConnect:!0,batch:o});e.length&&i.dispatchAction({type:"highlight",escapeConnect:!0,batch:e})}function d(n,t){var i=1;return r(n,function(n,t){i&=!/^.+(AxisId|AxisName|AxisIndex)$/.test(t)}),!i&&r([["AxisId","id"],["AxisIndex","componentIndex"],["AxisName","name"]],function(r){var f=h.normalizeToArray(n[t.dim+r[0]]);i|=u.indexOf(f,t.model[r[1]])>=0}),!i}function o(n){var i=n.axis.model,t={},r=t.axisDim=n.axis.dim;return t.axisIndex=t[r+"AxisIndex"]=i.componentIndex,t.axisName=t[r+"AxisName"]=i.name,t.axisId=t[r+"AxisId"]=i.id,t}function s(n){return null==n[0]||isNaN(n[0])||null==n[1]||isNaN(n[1])}var u=i(1),h=i(6),g=i(45),nt=i(119),r=u.each,f=u.curry,c=h.makeGetter();n.exports=l},function(n,t,i){i(124);i(46);i(47);i(200);i(201);i(196);i(197);i(122);i(121)},function(n,t,i){function s(n,t,i){var u=[1/0,-(1/0)];return r(i,function(n){var i=n.getData();i&&r(n.coordDimToDataDim(t),function(n){var t=i.getDataExtent(n);t[0]<u[0]&&(u[0]=t[0]);t[1]>u[1]&&(u[1]=t[1])})}),u[1]<u[0]&&(u=[NaN,NaN]),h(n,u),u}function h(n,t){var i=n.getAxisModel(),u=i.getMin(!0),f="category"===i.get("type"),e=f&&(i.get("data")||[]).length,r;return null!=u&&"dataMin"!==u?t[0]=u:f&&(t[0]=e>0?0:NaN),r=i.getMax(!0),null!=r&&"dataMax"!==r?t[1]=r:f&&(t[1]=e>0?e-1:NaN),i.get("scale",!0)||(t[0]>0&&(t[0]=0),t[1]<0&&(t[1]=0)),t}function e(n,t){var o=n.getAxisModel(),i=n._percentWindow,r=n._valueWindow,f,e;i&&(f=u.getPixelPrecision(r,[0,500]),e=t||0===i[0]&&100===i[1],o.setRange(e?null:+r[0].toFixed(f),e?null:+r[1].toFixed(f)))}var c=i(1),u=i(4),l=i(74),r=c.each,o=u.asc,f=function(n,t,i,r){this._dimName=n;this._axisIndex=t;this._valueWindow;this._percentWindow;this._dataExtent;this.ecModel=r;this._dataZoomModel=i};f.prototype={constructor:f,hostedBy:function(n){return this._dataZoomModel===n},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var n=[],t=this.ecModel;return t.eachSeries(function(i){if(l.isCoordSupported(i.get("coordinateSystem"))){var r=this._dimName,u=t.queryComponents({mainType:r+"Axis",index:i.get(r+"AxisIndex"),id:i.get(r+"AxisId")})[0];this._axisIndex===(u&&u.componentIndex)&&n.push(i)}},this),n},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var i,n,t=this._dimName,u=this.ecModel,f=this.getAxisModel(),e="x"===t||"y"===t,r;return e?(n="gridIndex",i="x"===t?"y":"x"):(n="polarIndex",i="angle"===t?"radius":"angle"),u.eachComponent(i+"Axis",function(t){(t.get(n)||0)===(f.get(n)||0)&&(r=t)}),r},calculateDataWindow:function(n){var e=this._dataExtent,h=this.getAxisModel(),s=h.axis.scale,c=this._dataZoomModel.getRangePropMode(),i=[0,100],f=[n.start,n.end],t=[];return r(["startValue","endValue"],function(i){t.push(null!=n[i]?s.parse(n[i]):null)}),r([0,1],function(n){var o=t[n],r=f[n];"percent"===c[n]?(null==r&&(r=i[n]),o=s.parse(u.linearMap(r,i,e,!0))):r=u.linearMap(o,e,i,!0);t[n]=o;f[n]=r}),{valueWindow:o(t),percentWindow:o(f)}},reset:function(n){if(n===this._dataZoomModel){this._dataExtent=s(this,this._dimName,this.getTargetSeriesModels());var t=this.calculateDataWindow(n.option);this._valueWindow=t.valueWindow;this._percentWindow=t.percentWindow;e(this)}},restore:function(n){n===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,e(this,!0))},filterData:function(n){function t(n){return n>=u[0]&&n<=u[1]}if(n===this._dataZoomModel){var e=this._dimName,o=this.getTargetSeriesModels(),i=n.get("filterMode"),u=this._valueWindow,f=this.getOtherAxisModel();n.get("$fromToolbox")&&f&&"category"===f.get("type")&&(i="empty");r(o,function(n){var u=n.getData();u&&r(n.coordDimToDataDim(e),function(r){"empty"===i?n.setData(u.map(r,function(n){return t(n)?n:NaN})):u.filterSelf(r,t)})})}}};n.exports=f},function(n,t,i){n.exports=i(46).extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1}})},function(n,t,i){function s(n){var t=[0,100];return!(n[0]<=t[1])&&(n[0]=t[1]),!(n[1]<=t[1])&&(n[1]=t[1]),!(n[0]>=t[0])&&(n[0]=t[0]),!(n[1]>=t[0])&&(n[1]=t[0]),n}var h=i(47),u=i(1),c=i(91),r=i(202),e=u.bind,f=h.extend({type:"dataZoom.inside",init:function(){this._range},render:function(n,t,i,o){f.superApply(this,"render",arguments);r.shouldRecordRange(o,n.id)&&(this._range=n.getPercentRange());u.each(this.getTargetCoordInfo(),function(t,f){var o=u.map(t,function(n){return r.generateCoordId(n.model)});u.each(t,function(t){var u=t.model;r.register(i,{coordId:r.generateCoordId(u),allCoordIds:o,containsPoint:function(n,t){return u.coordinateSystem.containPoint([n,t])},dataZoomId:n.id,throttleRate:n.get("throttle",!0),panGetRange:e(this._onPan,this,t,f),zoomGetRange:e(this._onZoom,this,t,f)})},this)},this)},dispose:function(){r.unregister(this.api,this.dataZoomModel.id);f.superApply(this,"dispose",arguments);this._range=null},_onPan:function(n,t,i,r,u,f,e,s,h){var l,v,a,y;return this.dataZoomModel.option.disabled?this._range:(l=this._range.slice(),v=n.axisModels[0],v?(a=o[t]([f,e],[s,h],v,i,n),y=a.signal*(l[1]-l[0])*a.pixel/a.pixelLength,c(y,l,[0,100],"rigid"),this._range=l):void 0)},_onZoom:function(n,t,i,r,u,f){var a=this.dataZoomModel.option,e,l,c,h;return a.disabled||a.zoomLock?this._range:(e=this._range.slice(),l=n.axisModels[0],l?(c=o[t](null,[u,f],l,i,n),h=(c.pixel-c.pixelStart)/c.pixelLength*(e[1]-e[0])+e[0],r=Math.max(1/r,0),e[0]=(e[0]-h)*r+h,e[1]=(e[1]-h)*r+h,this._range=s(e)):void 0)}}),o={grid:function(n,t,i,r,u){var o=i.axis,f={},e=u.model.coordinateSystem.getRect();return n=n||[0,0],"x"===o.dim?(f.pixel=t[0]-n[0],f.pixelLength=e.width,f.pixelStart=e.x,f.signal=o.inverse?1:-1):(f.pixel=t[1]-n[1],f.pixelLength=e.height,f.pixelStart=e.y,f.signal=o.inverse?-1:1),f},polar:function(n,t,i,r,u){var h=i.axis,f={},e=u.model.coordinateSystem,o=e.getRadiusAxis().getExtent(),s=e.getAngleAxis().getExtent();return n=n?e.pointToCoord(n):[0,0],t=e.pointToCoord(t),"radiusAxis"===i.mainType?(f.pixel=t[0]-n[0],f.pixelLength=o[1]-o[0],f.pixelStart=o[0],f.signal=h.inverse?1:-1):(f.pixel=t[1]-n[1],f.pixelLength=s[1]-s[0],f.pixelStart=s[0],f.signal=h.inverse?-1:1),f},singleAxis:function(n,t,i,r,u){var o=i.axis,e=u.model.coordinateSystem.getRect(),f={};return n=n||[0,0],"horizontal"===o.orient?(f.pixel=t[0]-n[0],f.pixelLength=e.width,f.pixelStart=e.x,f.signal=o.inverse?1:-1):(f.pixel=t[1]-n[1],f.pixelLength=e.height,f.pixelStart=e.y,f.signal=o.inverse?-1:1),f}};n.exports=f},function(n,t,i){var r=i(46);n.exports=r.extend({type:"dataZoom.select"})},function(n,t,i){n.exports=i(47).extend({type:"dataZoom.select"})},function(n,t,i){var r=i(46),u=r.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}});n.exports=u},function(n,t,i){function d(n){return{x:"y",y:"x",radius:"angle",angle:"radius"}[n]}var f=i(1),r=i(3),h=i(43),g=i(47),c=r.Rect,l=i(4),e=l.linearMap,p=i(12),nt=i(91),w=i(21),a=l.asc,u=f.bind,v=f.each,b=7,tt=1,y=30,o="horizontal",k="vertical",it=5,rt=["line","bar","candlestick","scatter"],s=g.extend({type:"dataZoom.slider",init:function(n,t){this._displayables={};this._orient;this._range;this._handleEnds;this._size;this._handleWidth;this._handleHeight;this._location;this._dragging;this._dataShadowInfo;this.api=t},render:function(n,t,i,r){return s.superApply(this,"render",arguments),h.createOrUpdate(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=n.get("orient"),this.dataZoomModel.get("show")===!1?void this.group.removeAll():(r&&"dataZoom"===r.type&&r.from===this.uid||this._buildView(),void this._updateView())},remove:function(){s.superApply(this,"remove",arguments);h.clear(this,"_dispatchZoomAction")},dispose:function(){s.superApply(this,"dispose",arguments);h.clear(this,"_dispatchZoomAction")},_buildView:function(){var n=this.group,t;n.removeAll();this._resetLocation();this._resetInterval();t=this._displayables.barGroup=new r.Group;this._renderBackground();this._renderHandle();this._renderDataShadow();n.add(t);this._positionGroup()},_resetLocation:function(){var u=this.dataZoomModel,e=this.api,n=this._findCoordRect(),i={width:e.getWidth(),height:e.getHeight()},s=this._orient===o?{right:i.width-n.x-n.width,top:i.height-y-b,width:n.width,height:y}:{right:b,top:n.y,width:y,height:n.height},r=p.getLayoutParams(u.option),t;f.each(["right","top","width","height"],function(n){"ph"===r[n]&&(r[n]=s[n])});t=p.getLayoutRect(r,i,u.padding);this._location={x:t.x,y:t.y};this._size=[t.width,t.height];this._orient===k&&this._size.reverse()},_positionGroup:function(){var u=this.group,f=this._location,t=this._orient,e=this.dataZoomModel.getFirstTargetAxisModel(),i=e&&e.get("inverse"),s=this._displayables.barGroup,n=(this._dataShadowInfo||{}).otherAxisInverse,r;s.attr(t!==o||i?t===o&&i?{scale:n?[-1,1]:[-1,-1]}:t!==k||i?{scale:n?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:n?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:n?[1,1]:[1,-1]});r=u.getBoundingRect([s]);u.attr("position",[f.x-r.x,f.y-r.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var t=this.dataZoomModel,n=this._size;this._displayables.barGroup.add(new c({silent:!0,shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:t.get("backgroundColor")},z2:-40}))},_renderDataShadow:function(){var c=this._dataShadowInfo=this._prepareDataShadowInfo(),n,v,h;if(c){var o=this._size,l=c.series,s=l.getRawData(),a=l.getShadowDim?l.getShadowDim():c.otherDim;if(null!=a){n=s.getDataExtent(a);v=.3*(n[1]-n[0]);n=[n[0]-v,n[1]+v];var y,b=[0,o[1]],k=[0,o[0]],t=[[o[0],0],[0,0]],i=[],p=k[1]/(s.count()-1),u=0,w=Math.round(s.count()/o[0]);s.each([a],function(r,f){if(w>0&&f%w)return void(u+=p);var o=null==r||isNaN(r)||""===r,s=o?0:e(r,n,b,!0);o&&!y&&f?(t.push([t[t.length-1][0],0]),i.push([i[i.length-1][0],0])):!o&&y&&(t.push([u,0]),i.push([u,0]));t.push([u,s]);i.push([u,s]);u+=p;y=o});h=this.dataZoomModel;this._displayables.barGroup.add(new r.Polygon({shape:{points:t},style:f.defaults({fill:h.get("dataBackgroundColor")},h.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20}));this._displayables.barGroup.add(new r.Polyline({shape:{points:i},style:h.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var n=this.dataZoomModel,i=n.get("showDataShadow"),t,r;if(i!==!1)return r=this.ecModel,n.eachTargetAxis(function(u,e){var o=n.getAxisProxy(u.name,e).getTargetSeriesModels();f.each(o,function(n){if(!(t||i!==!0&&f.indexOf(rt,n.get("type"))<0)){var o,s=r.getComponent(u.axis,e).axis,h=d(u.name),c=n.coordinateSystem;null!=h&&c.getOtherAxis&&(o=c.getOtherAxis(s).inverse);t={thisAxis:s,series:n,thisDim:u.name,otherDim:h,otherAxisInverse:o}}},this)},this),t},_renderHandle:function(){var t=this._displayables,o=t.handles=[],s=t.handleLabels=[],i=this._displayables.barGroup,f=this._size,n=this.dataZoomModel,e;i.add(t.filler=new c({draggable:!0,cursor:"move",drift:u(this._onDragMove,this,"all"),onmousemove:function(n){w.stop(n.event)},ondragstart:u(this._showDataInfo,this,!0),ondragend:u(this._onDragEnd,this),onmouseover:u(this._showDataInfo,this,!0),onmouseout:u(this._showDataInfo,this,!1),style:{fill:n.get("fillerColor"),textPosition:"inside"}}));i.add(new c(r.subPixelOptimizeRect({silent:!0,shape:{x:0,y:0,width:f[0],height:f[1]},style:{stroke:n.get("dataBackgroundColor")||n.get("borderColor"),lineWidth:tt,fill:"rgba(0,0,0,0)"}})));e=n.get("handleIcon");v([0,1],function(t){var f=r.makePath(e,{style:{strokeNoScale:!0},rectHover:!0,cursor:"vertical"===this._orient?"ns-resize":"ew-resize",draggable:!0,drift:u(this._onDragMove,this,t),onmousemove:function(n){w.stop(n.event)},ondragend:u(this._onDragEnd,this),onmouseover:u(this._showDataInfo,this,!0),onmouseout:u(this._showDataInfo,this,!1)},{x:-.5,y:0,width:1,height:1},"center"),a=f.getBoundingRect(),h,c;this._handleHeight=l.parsePercent(n.get("handleSize"),this._size[1]);this._handleWidth=a.width/a.height*this._handleHeight;f.setStyle(n.getModel("handleStyle").getItemStyle());h=n.get("handleColor");null!=h&&(f.style.fill=h);i.add(o[t]=f);c=n.textStyleModel;this.group.add(s[t]=new r.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",fill:c.getTextColor(),textFont:c.getFont()},z2:10}))},this)},_resetInterval:function(){var n=this._range=this.dataZoomModel.getPercentRange(),t=this._getViewExtent();this._handleEnds=[e(n[0],[0,100],t,!0),e(n[1],[0,100],t,!0)]},_updateInterval:function(n,t){var i=this._handleEnds,r=this._getViewExtent();nt(t,i,r,"all"===n||this.dataZoomModel.get("zoomLock")?"rigid":"cross",n);this._range=a([e(i[0],r,[0,100],!0),e(i[1],r,[0,100],!0)])},_updateView:function(n){var i=this._displayables,r=this._handleEnds,t=a(r.slice()),u=this._size;v([0,1],function(n){var f=i.handles[n],t=this._handleHeight;f.attr({scale:[t,t],position:[r[n],u[1]/2-t/2]})},this);i.filler.setShape({x:t[0],y:0,width:t[1]-t[0],height:u[1]});this._updateDataInfo(n)},_updateDataInfo:function(n){function i(n){var t=r.getTransform(f.handles[n].parent,this.group),i=r.transformDirection(0===n?"right":"left",t),u=this._handleWidth/2+it,h=r.applyTransform([v[n]+(0===n?-u:u),this._size[1]/2],t);y[n].setStyle({x:h[0],y:h[1],textVerticalAlign:e===o?"middle":i,textAlign:e===o?i:"center",text:s[n]})}var u=this.dataZoomModel,f=this._displayables,y=f.handleLabels,e=this._orient,s=["",""],t,v;if(u.get("showDetail")&&(t=u.findRepresentativeAxisProxy(),t)){var h=t.getAxisModel().axis,c=this._range,l=n?t.calculateDataWindow({start:c[0],end:c[1]}).valueWindow:t.getDataValueWindow();s=[this._formatLabel(l[0],h),this._formatLabel(l[1],h)]}v=a(this._handleEnds.slice());i.call(this,0);i.call(this,1)},_formatLabel:function(n,t){var e=this.dataZoomModel,i=e.get("labelFormatter"),r=e.get("labelPrecision"),u;return null!=r&&"auto"!==r||(r=t.getPixelPrecision()),u=null==n||isNaN(n)?"":"category"===t.type||"time"===t.type?t.scale.getLabel(Math.round(n)):n.toFixed(Math.min(r,20)),f.isFunction(i)?i(n,u):f.isString(i)?i.replace("{value}",u):u},_showDataInfo:function(n){n=this._dragging||n;var t=this._displayables.handleLabels;t[0].attr("invisible",!n);t[1].attr("invisible",!n)},_onDragMove:function(n,t,i){var u,r;this._dragging=!0;u=this._applyBarTransform([t,i],!0);this._updateInterval(n,u[0]);r=this.dataZoomModel.get("realtime");this._updateView(!r);r&&r&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1;this._showDataInfo(!1);this._dispatchZoomAction()},_dispatchZoomAction:function(){var n=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:n[0],end:n[1]})},_applyBarTransform:function(n,t){var i=this._displayables.barGroup.getLocalTransform();return r.applyTransform(n,i,t)},_findCoordRect:function(){var n,t,i;return(v(this.getTargetCoordInfo(),function(t){if(!n&&t.length){var i=t[0].model.coordinateSystem;n=i.getRect&&i.getRect()}}),n)||(t=this.api.getWidth(),i=this.api.getHeight(),n={x:.2*t,y:.2*i,width:.6*t,height:.6*i}),n}});n.exports=s},function(n,t,i){function u(n){var t=n.getZr();return t[s]||(t[s]={})}function h(n,t,i){var r=new v(n.getZr());return r.enable(),r.on("pan",o(c,i)),r.on("zoom",o(l,i)),r}function f(n){r.each(n,function(t,i){t.count||(t.controller.dispose(),delete n[i])})}function c(n,t,i,r,u,f,o){e(n,function(e){return e.panGetRange(n.controller,t,i,r,u,f,o)})}function l(n,t,i,r){e(n,function(u){return u.zoomGetRange(n.controller,t,i,r)})}function e(n,t){var i=[];r.each(n.dataZoomInfos,function(n){var r=t(n);r&&i.push({dataZoomId:n.dataZoomId,start:r[0],end:r[1]})});n.dispatchAction(i)}function a(n,t){n.dispatchAction({type:"dataZoom",batch:t})}var r=i(1),v=i(90),y=i(43),o=r.curry,s="\0_ec_dataZoom_roams",p={register:function(n,t){var e=u(n),o=t.dataZoomId,s=t.coordId,i;r.each(e,function(n){var i=n.dataZoomInfos;i[o]&&r.indexOf(t.allCoordIds,s)<0&&(delete i[o],n.count--)});f(e);i=e[s];i||(i=e[s]={coordId:s,dataZoomInfos:{},count:0},i.controller=h(n,t,i),i.dispatchAction=r.curry(a,n));i.controller.setContainsPoint(t.containsPoint);y.createOrUpdate(i,"dispatchAction",t.throttleRate,"fixRate");!i.dataZoomInfos[o]&&i.count++;i.dataZoomInfos[o]=t},unregister:function(n,t){var i=u(n);r.each(i,function(n){n.controller.dispose();var i=n.dataZoomInfos;i[t]&&(delete i[t],n.count--)});f(i)},shouldRecordRange:function(n,t){if(n&&"dataZoom"===n.type&&n.batch)for(var i=0,r=n.batch.length;i<r;i++)if(n.batch[i].dataZoomId===t)return!1;return!0},generateCoordId:function(n){return n.type+"\0_"+n.id}};n.exports=p},function(n,t,i){i(124);i(46);i(47);i(198);i(199);i(122);i(121)},function(n,t,i){function o(n,t,i,r){var f=i.type,e=p[f.charAt(0).toUpperCase()+f.slice(1)],u=new e(i);t.add(u);r[n]=u;u.__ecGraphicId=n}function u(n,t){var i=n&&n.parent;i&&("group"===n.type&&n.traverse(function(n){u(n,t)}),delete t[n.__ecGraphicId],i.remove(n))}function l(n){return n=r.extend({},n),r.each(["id","parentId","$action","hv","bounding"].concat(f.LOCATION_PARAMS),function(t){delete n[t]}),n}function s(n,t){var i;return r.each(t,function(t){null!=n[t]&&"auto"!==n[t]&&(i=!0)}),i}function a(n,t){var i=n.exist,r;(t.id=n.keyInfo.id,!t.type&&i&&(t.type=i.type),null==t.parentId)&&(r=t.parentOption,r?t.parentId=r.id:i&&(t.parentId=i.parentId));t.parentOption=null}function v(n,t,i){var e=r.extend({},i),u=n[t],o=i.$action||"merge";"merge"===o?u?(r.merge(u,e,!0),f.mergeLayoutParam(u,e,{ignoreSize:!0}),f.copyLayoutParams(i,u)):n[t]=e:"replace"===o?n[t]=e:"remove"===o&&u&&(n[t]=null)}function y(n,t){n&&(n.hv=t.hv=[s(t,["left","right"]),s(t,["top","bottom"])],"group"===n.type&&(null==n.width&&(n.width=t.width=0),null==n.height&&(n.height=t.height=0)))}var e=i(2),r=i(1),h=i(6),p=i(3),f=i(12),c;e.registerPreprocessor(function(n){var t=n.graphic;r.isArray(t)?n.graphic=t[0]&&t[0].elements?[n.graphic[0]]:[{elements:t}]:t&&!t.elements&&(n.graphic=[{elements:[t]}])});c=e.extendComponentModel({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(){var n=this.option.elements;this.option.elements=null;c.superApply(this,"mergeOption",arguments);this.option.elements=n},optionUpdated:function(n,t){var f=this.option,c=(t?f:n).elements,i=f.elements=t?[]:f.elements,o=[],e,s,u;for(this._flatten(c,o),e=h.mappingToExists(i,o),h.makeIdAndName(e),s=this._elOptionsToUpdate=[],r.each(e,function(n,t){var r=n.option;r&&(s.push(r),a(n,r),v(i,t,r),y(i[t],r))},this),u=i.length-1;u>=0;u--)null==i[u]?i.splice(u,1):delete i[u].$action},_flatten:function(n,t,i){r.each(n,function(n){if(n){i&&(n.parentOption=i);t.push(n);var r=n.children;"group"===n.type&&r&&this._flatten(r,t,n);delete n.children}},this)},useElOptionsToUpdate:function(){var n=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,n}});e.extendComponentView({type:"graphic",init:function(){this._elMap={};this._lastGraphicModel},render:function(n,t,i){n!==this._lastGraphicModel&&this._clear();this._lastGraphicModel=n;this._updateElements(n,i);this._relocate(n,i)},_updateElements:function(n){var i=n.useElOptionsToUpdate(),t,f;i&&(t=this._elMap,f=this.group,r.each(i,function(n){var e=n.$action,i=n.id,s=t[i],c=n.parentId,a=null!=c?t[c]:f,h;n.hv&&n.hv[1]&&"text"===n.type&&(n.style=r.defaults({textBaseline:"middle"},n.style),n.style.textVerticalAlign=null);h=l(n);e&&"merge"!==e?"replace"===e?(u(s,t),o(i,a,h,t)):"remove"===e&&u(s,t):s?s.attr(h):o(i,a,h,t);t[i]&&(t[i].__ecGraphicWidth=n.width,t[i].__ecGraphicHeight=n.height)}))},_relocate:function(n,t){for(var i,r,u,s,o=n.option.elements,h=this.group,c=this._elMap,e=o.length-1;e>=0;e--)i=o[e],r=c[i.id],r&&(u=r.parent,s=u===h?{width:t.getWidth(),height:t.getHeight()}:{width:u.__ecGraphicWidth||0,height:u.__ecGraphicHeight||0},f.positionElement(r,i,s,null,{hv:i.hv,boundingMode:i.bounding}))},_clear:function(){var n=this._elMap;r.each(n,function(t){u(t,n)});this._elMap={}},dispose:function(){this._clear()}})},function(n,t,i){i(32);i(118);i(55)},function(n,t,i){i(207);i(209);i(208);var r=i(2);r.registerProcessor(i(210))},function(n,t,i){"use strict";var r=i(1),f=i(10),u=i(2).extendComponentModel({type:"legend",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(n,t,i){this.mergeDefaultAndTheme(n,i);n.selected=n.selected||{}},mergeOption:function(n){u.superCall(this,"mergeOption",n)},optionUpdated:function(){var n,i,t,r;if(this._updateData(this.ecModel),n=this._data,n[0]&&"single"===this.get("selectedMode")){for(i=!1,t=0;t<n.length;t++)if(r=n[t].get("name"),this.isSelected(r)){this.select(r);i=!0;break}i||this.select(n[0].get("name"))}},_updateData:function(n){var i=r.map(this.get("data")||[],function(n){return"string"!=typeof n&&"number"!=typeof n||(n={name:n}),new f(n,this,this.ecModel)},this),t;this._data=i;t=r.map(n.getSeries(),function(n){return n.name});n.eachSeries(function(n){if(n.legendDataProvider){var i=n.legendDataProvider();t=t.concat(i.mapArray(i.getName))}});this._availableNames=t},getData:function(){return this._data},select:function(n){var t=this.option.selected,u=this.get("selectedMode"),i;"single"===u&&(i=this._data,r.each(i,function(n){t[n.get("name")]=!1}));t[n]=!0},unSelect:function(n){"single"!==this.get("selectedMode")&&(this.option.selected[n]=!1)},toggleSelected:function(n){var t=this.option.selected;t.hasOwnProperty(n)||(t[n]=!0);this[t[n]?"unSelect":"select"](n)},isSelected:function(n){var t=this.option.selected;return!(t.hasOwnProperty(n)&&!t[n])&&r.indexOf(this._availableNames,n)>=0},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:"top",align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:!0,tooltip:{show:!1}}});n.exports=u},function(n,t,i){function e(n,t){t.dispatchAction({type:"legendToggleSelect",name:n})}function o(n,t,i){var r=i.getZr().storage.getDisplayList()[0];r&&r.useHoverLayer||n.get("legendHoverLink")&&i.dispatchAction({type:"highlight",seriesName:n.name,name:t})}function s(n,t,i){var r=i.getZr().storage.getDisplayList()[0];r&&r.useHoverLayer||n.get("legendHoverLink")&&i.dispatchAction({type:"downplay",seriesName:n.name,name:t})}var f=i(1),h=i(24),u=i(3),c=i(127),r=f.curry;n.exports=i(2).extendComponentView({type:"legend",init:function(){this._symbolTypeStore={}},render:function(n,t,i){var a=this.group,v,h,l;(a.removeAll(),n.get("show"))&&(v=n.get("selectedMode"),h=n.get("align"),"auto"===h&&(h="right"===n.get("left")&&"vertical"===n.get("orient")?"right":"left"),l={},f.each(n.getData(),function(f){var c=f.get("name"),y,w,p;if(""===c||"\n"===c)return void a.add(new u.Group({newline:!0}));if(y=t.getSeriesByName(c)[0],!l[c])if(y){w=y.getData();p=w.getVisual("color");"function"==typeof p&&(p=p(y.getDataParams(0)));var b=w.getVisual("legendSymbol")||"roundRect",k=w.getVisual("symbol"),d=this._createItem(c,f,n,b,k,h,p,v);d.on("click",r(e,c,i)).on("mouseover",r(o,y,null,i)).on("mouseout",r(s,y,null,i));l[c]=!0}else t.eachRawSeries(function(t){var u,a;if(!l[c]&&t.legendDataProvider){if(u=t.legendDataProvider(),a=u.indexOfName(c),a<0)return;var y=u.getItemVisual(a,"color"),p=this._createItem(c,f,n,"roundRect",null,h,y,v);p.on("click",r(e,c,i)).on("mouseover",r(o,t,c,i)).on("mouseout",r(s,t,c,i));l[c]=!0}},this)},this),c.layout(a,n,i),c.addBackground(a,n))},_createItem:function(n,t,i,r,e,o,s,c){var p=i.get("itemWidth"),y=i.get("itemHeight"),w=i.get("inactiveColor"),b=i.isSelected(n),l=new u.Group,nt=t.getModel("textStyle"),tt=t.get("icon"),k=t.getModel("tooltip"),rt=k.parentModel,a,it,g;(r=tt||r,l.add(h.createSymbol(r,0,0,p,y,b?s:w)),!tt&&e&&(e!==r||"none"==e))&&(a=.8*y,"none"===e&&(e="circle"),l.add(h.createSymbol(e,(p-a)/2,(y-a)/2,a,a,b?s:w)));var ut="left"===o?p+5:-5,ft=o,v=i.get("formatter"),d=n;return"string"==typeof v&&v?d=v.replace("{name}",null!=n?n:""):"function"==typeof v&&(d=v(n)),it=new u.Text({style:{text:d,x:ut,y:y/2,fill:b?nt.getTextColor():w,textFont:nt.getFont(),textAlign:ft,textVerticalAlign:"middle"}}),l.add(it),g=new u.Rect({shape:l.getBoundingRect(),invisible:!0,tooltip:k.get("show")?f.extend({content:n,formatter:rt.get("formatter",!0)||function(){return n},formatterParams:{componentType:"legend",legendIndex:i.componentIndex,name:n,$vars:["name"]}},k.option):null}),l.add(g),l.eachChild(function(n){n.silent=!0}),g.silent=!c,this.group.add(l),u.setHoverStyle(l),l}})},function(n,t,i){function u(n,t,i){var f,u={},e="toggleSelected"===n;return i.eachComponent("legend",function(i){e&&null!=f?i[f?"select":"unSelect"](t.name):(i[n](t.name),f=i.isSelected(t.name));var o=i.getData();r.each(o,function(n){var t=n.get("name"),r;"\n"!==t&&""!==t&&(r=i.isSelected(t),u[t]=t in u?u[t]&&r:r)})}),{name:t.name,selected:u}}var f=i(2),r=i(1);f.registerAction("legendToggleSelect","legendselectchanged",r.curry(u,"toggleSelected"));f.registerAction("legendSelect","legendselected",r.curry(u,"select"));f.registerAction("legendUnSelect","legendunselected",r.curry(u,"unSelect"))},function(n){n.exports=function(n){var t=n.findComponents({mainType:"legend"});t&&t.length&&n.filterSeries(function(n){for(var i=0;i<t.length;i++)if(!t[i].isSelected(n.name))return!1;return!0})}},function(n,t,i){i(214);i(215);i(2).registerPreprocessor(function(n){n.markArea=n.markArea||{}})},function(n,t,i){i(216);i(217);i(2).registerPreprocessor(function(n){n.markLine=n.markLine||{}})},function(n,t,i){i(218);i(219);i(2).registerPreprocessor(function(n){n.markPoint=n.markPoint||{}})},function(n,t,i){n.exports=i(76).extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{normal:{show:!0,position:"top"},emphasis:{show:!0,position:"top"}},itemStyle:{normal:{borderWidth:0}}}})},function(n,t,i){function f(n){return!isNaN(n)&&!isFinite(n)}function o(n,t,i){var r=1-n;return f(t[r])&&f(i[r])}function a(n,t){var i=t.coord[0],r=t.coord[1];return!("cartesian2d"!==n.type||!i||!r||!o(1,i,r,n)&&!o(0,i,r,n))||e.dataFilter(n,{coord:i,x:t.x0,y:t.y0})||e.dataFilter(n,{coord:r,x:t.x1,y:t.y1})}function s(n,t,i,r,u){var e,o=r.coordinateSystem,v=n.getItemModel(t),s=c.parsePercent(v.get(i[0]),u.getWidth()),h=c.parsePercent(v.get(i[1]),u.getHeight()),l,a;if(isNaN(s)||isNaN(h)){if(r.getMarkerPosition?e=r.getMarkerPosition(n.getValues(i,t)):(l=n.get(i[0],t),a=n.get(i[1],t),e=o.dataToPoint([l,a],!0)),"cartesian2d"===o.type){var y=o.getAxis("x"),p=o.getAxis("y"),l=n.get(i[0],t),a=n.get(i[1],t);f(l)?e[0]=y.toGlobalCoord(y.getExtent()["x0"===i[0]?0:1]):f(a)&&(e[1]=p.toGlobalCoord(p.getExtent()["y0"===i[1]?0:1]))}isNaN(s)||(e[0]=s);isNaN(h)||(e[1]=h)}else e=[s,h];return e}function v(n,t,i){var f,u,e,o;return n?(f=r.map(n&&n.dimensions,function(n){var i=t.getData().getDimensionInfo(t.coordDimToDataDim(n)[0])||{};return i.name=n,i}),u=new h(r.map(["x0","y0","x1","y1"],function(n,t){return{name:n,type:f[t%2].type}}),i)):(f=[{name:"value",type:"float"}],u=new h(f,i)),e=r.map(i.get("data"),r.curry(p,t,n,i)),n&&(e=r.filter(e,r.curry(a,n))),o=n?function(n,t,i,r){return n.coord[Math.floor(r/2)][r%2]}:function(n){return n.value},u.initData(e,null,o),u.hasItemOption=!0,u}var r=i(1),h=i(14),c=i(4),u=i(3),y=i(22),e=i(78),p=function(n,t,i,u){var o=e.dataTransform(n,u[0]),s=e.dataTransform(n,u[1]),h=r.retrieve,c=o.coord,l=s.coord,f;return c[0]=h(c[0],-(1/0)),c[1]=h(c[1],-(1/0)),l[0]=h(l[0],1/0),l[1]=h(l[1],1/0),f=r.mergeAll([{},o,s]),f.coord=[o.coord,s.coord],f.x0=o.x,f.y0=o.y,f.x1=s.x,f.y1=s.y,f},l=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];i(77).extend({type:"markArea",updateLayout:function(n,t,i){t.eachSeries(function(n){var u=n.markAreaModel,t;u&&(t=u.getData(),t.each(function(u){var f=r.map(l,function(r){return s(t,u,r,n,i)}),e;t.setItemLayout(u,f);e=t.getItemGraphicEl(u);e.setShape("points",f)}))},this)},renderSeries:function(n,t,i,f){var a=n.coordinateSystem,h=n.name,p=n.getData(),c=this.markerGroupMap,o=c[h],e;o||(o=c[h]={group:new u.Group});this.group.add(o.group);o.__keep=!0;e=v(a,n,t);t.setData(e);e.each(function(t){e.setItemLayout(t,r.map(l,function(i){return s(e,t,i,n,f)}));e.setItemVisual(t,{color:p.getVisual("color")})});e.diff(o.__data).add(function(n){var t=new u.Polygon({shape:{points:e.getItemLayout(n)}});e.setItemGraphicEl(n,t);o.group.add(t)}).update(function(n,i){var r=o.__data.getItemGraphicEl(i);u.updateProps(r,{shape:{points:e.getItemLayout(n)}},t,n);o.group.add(r);e.setItemGraphicEl(n,r)}).remove(function(n){var t=o.__data.getItemGraphicEl(n);o.group.remove(t)}).execute();e.eachItemGraphicEl(function(n,i){var f=e.getItemModel(i),c=f.getModel("label.normal"),l=f.getModel("label.emphasis"),o=e.getItemVisual(i,"color"),s,h;n.useStyle(r.defaults(f.getModel("itemStyle.normal").getItemStyle(),{fill:y.modifyAlpha(o,.4),stroke:o}));n.hoverStyle=f.getModel("itemStyle.normal").getItemStyle();s=e.getName(i)||"";h=o||n.style.fill;c.getShallow("show")?(u.setText(n.style,c,h),n.style.text=r.retrieve(t.getFormattedLabel(i,"normal"),s)):n.style.text="";l.getShallow("show")?(u.setText(n.hoverStyle,l,h),n.hoverStyle.text=r.retrieve(t.getFormattedLabel(i,"emphasis"),s)):n.hoverStyle.text="";u.setHoverStyle(n,{});n.dataModel=t});o.__data=e;o.group.silent=t.get("silent")||n.get("silent")}})},function(n,t,i){n.exports=i(76).extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"end"},emphasis:{show:!0}},lineStyle:{normal:{type:"dashed"},emphasis:{width:3}},animationEasing:"linear"}})},function(n,t,i){function f(n){return!isNaN(n)&&!isFinite(n)}function s(n,t,i,r){var u=1-n,e=r.dimensions[n];return f(t[u])&&f(i[u])&&t[n]===i[n]&&r.getAxis(e).containData(t[n])}function c(n,t){if("cartesian2d"===n.type){var i=t[0].coord,r=t[1].coord;if(i&&r&&(s(1,i,r,n)||s(0,i,r,n)))return!0}return u.dataFilter(n,t[0])&&u.dataFilter(n,t[1])}function e(n,t,i,r,u){var e,o=r.coordinateSystem,a=n.getItemModel(t),c=h.parsePercent(a.get("x"),u.getWidth()),l=h.parsePercent(a.get("y"),u.getHeight());if(isNaN(c)||isNaN(l)){if(r.getMarkerPosition)e=r.getMarkerPosition(n.getValues(n.dimensions,t));else{var s=o.dimensions,p=n.get(s[0],t),w=n.get(s[1],t);e=o.dataToPoint([p,w])}if("cartesian2d"===o.type){var v=o.getAxis("x"),y=o.getAxis("y"),s=o.dimensions;f(n.get(s[0],t))?e[0]=v.toGlobalCoord(v.getExtent()[i?0:1]):f(n.get(s[1],t))&&(e[1]=y.toGlobalCoord(y.getExtent()[i?0:1]))}isNaN(c)||(e[0]=c);isNaN(l)||(e[1]=l)}else e=[c,l];n.setItemLayout(t,e)}function l(n,t,i){var e,h;e=n?r.map(n&&n.dimensions,function(n){var i=t.getData().getDimensionInfo(t.coordDimToDataDim(n)[0])||{};return i.name=n,i}):[{name:"value",type:"float"}];var l=new o(e,i),a=new o(e,i),s=new o([],i),f=r.map(i.get("data"),r.curry(v,t,n,i));return n&&(f=r.filter(f,r.curry(c,n))),h=n?u.dimValueGetter:function(n){return n.value},l.initData(r.map(f,function(n){return n[0]}),null,h),a.initData(r.map(f,function(n){return n[1]}),null,h),s.initData(r.map(f,function(n){return n[2]})),s.hasItemOption=!0,{from:l,to:a,line:s}}var r=i(1),o=i(14),h=i(4),u=i(78),a=i(105),v=function(n,t,i,f){var y=n.getData(),o=f.type,p,s,e,l,v;if(!r.isArray(f)&&("min"===o||"max"===o||"average"===o||null!=f.xAxis||null!=f.yAxis)){null!=f.yAxis||null!=f.xAxis?(s=null!=f.yAxis?"y":"x",p=t.getAxis(s),e=r.retrieve(f.yAxis,f.xAxis)):(l=u.getAxisInfo(f,y,t,n),s=l.valueDataDim,p=l.valueAxis,e=u.numCalculate(y,s,o));var a="x"===s?0:1,w=1-a,h=r.clone(f),c={};h.type=null;h.coord=[];c.coord=[];h.coord[w]=-(1/0);c.coord[w]=1/0;v=i.get("precision");v>=0&&"number"==typeof e&&(e=+e.toFixed(v));h.coord[a]=c.coord[a]=e;f=[h,c,{type:o,valueIndex:f.valueIndex,value:e}]}return f=[u.dataTransform(n,f[0]),u.dataTransform(n,f[1]),r.extend({},f[2])],f[2].type=f[2].type||"",r.merge(f[2],f[0]),r.merge(f[2],f[1]),f};i(77).extend({type:"markLine",updateLayout:function(n,t,i){t.eachSeries(function(n){var t=n.markLineModel;if(t){var u=t.getData(),r=t.__from,f=t.__to;r.each(function(t){e(r,t,!0,n,i);e(f,t,!1,n,i)});u.each(function(n){u.setItemLayout(n,[r.getItemLayout(n),f.getItemLayout(n)])});this.markerGroupMap[n.name].updateLayout()}},this)},renderSeries:function(n,t,i,u){function p(t,i,r){var f=t.getItemModel(i);e(t,i,r,n,u);t.setItemVisual(i,{symbolSize:f.get("symbolSize")||c[r?0:1],symbol:f.get("symbol",!0)||h[r?0:1],color:f.get("itemStyle.normal.color")||d.getVisual("color")})}var k=n.coordinateSystem,w=n.name,d=n.getData(),b=this.markerGroupMap,o=b[w],h,c;o||(o=b[w]=new a);this.group.add(o.group);var v=l(k,n,t),s=v.from,y=v.to,f=v.line;t.__from=s;t.__to=y;t.setData(f);h=t.get("symbol");c=t.get("symbolSize");r.isArray(h)||(h=[h,h]);"number"==typeof c&&(c=[c,c]);v.from.each(function(n){p(s,n,!0);p(y,n,!1)});f.each(function(n){var t=f.getItemModel(n).get("lineStyle.normal.color");f.setItemVisual(n,{color:t||s.getItemVisual(n,"color")});f.setItemLayout(n,[s.getItemLayout(n),y.getItemLayout(n)]);f.setItemVisual(n,{fromSymbolSize:s.getItemVisual(n,"symbolSize"),fromSymbol:s.getItemVisual(n,"symbol"),toSymbolSize:y.getItemVisual(n,"symbolSize"),toSymbol:y.getItemVisual(n,"symbol")})});o.updateData(f);v.line.eachItemGraphicEl(function(n){n.traverse(function(n){n.dataModel=t})});o.__keep=!0;o.group.silent=t.get("silent")||n.get("silent")}})},function(n,t,i){n.exports=i(76).extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"inside"},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:2}}}})},function(n,t,i){function f(n,t,i){var r=t.coordinateSystem;n.each(function(u){var f,h=n.getItemModel(u),o=e.parsePercent(h.get("x"),i.getWidth()),s=e.parsePercent(h.get("y"),i.getHeight()),c,l;isNaN(o)||isNaN(s)?t.getMarkerPosition?f=t.getMarkerPosition(n.getValues(n.dimensions,u)):r&&(c=n.get(r.dimensions[0],u),l=n.get(r.dimensions[1],u),f=r.dataToPoint([c,l])):f=[o,s];isNaN(o)||(f[0]=o);isNaN(s)||(f[1]=s);n.setItemLayout(u,f)})}function o(n,t,i){var o,e,f;return o=n?r.map(n&&n.dimensions,function(n){var i=t.getData().getDimensionInfo(t.coordDimToDataDim(n)[0])||{};return i.name=n,i}):[{name:"value",type:"float"}],e=new h(o,i),f=r.map(i.get("data"),r.curry(u.dataTransform,t)),n&&(f=r.filter(f,r.curry(u.dataFilter,n))),e.initData(f,null,n?u.dimValueGetter:function(n){return n.value}),e}var s=i(44),r=i(1),e=i(4),h=i(14),u=i(78);i(77).extend({type:"markPoint",updateLayout:function(n,t,i){t.eachSeries(function(n){var t=n.markPointModel;t&&(f(t.getData(),n,i),this.markerGroupMap[n.name].updateLayout(t))},this)},renderSeries:function(n,t,i,r){var l=n.coordinateSystem,h=n.name,a=n.getData(),c=this.markerGroupMap,e=c[h],u;e||(e=c[h]=new s);u=o(l,n,t);t.setData(u);f(t.getData(),n,r);u.each(function(n){var r=u.getItemModel(n),i=r.getShallow("symbolSize");"function"==typeof i&&(i=i(t.getRawValue(n),t.getDataParams(n)));u.setItemVisual(n,{symbolSize:i,color:r.get("itemStyle.normal.color")||a.getVisual("color"),symbol:r.getShallow("symbol")})});e.updateData(u);this.group.add(e.group);u.eachItemGraphicEl(function(n){n.traverse(function(n){n.dataModel=t})});e.__keep=!0;e.group.silent=t.get("silent")||n.get("silent")}})},function(n,t,i){"use strict";var u=i(2),r=i(3),f=i(12);u.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}});u.extendComponentView({type:"title",render:function(n,t,i){var o,v,u,w,h,b,k;if(this.group.removeAll(),n.get("show")){var c=this.group,d=n.getModel("textStyle"),g=n.getModel("subtextStyle"),s=n.get("textAlign"),e=n.get("textBaseline"),l=new r.Text({style:{text:n.get("text"),textFont:d.getFont(),fill:d.getTextColor()},z2:10}),tt=l.getBoundingRect(),nt=n.get("subtext"),a=new r.Text({style:{text:nt,textFont:g.getFont(),fill:g.getTextColor(),y:tt.height+n.get("itemGap"),textBaseline:"top"},z2:10}),y=n.get("link"),p=n.get("sublink");l.silent=!y;a.silent=!p;y&&l.on("click",function(){window.open(y,"_"+n.get("target"))});p&&a.on("click",function(){window.open(p,"_"+n.get("subtarget"))});c.add(l);nt&&c.add(a);o=c.getBoundingRect();v=n.getBoxLayoutParams();v.width=o.width;v.height=o.height;u=f.getLayoutRect(v,{width:i.getWidth(),height:i.getHeight()},n.get("padding"));s||(s=n.get("left")||n.get("right"),"middle"===s&&(s="center"),"right"===s?u.x+=u.width:"center"===s&&(u.x+=u.width/2));e||(e=n.get("top")||n.get("bottom"),"center"===e&&(e="middle"),"bottom"===e?u.y+=u.height:"middle"===e&&(u.y+=u.height/2),e=e||"top");c.attr("position",[u.x,u.y]);w={textAlign:s,textVerticalAlign:e};l.setStyle(w);a.setStyle(w);o=c.getBoundingRect();h=u.margin;b=n.getItemStyle(["color","opacity"]);b.fill=n.get("backgroundColor");k=new r.Rect({shape:{x:o.x-h[3],y:o.y-h[0],width:o.width+h[1]+h[3],height:o.height+h[0]+h[2]},style:b,silent:!0});r.subPixelOptimizeRect(k);c.add(k)}}})},function(n,t,i){i(222);i(223);i(228);i(226);i(224);i(225);i(227)},function(n,t,i){var f=i(28),r=i(1),u=i(2).extendComponentModel({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},mergeDefaultAndTheme:function(){u.superApply(this,"mergeDefaultAndTheme",arguments);r.each(this.option.feature,function(n,t){var i=f.get(t);i&&r.merge(n,i.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{normal:{borderColor:"#666",color:"none"},emphasis:{borderColor:"#3E98C5"}}}});n.exports=u},function(n,t,i){(function(){function f(n){return 0===n.indexOf("my")}var e=i(28),t=i(1),r=i(3),o=i(10),s=i(48),u=i(127),h=i(16);n.exports=i(2).extendComponentView({type:"toolbox",render:function(n,i,c,l){function p(t,r){var u,s=y[t],a=y[r],p=w[s],h=new o(p,n,n.ecModel),v;if(s&&!a){if(f(s))u={model:h,onclick:h.option.onclick,featureName:s};else{if(v=e.get(s),!v)return;u=new v(h,i,c)}b[s]=u}else{if(u=b[a],!u)return;u.model=h;u.ecModel=i;u.api=c}return!s&&a?void(u.dispose&&u.dispose(i,c)):!h.get("show")||u.unusable?void(u.remove&&u.remove(i,c)):(k(h,u,s),h.setIconStatus=function(n,t){var i=this.option,r=this.iconPaths;i.iconStatus=i.iconStatus||{};i.iconStatus[n]=t;r[n]&&r[n].trigger(t)},void(u.render&&u.render(h,i,c,l)))}function k(u,f,e){var h=u.getModel("iconStyle"),o=f.getIcons?f.getIcons():u.get("icon"),s=u.get("title")||{},l,y,p;"string"==typeof o&&(l=o,y=s,o={},s={},o[e]=l,s[e]=y);p=u.iconPaths={};t.each(o,function(e,o){var w=h.getModel("normal").getItemStyle(),b=h.getModel("emphasis").getItemStyle(),y={x:-v/2,y:-v/2,width:v,height:v},l=0===e.indexOf("image://")?(y.image=e.slice(8),new r.Image({style:y})):r.makePath(e.replace("path://",""),{style:w,hoverStyle:b,rectHover:!0},y,"center");r.setHoverStyle(l);n.get("showTitle")&&(l.__title=s[o],l.on("mouseover",function(){var n=h.getModel("emphasis").getItemStyle();l.setStyle({text:s[o],textPosition:n.textPosition||"bottom",textFill:n.fill||n.stroke||"#000",textAlign:n.textAlign||"center"})}).on("mouseout",function(){l.setStyle({textFill:null})}));l.trigger(u.get("iconStatus."+o)||"normal");a.add(l);l.on("click",t.bind(f.onclick,f,i,c,o));p[o]=l})}var a=this.group;if(a.removeAll(),n.get("show")){var v=+n.get("itemSize"),w=n.get("feature")||{},b=this._features||(this._features={}),y=[];t.each(w,function(n,t){y.push(t)});new s(this._featureNames||[],y).add(p).update(p).remove(t.curry(p,null)).execute();this._featureNames=y;u.layout(a,n,c);u.addBackground(a,n);a.eachChild(function(n){var u=n.__title,t=n.hoverStyle,r;if(t&&u){var i=h.getBoundingRect(u,t.font),f=n.position[0]+a.position[0],o=n.position[1]+a.position[1]+v,e=!1;o+i.height>c.getHeight()&&(t.textPosition="top",e=!0);r=e?-5-i.height:v+8;f+i.width/2>c.getWidth()?(t.textPosition=["100%",r],t.textAlign="right"):f-i.width/2<0&&(t.textPosition=[0,r],t.textAlign="left")}})}},updateView:function(n,i,r,u){t.each(this._features,function(n){n.updateView&&n.updateView(n.model,i,r,u)})},updateLayout:function(n,i,r,u){t.each(this._features,function(n){n.updateLayout&&n.updateLayout(n.model,i,r,u)})},remove:function(n,i){t.each(this._features,function(t){t.remove&&t.remove(n,i)});this.group.removeAll()},dispose:function(n,i){t.each(this._features,function(t){t.dispose&&t.dispose(n,i)})}})}).call(t,i(185))},function(n,t,i){function c(n){var t={},i=[],r=[];return n.eachRawSeries(function(n){var f=n.coordinateSystem,u,e;f&&("cartesian2d"===f.type||"polar"===f.type)?(u=f.getBaseAxis(),"category"===u.type?(e=u.dim+"_"+u.index,t[e]||(t[e]={categoryAxis:u,valueAxis:f.getOtherAxis(u),series:[]},r.push({axisDim:u.dim,axisIndex:u.index})),t[e].series.push(n)):i.push(n)):i.push(n)}),{seriesGroupByCategoryAxis:t,other:i,meta:r}}function l(n){var t=[];return r.each(n,function(n){var h=n.categoryAxis,c=n.valueAxis,l=c.dim,a=[" "].concat(r.map(n.series,function(n){return n.name})),i=[h.model.getCategories()],o,f,s,e;for(r.each(n.series,function(n){i.push(n.getRawData().mapArray(l,function(n){return n}))}),o=[a.join(u)],f=0;f<i[0].length;f++){for(s=[],e=0;e<i.length;e++)s.push(i[e][f]);o.push(s.join(u))}t.push(o.join("\n"))}),t.join("\n\n"+s+"\n\n")}function a(n){return r.map(n,function(n){var t=n.getRawData(),i=[n.name],r=[];return t.each(t.dimensions,function(){for(var f=arguments.length,o=arguments[f-1],e=t.getName(o),n=0;n<f-1;n++)r[n]=arguments[n];i.push((e?e+u:"")+r.join(u))}),i.join("\n")}).join("\n\n"+s+"\n\n")}function v(n){var t=c(n);return{value:r.filter([l(t.seriesGroupByCategoryAxis),a(t.other)],function(n){return n.replace(/[\n\t\s]/g,"")}).join("\n\n"+s+"\n\n"),meta:t.meta}}function e(n){return n.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function y(n){var t=n.slice(0,n.indexOf("\n"));if(t.indexOf(u)>=0)return!0}function p(n){for(var u,t,f=n.split(/\n+/g),c=e(f.shift()).split(h),s=[],o=r.map(c,function(n){return{name:n,data:[]}}),i=0;i<f.length;i++)for(u=e(f[i]).split(h),s.push(u.shift()),t=0;t<u.length;t++)o[t]&&(o[t].data[i]=u[t]);return{series:o,categories:s}}function w(n){for(var f,o=n.split(/\n+/g),l=e(o.shift()),i=[],t=0;t<o.length;t++){var r,u=e(o[t]).split(h),s="",c=!1;for(isNaN(u[0])?(c=!0,s=u[0],u=u.slice(1),i[t]={name:s,value:[]},r=i[t].value):r=i[t]=[],f=0;f<u.length;f++)r.push(+u[f]);1===r.length&&(c?i[t].value=r[0]:i[t]=r[0])}return{name:l,data:i}}function b(n,t){var u=n.split(new RegExp("\n*"+s+"\n*","g")),i={series:[]};return r.each(u,function(n,r){var u;if(y(n)){var u=p(n),f=t[r],e=f.axisDim+"Axis";f&&(i[e]=i[e]||[],i[e][f.axisIndex]={data:u.categories},i.series=i.series.concat(u.series))}else u=w(n),i.series.push(u)}),i}function f(n){this._dom=null;this.model=n}function k(n,t){return r.map(n,function(n,i){var u=t&&t[i];return r.isObject(u)&&!r.isArray(u)?(r.isObject(n)&&!r.isArray(n)&&(n=n.value),r.defaults({value:n},u)):n})}var r=i(1),o=i(21),s=new Array(60).join("-"),u="\t",h=new RegExp("["+u+"]+","g");f.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:"数据视图",lang:["数据视图","关闭","刷新"],backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};f.prototype.onclick=function(n,t){function d(){a.removeChild(e);rt._dom=null}var a=t.getDom(),i=this.model,e,h,y,s,f,c,it,l,rt;this._dom&&a.removeChild(this._dom);e=document.createElement("div");e.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;";e.style.backgroundColor=i.get("backgroundColor")||"#fff";h=document.createElement("h4");y=i.get("lang")||[];h.innerHTML=y[0]||i.get("title");h.style.cssText="margin: 10px 20px;";h.style.color=i.get("textColor");s=document.createElement("div");f=document.createElement("textarea");s.style.cssText="display:block;width:100%;overflow:auto;";var g=i.get("optionToContent"),nt=i.get("contentToOption"),tt=v(n);"function"==typeof g?(c=g(t.getOption()),"string"==typeof c?s.innerHTML=c:r.isDom(c)&&s.appendChild(c)):(s.appendChild(f),f.readOnly=i.get("readOnly"),f.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",f.style.color=i.get("textColor"),f.style.borderColor=i.get("textareaBorderColor"),f.style.backgroundColor=i.get("textareaColor"),f.value=tt.value);it=tt.meta;l=document.createElement("div");l.style.cssText="position:absolute;bottom:0;left:0;right:0;";var p="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",w=document.createElement("div"),k=document.createElement("div");p+=";background-color:"+i.get("buttonColor");p+=";color:"+i.get("buttonTextColor");rt=this;o.addEventListener(w,"click",d);o.addEventListener(k,"click",function(){var n;try{n="function"==typeof nt?nt(s,t.getOption()):b(f.value,it)}catch(i){throw d(),new Error("Data view format error "+i);}n&&t.dispatchAction({type:"changeDataView",newOption:n});d()});w.innerHTML=y[1];k.innerHTML=y[2];k.style.cssText=p;w.style.cssText=p;!i.get("readOnly")&&l.appendChild(k);l.appendChild(w);o.addEventListener(f,"keydown",function(n){if(9===(n.keyCode||n.which)){var t=this.value,i=this.selectionStart,r=this.selectionEnd;this.value=t.substring(0,i)+u+t.substring(r);this.selectionStart=this.selectionEnd=i+1;o.stop(n)}});e.appendChild(h);e.appendChild(s);e.appendChild(l);s.style.height=a.clientHeight-80+"px";a.appendChild(e);this._dom=e};f.prototype.remove=function(n,t){this._dom&&t.getDom().removeChild(this._dom)};f.prototype.dispose=function(n,t){this.remove(n,t)};i(28).register("dataView",f);i(2).registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(n,t){var i=[];r.each(n.newOption.series,function(n){var u=t.getSeriesByName(n.name)[0],f;u?(f=u.get("data"),i.push({name:n.name,data:k(n.data,f)})):i.push(r.extend({type:"scatter"},n))});t.mergeOption(r.defaults({series:i},n.newOption))});n.exports=f},function(n,t,i){"use strict";function f(n,t,i){(this._brushController=new y(i.getZr())).on("brush",r.bind(this._onBrush,this)).mount();this._isZoomActive}function o(n){var t={};return r.each(["xAxisIndex","yAxisIndex"],function(i){t[i]=n[i];null==t[i]&&(t[i]="all");(t[i]===!1||"none"===t[i])&&(t[i]=[])}),t}function a(n,t){n.setIconStatus("back",e.count(t)>1?"emphasis":"normal")}function v(n,t,i,r){var u=i._isZoomActive,f;r&&"takeGlobalCursor"===r.type&&(u="dataZoomSelect"===r.key&&r.dataZoomSelectActive);i._isZoomActive=u;n.setIconStatus("zoom",u?"emphasis":"normal");f=new s(o(n.option),t,{include:["grid"]});i._brushController.setPanels(f.makePanelOpts(function(n){return n.xAxisDeclared&&!n.yAxisDeclared?"lineX":!n.xAxisDeclared&&n.yAxisDeclared?"lineY":"rect"})).enableBrush(!!u&&{brushType:"auto",brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}})}var r=i(1),y=i(125),s=i(182),e=i(123),h=r.each,c,u,l;i(203);c="\0_ec_\0toolbox-dataZoom_";f.defaultOption={show:!0,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:{zoom:"区域缩放",back:"区域缩放还原"}};u=f.prototype;u.render=function(n,t,i,r){this.model=n;this.ecModel=t;this.api=i;v(n,t,this,r);a(n,t)};u.onclick=function(n,t,i){l[i].call(this)};u.remove=function(){this._brushController.unmount()};u.dispose=function(){this._brushController.dispose()};l={zoom:function(){var n=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:n})},back:function(){this._dispatchZoomAction(e.pop(this.ecModel))}};u._onBrush=function(n,t){function u(n,t,u){var f=h(n,t.getAxis(n).model,i);f&&(r[f.id]={dataZoomId:f.id,startValue:u[0],endValue:u[1]})}function h(n,t,i){var r;return i.eachComponent({mainType:"dataZoom",subType:"select"},function(i){var u=i.getAxisModel(n,t.componentIndex);u&&(r=i)}),r}var r,i,f;t.isEnd&&n.length&&(r={},i=this.ecModel,this._brushController.updateCovers([]),f=new s(o(this.model.option),i,{include:["grid"]}),f.matchOutputRanges(n,i,function(n,t,i){if("cartesian2d"===i.type){var r=n.brushType;"rect"===r?(u("x",i,t[0]),u("y",i,t[1])):u({lineX:"x",lineY:"y"}[r],i,t)}}),e.push(i,r),this._dispatchZoomAction(r))};u._dispatchZoomAction=function(n){var t=[];h(n,function(n){t.push(r.clone(n))});t.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:t})};i(28).register("dataZoom",f);i(2).registerPreprocessor(function(n){function f(n,t){if(t){var f=n+"Index",u=t[f];null==u||"all"==u||r.isArray(u)||(u=u===!1||"none"===u?[]:[u]);e(n,function(t,e){if(null==u||"all"==u||r.indexOf(u,e)!==-1){var o={type:"select",$fromToolbox:!0,id:c+n+e};o[f]=e;i.push(o)}})}}function e(t,i){var u=n[t];r.isArray(u)||(u=u?[u]:[]);h(u,i)}var i,t,u;n&&(i=n.dataZoom||(n.dataZoom=[]),r.isArray(i)||(n.dataZoom=i=[i]),t=n.toolbox,t&&(r.isArray(t)&&(t=t[0]),t&&t.feature)&&(u=t.feature.dataZoom,f("xAxis",u),f("yAxis",u)))});n.exports=f},function(n,t,i){"use strict";function u(n){this.model=n}var r=i(1),f,e,o,s;u.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"},option:{},seriesIndex:{}};f=u.prototype;f.getIcons=function(){var n=this.model,t=n.get("icon"),i={};return r.each(n.get("type"),function(n){t[n]&&(i[n]=t[n])}),i};e={line:function(n,t,i,u){if("bar"===n)return r.merge({id:t,type:"line",data:i.get("data"),stack:i.get("stack"),markPoint:i.get("markPoint"),markLine:i.get("markLine")},u.get("option.line")||{},!0)},bar:function(n,t,i,u){if("line"===n)return r.merge({id:t,type:"bar",data:i.get("data"),stack:i.get("stack"),markPoint:i.get("markPoint"),markLine:i.get("markLine")},u.get("option.bar")||{},!0)},stack:function(n,t,i,u){if("line"===n||"bar"===n)return r.merge({id:t,stack:"__ec_magicType_stack__"},u.get("option.stack")||{},!0)},tiled:function(n,t,i,u){if("line"===n||"bar"===n)return r.merge({id:t,stack:""},u.get("option.tiled")||{},!0)}};o=[["line","bar"],["stack","tiled"]];f.onclick=function(n,t,i){var f=this.model,s=f.get("seriesIndex."+i),u,h;e[i]&&(u={series:[]},h=function(t){var v=t.subType,y=t.id,c=e[i](v,y,t,f),s,l,a;if(c&&(r.defaults(c,t.option),u.series.push(c)),s=t.coordinateSystem,s&&"cartesian2d"===s.type&&("line"===i||"bar"===i)&&(l=s.getAxesByScale("ordinal")[0],l)){var p=l.dim,o=p+"Axis",w=n.queryComponents({mainType:o,index:t.get(name+"Index"),id:t.get(name+"Id")})[0],h=w.componentIndex;for(u[o]=u[o]||[],a=0;a<=h;a++)u[o][h]=u[o][h]||{};u[o][h].boundaryGap="bar"===i}},r.each(o,function(n){r.indexOf(n,i)>=0&&r.each(n,function(n){f.setIconStatus(n,"normal")})}),f.setIconStatus(i,"emphasis"),n.eachComponent({mainType:"series",query:null==s?null:{seriesIndex:s}},h),t.dispatchAction({type:"changeMagicType",currentType:i,newOption:u}))};s=i(2);s.registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(n,t){t.mergeOption(n.newOption)});i(28).register("magicType",u);n.exports=u},function(n,t,i){"use strict";function r(n){this.model=n}var f=i(123),u;r.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:"还原"};u=r.prototype;u.onclick=function(n,t){f.clear(n);t.dispatchAction({type:"restore",from:this.uid})};i(28).register("restore",r);i(2).registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(n,t){t.resetOption("recreate")});n.exports=r},function(n,t,i){function r(n){this.model=n}var u=i(9),f;r.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:"保存为图片",type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:["右键另存为图片"]};r.prototype.unusable=!u.canvasSupported;f=r.prototype;f.onclick=function(n,t){var i=this.model,h=i.get("name")||n.get("title.0.text")||"echarts",r=document.createElement("a"),e=i.get("type",!0)||"png",f,s;if(r.download=h+"."+e,r.target="_blank",f=t.getConnectedDataURL({type:e,backgroundColor:i.get("backgroundColor",!0)||n.get("backgroundColor")||"#fff",excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")}),r.href=f,"function"!=typeof MouseEvent||u.browser.ie||u.browser.edge){var o=i.get("lang"),c='<body style="margin:0;"><img src="'+f+'" style="max-width:100%;" title="'+(o&&o[0]||"")+'" /><\/body>',l=window.open();l.document.write(c)}else s=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1}),r.dispatchEvent(s)};i(28).register("saveAsImage",r);n.exports=r},function(n,t,i){i(55);i(231);i(232);i(2).registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){});i(2).registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){})},function(n,t,i){function o(n){var t="cubic-bezier(0.23, 1, 0.32, 1)",i="left "+n+"s "+t+",top "+n+"s "+t;return u.map(y,function(n){return n+"transition:"+i}).join(";")}function s(n){var t=[],i=n.get("fontSize"),r=n.getTextColor();return r&&t.push("color:"+r),t.push("font:"+n.getFont()),i&&t.push("line-height:"+Math.round(3*i/2)+"px"),e(["decoration","align"],function(i){var r=n.get(i);r&&t.push("text-"+i+":"+r)}),t.join(";")}function h(n){var t=[],r=n.get("transitionDuration"),i=n.get("backgroundColor"),h=n.getModel("textStyle"),u=n.get("padding");return r&&t.push(o(r)),i&&(v.canvasSupported?t.push("background-Color:"+i):(t.push("background-Color:#"+c.toHex(i)),t.push("filter:alpha(opacity=70)"))),e(["width","color","radius"],function(i){var r="border-"+i,f=a(r),u=n.get(f);null!=u&&t.push(r+":"+u+("color"===i?"":"px"))}),t.push(s(h)),null!=u&&t.push("padding:"+f.normalizeCssArray(u).join("px ")+"px"),t.join(";")+";"}function r(n,t){var r=document.createElement("div"),u=this._zr=t.getZr(),i;this.el=r;this._x=t.getWidth()/2;this._y=t.getHeight()/2;n.appendChild(r);this._container=n;this._show=!1;this._hideTimeout;i=this;r.onmouseenter=function(){i._enterable&&(clearTimeout(i._hideTimeout),i._show=!0);i._inContent=!0};r.onmousemove=function(t){if(t=t||window.event,!i._enterable){var r=u.handler;l.normalizeEvent(n,t,!0);r.dispatch("mousemove",t)}};r.onmouseleave=function(){i._enterable&&i._show&&i.hideLater(i._hideDelay);i._inContent=!1}}var u=i(1),c=i(22),l=i(21),f=i(7),e=u.each,a=f.toCamelCase,v=i(9),y=["","-webkit-","-moz-","-o-"],p="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";r.prototype={constructor:r,_enterable:!0,update:function(){var n=this._container,i=n.currentStyle||document.defaultView.getComputedStyle(n),t=n.style;"absolute"!==t.position&&"absolute"!==i.position&&(t.position="relative")},show:function(n){clearTimeout(this._hideTimeout);var t=this.el;t.style.cssText=p+h(n)+";left:"+this._x+"px;top:"+this._y+"px;"+(n.get("extraCssText")||"");t.style.display=t.innerHTML?"block":"none";this._show=!0},setContent:function(n){this.el.innerHTML=null==n?"":n},setEnterable:function(n){this._enterable=n},getSize:function(){var n=this.el;return[n.clientWidth,n.clientHeight]},moveTo:function(n,t){var i,r=this._zr,u;r&&r.painter&&(i=r.painter.getViewportRoot())&&(n+=i.offsetLeft||0,t+=i.offsetTop||0);u=this.el.style;u.left=n+"px";u.top=t+"px";this._x=n;this._y=t},hide:function(){this.el.style.display="none";this._show=!1},hideLater:function(n){!this._show||this._inContent&&this._enterable||(n?(this._hideDelay=n,this._show=!1,this._hideTimeout=setTimeout(u.bind(this.hide,this),n)):this.hide())},isShow:function(){return this._show}};n.exports=r},function(n,t,i){i(2).extendComponentModel({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}})},function(n,t,i){function o(n){for(var t,i=n.pop();n.length;)t=n.pop(),t&&(t instanceof e&&(t=t.get("tooltip",!0)),"string"==typeof t&&(t={formatter:t}),i=new e(t,i,i.ecModel));return i}function s(n,t){return n.dispatchAction||r.bind(t.dispatchAction,t)}function y(n,t,i,r,u,f,e){var o=i.clientWidth,s=i.clientHeight;return n+o+f>r?n-=o+f:n+=f,t+s+e>u?t-=s+e:t+=e,[n,t]}function p(n,t,i,r,u){var f=i.clientWidth,e=i.clientHeight;return n=Math.min(n+f,r)-f,t=Math.min(t+e,u)-e,n=Math.max(n,0),t=Math.max(t,0),[n,t]}function w(n,t,i){var f=i[0],e=i[1],o=5,r=0,u=0,s=t.width,h=t.height;switch(n){case"inside":r=t.x+s/2-f/2;u=t.y+h/2-e/2;break;case"top":r=t.x+s/2-f/2;u=t.y-e-o;break;case"bottom":r=t.x+s/2-f/2;u=t.y+h+o;break;case"left":r=t.x-f-o;u=t.y+h/2-e/2;break;case"right":r=t.x+s+o;u=t.y+h/2-e/2}return[r,u]}function h(n){return"center"===n||"middle"===n}var b=i(230),r=i(1),c=i(7),k=i(4),d=i(119),g=i(12),f=i(9),e=i(10),l=i(120),nt=i(17),tt=i(73),a=r.bind,u=r.each,v=k.parsePercent;i(2).extendComponentView({type:"tooltip",init:function(n,t){if(!f.node){var i=new b(t.getDom(),t);this._tooltipContent=i}},render:function(n,t,i){if(!f.node){this.group.removeAll();this._tooltipModel=n;this._ecModel=t;this._api=i;this._lastDataByCoordSys;this._alwaysShowContent=n.get("alwaysShowContent");var r=this._tooltipContent;r.update();r.setEnterable(n.get("enterable"));this._initGlobalListener();this._keepShow()}},_initGlobalListener:function(){var t=this._tooltipModel,n=t.get("triggerOn");l.register("itemTooltip",this._api,a(function(t,i,r){"none"!==n&&(n.indexOf(t)>=0?this._tryShow(i,r):"leave"===t&&this._hide(r))},this))},_keepShow:function(){var t=this._tooltipModel,i=this._ecModel,r=this._api,n;null!=this._lastX&&null!=this._lastY&&"none"!==t.get("triggerOn")&&(n=this,clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){n.manuallyShowTip(t,i,r,{x:n._lastX,y:n._lastY})}))},manuallyShowTip:function(n,t,i,r){var u,o,h;if(r.from!==this.uid&&!f.node)if(u=s(r,i),this._ticket="",o=r.seriesIndex,h=r.dataByCoordSys,h)this._tryShow({offsetX:r.x,offsetY:r.y,position:r.position,event:{},dataByCoordSys:r.dataByCoordSys,tooltipOption:r.tooltipOption},u);else if(null!=o){var e=d(r,t),c=e.point[0],l=e.point[1];null!=c&&null!=l&&this._tryShow({offsetX:c,offsetY:l,position:r.position,target:e.el,event:{}},u)}else null!=r.x&&null!=r.y&&this._tryShow({offsetX:r.x,offsetY:r.y,position:r.position,target:i.getZr().handler.findHover(r.x,r.y),event:{}},u)},manuallyHideTip:function(n,t,i,r){var u=this._tooltipContent;this._alwaysShowContent||u.hideLater(this._tooltipModel.get("hideDelay"));this._lastX=this._lastY=null;r.from!==this.uid&&this._hide(s(r,i))},_tryShow:function(n,t){var i=n.target,u=this._tooltipModel,r;u&&(this._lastX=n.offsetX,this._lastY=n.offsetY,r=n.dataByCoordSys,r&&r.length?this._showAxisTooltip(r,n):i&&null!=i.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(n,i,t)):i&&i.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(n,i,t)):(this._lastDataByCoordSys=null,this._hide(t)))},_showOrMove:function(n,t){var i=n.get("showDelay");t=r.bind(t,this);clearTimeout(this._showTimout);i>0?this._showTimout=setTimeout(t,i):t()},_showAxisTooltip:function(n,t){var e=this._ecModel,a=this._tooltipModel,f=[t.offsetX,t.offsetY],i=[],s=[],h=o([t.tooltipOption,a]),l;u(n,function(n){u(n.dataByAxis,function(n){var t=e.getComponent(n.axisDim+"Axis",n.axisIndex),u=n.value,h=[],f,o;t&&null!=u&&(f=tt.getValueLabel(u,t.axis,e,n.seriesDataIndices,n.valueLabelOpt),r.each(n.seriesDataIndices,function(i){var o=e.getSeriesByIndex(i.seriesIndex),c=i.dataIndexInside,r=o&&o.getDataParams(c);r.axisDim=n.axisDim;r.axisIndex=n.axisIndex;r.axisType=n.axisType;r.axisId=n.axisId;r.axisValue=nt.getAxisRawValue(t.axis,u);r.axisValueLabel=f;r&&(s.push(r),h.push(o.formatTooltip(c,!0)))}),o=f,i.push((o?c.encodeHTML(o)+"<br />":"")+h.join("<br />")))})},this);i.reverse();i=i.join("<br /><br />");l=t.position;this._showOrMove(h,function(){this._updateContentNotChangedOnAxis(n)?this._updatePosition(h,l,f[0],f[1],this._tooltipContent,s):this._showTooltipContent(h,i,s,Math.random(),f[0],f[1],l)})},_showSeriesItemTooltip:function(n,t,i){var a=this._ecModel,s=t.seriesIndex,f=a.getSeriesByIndex(s),u=t.dataModel||f,r=t.dataIndex,h=t.dataType,c=u.getData(),e=o([c.getItemModel(r),u,f&&(f.coordinateSystem||{}).model,this._tooltipModel]),l=e.get("trigger");if(null==l||"item"===l){var v=u.getDataParams(r,h),y=u.formatTooltip(r,!1,h),p="item_"+u.name+"_"+r;this._showOrMove(e,function(){this._showTooltipContent(e,y,v,p,n.offsetX,n.offsetY,n.position,n.target)});i({type:"showTip",dataIndexInside:r,dataIndex:c.getRawIndex(r),seriesIndex:s,from:this.uid})}},_showComponentItemTooltip:function(n,t,i){var r=t.tooltip,f;"string"==typeof r&&(f=r,r={content:f,formatter:f});var u=new e(r,this._tooltipModel,this._ecModel),o=u.get("content"),s=Math.random();this._showOrMove(u,function(){this._showTooltipContent(u,o,u.get("formatterParams")||{},s,n.offsetX,n.offsetY,n.position,t)});i({type:"showTip",from:this.uid})},_showTooltipContent:function(n,t,i,r,u,f,e,o){var s,h,l,v;(this._ticket="",n.get("showContent")&&n.get("show"))&&(s=this._tooltipContent,h=n.get("formatter"),e=e||n.get("position"),l=t,h&&"string"==typeof h?l=c.formatTpl(h,i,!0):"function"==typeof h&&(v=a(function(t,r){t===this._ticket&&(s.setContent(r),this._updatePosition(n,e,u,f,s,i,o))},this),this._ticket=r,l=h(i,r,v)),s.setContent(l),s.show(n),this._updatePosition(n,e,u,f,s,i,o))},_updatePosition:function(n,t,i,u,f,e,o){var l=this._api.getWidth(),a=this._api.getHeight(),nt,s;t=t||n.get("position");var c=f.getSize(),b=n.get("align"),k=n.get("verticalAlign"),d=o&&o.getBoundingRect().clone();(o&&d.applyTransform(o.transform),"function"==typeof t&&(t=t([i,u],e,f.el,d,{viewSize:[l,a],contentSize:c.slice()})),r.isArray(t))?(i=v(t[0],l),u=v(t[1],a)):r.isObject(t)?(t.width=c[0],t.height=c[1],nt=g.getLayoutRect(t,{width:l,height:a}),i=nt.x,u=nt.y,b=null,k=null):"string"==typeof t&&o?(s=w(t,d,c),i=s[0],u=s[1]):(s=y(i,u,f.el,l,a,b?0:20,k?0:20),i=s[0],u=s[1]);(b&&(i-=h(b)?c[0]/2:"right"===b?c[0]:0),k&&(u-=h(k)?c[1]/2:"bottom"===k?c[1]:0),n.get("confine"))&&(s=p(i,u,f.el,l,a),i=s[0],u=s[1]);f.moveTo(i,u)},_updateContentNotChangedOnAxis:function(n){var i=this._lastDataByCoordSys,t=!!i&&i.length===n.length;return u(i,function(i,r){var f=i.dataByAxis||{},o=n[r]||{},e=o.dataByAxis||[];t&=f.length===e.length;u(f,function(n,i){var r=e[i]||{},f=n.seriesDataIndices||[],o=r.seriesDataIndices||[];t&=n.value===r.value&&n.axisType===r.axisType&&n.axisId===r.axisId&&f.length===o.length;u(f,function(n,i){var r=o[i];t&=n.seriesIndex===r.seriesIndex&&n.dataIndex===r.dataIndex})})}),this._lastDataByCoordSys=n,!!t},_hide:function(n){this._lastDataByCoordSys=null;n({type:"hideTip",from:this.uid})},dispose:function(n,t){f.node||(this._tooltipContent.hide(),l.unregister("itemTooltip",t))}})},function(n,t,i){function s(n,t){var r=n.get("center"),s=n.get("radius"),u=t.getWidth(),f=t.getHeight(),i=c.parsePercent,e,o;this.cx=i(r[0],u);this.cy=i(r[1],f);e=this.getRadiusAxis();o=Math.min(u,f)/2;e.setExtent(0,i(s,o))}function h(n){var u=this,t=u.getAngleAxis(),r=u.getRadiusAxis(),i,f;(t.scale.setExtent(1/0,-(1/0)),r.scale.setExtent(1/0,-(1/0)),n.eachSeries(function(n){if(n.coordinateSystem===u){var i=n.getData();r.scale.unionExtentFromData(i,"radius");t.scale.unionExtentFromData(i,"angle")}}),e(t.scale,t.model),e(r.scale,r.model),"category"!==t.type||t.onBand)||(i=t.getExtent(),f=360/t.scale.count(),t.inverse?i[1]+=f:i[1]-=f,t.setExtent(i[0],i[1]))}function r(n,t){if(n.type=t.get("type"),n.scale=f.createScaleByModel(t),n.onBand=t.get("boundaryGap")&&"category"===n.type,"angleAxis"===t.mainType){var i=t.get("startAngle");n.inverse=t.get("inverse")^t.get("clockwise");n.setExtent(i,i+(n.inverse?-360:360))}t.axis=n;n.model=t}var u=i(403),c=i(4),f=(i(1),i(17)),e=f.niceScaleExtent,o;i(404);o={dimensions:u.prototype.dimensions,create:function(n,t){var i=[];return n.eachComponent("polar",function(n,f){var e=new u(f);e.resize=s;e.update=h;var o=e.getRadiusAxis(),c=e.getAngleAxis(),l=n.findAxisModel("radiusAxis"),a=n.findAxisModel("angleAxis");r(o,l);r(c,a);e.resize(n,t);i.push(e);n.coordinateSystem=e;e.model=n}),n.eachSeries(function(t){if("polar"===t.get("coordinateSystem")){var i=n.queryComponents({mainType:"polar",index:t.get("polarIndex"),id:t.get("polarId")})[0];t.coordinateSystem=i.coordinateSystem}}),i}};i(26).register("polar",o)},function(n,t,i){function r(n){return parseInt(n,10)}function u(n,t){var r,i,u,f;c.initVML();this.root=n;this.storage=t;r=document.createElement("div");i=document.createElement("div");r.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;";i.style.cssText="position:absolute;left:0;top:0;";n.appendChild(r);this._vmlRoot=i;this._vmlViewport=r;this.resize();u=t.delFromMap;f=t.addToMap;t.delFromMap=function(n){var r=t.get(n);u.call(t,n);r&&r.onRemove&&r.onRemove(i)};t.addToMap=function(n){n.onAdd&&n.onAdd(i);f.call(t,n)};this._firstPaint=!0}function s(n){return function(){h('In IE8.0 VML mode painter not support method "'+n+'"')}}var h=i(52),c=i(180),e,f,o;for(u.prototype={constructor:u,getViewportRoot:function(){return this._vmlViewport},refresh:function(){var n=this.storage.getDisplayList(!0,!0);this._paintList(n)},_paintList:function(n){for(var t,i=this._vmlRoot,r=0;r<n.length;r++)t=n[r],t.invisible||t.ignore?(t.__alreadyNotVisible||t.onRemove(i),t.__alreadyNotVisible=!0):(t.__alreadyNotVisible&&t.onAdd(i),t.__alreadyNotVisible=!1,t.__dirty&&(t.beforeBrush&&t.beforeBrush(),(t.brushVML||t.brush).call(t,i),t.afterBrush&&t.afterBrush())),t.__dirty=!1;this._firstPaint&&(this._vmlViewport.appendChild(i),this._firstPaint=!1)},resize:function(n,t){var n=null==n?this._getWidth():n,t=null==t?this._getHeight():t,i;(this._width!=n||this._height!=t)&&(this._width=n,this._height=t,i=this._vmlViewport.style,i.width=n+"px",i.height=t+"px")},dispose:function(){this.root.innerHTML="";this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var t=this.root,n=t.currentStyle;return(t.clientWidth||r(n.width))-r(n.paddingLeft)-r(n.paddingRight)|0},_getHeight:function(){var t=this.root,n=t.currentStyle;return(t.clientHeight||r(n.height))-r(n.paddingTop)-r(n.paddingBottom)|0}},e=["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],f=0;f<e.length;f++)o=e[f],u.prototype[o]=s(o);n.exports=u},function(n,t,i){var wt,d;if(!i(9).canvasSupported){var kt=i(5),dt=i(11),a=i(30).CMD,ct=i(22),g=i(16),gt=i(83),ni=i(37),p=i(53),w=i(82),b=i(8),nt=i(38),c=i(180),r=Math.round,v=Math.sqrt,ti=Math.abs,lt=Math.cos,at=Math.sin,tt=Math.max,s=kt.applyTransform,f=",",it="progid:DXImageTransform.Microsoft",u=21600,e=u/2,ii=1e5,ri=1e3,rt=function(n){n.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;";n.coordsize=u+","+u;n.coordorigin="0,0"},ui=function(n){return String(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;")},vt=function(n,t,i){return"rgb("+[n,t,i].join(",")+")"},h=function(n,t){t&&n&&t.parentNode!==n&&n.appendChild(t)},y=function(n,t){t&&n&&t.parentNode===n&&n.removeChild(t)},ut=function(n,t,i){return(parseFloat(n)||0)*ii+(parseFloat(t)||0)*ri+i},yt=function(n,t){return"string"==typeof n?n.lastIndexOf("%")>=0?parseFloat(n)/100*t:parseFloat(n):n},pt=function(n,t,i){var r=ct.parse(t);i=+i;isNaN(i)&&(i=1);r&&(n.color=vt(r[0],r[1],r[2]),n.opacity=i*r[3])},fi=function(n){var t=ct.parse(n);return[vt(t[0],t[1],t[2]),t[3]]},ei=function(n,t,i){var r=t.fill,ot,st,g,w,rt,ut;if(null!=r)if(r instanceof nt){var l,e=0,ft=[0,0],b=0,et=1,a=i.getBoundingRect(),v=a.width,y=a.height;if("linear"===r.type){l="gradient";var o=i.transform,f=[r.x*v,r.y*y],p=[r.x2*v,r.y2*y];o&&(s(f,f,o),s(p,p,o));ot=p[0]-f[0];st=p[1]-f[1];e=180*Math.atan2(ot,st)/Math.PI;e<0&&(e+=360);e<1e-6&&(e=0)}else{l="gradientradial";var f=[r.x*v,r.y*y],o=i.transform,ht=i.scale,k=v,d=y;ft=[(f[0]-a.x)/k,(f[1]-a.y)/d];o&&s(f,f,o);k/=ht[0]*u;d/=ht[1]*u;g=tt(k,d);b=0/g;et=2*r.r/g-b}w=r.colorStops.slice();w.sort(function(n,t){return n.offset-t.offset});for(var it=w.length,h=[],ct=[],c=0;c<it;c++)rt=w[c],ut=fi(rt.color),ct.push(rt.offset*et+b+" "+ut[0]),0!==c&&c!==it-1||h.push(ut);if(it>=2){var lt=h[0][0],at=h[1][0],vt=h[0][1]*t.opacity,yt=h[1][1]*t.opacity;n.type=l;n.method="none";n.focus="100%";n.angle=e;n.color=lt;n.color2=at;n.colors=ct.join(",");n.opacity=yt;n.opacity2=vt}"radial"===l&&(n.focusposition=ft.join(","))}else pt(n,r,t.opacity)},oi=function(n,t){null!=t.lineDash&&(n.dashstyle=t.lineDash.join(" "));null==t.stroke||t.stroke instanceof nt||pt(n,t.stroke,t.opacity)},k=function(n,t,i,r){var f="fill"==t,u=n.getElementsByTagName(t)[0];null!=i[t]&&"none"!==i[t]&&(f||!f&&i.lineWidth)?(n[f?"filled":"stroked"]="true",i[t]instanceof nt&&y(n,u),u||(u=c.createNode(t)),f?ei(u,i,r):oi(u,i),h(n,u)):(n[f?"filled":"stroked"]="false",y(n,u))},o=[[],[],[]],si=function(n,t){for(var p,rt,dt,w,b,ii=a.M,ri=a.C,ui=a.L,fi=a.A,ti=a.Q,d=[],h,c,ot,st,i=0;i<n.length;){switch(dt=n[i++],rt="",p=0,dt){case ii:rt=" m ";p=1;w=n[i++];b=n[i++];o[0][0]=w;o[0][1]=b;break;case ui:rt=" l ";p=1;w=n[i++];b=n[i++];o[0][0]=w;o[0][1]=b;break;case ti:case ri:rt=" c ";p=3;var ht,ct,l=n[i++],y=n[i++],vt=n[i++],yt=n[i++];dt===ti?(ht=vt,ct=yt,vt=(vt+2*l)/3,yt=(yt+2*y)/3,l=(w+2*l)/3,y=(b+2*y)/3):(ht=n[i++],ct=n[i++]);o[0][0]=l;o[0][1]=y;o[1][0]=vt;o[1][1]=yt;o[2][0]=ht;o[2][1]=ct;w=ht;b=ct;break;case fi:var ut=0,ft=0,g=1,nt=1,gt=0;t&&(ut=t[4],ft=t[5],g=v(t[0]*t[0]+t[1]*t[1]),nt=v(t[2]*t[2]+t[3]*t[3]),gt=Math.atan2(-t[1]/nt,t[0]/g));var tt=n[i++],k=n[i++],pt=n[i++],wt=n[i++],bt=n[i++]+gt,ni=n[i++]+bt+gt;i++;var it=n[i++],et=tt+lt(bt)*pt,kt=k+at(bt)*wt,l=tt+lt(ni)*pt,y=k+at(ni)*wt,ei=it?" wa ":" at ";Math.abs(et-l)<.0001&&(Math.abs(ni-bt)>.01?it&&(et+=270/u):Math.abs(kt-k)<.0001?it&&et<tt||!it&&et>tt?y-=270/u:y+=270/u:it&&kt<k||!it&&kt>k?l+=270/u:l-=270/u);d.push(ei,r(((tt-pt)*g+ut)*u-e),f,r(((k-wt)*nt+ft)*u-e),f,r(((tt+pt)*g+ut)*u-e),f,r(((k+wt)*nt+ft)*u-e),f,r((et*g+ut)*u-e),f,r((kt*nt+ft)*u-e),f,r((l*g+ut)*u-e),f,r((y*nt+ft)*u-e));w=l;b=y;break;case a.R:h=o[0];c=o[1];h[0]=n[i++];h[1]=n[i++];c[0]=h[0]+n[i++];c[1]=h[1]+n[i++];t&&(s(h,h,t),s(c,c,t));h[0]=r(h[0]*u-e);c[0]=r(c[0]*u-e);h[1]=r(h[1]*u-e);c[1]=r(c[1]*u-e);d.push(" m ",h[0],f,h[1]," l ",c[0],f,h[1]," l ",c[0],f,c[1]," l ",h[0],f,c[1]);break;case a.Z:d.push(" x ")}if(p>0)for(d.push(rt),ot=0;ot<p;ot++)st=o[ot],t&&s(st,st,t),d.push(r(st[0]*u-e),f,r(st[1]*u-e),ot<p-1?f:"")}return d.join("")};b.prototype.brushVML=function(n){var i=this.style,t=this._vmlEl,f,o,u;t||(t=c.createNode("shape"),rt(t),this._vmlEl=t);k(t,"fill",i,this);k(t,"stroke",i,this);var r=this.transform,s=null!=r,e=t.getElementsByTagName("stroke")[0];e&&(f=i.lineWidth,s&&!i.strokeNoScale&&(o=r[0]*r[3]-r[1]*r[2],f*=v(ti(o))),e.weight=f+"px");u=this.path;this.__dirtyPath&&(u.beginPath(),this.buildPath(u,this.shape),u.toStatic(),this.__dirtyPath=!1);t.path=si(u.data,this.transform);t.style.zIndex=ut(this.zlevel,this.z,this.z2);h(n,t);null!=i.text?this.drawRectText(n,this.getBoundingRect()):this.removeRectText(n)};b.prototype.onRemove=function(n){y(n,this._vmlEl);this.removeRectText(n)};b.prototype.onAdd=function(n){h(n,this._vmlEl);this.appendRectText(n)};wt=function(n){return"object"==typeof n&&n.tagName&&"IMG"===n.tagName.toUpperCase()};p.prototype.brushVML=function(n){var y,p,u=this.style,e=u.image,ct,g,i,nt,et,pt,bt,kt,dt;if(wt(e)){if(ct=e.src,ct===this._imageSrc)y=this._imageWidth,p=this._imageHeight;else{var ft=e.runtimeStyle,ri=ft.width,ui=ft.height;ft.width="auto";ft.height="auto";y=e.width;p=e.height;ft.width=ri;ft.height=ui;this._imageSrc=ct;this._imageWidth=y;this._imageHeight=p}e=ct}else e===this._imageSrc&&(y=this._imageWidth,p=this._imageHeight);if(e){var w=u.x||0,b=u.y||0,k=u.width,d=u.height,ot=u.sWidth,st=u.sHeight,gt=u.sx||0,ni=u.sy||0,fi=ot&&st,o=this._vmlEl;o||(o=c.doc.createElement("div"),rt(o),this._vmlEl=o);var t,ht=o.style,ti=!1,l=1,a=1;if(this.transform&&(t=this.transform,l=v(t[0]*t[0]+t[1]*t[1]),a=v(t[2]*t[2]+t[3]*t[3]),ti=t[1]||t[2]),ti){var lt=[w,b],at=[w+k,b],vt=[w,b+d],yt=[w+k,b+d];s(lt,lt,t);s(at,at,t);s(vt,vt,t);s(yt,yt,t);var ei=tt(lt[0],at[0],vt[0],yt[0]),oi=tt(lt[1],at[1],vt[1],yt[1]),ii=[];ii.push("M11=",t[0]/l,f,"M12=",t[2]/a,f,"M21=",t[1]/l,f,"M22=",t[3]/a,f,"Dx=",r(w*l+t[4]),f,"Dy=",r(b*a+t[5]));ht.padding="0 "+r(ei)+"px "+r(oi)+"px 0";ht.filter=it+".Matrix("+ii.join("")+", SizingMethod=clip)"}else t&&(w=w*l+t[4],b=b*a+t[5]),ht.filter="",ht.left=r(w)+"px",ht.top=r(b)+"px";g=this._imageEl;i=this._cropEl;g||(g=c.doc.createElement("div"),this._imageEl=g);nt=g.style;fi?(y&&p?(nt.width=r(l*y*k/ot)+"px",nt.height=r(a*p*d/st)+"px"):(et=new Image,pt=this,et.onload=function(){et.onload=null;y=et.width;p=et.height;nt.width=r(l*y*k/ot)+"px";nt.height=r(a*p*d/st)+"px";pt._imageWidth=y;pt._imageHeight=p;pt._imageSrc=e},et.src=e),i||(i=c.doc.createElement("div"),i.style.overflow="hidden",this._cropEl=i),bt=i.style,bt.width=r((k+gt*k/ot)*l),bt.height=r((d+ni*d/st)*a),bt.filter=it+".Matrix(Dx="+-gt*k/ot*l+",Dy="+-ni*d/st*a+")",i.parentNode||o.appendChild(i),g.parentNode!=i&&i.appendChild(g)):(nt.width=r(l*k)+"px",nt.height=r(a*d)+"px",o.appendChild(g),i&&i.parentNode&&(o.removeChild(i),this._cropEl=null));kt="";dt=u.opacity;dt<1&&(kt+=".Alpha(opacity="+r(100*dt)+") ");kt+=it+".AlphaImageLoader(src="+e+", SizingMethod=scale)";nt.filter=kt;o.style.zIndex=ut(this.zlevel,this.z,this.z2);h(n,o);null!=u.text&&this.drawRectText(n,this.getBoundingRect())}};p.prototype.onRemove=function(n){y(n,this._vmlEl);this._vmlEl=null;this._cropEl=null;this._imageEl=null;this.removeRectText(n)};p.prototype.onAdd=function(n){h(n,this._vmlEl);this.appendRectText(n)};var l,ft="normal",et={},ot=0,hi=100,ci=document.createElement("div"),li=function(n){var i=et[n],r,t;if(!i){ot>hi&&(ot=0,et={});t=ci.style;try{t.font=n;r=t.fontFamily.split(",")[0]}catch(u){}i={style:t.fontStyle||ft,variant:t.fontVariant||ft,weight:t.fontWeight||ft,size:0|parseFloat(t.fontSize||12),family:r||"Microsoft YaHei"};et[n]=i;ot++}return i};g.measureText=function(n,t){var i=c.doc;l||(l=i.createElement("div"),l.style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",c.doc.body.appendChild(l));try{l.style.font=t}catch(r){}return l.innerHTML="",l.appendChild(i.createTextNode(n)),{width:l.offsetWidth}};for(var st=new dt,ai=function(n,t,i,u){var o=this.style,nt=o.text,a,tt,vt,it,ct,ft,w,v,et,e,ot,ht;if(null!=nt&&(nt+=""),nt){var y,l,b=o.textAlign,d=li(o.textFont),lt=d.style+" "+d.variant+" "+d.weight+" "+d.size+'px "'+d.family+'"',p=o.textBaseline,at=o.textVerticalAlign;if(i=i||g.getBoundingRect(nt,lt,b,p),a=this.transform,(a&&!u&&(st.copy(t),st.applyTransform(a),t=st),u)?(y=t.x,l=t.y):(tt=o.textPosition,vt=o.textDistance,tt instanceof Array?(y=t.x+yt(tt[0],t.width),l=t.y+yt(tt[1],t.height),b=b||"left",p=p||"top"):(it=g.adjustTextPositionOnRect(tt,t,i,vt),y=it.x,l=it.y,b=b||it.textAlign,p=p||it.textBaseline)),at){switch(at){case"middle":l-=i.height/2;break;case"bottom":l-=i.height}p="top"}ct=d.size;switch(p){case"hanging":case"top":l+=ct/1.75;break;case"middle":break;default:l-=ct/2.25}switch(b){case"center":y-=i.width/2;break;case"right":y-=i.width}et=c.createNode;e=this._textVmlEl;e?(v=e.firstChild,ft=v.nextSibling,w=ft.nextSibling):(e=et("line"),ft=et("path"),w=et("textpath"),v=et("skew"),w.style["v-text-align"]="left",rt(e),ft.textpathok=!0,w.on=!0,e.from="0 0",e.to="1000 0.05",h(e,v),h(e,ft),h(e,w),this._textVmlEl=e);ot=[y,l];ht=e.style;a&&u?(s(ot,ot,a),v.on=!0,v.matrix=a[0].toFixed(3)+f+a[2].toFixed(3)+f+a[1].toFixed(3)+f+a[3].toFixed(3)+",0,0",v.offset=(r(ot[0])||0)+","+(r(ot[1])||0),v.origin="0 0",ht.left="0px",ht.top="0px"):(v.on=!1,ht.left=r(y)+"px",ht.top=r(l)+"px");w.string=ui(nt);try{w.style.font=lt}catch(pt){}k(e,"fill",{fill:u?o.fill:o.textFill,opacity:o.opacity},this);k(e,"stroke",{stroke:u?o.stroke:o.textStroke,opacity:o.opacity,lineDash:o.lineDash},this);e.style.zIndex=ut(this.zlevel,this.z,this.z2);h(n,e)}},vi=function(n){y(n,this._textVmlEl);this._textVmlEl=null},yi=function(n){h(n,this._textVmlEl)},bt=[gt,ni,p,b,w],ht=0;ht<bt.length;ht++)d=bt[ht].prototype,d.drawRectText=ai,d.removeRectText=vi,d.appendRectText=yi;w.prototype.brushVML=function(n){var t=this.style;null!=t.text?this.drawRectText(n,{x:t.x||0,y:t.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(n)};w.prototype.onRemove=function(n){this.removeRectText(n)};w.prototype.onAdd=function(n){this.appendRectText(n)}}},function(n,t,i){i(235);i(84).registerPainter("vml",i(234))},function(n,t,i){var r=i(1),u=i(238),f=i(2);f.registerAction({type:"geoRoam",event:"geoRoam",update:"updateLayout"},function(n,t){var i=n.componentType||"series";t.eachComponent({mainType:i,query:n},function(t){var e=t.coordinateSystem,f;"geo"===e.type&&(f=u.updateCenterAndZoom(e,n,t.get("scaleLimit")),t.setCenter&&t.setCenter(f.center),t.setZoom&&t.setZoom(f.zoom),"series"===i&&r.each(t.seriesGroup,function(n){n.setCenter(f.center);n.setZoom(f.zoom)}))})})},function(n){var t={};t.updateCenterAndZoom=function(n,t,i){var o=n.getZoom(),u=n.getCenter(),r=t.zoom,f=n.dataToPoint(u),s,h;if(null!=t.dx&&null!=t.dy&&(f[0]-=t.dx,f[1]-=t.dy,u=n.pointToData(f),n.setCenter(u)),null!=r){i&&(s=i.min||0,h=i.max||1/0,r=Math.max(Math.min(o*r,h),s)/o);n.scale[0]*=r;n.scale[1]*=r;var e=n.position,c=(t.originX-e[0])*(r-1),l=(t.originY-e[1])*(r-1);e[0]-=c;e[1]-=l;n.updateTransform();u=n.pointToData(f);n.setCenter(u);n.setZoom(r*o)}return{center:n.getCenter(),zoom:n.getZoom()}};n.exports=t},function(n,t,i){var r=i(5);n.exports=function(n){var f=n.coordinateSystem;if(!f||"view"===f.type){var t=f.getBoundingRect(),i=n.getData(),h=i.graph,u=0,e=i.getSum("value"),c=2*Math.PI/(e||i.count()),o=t.width/2+t.x,s=t.height/2+t.y,l=Math.min(t.width,t.height)/2;h.eachNode(function(n){var t=n.getValue("value");u+=c*(e?t:1)/2;n.setLayout([l*Math.cos(u)+o,l*Math.sin(u)+s]);u+=c*(e?t:1)/2});i.setLayout({cx:o,cy:s});h.eachEdge(function(n){var f,t=n.getModel().get("lineStyle.normal.curveness")||0,i=r.clone(n.node1.getLayout()),u=r.clone(n.node2.getLayout()),e=(i[0]+u[0])/2,h=(i[1]+u[1])/2;+t&&(t*=3,f=[o*t+e*(1-t),s*t+h*(1-t)]);n.setLayout([i,u,f])})}}},function(n,t,i){var r=i(5);n.exports=function(n){n.eachEdge(function(n){var u=n.getModel().get("lineStyle.normal.curveness")||0,t=r.clone(n.node1.getLayout()),i=r.clone(n.node2.getLayout()),f=[t,i];+u&&f.push([(t[0]+i[0])/2-(t[1]-i[1])*u,(t[1]+i[1])/2-(i[0]-t[0])*u]);n.setLayout(f)})}},function(n,t,i){var r=i(240);n.exports=function(n){var i=n.coordinateSystem,t;i&&"view"!==i.type||(t=n.getGraph(),t.eachNode(function(n){var t=n.getModel();n.setLayout([+t.get("x"),+t.get("y")])}),r(t))}},function(n,t,i){function u(n,t,i){e.Group.call(this);this.add(this.createLine(n,t,i));this._updateEffectSymbol(n,t)}var e=i(3),h=i(104),f=i(1),c=i(24),o=i(5),s=i(20),r=u.prototype;r.createLine=function(n,t,i){return new h(n,t,i)};r._updateEffectSymbol=function(n,t){var s=n.getItemModel(t),u=s.getModel("effect"),r=u.get("symbolSize"),o=u.get("symbol"),e,i;f.isArray(r)||(r=[r,r]);e=u.get("color")||n.getItemVisual(t,"color");i=this.childAt(1);this._symbolType!==o&&(this.remove(i),i=c.createSymbol(o,-.5,-.5,1,1,e),i.z2=100,i.culling=!0,this.add(i));i&&(i.setStyle("shadowColor",e),i.setStyle(u.getItemStyle(["color"])),i.attr("scale",r),i.setColor(e),i.attr("scale",r),this._symbolType=o,this._updateEffectAnimation(n,u,t))};r._updateEffectAnimation=function(n,t,i){var r=this.childAt(1),o,h;if(r){var c=this,a=n.getItemLayout(i),u=1e3*t.get("period"),e=t.get("loop"),l=t.get("constantSpeed"),s=f.retrieve(t.get("delay"),function(t){return t/n.count()*u/3}),v="function"==typeof s;(r.ignore=!0,this.updateAnimationPoints(r,a),l>0&&(u=this.getLineLength(r)/l*1e3),u!==this._period||e!==this._loop)&&(r.stopAnimation(),o=s,v&&(o=s(i)),r.__t>0&&(o=-u*r.__t),r.__t=0,h=r.animate("",e).when(u,{__t:1}).delay(o).during(function(){c.updateSymbolPosition(r)}),e||h.done(function(){c.remove(r)}),h.start());this._period=u;this._loop=e}};r.getLineLength=function(n){return o.dist(n.__p1,n.__cp1)+o.dist(n.__cp1,n.__p2)};r.updateAnimationPoints=function(n,t){n.__p1=t[0];n.__p2=t[1];n.__cp1=t[2]||[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]};r.updateData=function(n,t,i){this.childAt(0).updateData(n,t,i);this._updateEffectSymbol(n,t)};r.updateSymbolPosition=function(n){var t=n.__p1,i=n.__p2,r=n.__cp1,u=n.__t,f=n.position,e=s.quadraticAt,o=s.quadraticDerivativeAt,h,c;f[0]=e(t[0],r[0],i[0],u);f[1]=e(t[1],r[1],i[1],u);h=o(t[0],r[0],i[0],u);c=o(t[1],r[1],i[1],u);n.rotation=-Math.atan2(c,h)-Math.PI/2;n.ignore=!1};r.updateLayout=function(n,t){this.childAt(0).updateLayout(n,t);var i=n.getItemModel(t).getModel("effect");this._updateEffectAnimation(n,i,t)};f.inherits(u,e.Group);n.exports=u},function(n,t,i){function f(n,t,i){r.Group.call(this);this._createPolyline(n,t,i)}var r=i(3),e=i(1),u=f.prototype;u._createPolyline=function(n,t,i){var u=n.getItemLayout(t),f=new r.Polyline({shape:{points:u}});this.add(f);this._updateCommonStl(n,t,i)};u.updateData=function(n,t,i){var u=n.hostModel,f=this.childAt(0),e={shape:{points:n.getItemLayout(t)}};r.updateProps(f,e,u,t);this._updateCommonStl(n,t,i)};u._updateCommonStl=function(n,t,i){var u=this.childAt(0),f=n.getItemModel(t),h=n.getItemVisual(t,"color"),o=i&&i.lineStyle,s=i&&i.hoverLineStyle;i&&!n.hasItemOption||(o=f.getModel("lineStyle.normal").getLineStyle(),s=f.getModel("lineStyle.emphasis").getLineStyle());u.useStyle(e.defaults({strokeNoScale:!0,fill:"none",stroke:h},o));u.hoverStyle=s;r.setHoverStyle(this)};u.updateLayout=function(n,t){var i=this.childAt(0);i.setShape("points",n.getItemLayout(t))};e.inherits(f,r.Group);n.exports=f},function(n,t,i){var r=i(14),f=i(413),e=i(260),o=i(25),s=i(26),u=i(1),h=i(27);n.exports=function(n,t,i,c,l){for(var y,w,b,rt,k,v=new f(c),a=0;a<n.length;a++)v.addNode(u.retrieve(n[a].id,n[a].name,a),a);for(var d=[],g=[],nt=0,a=0;a<t.length;a++){var p=t[a],tt=p.source,it=p.target;v.addEdge(tt,it,nt)&&(g.push(p),d.push(u.retrieve(p.id,tt+" > "+it)),nt++)}return w=i.get("coordinateSystem"),"cartesian2d"===w||"polar"===w?y=h(n,i,i.ecModel):(b=s.get(w),rt=o((b&&"view"!==b.type?b.dimensions||[]:[]).concat(["value"]),n),y=new r(rt,i),y.initData(n)),k=new r(["value"],i),k.initData(g,d),l&&l(y,k),e({mainData:y,struct:v,structAttr:"graph",datas:{node:y,edge:k},datasAttr:{node:"data",edge:"edgeData"}}),v.update(),v}},function(n,t,i){var u=i(1),r={};r.layout=function(n,t){var l,a,e;t=t||{};var v=n.coordinateSystem,s=n.axis,i={},o=s.position,h=s.orient,r=v.getRect(),f=[r.x,r.x+r.width,r.y,r.y+r.height],c={horizontal:{top:f[2],bottom:f[3]},vertical:{left:f[0],right:f[1]}};return i.position=["vertical"===h?c.vertical[o]:f[0],"horizontal"===h?c.horizontal[o]:f[3]],l={horizontal:0,vertical:1},i.rotation=Math.PI/2*l[h],a={top:-1,bottom:1,right:1,left:-1},i.labelDirection=i.tickDirection=i.nameDirection=a[o],n.get("axisTick.inside")&&(i.tickDirection=-i.tickDirection),u.retrieve(t.labelInside,n.get("axisLabel.inside"))&&(i.labelDirection=-i.labelDirection),e=t.rotate,null==e&&(e=n.get("axisLabel.rotate")),i.labelRotation="top"===o?-e:e,i.labelInterval=s.getLabelInterval(),i.z2=1,i};n.exports=r},function(n,t,i){function e(n){var t=n.getItemStyle(),i=n.get("areaColor");return null!=i&&(t.fill=i),t}function s(n,t,i,r,f){i.off("click");i.off("mousedown");t.get("selectedMode")&&(i.on("mousedown",function(){n._mouseDownFlag=!0}),i.on("click",function(e){var s,h;if(n._mouseDownFlag){for(n._mouseDownFlag=!1,s=e.target;!s.__regions;)s=s.parent;s&&(h={type:("geo"===t.mainType?"geo":"map")+"ToggleSelect",batch:u.map(s.__regions,function(n){return{name:n.name,from:f.uid}})},h[t.mainType+"Id"]=t.id,r.dispatchAction(h),o(t,i))}}))}function o(n,t){t.eachChild(function(t){u.each(t.__regions,function(i){t.trigger(n.isSelected(i.name)?"emphasis":"normal")})})}function f(n,t){var i=new r.Group;this._controller=new h(n.getZr(),t?i:null,null);this.group=i;this._updateGroup=t;this._mouseDownFlag}var h=i(90),r=i(3),u=i(1);f.prototype={constructor:f,draw:function(n,t,i,f,h){var y="geo"===n.mainType,c=n.getData&&n.getData();y&&t.eachComponent({mainType:"series",subType:"map"},function(t){c||t.getHostGeoModel()!==n||(c=t.getData())});var v=n.coordinateSystem,l=this.group,a=v.scale,p={position:v.position,scale:a};!l.childAt(0)||h?l.attr(p):r.updateProps(l,p,n);l.removeAll();var b=["itemStyle","normal"],k=["itemStyle","emphasis"],d=["label","normal"],g=["label","emphasis"],w={};u.each(v.regions,function(t){var f=w[t.name]||(w[t.name]=new r.Group),o=new r.CompoundPath({shape:{paths:[]}}),h,v,p,i,ot;f.add(o);var s,i=n.getRegionModel(t.name)||n,st=i.getModel(b),ht=i.getModel(k),nt=e(st,a),ct=e(ht,a),tt=i.getModel(d),it=i.getModel(g);c&&(s=c.indexOfName(t.name),h=c.getItemVisual(s,"color",!0),h&&(nt.fill=h));v=tt.getModel("textStyle");p=it.getModel("textStyle");u.each(t.geometries,function(n){if("polygon"===n.type){o.shape.paths.push(new r.Polygon({shape:{points:n.exterior}}));for(var t=0;t<(n.interiors?n.interiors.length:0);t++)o.shape.paths.push(new r.Polygon({shape:{points:n.interiors[t]}}))}});o.setStyle(nt);o.style.strokeNoScale=!0;o.culling=!0;var rt=tt.get("show"),ut=it.get("show"),lt=c&&isNaN(c.get("value",s)),ft=c&&c.getItemLayout(s);if(y||lt&&(rt||ut)||ft&&ft.showLabel){var et=c?s:t.name,at=n.getFormattedLabel(et,"normal"),vt=n.getFormattedLabel(et,"emphasis"),yt=new r.Text({style:{text:rt?at||t.name:"",fill:v.getTextColor(),textFont:v.getFont(),textAlign:"center",textVerticalAlign:"middle"},hoverStyle:{text:ut?vt||t.name:"",fill:p.getTextColor(),textFont:p.getFont()},position:t.center.slice(),scale:[1/a[0],1/a[1]],z2:10,silent:!0});f.add(yt)}c?c.setItemGraphicEl(s,f):(i=n.getRegionModel(t.name),o.eventData={componentType:"geo",geoIndex:n.componentIndex,name:t.name,region:i&&i.option||{}});ot=f.__regions||(f.__regions=[]);ot.push(t);r.setHoverStyle(f,ct,{hoverSilentOnTouch:!!n.get("selectedMode")});l.add(f)});this._updateController(n,t,i);s(this,n,l,i,f);o(n,l)},remove:function(){this.group.removeAll();this._controller.dispose()},_updateController:function(n,t,i){function e(){var t={type:"geoRoam",componentType:f};return t[f+"Id"]=n.id,t}var o=n.coordinateSystem,r=this._controller,f;r.zoomLimit=n.get("scaleLimit");r.zoom=o.getZoom();r.enable(n.get("roam")||!1);f=n.mainType;r.off("pan").on("pan",function(n,t){this._mouseDownFlag=!1;i.dispatchAction(u.extend(e(),{dx:n,dy:t}))},this);r.off("zoom").on("zoom",function(n,t,r){if(this._mouseDownFlag=!1,i.dispatchAction(u.extend(e(),{zoom:n,originX:t,originY:r})),this._updateGroup){var f=this.group,o=f.scale;f.traverse(function(n){"text"===n.type&&n.attr("scale",[1/o[0],1/o[1]])})}},this);r.setContainsPoint(function(n,t){return o.getViewRectAfterRoam().contain(n,t)})}};n.exports=f},function(n,t,i){i(259);i(399);i(367);var r=i(2),u=i(1),f=5;r.extendComponentView({type:"parallel",render:function(n,t,i){var e=i.getZr(),r;this.__onMouseDown||(e.on("mousedown",this.__onMouseDown=function(n){r=[n.offsetX,n.offsetY]}),e.on("mouseup",this.__onMouseUp=function(t){var e=[t.offsetX,t.offsetY],c=Math.pow(r[0]-e[0],2)+Math.pow(r[1]-e[1],2),o,s,h;!n.get("axisExpandable")||c>f||(o=n.coordinateSystem,s=o.findClosestAxisDim(e),s&&(h=u.indexOf(o.dimensions,s),i.dispatchAction({type:"parallelAxisExpand",axisExpandCenter:h})))}))},dispose:function(n,t){t.getZr().off(this.__onMouseDown);t.getZr().off(this.__onMouseUp)}});r.registerPreprocessor(i(400))},function(n,t,i){i(412);i(352);i(409);i(55);i(355);var r=i(2);r.extendComponentView({type:"single"})},function(n,t,i){var l=i(2),r=i(1),a=i(9),s=i(262),u=i(79),f=i(184),h=u.mapVisual,v=i(6),y=u.eachVisual,c=i(4),p=r.isArray,e=r.each,w=c.asc,b=c.linearMap,o=r.noop,k=["#f6efa6","#d88273","#bf444c"],d=l.extendComponentModel({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-(1/0),1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:null,min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(n,t,i){this._dataExtent;this.targetVisuals={};this.controllerVisuals={};this.textStyleModel;this.itemSize;this.mergeDefaultAndTheme(n,i)},optionUpdated:function(n,t){var i=this.option;a.canvasSupported||(i.realtime=!1);!t&&f.replaceVisualOption(i,n,this.replacableOptionKeys);this.textStyleModel=this.getModel("textStyle");this.resetItemSize();this.completeVisualOption()},resetVisual:function(n){var t=this.stateList;n=r.bind(n,this);this.controllerVisuals=f.createVisualMappings(this.option.controller,t,n);this.targetVisuals=f.createVisualMappings(this.option.target,t,n)},resetTargetSeries:function(){var n=this.option,t=null==n.seriesIndex;n.seriesIndex=t?[]:v.normalizeToArray(n.seriesIndex);t&&this.ecModel.eachSeries(function(t,i){n.seriesIndex.push(i)})},eachTargetSeries:function(n,t){r.each(this.option.seriesIndex,function(i){n.call(t,this.ecModel.getSeriesByIndex(i))},this)},isTargetSeries:function(n){var t=!1;return this.eachTargetSeries(function(i){i===n&&(t=!0)}),t},formatValueText:function(n,t,i){function s(n){return n===o[0]?"min":n===o[1]?"max":(+n).toFixed(c)}var f,u,h=this.option,c=h.precision,o=this.dataBound,e=h.formatter;return i=i||["<",">"],r.isArray(n)&&(n=n.slice(),f=!0),u=t?n:f?[s(n[0]),s(n[1])]:s(n),r.isString(e)?e.replace("{value}",f?u[0]:u).replace("{value2}",f?u[1]:u):r.isFunction(e)?f?e(n[0],n[1]):e(n):f?n[0]===o[0]?i[0]+" "+u[1]:n[1]===o[1]?i[1]+" "+u[0]:u[0]+" - "+u[1]:u},resetExtent:function(){var n=this.option,t=w([n.min,n.max]);this._dataExtent=t},getDataDimension:function(n){var t=this.option.dimension;return null!=t?t:n.dimensions.length-1},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){function o(i){p(n.color)&&!i.inRange&&(i.inRange={color:n.color.slice().reverse()});i.inRange=i.inRange||{color:k};e(this.stateList,function(n){var u=i[n],f;r.isString(u)&&(f=s.get(u,"active",t),f?(i[n]={},i[n][u]=f):delete i[n])},this)}function l(n,i,r){var o=n[i],f=n[r];o&&!f&&(f=n[r]={},e(o,function(n,i){if(u.isValidType(i)){var r=s.get(i,"inactive",t);null!=r&&(f[i]=r,"color"!==i||f.hasOwnProperty("opacity")||f.hasOwnProperty("colorAlpha")||(f.opacity=[0,0]))}}))}function a(n){var i=(n.inRange||{}).symbol||(n.outOfRange||{}).symbol,u=(n.inRange||{}).symbolSize||(n.outOfRange||{}).symbolSize,f=this.get("inactiveColor");e(this.stateList,function(e){var s=this.itemSize,o=n[e],c,l;o||(o=n[e]={color:t?f:[f]});null==o.symbol&&(o.symbol=i&&r.clone(i)||(t?"roundRect":["roundRect"]));null==o.symbolSize&&(o.symbolSize=u&&r.clone(u)||(t?s[0]:[s[0],s[0]]));o.symbol=h(o.symbol,function(n){return"none"===n||"square"===n?"roundRect":n});c=o.symbolSize;null!=c&&(l=-(1/0),y(c,function(n){n>l&&(l=n)}),o.symbolSize=h(c,function(n){return b(n,[0,l],[0,s[0]],!0)}))},this)}var n=this.option,c={inRange:n.inRange,outOfRange:n.outOfRange},i=n.target||(n.target={}),f=n.controller||(n.controller={}),t;r.merge(i,c);r.merge(f,c);t=this.isCategory();o.call(this,i);o.call(this,f);l.call(this,i,"inRange","outOfRange");a.call(this,f)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:o,getValueState:o,getVisualMeta:o});n.exports=d},function(n,t,i){var r=i(1),f=i(3),e=i(7),o=i(12),s=i(2),u=i(79);n.exports=s.extendComponentView({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(n,t){this.ecModel=n;this.api=t;this.visualMapModel},render:function(n){return this.visualMapModel=n,n.get("show")===!1?void this.group.removeAll():void this.doRender.apply(this,arguments)},renderBackground:function(n){var i=this.visualMapModel,t=e.normalizeCssArray(i.get("padding")||0),r=n.getBoundingRect();n.add(new f.Rect({z2:-1,silent:!0,shape:{x:r.x-t[3],y:r.y-t[0],width:r.width+t[3]+t[1],height:r.height+t[0]+t[2]},style:{fill:i.get("backgroundColor"),stroke:i.get("borderColor"),lineWidth:i.get("borderWidth")}}))},getControllerVisual:function(n,t,i){function c(n){return f[n]}function l(n,t){f[n]=t}var s,o,h;i=i||{};var a=i.forceState,e=this.visualMapModel,f={};return("symbol"===t&&(f.symbol=e.get("itemSymbol")),"color"===t)&&(s=e.get("contentColor"),f.color=s),o=e.controllerVisuals[a||e.getValueState(n)],h=u.prepareVisualTypes(o),r.each(h,function(r){var f=o[r];i.convertOpacityToAlpha&&"opacity"===r&&(r="colorAlpha",f=o.__alphaForOpacity);u.dependsOn(r,t)&&f&&f.applyVisual(n,c,l)}),f[t]},positionGroup:function(n){var i=this.visualMapModel,t=this.api;o.positionElement(n,i.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})},doRender:r.noop})},function(n,t,i){var r=i(1),u=i(12),f={getItemAlign:function(n,t,i){var e=n.option,s=e.align,f,o;if(null!=s&&"auto"!==s)return s;for(var a={width:t.getWidth(),height:t.getHeight()},h="horizontal"===e.orient?1:0,v=[["left","right","width"],["top","bottom","height"]],c=v[h],y=[0,null,10],l={},r=0;r<3;r++)l[v[1-h][r]]=y[r],l[c[r]]=2===r?i[0]:e[c[r]];return f=[["x","width",3],["y","height",0]][h],o=u.getLayoutRect(l,a,e.padding),c[(o.margin[f[2]]||0)+o[f[0]]+.5*o[f[1]]<.5*a[f[1]]?0:1]},convertDataIndex:function(n){return r.each(n||[],function(){null!=n.dataIndex&&(n.dataIndexInside=n.dataIndex,n.dataIndex=null)}),n}};n.exports=f},function(n,t,i){function r(n,t){return n&&n.hasOwnProperty&&n.hasOwnProperty(t)}var u=i(1),f=u.each;n.exports=function(n){var t=n&&n.visualMap;u.isArray(t)||(t=t?[t]:[]);f(t,function(n){if(n){r(n,"splitList")&&!r(n,"pieces")&&(n.pieces=n.splitList,delete n.splitList);var t=n.pieces;t&&u.isArray(t)&&f(t,function(n){u.isObject(n)&&(r(n,"start")&&!r(n,"min")&&(n.min=n.start),r(n,"end")&&!r(n,"max")&&(n.max=n.end))})}})}},function(n,t,i){i(13).registerSubTypeDefaulter("visualMap",function(n){return n.categories||(n.pieces?n.pieces.length>0:n.splitNumber>0)&&!n.calculable?"piecewise":"continuous"})},function(n,t,i){function u(n){n.eachTargetSeries(function(t){var i=t.getData();o.applyVisual(n.stateList,n.targetVisuals,i,n.getValueState,n,n.getDataDimension(i))})}function f(n){n.eachSeries(function(t){var r=t.getData(),i=[];n.eachComponent("visualMap",function(n){if(n.isTargetSeries(t)){var u=n.getVisualMeta(h.bind(e,null,t,n))||{stops:[],outerColors:[]};u.dimension=n.getDataDimension(r);i.push(u)}});t.getData().setVisual("visualMeta",i)})}function e(n,t,i,r){function l(n){return u[n]}function a(n,t){u[n]=t}for(var e,o,h=t.targetVisuals[r],c=s.prepareVisualTypes(h),u={color:n.getData().getVisual("color")},f=0,v=c.length;f<v;f++)e=c[f],o=h["opacity"===e?"__alphaForOpacity":e],o&&o.applyVisual(i,l,a);return u.color}var r=i(2),o=i(184),s=i(79),h=i(1);r.registerVisual(r.PRIORITY.VISUAL.COMPONENT,function(n){n.eachComponent("visualMap",function(t){u(t,n)});f(n)})},function(n,t,i){var r=i(2);r.registerAction({type:"selectDataRange",event:"dataRangeSelected",update:"update"},function(n,t){t.eachComponent({mainType:"visualMap",query:n},function(t){t.setSelected(n.selected)})})},function(n,t,i){function e(){u.call(this)}function r(n){this.name=n;this.zoomLimit;u.call(this);this._roamTransform=new e;this._viewTransform=new e;this._center;this._zoom}function h(n,t,i,r){var u=i.seriesModel,f=u?u.coordinateSystem:null;return f===this?f[n](r):null}var o=i(5),c=i(19),u=i(98),f=i(1),s=i(11),l=o.applyTransform;f.mixin(e,u);r.prototype={constructor:r,type:"view",dimensions:["x","y"],setBoundingRect:function(n,t,i,r){return this._rect=new s(n,t,i,r),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(n,t,i,r){this.transformTo(n,t,i,r);this._viewRect=new s(n,t,i,r)},transformTo:function(n,t,i,r){var f=this.getBoundingRect(),u=this._viewTransform;u.transform=f.calculateTransform(new s(n,t,i,r));u.decomposeTransform();this._updateTransform()},setCenter:function(n){n&&(this._center=n,this._updateCenterAndZoom())},setZoom:function(n){n=n||1;var t=this.zoomLimit;t&&(null!=t.max&&(n=Math.min(t.max,n)),null!=t.min&&(n=Math.max(t.min,n)));this._zoom=n;this._updateCenterAndZoom()},getDefaultCenter:function(){var n=this.getBoundingRect(),t=n.x+n.width/2,i=n.y+n.height/2;return[t,i]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransform},_updateCenterAndZoom:function(){var r=this._viewTransform.getLocalTransform(),i=this._roamTransform,t=this.getDefaultCenter(),n=this.getCenter(),u=this.getZoom();n=o.applyTransform([],n,r);t=o.applyTransform([],t,r);i.origin=n;i.position=[t[0]-n[0],t[1]-n[1]];i.scale=[u,u];this._updateTransform()},_updateTransform:function(){var t=this._roamTransform,n=this._viewTransform;n.parent=t;t.updateTransform();n.updateTransform();n.transform&&c.copy(this.transform||(this.transform=[]),n.transform);this.transform?(this.invTransform=this.invTransform||[],c.invert(this.invTransform,this.transform)):this.invTransform=null;this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var n=this.getBoundingRect().clone();return n.applyTransform(this.transform),n},dataToPoint:function(n){var t=this.transform;return t?l([],n,t):[n[0],n[1]]},pointToData:function(n){var t=this.invTransform;return t?l([],n,t):[n[0],n[1]]},convertToPixel:f.curry(h,"dataToPoint"),convertFromPixel:f.curry(h,"pointToData"),containPoint:function(n){return this.getViewRectAfterRoam().contain(n[0],n[1])}};f.mixin(r,u);n.exports=r},function(n,t,i){function u(n,t,i){if(this.name=n,this.geometries=t,i)i=[i[0],i[1]];else{var r=this.getBoundingRect();i=[r.x+r.width/2,r.y+r.height/2]}this.center=i}var f=i(263),e=i(11),o=i(81),r=i(5);u.prototype={constructor:u,properties:null,getBoundingRect:function(){var s=this._rect,l;if(s)return s;for(var u=Number.MAX_VALUE,n=[u,u],t=[-u,-u],h=[],c=[],f=this.geometries,i=0;i<f.length;i++)"polygon"===f[i].type&&(l=f[i].exterior,o.fromPoints(l,h,c),r.min(n,n,h),r.max(t,t,c));return 0===i&&(n[0]=n[1]=t[0]=t[1]=0),this._rect=new e(n[0],n[1],t[0]-n[0],t[1]-n[1])},contain:function(n){var s=this.getBoundingRect(),i=this.geometries,t,e,o,r,u;if(!s.contain(n[0],n[1]))return!1;n:for(t=0,e=i.length;t<e;t++)if("polygon"===i[t].type&&(o=i[t].exterior,r=i[t].interiors,f.contain(o,n[0],n[1]))){for(u=0;u<(r?r.length:0);u++)if(f.contain(r[u]))continue n;return!0}return!1},transformTo:function(n,t,i,u){var o=this.getBoundingRect(),v=o.width/o.height,s,f;i?u||(u=i/v):i=v*u;for(var y=new e(n,t,i,u),p=o.calculateTransform(y),l=this.geometries,h=0;h<l.length;h++)if("polygon"===l[h].type){for(var a=l[h].exterior,c=l[h].interiors,f=0;f<a.length;f++)r.applyTransform(a[f],a[f],p);for(s=0;s<(c?c.length:0);s++)for(f=0;f<c[s].length;f++)r.applyTransform(c[s][f],c[s][f],p)}o=this._rect;o.copy(y);this.center=[o.x+o.width/2,o.y+o.height/2]}};n.exports=u},function(n,t,i){function f(n){var o,f,r,i,c;if(!n.UTF8Encoding)return n;for(o=n.features,f=0;f<o.length;f++)for(var l=o[f],e=l.geometry,s=e.coordinates,h=e.encodeOffsets,t=0;t<s.length;t++)if(r=s[t],"Polygon"===e.type)s[t]=u(r,h[t]);else if("MultiPolygon"===e.type)for(i=0;i<r.length;i++)c=r[i],r[i]=u(c,h[t][i]);return n.UTF8Encoding=!1,n}function u(n,t){for(var i,r,f=[],e=t[0],o=t[1],u=0;u<n.length;u+=2)i=n.charCodeAt(u)-64,r=n.charCodeAt(u+1)-64,i=i>>1^-(1&i),r=r>>1^-(1&r),i+=e,r+=o,e=i,o=r,f.push([i/1024,r/1024]);return f}var r=i(1),e=i(257);n.exports=function(n){return f(n),r.map(r.filter(n.features,function(n){return n.geometry&&n.properties&&n.geometry.coordinates.length>0}),function(n){var t=n.properties,i=n.geometry,u=i.coordinates,f=[],o;return"Polygon"===i.type&&f.push({type:"polygon",exterior:u[0],interiors:u.slice(1)}),"MultiPolygon"===i.type&&r.each(u,function(n){n[0]&&f.push({type:"polygon",exterior:n[0],interiors:n.slice(1)})}),o=new e(t.name,f,t.cp),o.properties=t,o})}},function(n,t,i){function r(n,t){var i=[];return n.eachComponent("parallel",function(r,f){var e=new u(r,n,t);e.name="parallel_"+f;e.resize(r,t);r.coordinateSystem=e;e.model=r;i.push(e)}),n.eachSeries(function(t){if("parallel"===t.get("coordinateSystem")){var i=n.queryComponents({mainType:"parallel",index:t.get("parallelIndex"),id:t.get("parallelId")})[0];t.coordinateSystem=i.coordinateSystem}}),i}var u=i(397);i(26).register("parallel",{create:r})},function(n,t,i){function h(n){var t=n.mainData,i=n.datas;i||(i={main:t},n.datasAttr={main:"data"});n.datas=n.mainData=null;s(t,i,n);u(i,function(i){u(t.TRANSFERABLE_METHODS,function(t){i.wrapMethod(t,r.curry(c,n))})});t.wrapMethod("cloneShallow",r.curry(a,n));u(t.CHANGABLE_METHODS,function(i){t.wrapMethod(i,r.curry(l,n))});r.assert(i[t.dataType]===t)}function c(n,t){if(y(this)){var i=r.extend({},this[f]);i[this.dataType]=t;s(t,i,n)}else o(t,this.dataType,this[e],n);return t}function l(n,t){return n.struct&&n.struct.update(this),t}function a(n,t){return u(t[f],function(i,r){i!==t&&o(i.cloneShallow(),r,t,n)}),t}function v(n){var t=this[e];return null==n||null==t?t:t[f][n]}function y(n){return n[e]===n}function s(n,t,i){n[f]={};u(t,function(t,r){o(t,r,n,i)})}function o(n,t,i,r){i[f][t]=n;n[e]=i;n.dataType=t;r.struct&&(n[r.structAttr]=r.struct,r.struct[r.datasAttr[t]]=n);n.getLinkedData=v}var r=i(1),u=r.each,f="\0__link_datas",e="\0__link_mainData";n.exports=h},function(n,t,i){function u(){function t(i,u){var o,s;if(u>=n.length)return i;for(var f=-1,c=i.length,l=n[u++],h={},e={};++f<c;)o=l(i[f]),s=e[o],s?s.push(i[f]):e[o]=[i[f]];return r.each(e,function(n,i){h[i]=t(n,u)}),h}function i(t,f){if(f>=n.length)return t;var e=[],o=u[f++];return r.each(t,function(n,t){e.push({key:t,values:i(n,f)})}),o?e.sort(function(n,t){return o(n.key,t.key)}):e}var n=[],u=[];return{key:function(t){return n.push(t),this},sortKeys:function(t){return u[n.length-1]=t,this},entries:function(n){return i(t(n,0),0)}}}var r=i(1);n.exports=u},function(n,t,i){var r=i(1),u={get:function(n,t,i){var u=r.clone((f[n]||{})[t]);return i&&r.isArray(u)?u[u.length-1]:u}},f={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};n.exports=u},function(n,t,i){function r(n,t){return Math.abs(n-t)<e}function f(n,t,i){var h=0,f=n[0],o,s,e;if(!f)return!1;for(o=1;o<n.length;o++)s=n[o],h+=u(f[0],f[1],s[0],s[1],t,i),f=s;return e=n[0],r(f[0],e[0])&&r(f[1],e[1])||(h+=u(f[0],f[1],e[0],e[1],t,i)),0!==h}var u=i(96),e=1e-8;n.exports={contain:f}},function(n,t,i){var r=i(86).extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:!1},getInitialData:function(n){return n.stack=null,r.superApply(this,"getInitialData",arguments)}});n.exports=r},function(n,t,i){function c(n,t,i,r){var s=n.getItemLayout(t),h=i.get("symbolRepeat"),l=i.get("symbolClip"),p=i.get("symbolPosition")||"start",w=i.get("symbolRotate"),a=(w||0)*Math.PI/180||0,v=i.get("symbolPatternSize")||2,y=i.isAnimationEnabled(),f={dataIndex:t,layout:s,itemModel:i,symbolType:n.getItemVisual(t,"symbol")||"circle",color:n.getItemVisual(t,"color"),symbolClip:l,symbolRepeat:h,symbolRepeatDirection:i.get("symbolRepeatDirection"),symbolPatternSize:v,rotation:a,animationModel:y?i:null,hoverAnimation:y&&i.get("hoverAnimation"),z2:i.getShallow("z",!0)||0},c,e;return rt(i,h,s,r,f),ut(n,t,s,h,l,f.boundingLength,f.pxSign,v,r,f),ft(i,f.symbolScale,a,r,f),c=f.symbolSize,e=i.get("symbolOffset"),u.isArray(e)&&(e=[o(e[0],c[0]),o(e[1],c[1])]),et(i,c,s,h,l,e,p,f.valueLineWidth,f.boundingLength,f.repeatCutLength,r,f),f}function rt(n,t,i,r,u){var e=r.valueDim,o=n.get("symbolBoundingData"),f=r.coordSys.getOtherAxis(r.coordSys.getBaseAxis()),s=f.toGlobalCoord(f.dataToCoord(0)),h=u.boundingLength=null!=o?f.toGlobalCoord(f.dataToCoord(f.scale.parse(o)))-s:t?r.coordSysExtent[e.index][1-+(i[e.wh]<=0)]-s:i[e.wh];t&&(u.repeatCutLength=i[e.wh]);u.pxSign=h>0?1:h<0?-1:0}function ut(n,t,i,r,f,e,s,h,c,l){var v=c.valueDim,y=c.categoryDim,p=Math.abs(i[y.wh]),a=n.getItemVisual(t,"symbolSize"),w;u.isArray(a)?a=a.slice():(null==a&&(a="100%"),a=[a,a]);a[y.index]=o(a[y.index],p);a[v.index]=o(a[v.index],r?p:Math.abs(e));l.symbolSize=a;w=l.symbolScale=[a[0]/h,a[1]/h];w[v.index]*=(c.isHorizontal?-1:1)*s}function ft(n,t,i,r,u){var f=n.get(at)||0;f&&(h.attr({scale:t.slice(),rotation:i}),h.updateTransform(),f/=h.getLineScale(),f*=t[r.valueDim.index]);u.valueLineWidth=f}function et(n,t,i,r,f,e,s,h,c,l,a,v){var w=a.categoryDim,p=a.valueDim,st=v.pxSign,g=Math.max(t[p.index]+h,0),ht=g,ft,k,et,ot,d;if(r){var ct=Math.abs(c),y=u.retrieve(n.get("symbolMargin"),"15%")+"",it=!1;y.lastIndexOf("!")===y.length-1&&(it=!0,y=y.slice(0,y.length-1));y=o(y,t[p.index]);var rt=Math.max(g+2*y,0),ut=it?0:2*y,lt=tt.isNumeric(r),b=lt?r:nt((ct+ut)/rt),at=ct-b*g;y=at/2/(it?b:b-1);rt=g+2*y;ut=it?0:2*y;lt||"fixed"===r||(b=l?nt((Math.abs(l)+ut)/rt):0);ht=b*rt-ut;v.repeatTimes=b;v.symbolMargin=y}ft=st*(ht/2);k=v.pathPosition=[];k[w.index]=i[w.wh]/2;k[p.index]="start"===s?ft:"end"===s?c-ft:c/2;e&&(k[0]+=e[0],k[1]+=e[1]);et=v.bundlePosition=[];et[w.index]=i[w.xy];et[p.index]=i[p.xy];ot=v.barRectShape=u.extend({},i);ot[p.wh]=st*Math.max(Math.abs(i[p.wh]),Math.abs(k[p.index]+ft));ot[w.wh]=i[w.wh];d=v.clipShape={};d[w.xy]=-i[w.xy];d[w.wh]=a.ecSize[w.wh];d[p.xy]=0;d[p.wh]=i[p.wh]}function l(n){var t=n.symbolPatternSize,i=ct.createSymbol(n.symbolType,-t/2,-t/2,t,t,n.color);return i.attr({culling:!0}),"image"!==i.type&&i.setStyle({strokeNoScale:!0}),i}function a(n,t,i,r){function a(n){var t=y.slice(),r=i.pxSign,u=n;return("start"===i.symbolRepeatDirection?r>0:r<0)&&(u=h-1-n),t[p.index]=g*(u-h/2+.5)+y[p.index],{position:t,scale:i.symbolScale.slice(),rotation:i.rotation}}function w(){e(n,function(n){n.trigger("emphasis")})}function b(){e(n,function(n){n.trigger("normal")})}var v=n.__pictorialBundle,k=i.symbolSize,d=i.valueLineWidth,y=i.pathPosition,p=t.valueDim,h=i.repeatTimes||0,u=0,g=k[t.valueDim.index]+d+2*i.symbolMargin,o,c;for(e(n,function(n){n.__pictorialAnimationIndex=u;n.__pictorialRepeatTimes=h;u<h?f(n,null,a(u),i,r):f(n,null,{scale:[0,0]},i,r,function(){v.remove(n)});s(n,i);u++});u<h;u++)o=l(i),o.__pictorialAnimationIndex=u,o.__pictorialRepeatTimes=h,v.add(o),c=a(u,!0),f(o,{position:c.position,scale:[0,0]},{scale:c.scale,rotation:c.rotation},i,r),o.on("mouseover",w).on("mouseout",b),s(o,i)}function v(n,t,i,r){function e(){this.trigger("emphasis")}function o(){this.trigger("normal")}var h=n.__pictorialBundle,u=n.__pictorialMainPath;u?f(u,null,{position:i.pathPosition.slice(),scale:i.symbolScale.slice(),rotation:i.rotation},i,r):(u=n.__pictorialMainPath=l(i),h.add(u),f(u,{position:i.pathPosition.slice(),scale:[0,0],rotation:i.rotation},{scale:i.symbolScale.slice()},i,r),u.on("mouseover",e).on("mouseout",o));s(u,i)}function y(n,t,i){var o=u.extend({},t.barRectShape),e=n.__pictorialBarRect;e?f(e,null,{shape:o},t,i):(e=n.__pictorialBarRect=new r.Rect({z2:2,shape:o,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),n.add(e))}function p(n,t,i,f){var h;if(i.symbolClip){var e=n.__pictorialClipPath,o=u.extend({},i.clipShape),s=t.valueDim,c=i.animationModel,l=i.dataIndex;e?r.updateProps(e,{shape:o},c,l):(o[s.wh]=0,e=new r.Rect({shape:o}),n.__pictorialBundle.setClipPath(e),n.__pictorialClipPath=e,h={},h[s.wh]=i.clipShape[s.wh],r[f?"updateProps":"initProps"](e,{shape:h},c,l))}}function w(n,t){var i=n.getItemModel(t);return i.getAnimationDelayParams=ot,i.isAnimationEnabled=st,i}function ot(n){return{index:n.__pictorialAnimationIndex,count:n.__pictorialRepeatTimes}}function st(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function s(n,t){n.off("emphasis").off("normal");var i=t.symbolScale.slice();t.hoverAnimation&&n.on("emphasis",function(){this.animateTo({scale:[1.1*i[0],1.1*i[1]]},400,"elasticOut")}).on("normal",function(){this.animateTo({scale:i.slice()},400,"elasticOut")})}function b(n,t,i,u){var f=new r.Group,e=new r.Group;return f.add(e),f.__pictorialBundle=e,e.attr("position",i.bundlePosition.slice()),i.symbolRepeat?a(f,t,i):v(f,t,i),y(f,i,u),p(f,t,i,u),f.__pictorialShapeStr=d(n,i),f.__pictorialSymbolMeta=i,f}function ht(n,t,i){var u=i.animationModel,f=i.dataIndex,e=n.__pictorialBundle;r.updateProps(e,{position:i.bundlePosition.slice()},u,f);i.symbolRepeat?a(n,t,i,!0):v(n,t,i,!0);y(n,i,!0);p(n,t,i,!0)}function k(n,t,i,f){var s=f.__pictorialBarRect,o;s&&(s.style.text="");o=[];e(f,function(n){o.push(n)});f.__pictorialMainPath&&o.push(f.__pictorialMainPath);f.__pictorialClipPath&&(i=null);u.each(o,function(n){r.updateProps(n,{scale:[0,0]},i,t,function(){f.parent&&f.parent.remove(f)})});n.setItemGraphicEl(t,null)}function d(n,t){return[n.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function e(n,t,i){u.each(n.__pictorialBundle.children(),function(r){r!==n.__pictorialBarRect&&t.call(i,r)})}function f(n,t,i,u,f,e){t&&n.attr(t);u.symbolClip&&!f?i&&n.attr(i):i&&r[f?"updateProps":"initProps"](n,i,u.animationModel,u.dataIndex,e)}function g(n,t,i){var f=i.color,c=i.dataIndex,o=i.itemModel,l=o.getModel("itemStyle.normal").getItemStyle(["color"]),a=o.getModel("itemStyle.emphasis").getItemStyle();e(n,function(n){n.setColor(f);n.setStyle(u.defaults({fill:f,opacity:i.opacity},l));r.setHoverStyle(n,a);n.z2=i.z2});var s={},v=t.valueDim.posDesc[+(i.boundingLength>0)],h=n.__pictorialBarRect;lt.setLabel(h.style,s,o,f,t.seriesModel,c,v);r.setHoverStyle(h,s)}function nt(n){var t=Math.round(n);return Math.abs(n-t)<.0001?t:Math.ceil(n)}var u=i(1),r=i(3),ct=i(24),tt=i(4),lt=i(87),o=tt.parsePercent,at=["itemStyle","normal","borderWidth"],it=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],h=new r.Circle,vt=i(2).extendChartView({type:"pictorialBar",render:function(n,t,i){var e=this.group,r=n.getData(),o=this._data,s=n.coordinateSystem,l=s.getBaseAxis(),h=!!l.isHorizontal(),f=s.grid.getRect(),u={ecSize:{width:i.getWidth(),height:i.getHeight()},seriesModel:n,coordSys:s,coordSysExtent:[[f.x,f.x+f.width],[f.y,f.y+f.height]],isHorizontal:h,valueDim:it[+h],categoryDim:it[1-h]};return r.diff(o).add(function(n){if(r.hasValue(n)){var f=w(r,n),i=c(r,n,f,u),t=b(r,u,i);r.setItemGraphicEl(n,t);e.add(t);g(t,u,i)}}).update(function(n,t){var i=o.getItemGraphicEl(t);if(!r.hasValue(n))return void e.remove(i);var s=w(r,n),f=c(r,n,s,u),h=d(r,f);i&&h!==i.__pictorialShapeStr&&(e.remove(i),r.setItemGraphicEl(n,null),i=null);i?ht(i,u,f):i=b(r,u,f,!0);r.setItemGraphicEl(n,i);i.__pictorialSymbolMeta=f;e.add(i);g(i,u,f)}).remove(function(n){var t=o.getItemGraphicEl(n);t&&k(o,n,t.__pictorialSymbolMeta.animationModel,t)}).execute(),this._data=r,this.group},dispose:u.noop,remove:function(n){var i=this.group,t=this._data;n.get("animation")?t&&t.eachItemGraphicEl(function(i){k(t,i.dataIndex,n,i)}):i.removeAll()}});n.exports=vt},function(n,t,i){var r=i(2);i(267);i(268);r.registerVisual(i(270));r.registerLayout(i(269))},function(n,t,i){"use strict";var u=i(1),f=i(18),e=i(181),r=f.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],valueDimensions:["min","Q1","median","Q3","max"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{normal:{color:"#fff",borderWidth:1},emphasis:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});u.mixin(r,e.seriesModelMixin,!0);n.exports=r},function(n,t,i){"use strict";function o(n,t,i){var o=t.getItemModel(i),a=o.getModel(f),s=t.getItemVisual(i,"color"),c=a.getItemStyle(["borderColor"]),u=n.childAt(n.whiskerIndex),r,l;u.style.set(c);u.style.stroke=s;u.dirty();r=n.childAt(n.bodyIndex);r.style.set(c);r.style.stroke=s;r.dirty();l=o.getModel(e).getItemStyle();h.setHoverStyle(n,l)}var r=i(1),s=i(29),h=i(3),c=i(181),u=s.extend({type:"boxplot",getStyleUpdater:function(){return o},dispose:r.noop}),f,e;r.mixin(u,c.viewMixin,!0);f=["itemStyle","normal"];e=["itemStyle","emphasis"];n.exports=u},function(n,t,i){function e(n){var t=[],i=[];return n.eachSeriesByType("boxplot",function(n){var f=n.getBaseAxis(),r=u.indexOf(i,f);r<0&&(r=i.length,i[r]=f,t[r]={axis:f,seriesModels:[]});t[r].seriesModels.push(n)}),t}function o(n){var o,t,s=n.axis,i=n.seriesModels,h=i.length,p=n.boxWidthList=[],w=n.boxOffsetList=[],c=[],e;"category"===s.type?t=s.getBandWidth():(e=0,r(i,function(n){e=Math.max(e,n.getData().count())}),o=s.getExtent(),Math.abs(o[1]-o[0])/e);r(i,function(n){var i=n.get("boxWidth");u.isArray(i)||(i=[i,i]);c.push([f(i[0],t)||0,f(i[1],t)||0])});var l=.8*t-2,v=l/h*.3,a=(l-v*(h-1))/h,y=a/2-l/2;r(i,function(n,t){w.push(y);y+=v+a;p.push(Math.min(Math.max(a,c[t][0]),c[t][1]))})}function s(n,t,i){var o=n.coordinateSystem,u=n.getData(),f=n.dimensions,e=n.get("layout"),r=i/2;u.each(f,function(){function s(n){var u=[],r;return u[i]=y,u[p]=n,isNaN(y)||isNaN(n)?r=[NaN,NaN]:(r=o.dataToPoint(u),r[i]+=t),r}function v(n,t){var u=n.slice(),f=n.slice();u[i]+=r;f[i]-=r;t?c.push(u,f):c.push(f,u)}function l(n){var t=[n.slice(),n.slice()];t[0][i]-=r;t[1][i]+=r;h.push(t)}var n=arguments,k=f.length,y=n[0],d=n[k],i="horizontal"===e?0:1,p=1-i,a=s(n[3]),w=s(n[1]),b=s(n[5]),h=[[w,s(n[2])],[b,s(n[4])]],c;l(w);l(b);l(a);c=[];v(h[0][1],0);v(h[1][1],1);u.setItemLayout(d,{chartLayout:e,initBaseline:a[p],median:a,bodyEnds:c,whiskerEnds:h})})}var u=i(1),h=i(4),f=h.parsePercent,r=u.each;n.exports=function(n){var t=e(n);r(t,function(n){var t=n.seriesModels;t.length&&(o(n),r(t,function(t,i){s(t,n.boxOffsetList[i],n.boxWidthList[i])}))})}},function(n){var t=["itemStyle","normal","borderColor"];n.exports=function(n){var i=n.get("color");n.eachRawSeriesByType("boxplot",function(r){var f=i[r.seriesIndex%i.length],u=r.getData();u.setVisual({legendSymbol:"roundRect",color:r.get(t)||f});n.isSeriesFiltered(r)||u.each(function(n){var i=u.getItemModel(n);u.setItemVisual(n,{color:i.get(t,!0)})})})}},function(n,t,i){var r=i(2);i(272);i(273);r.registerPreprocessor(i(276));r.registerVisual(i(275));r.registerLayout(i(274))},function(n,t,i){"use strict";var r=i(1),o=i(18),s=i(181),u=i(7),f=u.encodeHTML,h=u.addCommas,e=o.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],valueDimensions:["open","close","lowest","highest"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,itemStyle:{normal:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},formatTooltip:function(n){var i=r.map(this.valueDimensions,function(t){return f(t+": "+h(this.getData().get(t,n)))},this).join("<br />"),t=[];return null!=this.name&&t.push(f(this.name)),null!=i&&t.push(i),t.join("<br />")},brushSelector:function(n,t){return t.rect(n.brushRect)}});r.mixin(e,s.seriesModelMixin,!0);n.exports=e},function(n,t,i){"use strict";function o(n,t,i){var u=t.getItemModel(i),v=u.getModel(f),o=t.getItemVisual(i,"color"),s=t.getItemVisual(i,"borderColor")||o,c=v.getItemStyle(["color","color0","borderColor","borderColor0"]),l=n.childAt(n.whiskerIndex),r,a;l.useStyle(c);l.style.stroke=s;r=n.childAt(n.bodyIndex);r.useStyle(c);r.style.fill=o;r.style.stroke=s;a=u.getModel(e).getItemStyle();h.setHoverStyle(n,a)}var r=i(1),s=i(29),h=i(3),c=i(181),u=s.extend({type:"candlestick",getStyleUpdater:function(){return o},dispose:r.noop}),f,e;r.mixin(u,c.viewMixin,!0);f=["itemStyle","normal"];e=["itemStyle","emphasis"];n.exports=u},function(n,t,i){function f(n,t){var f,e=n.getBaseAxis(),i="category"===e.type?e.getBandWidth():(f=e.getExtent(),Math.abs(f[1]-f[0])/t.count()),s=r(u(n.get("barMaxWidth"),i),i),h=r(u(n.get("barMinWidth"),1),i),o=n.get("barWidth");return null!=o?r(o,i):Math.max(Math.min(i/2,s),h)}var u=i(1).retrieve,r=i(4).parsePercent;n.exports=function(n){n.eachSeriesByType("candlestick",function(n){var e=n.coordinateSystem,i=n.getData(),r=n.dimensions,u=n.get("layout"),t=f(n,i);i.each(r,function(){function o(n){var t=[];return t[h]=b,t[c]=n,isNaN(b)||isNaN(n)?[NaN,NaN]:e.dataToPoint(t)}function w(n,i){var r=n.slice(),u=n.slice();r[h]+=t/2;u[h]-=t/2;i?p.push(r,u):p.push(u,r)}function k(){var i=o(Math.min(n,f,l,a)),r=o(Math.max(n,f,l,a));return i[h]-=t/2,r[h]-=t/2,{x:i[0],y:i[1],width:c?t:r[0]-i[0],height:c?r[1]-i[1]:t}}var s=arguments,d=r.length,b=s[0],g=s[d],h="horizontal"===u?0:1,c=1-h,n=s[1],f=s[2],l=s[3],a=s[4],nt=Math.min(n,f),tt=Math.max(n,f),v=o(nt),y=o(tt),it=o(l),rt=o(a),ut=[[rt,y],[it,v]],p=[];w(y,0);w(v,1);i.setItemLayout(g,{chartLayout:u,sign:n>f?-1:n<f?1:0,initBaseline:n>f?y[c]:v[c],bodyEnds:p,whiskerEnds:ut,brushRect:k()})},!0)})}},function(n){var t=["itemStyle","normal","borderColor"],i=["itemStyle","normal","borderColor0"],r=["itemStyle","normal","color"],u=["itemStyle","normal","color0"];n.exports=function(n){n.eachRawSeriesByType("candlestick",function(f){var e=f.getData();e.setVisual({legendSymbol:"roundRect"});n.isSeriesFiltered(f)||e.each(function(n){var f=e.getItemModel(n),o=e.getItemLayout(n).sign;e.setItemVisual(n,{color:f.get(o>0?r:u),borderColor:f.get(o>0?t:i)})})})}},function(n,t,i){var r=i(1);n.exports=function(n){n&&r.isArray(n.series)&&r.each(n.series,function(n){r.isObject(n)&&"k"===n.type&&(n.type="candlestick")})}},function(n,t,i){var r=i(1),u=i(2);i(278);i(279);u.registerVisual(r.curry(i(50),"effectScatter","circle",null));u.registerLayout(r.curry(i(59),"effectScatter"))},function(n,t,i){"use strict";var r=i(27),u=i(18);n.exports=u.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(n,t){return r(n.data,this,t)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}})},function(n,t,i){var r=i(44),u=i(306);i(2).extendChartView({type:"effectScatter",init:function(){this._symbolDraw=new r(u)},render:function(n){var i=n.getData(),t=this._symbolDraw;t.updateData(i);this.group.add(t.group)},updateLayout:function(){this._symbolDraw.updateLayout()},remove:function(n,t){this._symbolDraw&&this._symbolDraw.remove(t)},dispose:function(){}})},function(n,t,i){var u=i(1),r=i(2);i(281);i(282);r.registerVisual(u.curry(i(80),"funnel"));r.registerLayout(i(283));r.registerProcessor(u.curry(i(61),"funnel"))},function(n,t,i){"use strict";var u=i(14),f=i(6),e=i(25),r=i(2).extendSeriesModel({type:"series.funnel",init:function(n){r.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()};this._defaultLabelLine(n)},getInitialData:function(n){var i=e(["value"],n.data),t=new u(i,this);return t.initData(n.data),t},_defaultLabelLine:function(n){f.defaultEmphasis(n.labelLine,["show"]);var t=n.labelLine.normal,i=n.labelLine.emphasis;t.show=t.show&&n.label.normal.show;i.show=i.show&&n.label.emphasis.show},getDataParams:function(n){var i=this.getData(),t=r.superCall(this,"getDataParams",n),u=i.getSum("value");return t.percent=u?+(i.get("value",n)/u*100).toFixed(2):0,t.$vars.push("percent"),t},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{normal:{show:!0,position:"outer"},emphasis:{show:!0}},labelLine:{normal:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},emphasis:{}},itemStyle:{normal:{borderColor:"#fff",borderWidth:1},emphasis:{}}}});n.exports=r},function(n,t,i){function u(n,t){function f(){i.ignore=i.hoverIgnore;u.ignore=u.hoverIgnore}function e(){i.ignore=i.normalIgnore;u.ignore=u.normalIgnore}r.Group.call(this);var o=new r.Polygon,i=new r.Polyline,u=new r.Text;this.add(o);this.add(i);this.add(u);this.updateData(n,t,!0);this.on("emphasis",f).on("normal",e).on("mouseover",f).on("mouseout",e)}function e(n,t,i,r){var e=r.getModel("textStyle"),u=r.get("position"),o="inside"===u||"inner"===u||"center"===u;return{fill:e.getTextColor()||(o?"#fff":n.getItemVisual(t,"color")),textFont:e.getFont(),text:f.retrieve(n.hostModel.getFormattedLabel(t,i),n.getName(t))}}var r=i(3),f=i(1),o=u.prototype,h=["itemStyle","normal","opacity"],s;o.updateData=function(n,t,i){var u=this.childAt(0),s=n.hostModel,a=n.getItemModel(t),c=n.getItemLayout(t),e=n.getItemModel(t).get(h),o,l;e=null==e?1:e;u.useStyle({});i?(u.setShape({points:c.points}),u.setStyle({opacity:0}),r.initProps(u,{style:{opacity:e}},s,t)):r.updateProps(u,{style:{opacity:e},shape:{points:c.points}},s,t);o=a.getModel("itemStyle");l=n.getItemVisual(t,"color");u.setStyle(f.defaults({lineJoin:"round",fill:l},o.getModel("normal").getItemStyle(["opacity"])));u.hoverStyle=o.getModel("emphasis").getItemStyle();this._updateLabel(n,t);r.setHoverStyle(this)};o._updateLabel=function(n,t){var u=this.childAt(1),f=this.childAt(2),s=n.hostModel,o=n.getItemModel(t),v=n.getItemLayout(t),i=v.label,y=n.getItemVisual(t,"color");r.updateProps(u,{shape:{points:i.linePoints||i.linePoints}},s,t);r.updateProps(f,{style:{x:i.x,y:i.y}},s,t);f.attr({style:{textAlign:i.textAlign,textVerticalAlign:i.verticalAlign,textFont:i.font},rotation:i.rotation,origin:[i.x,i.y],z2:10});var h=o.getModel("label.normal"),c=o.getModel("label.emphasis"),l=o.getModel("labelLine.normal"),a=o.getModel("labelLine.emphasis");f.setStyle(e(n,t,"normal",h));f.ignore=f.normalIgnore=!h.get("show");f.hoverIgnore=!c.get("show");u.ignore=u.normalIgnore=!l.get("show");u.hoverIgnore=!a.get("show");u.setStyle({stroke:y});u.setStyle(l.getModel("lineStyle").getLineStyle());f.hoverStyle=e(n,t,"emphasis",c);u.hoverStyle=a.getModel("lineStyle").getLineStyle()};f.inherits(u,r.Group);s=i(29).extend({type:"funnel",render:function(n){var t=n.getData(),i=this._data,r=this.group;t.diff(i).add(function(n){var i=new u(t,n);t.setItemGraphicEl(n,i);r.add(i)}).update(function(n,u){var f=i.getItemGraphicEl(u);f.updateData(t,n);r.add(f);t.setItemGraphicEl(n,f)}).remove(function(n){var t=i.getItemGraphicEl(n);r.remove(t)}).execute();this._data=t},remove:function(){this.group.removeAll();this._data=null},dispose:function(){}});n.exports=s},function(n,t,i){function f(n,t){return s.getLayoutRect(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function e(n,t){for(var i=n.mapArray("value",function(n){return n}),u=[],f="ascending"===t,r=0,e=n.count();r<e;r++)u[r]=r;return u.sort(function(n,t){return f?i[n]-i[t]:i[t]-i[n]}),u}function o(n){n.each(function(t){var o,r,u,c,v=n.getItemModel(t),w=v.getModel("label.normal"),s=w.get("position"),b=v.getModel("labelLine.normal"),y=n.getItemLayout(t),i=y.points,p="inner"===s||"inside"===s||"center"===s,f,h,e,l,a;p?(r=(i[0][0]+i[1][0]+i[2][0]+i[3][0])/4,u=(i[0][1]+i[1][1]+i[2][1]+i[3][1])/4,o="center",c=[[r,u],[r,u]]):(l=b.get("length"),"left"===s?(f=(i[3][0]+i[0][0])/2,h=(i[3][1]+i[0][1])/2,e=f-l,r=e-5,o="right"):(f=(i[1][0]+i[2][0])/2,h=(i[1][1]+i[2][1])/2,e=f+l,r=e+5,o="left"),a=h,c=[[f,h],[e,a]],u=a);y.label={linePoints:c,x:r,y:u,verticalAlign:"middle",textAlign:o,inside:p}})}var s=i(12),r=i(4),u=r.parsePercent;n.exports=function(n,t){n.eachSeriesByType("funnel",function(n){var s=n.getData(),w=n.get("sort"),i=f(n,t),h=e(s,w),g=[u(n.get("minSize"),i.width),u(n.get("maxSize"),i.width)],b=s.getDataExtent("value"),y=n.get("min"),p=n.get("max"),c;null==y&&(y=Math.min(b[0],0));null==p&&(p=b[1]);var nt=n.get("funnelAlign"),l=n.get("gap"),a=(i.height-l*(s.count()-1))/s.count(),v=i.y,k=function(n,t){var u,e=s.get("value",n)||0,f=r.linearMap(e,[y,p],g,!0);switch(nt){case"left":u=i.x;break;case"center":u=i.x+(i.width-f)/2;break;case"right":u=i.x+i.width-f}return[[u,t],[u+f,t]]};for("ascending"===w&&(a=-a,l=-l,v+=i.height,h=h.reverse()),c=0;c<h.length;c++){var d=h[c],tt=h[c+1],it=k(d,v),rt=k(tt,v+a);v+=a+l;s.setItemLayout(d,{points:it.concat(rt.slice().reverse())})}o(s)})}},function(n,t,i){i(285);i(286)},function(n,t,i){var r=i(14),u=i(18),f=i(1),e=u.extend({type:"series.gauge",getInitialData:function(n){var i=new r(["value"],this),t=n.data||[];return f.isArray(t)||(t=[t]),i.initData(t),i},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,textStyle:{color:"auto"}},pointer:{show:!0,length:"80%",width:8},itemStyle:{normal:{color:"auto"}},title:{show:!0,offsetCenter:[0,"-40%"],textStyle:{color:"#333",fontSize:15}},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:40,offsetCenter:[0,"40%"],textStyle:{color:"auto",fontSize:30}}}});n.exports=e},function(n,t,i){function o(n,t){var i=n.get("center"),u=t.getWidth(),f=t.getHeight(),e=Math.min(u,f),o=r(i[0],t.getWidth()),s=r(i[1],t.getHeight()),h=r(n.get("radius"),e/2);return{cx:o,cy:s,r:h}}function e(n,t){return t&&("string"==typeof t?n=t.replace("{value}",null!=n?n:""):"function"==typeof t&&(n=t(n))),n}var s=i(287),u=i(3),f=i(4),r=f.parsePercent,h=2*Math.PI,c=i(29).extend({type:"gauge",render:function(n,t,i){this.group.removeAll();var r=n.get("axisLine.lineStyle.color"),u=o(n,i);this._renderMain(n,t,i,r,u)},dispose:function(){},_renderMain:function(n,t,i,r,f){for(var s,p,w=this.group,b=n.getModel("axisLine"),v=b.getModel("lineStyle"),c=n.get("clockwise"),o=-n.get("startAngle")/180*Math.PI,e=-n.get("endAngle")/180*Math.PI,k=(e-o)%h,y=o,d=v.get("width"),l=0;l<r.length;l++){var g=Math.min(Math.max(r[l][0],0),1),e=o+k*g,a=new u.Sector({shape:{startAngle:y,endAngle:e,cx:f.cx,cy:f.cy,clockwise:c,r0:f.r-d,r:f.r},silent:!0});a.setStyle({fill:r[l][1]});a.setStyle(v.getLineStyle(["color","borderWidth","borderColor"]));w.add(a);y=e}s=function(n){if(n<=0)return r[0][1];for(var t=0;t<r.length;t++)if(r[t][0]>=n&&(0===t?0:r[t-1][0])<n)return r[t][1];return r[t-1][1]};c||(p=o,o=e,e=p);this._renderTicks(n,t,i,s,f,o,e,c);this._renderPointer(n,t,i,s,f,o,e,c);this._renderTitle(n,t,i,s,f);this._renderDetail(n,t,i,s,f)},_renderTicks:function(n,t,i,o,s,h,c){for(var a,v,ft,tt,it=this.group,b=s.cx,k=s.cy,l=s.r,ot=+n.get("min"),wt=+n.get("max"),rt=n.getModel("splitLine"),d=n.getModel("axisTick"),g=n.getModel("axisLabel"),y=n.get("splitNumber"),ut=d.get("splitNumber"),nt=r(rt.get("length"),l),st=r(d.get("length"),l),p=h,ht=(c-h)/y,ct=ht/ut,lt=rt.getModel("lineStyle").getLineStyle(),at=d.getModel("lineStyle").getLineStyle(),vt=g.getModel("textStyle"),w=0;w<=y;w++){if(a=Math.cos(p),v=Math.sin(p),rt.get("show")&&(ft=new u.Line({shape:{x1:a*l+b,y1:v*l+k,x2:a*(l-nt)+b,y2:v*(l-nt)+k},style:lt,silent:!0}),"auto"===lt.stroke&&ft.setStyle({stroke:o(w/y)}),it.add(ft)),g.get("show")){var bt=e(f.round(w/y*(wt-ot)+ot),g.get("formatter")),yt=g.get("distance"),et=new u.Text({style:{text:bt,x:a*(l-nt-yt)+b,y:v*(l-nt-yt)+k,fill:vt.getTextColor(),textFont:vt.getFont(),textVerticalAlign:v<-.4?"top":v>.4?"bottom":"middle",textAlign:a<-.4?"left":a>.4?"right":"center"},silent:!0});"auto"===et.style.fill&&et.setStyle({fill:o(w/y)});it.add(et)}if(d.get("show")&&w!==y){for(tt=0;tt<=ut;tt++){var a=Math.cos(p),v=Math.sin(p),pt=new u.Line({shape:{x1:a*l+b,y1:v*l+k,x2:a*(l-st)+b,y2:v*(l-st)+k},silent:!0,style:at});"auto"===at.stroke&&pt.setStyle({stroke:o((w+tt/ut)/y)});it.add(pt);p+=ct}p-=ct}else p+=ht}},_renderPointer:function(n,t,i,e,o,h,c){var v=this.group,a=this._data;if(!n.get("pointer.show"))return void(a&&a.eachItemGraphicEl(function(n){v.remove(n)}));var y=[+n.get("min"),+n.get("max")],p=[h,c],l=n.getData();l.diff(a).add(function(t){var i=new s({shape:{angle:h}});u.updateProps(i,{shape:{angle:f.linearMap(l.get("value",t),y,p,!0)}},n);v.add(i);l.setItemGraphicEl(t,i)}).update(function(t,i){var r=a.getItemGraphicEl(i);u.updateProps(r,{shape:{angle:f.linearMap(l.get("value",t),y,p,!0)}},n);v.add(r);l.setItemGraphicEl(t,r)}).remove(function(n){var t=a.getItemGraphicEl(n);v.remove(t)}).execute();l.eachItemGraphicEl(function(n,t){var i=l.getItemModel(t),s=i.getModel("pointer");n.setShape({x:o.cx,y:o.cy,width:r(s.get("width"),o.r),r:r(s.get("length"),o.r)});n.useStyle(i.getModel("itemStyle.normal").getItemStyle());"auto"===n.style.fill&&n.setStyle("fill",e(f.linearMap(l.get("value",t),y,[0,1],!0)));u.setHoverStyle(n,i.getModel("itemStyle.emphasis").getItemStyle())});this._data=l},_renderTitle:function(n,t,i,e,o){var s=n.getModel("title");if(s.get("show")){var c=s.getModel("textStyle"),l=s.get("offsetCenter"),a=o.cx+r(l[0],o.r),v=o.cy+r(l[1],o.r),h=new u.Text({style:{x:a,y:v,text:n.getData().getName(0),fill:c.getTextColor(),textFont:c.getFont(),textAlign:"center",textVerticalAlign:"middle"}});if("auto"===h.style.fill){var y=+n.get("min"),p=+n.get("max"),w=n.getData().get("value",0);h.setStyle("fill",e(f.linearMap(w,[y,p],[0,1],!0)))}this.group.add(h)}},_renderDetail:function(n,t,i,o,s){var h=n.getModel("detail"),w=+n.get("min"),b=+n.get("max");if(h.get("show")){var l=h.getModel("textStyle"),a=h.get("offsetCenter"),k=s.cx+r(a[0],s.r),d=s.cy+r(a[1],s.r),v=r(h.get("width"),s.r),y=r(h.get("height"),s.r),p=n.getData().get("value",0),c=new u.Rect({shape:{x:k-v/2,y:d-y/2,width:v,height:y},style:{text:e(p,h.get("formatter")),fill:h.get("backgroundColor"),textFill:l.getTextColor(),textFont:l.getFont()}});"auto"===c.style.textFill&&c.setStyle("textFill",o(f.linearMap(p,[w,b],[0,1],!0)));c.setStyle(h.getItemStyle(["color"]));this.group.add(c)}}});n.exports=c},function(n,t,i){n.exports=i(8).extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(n,t){var u=Math.cos,f=Math.sin,e=t.r,i=t.width,r=t.angle,o=t.x-u(r)*i*(i>=e/3?1:2),s=t.y-f(r)*i*(i>=e/3?1:2);r=t.angle-Math.PI/2;n.moveTo(o,s);n.lineTo(t.x+u(r)*i,t.y+f(r)*i);n.lineTo(t.x+u(t.angle)*e,t.y+f(t.angle)*e);n.lineTo(t.x-u(r)*i,t.y-f(r)*i);n.lineTo(o,s)}})},function(n,t,i){var r=i(2),u=i(1);i(289);i(290);i(299);r.registerProcessor(i(292));r.registerVisual(u.curry(i(50),"graph","circle",null));r.registerVisual(i(293));r.registerVisual(i(296));r.registerLayout(i(300));r.registerLayout(i(294));r.registerLayout(i(298));r.registerCoordinateSystem("graphView",{create:i(295)})},function(n,t,i){"use strict";var o=i(14),u=i(1),f=i(6),s=i(10),e=i(7),h=i(244),r=i(2).extendSeriesModel({type:"series.graph",init:function(n){r.superApply(this,"init",arguments);this.legendDataProvider=function(){return this._categoriesData};this.fillDataTextStyle(n.edges||n.links);this._updateCategoriesData()},mergeOption:function(n){r.superApply(this,"mergeOption",arguments);this.fillDataTextStyle(n.edges||n.links);this._updateCategoriesData()},mergeDefaultAndTheme:function(n){r.superApply(this,"mergeDefaultAndTheme",arguments);f.defaultEmphasis(n.edgeLabel,f.LABEL_OPTIONS)},getInitialData:function(n,t){function f(n,i){function f(n){return n=this.parsePath(n),n&&"label"===n[0]?e:this.parentModel}n.wrapMethod("getItemModel",function(n){var i=u._categoriesModels,r=n.getShallow("category"),t=i[r];return t&&(t.parentModel=n.parentModel,n.parentModel=t),n});var r=u.getModel("edgeLabel"),e=new s({label:r.option},r.parentModel,t);i.wrapMethod("getItemModel",function(n){return n.customizeGetParent(f),n})}var i=n.edges||n.links||[],r=n.data||n.nodes||[],u=this;if(r&&i)return h(r,i,this,!0,f).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(n,t,i){if("edge"===i){var f=this.getData(),o=this.getDataParams(n,i),s=f.graph.getEdgeByIndex(n),h=f.getName(s.node1.dataIndex),c=f.getName(s.node2.dataIndex),u=[];return null!=h&&u.push(h),null!=c&&u.push(c),u=e.encodeHTML(u.join(" > ")),o.value&&(u+=" : "+e.encodeHTML(o.value)),u}return r.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var t=u.map(this.option.categories||[],function(n){return null!=n.value?n:u.extend({value:0},n)}),n=new o(["value"],this);n.initData(t);this._categoriesData=n;this._categoriesModels=n.mapArray(function(t){return n.getItemModel(t,!0)})},setZoom:function(n){this.option.zoom=n},setCenter:function(n){this.option.center=n},isAnimationEnabled:function(){return r.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{normal:{position:"middle"},emphasis:{}},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{normal:{show:!1,formatter:"{b}"},emphasis:{show:!0}},itemStyle:{normal:{},emphasis:{}},lineStyle:{normal:{color:"#aaa",width:1,curveness:0,opacity:.5},emphasis:{}}}});n.exports=r},function(n,t,i){function u(n,t){return n.getVisual("opacity")||n.getModel().get(t)}var o=i(44),s=i(105),h=i(90),c=i(3),f=i(291),l=i(1),r=["itemStyle","normal","opacity"],e=["lineStyle","normal","opacity"];i(2).extendChartView({type:"graph",init:function(n,t){var r=new o,u=new s,i=this.group,f=new h(t.getZr(),i);i.add(r.group);i.add(u.group);this._symbolDraw=r;this._lineDraw=u;this._controller=f;this._firstRender=!0},render:function(n,t,i){var e=n.coordinateSystem,o,r,l,u,s;this._model=n;this._nodeScaleRatio=n.get("nodeScaleRatio");var v=this._symbolDraw,y=this._lineDraw,h=this.group;"view"===e.type&&(o={position:e.position,scale:e.scale},this._firstRender?h.attr(o):c.updateProps(h,o,n));f(n.getGraph(),this._getNodeGlobalScale(n));r=n.getData();v.updateData(r);l=n.getEdgeData();y.updateData(l);this._updateNodeAndLinkScale();this._updateController(n,i);clearTimeout(this._layoutTimeout);u=n.forceLayout;s=n.get("force.layoutAnimation");u&&this._startForceLayoutIteration(u,s);r.eachItemGraphicEl(function(t,f){var o=r.getItemModel(f),e;t.off("drag").off("dragend");e=r.getItemModel(f).get("draggable");e&&t.on("drag",function(){u&&(u.warmUp(),!this._layouting&&this._startForceLayoutIteration(u,s),u.setFixed(f),r.setItemLayout(f,t.position))},this).on("dragend",function(){u&&u.setUnfixed(f)},this);t.setDraggable(e&&u);t.off("mouseover",t.__focusNodeAdjacency);t.off("mouseout",t.__unfocusNodeAdjacency);o.get("focusNodeAdjacency")&&(t.on("mouseover",t.__focusNodeAdjacency=function(){i.dispatchAction({type:"focusNodeAdjacency",seriesId:n.id,dataIndex:t.dataIndex})}),t.on("mouseout",t.__unfocusNodeAdjacency=function(){i.dispatchAction({type:"unfocusNodeAdjacency",seriesId:n.id})}))},this);var p="circular"===n.get("layout")&&n.get("circular.rotateLabel"),a=r.getLayout("cx"),w=r.getLayout("cy");r.eachItemGraphicEl(function(n,t){var u=n.getSymbolPath(),f,i,e,o;p?(f=r.getItemLayout(t),i=Math.atan2(f[1]-w,f[0]-a),i<0&&(i=2*Math.PI+i),e=f[0]<a,e&&(i-=Math.PI),o=e?"left":"right",u.setStyle({textRotation:i,textPosition:o}),u.hoverStyle&&(u.hoverStyle.textPosition=o)):u.setStyle({textRotation:0})});this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose()},focusNodeAdjacency:function(n,t,i,f){function a(n,t){var i=u(n,t),r=n.getGraphicEl();null==i&&(i=1);r.traverse(function(n){n.trigger("normal");"group"!==n.type&&n.setStyle("opacity",.1*i)})}function o(n,t){var i=u(n,t),r=n.getGraphicEl();r.traverse(function(n){n.trigger("emphasis");"group"!==n.type&&n.setStyle("opacity",i)})}var v=this._model.getData(),h=f.dataIndex,y=v.getItemGraphicEl(h),s,p,c;y&&(s=v.graph,p=y.dataType,null!==h&&"edge"!==p&&(s.eachNode(function(n){a(n,r)}),s.eachEdge(function(n){a(n,e)}),c=s.getNodeByIndex(h),o(c,r),l.each(c.edges,function(n){n.dataIndex<0||(o(n,e),o(n.node1,r),o(n.node2,r))})))},unfocusNodeAdjacency:function(){var n=this._model.getData().graph;n.eachNode(function(n){var t=u(n,r);n.getGraphicEl().traverse(function(n){n.trigger("normal");"group"!==n.type&&n.setStyle("opacity",t)})});n.eachEdge(function(n){var t=u(n,e);n.getGraphicEl().traverse(function(n){n.trigger("normal");"group"!==n.type&&n.setStyle("opacity",t)})})},_startForceLayoutIteration:function(n,t){var i=this;!function r(){n.step(function(n){i.updateLayout(i._model);(i._layouting=!n)&&(t?i._layoutTimeout=setTimeout(r,16):r())})}()},_updateController:function(n,t){var i=this._controller,r=this.group;return i.setContainsPoint(function(n,t){var i=r.getBoundingRect();return i.applyTransform(r.transform),i.contain(n,t)}),"view"!==n.coordinateSystem.type?void i.disable():(i.enable(n.get("roam")),i.zoomLimit=n.get("scaleLimit"),i.zoom=n.coordinateSystem.getZoom(),void i.off("pan").off("zoom").on("pan",function(i,r){t.dispatchAction({seriesId:n.id,type:"graphRoam",dx:i,dy:r})}).on("zoom",function(i,r,u){t.dispatchAction({seriesId:n.id,type:"graphRoam",zoom:i,originX:r,originY:u});this._updateNodeAndLinkScale();f(n.getGraph(),this._getNodeGlobalScale(n));this._lineDraw.updateLayout()},this))},_updateNodeAndLinkScale:function(){var n=this._model,i=n.getData(),t=this._getNodeGlobalScale(n),r=[t,t];i.eachItemGraphicEl(function(n){n.attr("scale",r)})},_getNodeGlobalScale:function(n){var t=n.coordinateSystem;if("view"!==t.type)return 1;var r=this._nodeScaleRatio,i=t.scale,u=i&&i[0]||1,f=t.getZoom(),e=(f-1)*r+1;return e/u},updateLayout:function(n){f(n.getGraph(),this._getNodeGlobalScale(n));this._symbolDraw.updateLayout();this._lineDraw.updateLayout()},remove:function(){this._symbolDraw&&this._symbolDraw.remove();this._lineDraw&&this._lineDraw.remove()}})},function(n,t,i){function h(n,t,i){for(var b,k,h,d,r,c=n[0],a=n[1],v=n[2],g=1/0,w=i*i,y=.1,p=.1;p<=.9;p+=.1)f[0]=u(c[0],a[0],v[0],p),f[1]=u(c[1],a[1],v[1],p),h=l(s(f,t)-w),h<g&&(g=h,r=p);for(b=0;b<32;b++){if(k=r+y,e[0]=u(c[0],a[0],v[0],r),e[1]=u(c[1],a[1],v[1],r),o[0]=u(c[0],a[0],v[0],k),o[1]=u(c[1],a[1],v[1],k),h=s(e,t)-w,l(h)<.01)break;d=s(o,t)-w;y/=2;h<0?d>=0?r+=y:r-=y:d>=0?r-=y:r+=y}return r}var c=i(20),r=i(5),f=[],e=[],o=[],u=c.quadraticAt,s=r.distSquare,l=Math.abs;n.exports=function(n,t){function o(n){var t=n.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),t}var u=[],s=c.quadraticSubdivide,i=[[],[],[]],f=[[],[]],e=[];t/=2;n.eachEdge(function(n){var c=n.getLayout(),y=n.getVisual("fromSymbol"),p=n.getVisual("toSymbol"),a,v,l;c.__original||(c.__original=[r.clone(c[0]),r.clone(c[1])],c[2]&&c.__original.push(r.clone(c[2])));a=c.__original;null!=c[2]?((r.copy(i[0],a[0]),r.copy(i[1],a[2]),r.copy(i[2],a[1]),y&&"none"!=y)&&(l=o(n.node1),v=h(i,a[0],l*t),s(i[0][0],i[1][0],i[2][0],v,u),i[0][0]=u[3],i[1][0]=u[4],s(i[0][1],i[1][1],i[2][1],v,u),i[0][1]=u[3],i[1][1]=u[4]),p&&"none"!=p&&(l=o(n.node2),v=h(i,a[1],l*t),s(i[0][0],i[1][0],i[2][0],v,u),i[1][0]=u[1],i[2][0]=u[2],s(i[0][1],i[1][1],i[2][1],v,u),i[1][1]=u[1],i[2][1]=u[2]),r.copy(c[0],i[0]),r.copy(c[1],i[2]),r.copy(c[2],i[1])):((r.copy(f[0],a[0]),r.copy(f[1],a[1]),r.sub(e,f[1],f[0]),r.normalize(e,e),y&&"none"!=y)&&(l=o(n.node1),r.scaleAndAdd(f[0],f[0],e,l*t)),p&&"none"!=p&&(l=o(n.node2),r.scaleAndAdd(f[1],f[1],e,-l*t)),r.copy(c[0],f[0]),r.copy(c[1],f[1]))})}},function(n){n.exports=function(n){var t=n.findComponents({mainType:"legend"});t&&t.length&&n.eachSeriesByType("graph",function(n){var i=n.getCategoriesData(),u=n.getGraph(),r=u.data,f=i.mapArray(i.getName);r.filterSelf(function(n){var e=r.getItemModel(n),i=e.getShallow("category"),u;if(null!=i)for("number"==typeof i&&(i=f[i]),u=0;u<t.length;u++)if(!t[u].isSelected(i))return!1;return!0})},this)}},function(n){n.exports=function(n){var t={};n.eachSeriesByType("graph",function(n){var i=n.getCategoriesData(),r=n.getData(),u={};i.each(function(r){var f=i.getName(r),e,o;u[f]=r;e=i.getItemModel(r);o=e.get("itemStyle.normal.color")||n.getColorFromPalette(f,t);i.setItemVisual(r,"color",o)});i.count()&&r.each(function(n){var f=r.getItemModel(n),t=f.getShallow("category");null!=t&&("string"==typeof t&&(t=u[t]),r.getItemVisual(n,"color",!0)||r.setItemVisual(n,"color",i.getItemVisual(t,"color")))})})}},function(n,t,i){var r=i(239);n.exports=function(n){n.eachSeriesByType("graph",function(n){"circular"===n.get("layout")&&r(n)})}},function(n,t,i){function r(n,t,i){var r=n.getBoxLayoutParams();return r.aspect=i,f.getLayoutRect(r,{width:t.getWidth(),height:t.getHeight()})}var u=i(256),f=i(12),e=i(81);n.exports=function(n,t){var i=[];return n.eachSeriesByType("graph",function(n){var l=n.get("coordinateSystem"),c,o;if(!l||"view"===l){var a=n.getData(),v=a.mapArray(function(n){var t=a.getItemModel(n);return[+t.get("x"),+t.get("y")]}),f=[],s=[];e.fromPoints(v,f,s);s[0]-f[0]==0&&(s[0]+=1,f[0]-=1);s[1]-f[1]==0&&(s[1]+=1,f[1]-=1);c=(s[0]-f[0])/(s[1]-f[1]);o=r(n,t,c);isNaN(c)&&(f=[o.x,o.y],s=[o.x+o.width,o.y+o.height]);var y=s[0]-f[0],p=s[1]-f[1],w=o.width,b=o.height,h=n.coordinateSystem=new u;h.zoomLimit=n.get("scaleLimit");h.setBoundingRect(f[0],f[1],y,p);h.setViewRect(o.x,o.y,w,b);h.setCenter(n.get("center"));h.setZoom(n.get("zoom"));i.push(h)}}),i}},function(n){function t(n){return n instanceof Array||(n=[n,n]),n}n.exports=function(n){n.eachSeriesByType("graph",function(n){var o=n.getGraph(),i=n.getEdgeData(),r=t(n.get("edgeSymbol")),u=t(n.get("edgeSymbolSize")),f="lineStyle.normal.color".split("."),e="lineStyle.normal.opacity".split(".");i.setVisual("fromSymbol",r&&r[0]);i.setVisual("toSymbol",r&&r[1]);i.setVisual("fromSymbolSize",u&&u[0]);i.setVisual("toSymbolSize",u&&u[1]);i.setVisual("color",n.get(f));i.setVisual("opacity",n.get(e));i.each(function(n){var u=i.getItemModel(n),r=o.getEdgeByIndex(n),s=t(u.getShallow("symbol",!0)),h=t(u.getShallow("symbolSize",!0)),c=u.get(f),l=u.get(e);switch(c){case"source":c=r.node1.getVisual("color");break;case"target":c=r.node2.getVisual("color")}s[0]&&r.setVisual("fromSymbol",s[0]);s[1]&&r.setVisual("toSymbol",s[1]);h[0]&&r.setVisual("fromSymbolSize",h[0]);h[1]&&r.setVisual("toSymbolSize",h[1]);r.setVisual("color",c);r.setVisual("opacity",l)})})}},function(n,t,i){var r=i(5),u=r.scaleAndAdd;n.exports=function(n,t,i){for(var e,f,o=i.rect,c=o.width,l=o.height,s=[o.x+c/2,o.y+l/2],a=null==i.gravity?.1:i.gravity,h=0;h<n.length;h++)e=n[h],e.p||(e.p=r.create(c*(Math.random()-.5)+s[0],l*(Math.random()-.5)+s[1])),e.pp=r.clone(e.p),e.edges=null;return f=.6,{warmUp:function(){f=.5},setFixed:function(t){n[t].fixed=!0},setUnfixed:function(t){n[t].fixed=!1},step:function(i){for(var b,l,p,c,v,k,d,o,h=[],y=n.length,e=0;e<t.length;e++){var w=t[e],l=w.n1,c=w.n2;r.sub(h,c.p,l.p);v=r.len(h)-w.d;b=c.w/(l.w+c.w);r.normalize(h,h);!l.fixed&&u(l.p,l.p,h,b*v*f);!c.fixed&&u(c.p,c.p,h,-(1-b)*v*f)}for(e=0;e<y;e++)o=n[e],o.fixed||(r.sub(h,s,o.p),r.scaleAndAdd(o.p,o.p,h,a*f));for(e=0;e<y;e++)for(l=n[e],p=e+1;p<y;p++)c=n[p],r.sub(h,c.p,l.p),v=r.len(h),0===v&&(r.set(h,Math.random()-.5,Math.random()-.5),v=1),k=(l.rep+c.rep)/v/v,l.fixed||u(l.pp,l.pp,h,k),c.fixed||u(c.pp,c.pp,h,-k);for(d=[],e=0;e<y;e++)o=n[e],o.fixed||(r.sub(d,o.p,o.pp),r.scaleAndAdd(o.p,o.p,d,f),r.copy(o.pp,o.p));f=.992*f;i&&i(n,t,f<.01)}}}},function(n,t,i){var e=i(297),u=i(4),o=i(241),s=i(239),r=i(5),f=i(1);n.exports=function(n){n.eachSeriesByType("graph",function(n){var a=n.coordinateSystem;if(!a||"view"===a.type)if("force"===n.get("layout")){var p=n.preservedPoints||{},c=n.getGraph(),i=c.data,b=c.edgeData,v=n.getModel("force"),w=v.get("initLayout");n.preservedPoints?i.each(function(n){var t=i.getId(n);i.setItemLayout(n,p[t]||[NaN,NaN])}):w&&"none"!==w?"circular"===w&&s(n):o(n);var k=i.getDataExtent("value"),d=b.getDataExtent("value"),h=v.get("repulsion"),t=v.get("edgeLength");f.isArray(h)||(h=[h,h]);f.isArray(t)||(t=[t,t]);t=[t[1],t[0]];var l=i.mapArray("value",function(n,t){var r=i.getItemLayout(t),f=u.linearMap(n,k,h);return isNaN(f)&&(f=(h[0]+h[1])/2),{w:f,rep:f,p:!r||isNaN(r[0])||isNaN(r[1])?null:r}}),g=b.mapArray("value",function(n,i){var r=c.getEdgeByIndex(i),f=u.linearMap(n,d,t);return isNaN(f)&&(f=(t[0]+t[1])/2),{n1:l[r.node1.dataIndex],n2:l[r.node2.dataIndex],d:f,curveness:r.getModel().get("lineStyle.normal.curveness")||0}}),a=n.coordinateSystem,nt=a.getBoundingRect(),y=e(l,g,{rect:nt,gravity:v.get("gravity")}),tt=y.step;y.step=function(n){for(var t=0,u=l.length;t<u;t++)l[t].fixed&&r.copy(l[t].p,c.getNodeByIndex(t).getLayout());tt(function(t,u,f){for(var e=0,s=t.length;e<s;e++)t[e].fixed||c.getNodeByIndex(e).setLayout(t[e].p),p[i.getId(e)]=t[e].p;for(e=0,s=u.length;e<s;e++){var h=u[e],v=c.getEdgeByIndex(e),l=h.n1.p,a=h.n2.p,o=v.getLayout();o=o?o.slice():[];o[0]=o[0]||[];o[1]=o[1]||[];r.copy(o[0],l);r.copy(o[1],a);+h.curveness&&(o[2]=[(l[0]+a[0])/2-(l[1]-a[1])*h.curveness,(l[1]+a[1])/2-(a[0]-l[0])*h.curveness]);v.setLayout(o)}n&&n(f)})};n.forceLayout=y;n.preservedPoints=p;y.step()}else n.forceLayout=null})}},function(n,t,i){var r=i(2),u=i(238);r.registerAction({type:"graphRoam",event:"graphRoam",update:"none"},function(n,t){t.eachComponent({mainType:"series",query:n},function(t){var r=t.coordinateSystem,i=u.updateCenterAndZoom(r,n);t.setCenter&&t.setCenter(i.center);t.setZoom&&t.setZoom(i.zoom)})});r.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series.graph:focusNodeAdjacency"},function(){});r.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series.graph:unfocusNodeAdjacency"},function(){})},function(n,t,i){var r=i(241),u=i(240);n.exports=function(n){n.eachSeriesByType("graph",function(n){var e=n.get("layout"),i=n.coordinateSystem,t,f;i&&"view"!==i.type?(t=n.getData(),f=i.dimensions,t.each(f,function(){for(var u,e,n=arguments,o=[],r=0;r<f.length;r++)isNaN(n[r])||(e=!0),o.push(n[r]);u=n[n.length-1];e?t.setItemLayout(u,i.dataToPoint(o)):t.setItemLayout(u,[NaN,NaN])}),u(t.graph)):e&&"none"!==e||r(n)})}},function(n,t,i){i(303);i(304)},function(n,t,i){function r(){var n=u.createCanvas();this.canvas=n;this.blurSize=30;this.pointSize=20;this.maxOpacity=1;this.minOpacity=0;this._gradientPixels={}}var f=256,u=i(1);r.prototype={update:function(n,t,i,r,u,e){var d=this._getBrush(),g=this._getGradient(n,u,"inRange"),nt=this._getGradient(n,u,"outOfRange"),w=this.pointSize+this.blurSize,h=this.canvas,v=h.getContext("2d"),tt=n.length,y,o,l,a;for(h.width=t,h.height=i,y=0;y<tt;++y){var p=n[y],it=p[0],rt=p[1],ut=p[2],o=r(ut);v.globalAlpha=o;v.drawImage(d,it-w,rt-w)}for(var b=v.getImageData(0,0,h.width,h.height),c=b.data,s=0,ft=c.length,k=this.minOpacity,et=this.maxOpacity,ot=et-k;s<ft;)o=c[s+3]/256,l=4*Math.floor(o*(f-1)),o>0?(a=e(o)?g:nt,o>0&&(o=o*ot+k),c[s++]=a[l],c[s++]=a[l+1],c[s++]=a[l+2],c[s++]=a[l+3]*o*256):s+=4;return v.putImageData(b,0,0),h},_getBrush:function(){var i=this._brushCanvas||(this._brushCanvas=u.createCanvas()),r=this.pointSize+this.blurSize,t=2*r,n;return i.width=t,i.height=t,n=i.getContext("2d"),n.clearRect(0,0,t,t),n.shadowOffsetX=t,n.shadowBlur=this.blurSize,n.shadowColor="#000",n.beginPath(),n.arc(-r,r,this.pointSize,0,2*Math.PI,!0),n.closePath(),n.fill(),i},_getGradient:function(n,t,i){for(var o=this._gradientPixels,r=o[i]||(o[i]=new Uint8ClampedArray(1024)),u=[],f=0,e=0;e<256;e++)t[i](e/255,!0,u),r[f++]=u[0],r[f++]=u[1],r[f++]=u[2],r[f++]=u[3];return r}};n.exports=r},function(n,t,i){var r=i(18),u=i(27);n.exports=r.extend({type:"series.heatmap",getInitialData:function(n,t){return u(n.data,this,t)},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}})},function(n,t,i){function f(n,t,i){var e=n[1]-n[0],f,r;return t=u.map(t,function(t){return{interval:[(t.interval[0]-n[0])/e,(t.interval[1]-n[0])/e]}}),f=t.length,r=0,function(n){for(var e,u=r;u<f;u++)if(e=t[u].interval,e[0]<=n&&n<=e[1]){r=u;break}if(u===f)for(u=r-1;u>=0;u--)if(e=t[u].interval,e[0]<=n&&n<=e[1]){r=u;break}return u>=0&&u<f&&i[u]}}function e(n,t){var i=n[1]-n[0];return t=[(t[0]-n[0])/i,(t[1]-n[0])/i],function(n){return n>=t[0]&&n<=t[1]}}function o(n){var t=n.dimensions;return"lng"===t[0]&&"lat"===t[1]}var r=i(3),s=i(302),u=i(1);n.exports=i(2).extendChartView({type:"heatmap",render:function(n,t,i){var u,r;t.eachComponent("visualMap",function(t){t.eachTargetSeries(function(i){i===n&&(u=t)})});this.group.removeAll();r=n.coordinateSystem;"cartesian2d"===r.type||"calendar"===r.type?this._renderOnCartesianAndCalendar(r,n,i):o(r)&&this._renderOnGeo(r,n,u,i)},dispose:function(){},_renderOnCartesianAndCalendar:function(n,t){if("cartesian2d"===n.type)var v=n.getAxis("x"),y=n.getAxis("y"),h=v.getBandWidth(),c=y.getBandWidth();var p=this.group,i=t.getData(),l="itemStyle.normal",a="itemStyle.emphasis",w="label.normal",b="label.emphasis",e=t.getModel(l).getItemStyle(["color"]),f=t.getModel(a).getItemStyle(),o=t.getModel("label.normal"),s=t.getModel("label.emphasis");i.each("cartesian2d"===n.type?["x","y","z"]:["time","value"],function(v,y,k,d){var g,rt,nt,tt,it;if("cartesian2d"===n.type){if(isNaN(k))return;rt=n.dataToPoint([v,y]);g=new r.Rect({shape:{x:rt[0]-h/2,y:rt[1]-c/2,width:h,height:c},style:{fill:i.getItemVisual(d,"color"),opacity:i.getItemVisual(d,"opacity")}})}else{if(isNaN(y))return;d=k;g=new r.Rect({z2:1,shape:n.dataToRect([v,y]).contentShape,style:{fill:i.getItemVisual(d,"color"),opacity:i.getItemVisual(d,"opacity")}})}nt=i.getItemModel(d);i.hasItemOption&&(e=nt.getModel(l).getItemStyle(["color"]),f=nt.getModel(a).getItemStyle(),o=nt.getModel(w),s=nt.getModel(b));tt=t.getRawValue(d);it="-";tt&&null!=tt[2]&&(it=tt[2]);o.getShallow("show")&&(r.setText(e,o),e.text=t.getFormattedLabel(d,"normal")||it);s.getShallow("show")&&(r.setText(f,s),f.text=t.getFormattedLabel(d,"emphasis")||it);g.setStyle(e);r.setHoverStyle(g,i.hasItemOption?f:u.extend({},f));p.add(g);i.setItemGraphicEl(d,g)})},_renderOnGeo:function(n,t,i,u){var a=i.targetVisuals.inRange,k=i.targetVisuals.outOfRange,d=t.getData(),h=this._hmLayer||this._hmLayer||new s,o,v,b;h.blurSize=t.get("blurSize");h.pointSize=t.get("pointSize");h.minOpacity=t.get("minOpacity");h.maxOpacity=t.get("maxOpacity");o=n.getViewRect().clone();v=n.getRoamTransform().transform;o.applyTransform(v);var c=Math.max(o.x,0),l=Math.max(o.y,0),g=Math.min(o.width+o.x,u.getWidth()),nt=Math.min(o.height+o.y,u.getHeight()),y=g-c,p=nt-l,tt=d.mapArray(["lng","lat","value"],function(t,i,r){var u=n.dataToPoint([t,i]);return u[0]-=c,u[1]-=l,u.push(r),u}),w=i.getExtent(),it="visualMap.continuous"===i.type?e(w,i.option.range):f(w,i.getPieceList(),i.option.selected);h.update(tt,y,p,a.color.getNormalizer(),{inRange:a.color.getColorMapper(),outOfRange:k.color.getColorMapper()},it);b=new r.Image({style:{width:y,height:p,x:c,y:l,image:h.canvas},silent:!0});this.group.add(b)}})},function(n,t,i){function u(n,t,i){f.call(this,n,t,i);this._lastFrame=0;this._lastFramePercent=0}var o=i(243),s=i(1),f=i(242),e=i(5),r=u.prototype;r.createLine=function(n,t,i){return new o(n,t,i)};r.updateAnimationPoints=function(n,t){var f,o,i;this._points=t;for(var u=[0],r=0,i=1;i<t.length;i++)f=t[i-1],o=t[i],r+=e.dist(f,o),u.push(r);if(0!==r){for(i=0;i<u.length;i++)u[i]/=r;this._offsets=u;this._length=r}};r.getLineLength=function(){return this._length};r.updateSymbolPosition=function(n){var u=n.__t,i=this._points,r=this._offsets,f=i.length,o,s,t,h,c;if(r){if(o=this._lastFrame,u<this._lastFramePercent){for(s=Math.min(o+1,f-1),t=s;t>=0&&!(r[t]<=u);t--);t=Math.min(t,f-2)}else{for(t=o;t<f&&!(r[t]>u);t++);t=Math.min(t-1,f-2)}e.lerp(n.position,i[t],i[t+1],(u-r[t])/(r[t+1]-r[t]));h=i[t+1][0]-i[t][0];c=i[t+1][1]-i[t][1];n.rotation=-Math.atan2(c,h)-Math.PI/2;this._lastFrame=t;this._lastFramePercent=u;n.ignore=!1}};s.inherits(u,f);n.exports=u},function(n,t,i){function c(n){return o.isArray(n)||(n=[+n,+n]),n}function e(n,t){n.eachChild(function(n){n.attr({z:t.z,zlevel:t.zlevel,style:{stroke:"stroke"===t.brushType?t.color:null,fill:"fill"===t.brushType?t.color:null}})})}function u(n,t){f.call(this);var i=new v(n,t),r=new f;this.add(i);this.add(r);r.beforeUpdate=function(){this.attr(i.getScale())};this.updateData(n,t)}var o=i(1),l=i(24),a=i(3),s=i(4),v=i(54),f=a.Group,h=3,r=u.prototype;r.stopEffectAnimation=function(){this.childAt(1).removeAll()};r.startEffectAnimation=function(n){for(var t,r,f=n.symbolType,o=n.color,u=this.childAt(1),i=0;i<h;i++)t=l.createSymbol(f,-1,-1,2,2,o),t.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]}),r=-i/h*n.period+n.effectOffset,t.animate("",!0).when(n.period,{scale:[n.rippleScale/2,n.rippleScale/2]}).delay(r).start(),t.animateStyle(!0).when(n.period,{opacity:0}).delay(r).start(),u.add(t);e(u,n)};r.updateEffectAnimation=function(n){for(var i,u=this._effectCfg,f=this.childAt(1),r=["symbolType","period","rippleScale"],t=0;t<r;t++)if(i=r[t],u[i]!==n[i])return this.stopEffectAnimation(),void this.startEffectAnimation(n);e(f,n)};r.highlight=function(){this.trigger("emphasis")};r.downplay=function(){this.trigger("normal")};r.updateData=function(n,t){var y=n.hostModel,f,o,i;this.childAt(0).updateData(n,t);var u=this.childAt(1),r=n.getItemModel(t),p=n.getItemVisual(t,"symbol"),e=c(n.getItemVisual(t,"symbolSize")),h=n.getItemVisual(t,"color");if(u.attr("scale",e),u.traverse(function(n){n.attr({fill:h})}),f=r.getShallow("symbolOffset"),f&&(o=u.position,o[0]=s.parsePercent(f[0],e[0]),o[1]=s.parsePercent(f[1],e[1])),u.rotation=(r.getShallow("symbolRotate")||0)*Math.PI/180||0,i={},i.showEffectOn=y.get("showEffectOn"),i.rippleScale=r.get("rippleEffect.scale"),i.brushType=r.get("rippleEffect.brushType"),i.period=1e3*r.get("rippleEffect.period"),i.effectOffset=t/n.count(),i.z=r.getShallow("z")||0,i.zlevel=r.getShallow("zlevel")||0,i.symbolType=p,i.color=h,this.off("mouseover").off("mouseout").off("emphasis").off("normal"),"render"===i.showEffectOn)this._effectCfg?this.updateEffectAnimation(i):this.startEffectAnimation(i),this._effectCfg=i;else{this._effectCfg=null;this.stopEffectAnimation();var l=this.childAt(0),a=function(){l.trigger("emphasis");"render"!==i.showEffectOn&&this.startEffectAnimation(i)},v=function(){l.trigger("normal");"render"!==i.showEffectOn&&this.stopEffectAnimation()};this.on("mouseover",a,this).on("mouseout",v,this).on("emphasis",a,this).on("normal",v,this)}this._effectCfg=i};r.fadeOut=function(n){this.off("mouseover").off("mouseout").off("emphasis").off("normal");n&&n()};o.inherits(u,f);n.exports=u},function(n,t,i){function u(){this.group=new f.Group;this._lineEl=new s}var f=i(3),o=i(95),e=i(94),s=f.extendShape({shape:{polyline:!1,segs:[]},buildPath:function(n,t){for(var i,r,f=t.segs,e=t.polyline,u=0;u<f.length;u++)if(i=f[u],e)for(n.moveTo(i[0][0],i[0][1]),r=1;r<i.length;r++)n.lineTo(i[r][0],i[r][1]);else n.moveTo(i[0][0],i[0][1]),i.length>2?n.quadraticCurveTo(i[2][0],i[2][1],i[1][0],i[1][1]):n.lineTo(i[1][0],i[1][1])},findDataIndex:function(n,t){for(var i,r,s=this.shape,h=s.segs,c=s.polyline,f=Math.max(this.style.lineWidth,1),u=0;u<h.length;u++)if(i=h[u],c){for(r=1;r<i.length;r++)if(e.containStroke(i[r-1][0],i[r-1][1],i[r][0],i[r][1],f,n,t))return u}else if(i.length>2){if(o.containStroke(i[0][0],i[0][1],i[2][0],i[2][1],i[1][0],i[1][1],f,n,t))return u}else if(e.containStroke(i[0][0],i[0][1],i[1][0],i[1][1],f,n,t))return u;return-1}}),r=u.prototype;r.updateData=function(n){var t,i,r;this.group.removeAll();t=this._lineEl;i=n.hostModel;t.setShape({segs:n.mapArray(n.getItemLayout),polyline:i.get("polyline")});t.useStyle(i.getModel("lineStyle.normal").getLineStyle());r=n.getVisual("color");r&&t.setStyle("stroke",r);t.setStyle("fill");t.seriesIndex=i.seriesIndex;t.on("mousemove",function(n){t.dataIndex=null;var i=t.findDataIndex(n.offsetX,n.offsetY);i>0&&(t.dataIndex=i)});this.group.add(t)};r.updateLayout=function(n){var t=n.getData();this._lineEl.setShape({segs:t.mapArray(t.getItemLayout)})};r.remove=function(){this.group.removeAll()};n.exports=u},function(n,t,i){function u(n,t,i,u){r.Group.call(this);this.bodyIndex;this.whiskerIndex;this.styleUpdater=i;this._createContent(n,t,u);this.updateData(n,t,u);this._seriesModel}function o(n,t,i){return f.map(n,function(n){return n=n.slice(),n[t]=i.initBaseline,n})}function s(n){var t={};return f.each(n,function(n,i){t["ends"+i]=n}),t}function h(n){this.group=new r.Group;this.styleUpdater=n}var f=i(1),r=i(3),l=i(8),a=l.extend({type:"whiskerInBox",shape:{},buildPath:function(n,t){var r,i;for(r in t)t.hasOwnProperty(r)&&0===r.indexOf("ends")&&(i=t[r],n.moveTo(i[0][0],i[0][1]),n.lineTo(i[1][0],i[1][1]))}}),c=u.prototype,e;c._createContent=function(n,t,i){var u=n.getItemLayout(t),e="horizontal"===u.chartLayout?1:0,h=0,c;this.add(new r.Polygon({shape:{points:i?o(u.bodyEnds,e,u):u.bodyEnds},style:{strokeNoScale:!0},z2:100}));this.bodyIndex=h++;c=f.map(u.whiskerEnds,function(n){return i?o(n,e,u):n});this.add(new a({shape:s(c),style:{strokeNoScale:!0},z2:100}));this.whiskerIndex=h++};c.updateData=function(n,t,i){var u=this._seriesModel=n.hostModel,f=n.getItemLayout(t),e=r[i?"initProps":"updateProps"];e(this.childAt(this.bodyIndex),{shape:{points:f.bodyEnds}},u,t);e(this.childAt(this.whiskerIndex),{shape:s(f.whiskerEnds)},u,t);this.styleUpdater.call(null,this,n,t)};f.inherits(u,r.Group);e=h.prototype;e.updateData=function(n){var t=this.group,i=this._data,r=this.styleUpdater;n.diff(i).add(function(i){if(n.hasValue(i)){var f=new u(n,i,r,!0);n.setItemGraphicEl(i,f);t.add(f)}}).update(function(f,e){var o=i.getItemGraphicEl(e);return n.hasValue(f)?(o?o.updateData(n,f):o=new u(n,f,r),t.add(o),void n.setItemGraphicEl(f,o)):void t.remove(o)}).remove(function(n){var r=i.getItemGraphicEl(n);r&&t.remove(r)}).execute();this._data=n};e.remove=function(){var t=this.group,n=this._data;this._data=null;n&&n.eachItemGraphicEl(function(n){n&&t.remove(n)})};n.exports=h},function(n,t,i){i(310);i(311);var r=i(2);r.registerLayout(i(312));r.registerVisual(i(313))},function(n,t,i){"use strict";function r(n){var t=n.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(n.data=u.map(t,function(n){var i=[n[0].coord,n[1].coord],t={coords:i};return n[0].name&&(t.fromName=n[0].name),n[1].name&&(t.toName=n[1].name),u.mergeAll([t,n[0],n[1]])}))}var e=i(18),o=i(14),u=i(1),s=i(7),f=(i(26),e.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.normal.color",init:function(n){r(n);f.superApply(this,"init",arguments)},mergeOption:function(n){r(n);f.superApply(this,"mergeOption",arguments)},getInitialData:function(n){var t=new o(["value"],this);return t.hasItemOption=!1,t.initData(n.data,[],function(n,i,r,u){if(n instanceof Array)return NaN;t.hasItemOption=!0;var f=n.value;if(null!=f)return f instanceof Array?f[u]:f}),t},formatTooltip:function(n){var e=this.getData(),t=e.getItemModel(n),r=t.get("name");if(r)return r;var u=t.get("fromName"),f=t.get("toName"),i=[];return null!=u&&i.push(u),null!=f&&i.push(f),s.encodeHTML(i.join(" > "))},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,label:{normal:{show:!1,position:"end"}},lineStyle:{normal:{opacity:.5}}}}))},function(n,t,i){var r=i(105),u=i(242),f=i(104),e=i(243),o=i(305),s=i(307);i(2).extendChartView({type:"lines",init:function(){},render:function(n,t,i){var p=n.getData(),h=this._lineDraw,c=n.get("effect.show"),l=n.get("polyline"),a=n.get("large")&&p.count()>=n.get("largeThreshold");c===this._hasEffet&&l===this._isPolyline&&a===this._isLarge||(h&&h.remove(),h=this._lineDraw=a?new s:new r(l?c?o:e:c?u:f),this._hasEffet=c,this._isPolyline=l,this._isLarge=a);var v=n.get("zlevel"),w=n.get("effect.trailLength"),y=i.getZr();(y.painter.getLayer(v).clear(!0),null!=this._lastZlevel&&y.configLayer(this._lastZlevel,{motionBlur:!1}),c&&w)&&y.configLayer(v,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(w/10+.9,1),0)});this.group.add(h.group);h.updateData(p);this._lastZlevel=v},updateLayout:function(n,t,i){this._lineDraw.updateLayout(n);var r=i.getZr();r.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(n,t){this._lineDraw&&this._lineDraw.remove(t,!0)},dispose:function(){}})},function(n){n.exports=function(n){n.eachSeriesByType("lines",function(n){var t=n.coordinateSystem,i=n.getData();i.each(function(r){var f=i.getItemModel(r),e=f.option instanceof Array?f.option:f.get("coords"),u=[],o,s;if(n.get("polyline"))for(o=0;o<e.length;o++)u.push(t.dataToPoint(e[o]));else u[0]=t.dataToPoint(e[0]),u[1]=t.dataToPoint(e[1]),s=f.get("lineStyle.normal.curveness"),+s&&(u[2]=[(u[0][0]+u[1][0])/2-(u[0][1]-u[1][1])*s,(u[0][1]+u[1][1])/2-(u[1][0]-u[0][0])*s]);i.setItemLayout(r,u)})})}},function(n){function t(n){return n instanceof Array||(n=[n,n]),n}n.exports=function(n){n.eachSeriesByType("lines",function(n){var i=n.getData(),r=t(n.get("symbol")),u=t(n.get("symbolSize")),f="lineStyle.normal.opacity".split(".");i.setVisual("fromSymbol",r&&r[0]);i.setVisual("toSymbol",r&&r[1]);i.setVisual("fromSymbolSize",u&&u[0]);i.setVisual("toSymbolSize",u&&u[1]);i.setVisual("opacity",n.get(f));i.each(function(n){var e=i.getItemModel(n),r=t(e.getShallow("symbol",!0)),u=t(e.getShallow("symbolSize",!0)),o=e.get(f);r[0]&&i.setItemVisual(n,"fromSymbol",r[0]);r[1]&&i.setItemVisual(n,"toSymbol",r[1]);u[0]&&i.setItemVisual(n,"fromSymbolSize",u[0]);u[1]&&i.setItemVisual(n,"toSymbolSize",u[1]);i.setItemVisual(n,"opacity",o)})})}},function(n,t,i){var r=i(2),u=r.PRIORITY;i(315);i(316);i(237);i(183);r.registerLayout(i(319));r.registerVisual(i(320));r.registerProcessor(u.PROCESSOR.STATISTIC,i(318));r.registerPreprocessor(i(317));i(85)("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}])},function(n,t,i){var o=i(14),s=i(18),u=i(1),h=i(25),f=i(7),e=f.encodeHTML,c=f.addCommas,l=i(75),a=i(183),r=s.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],init:function(n){n=this._fillOption(n,this.getMapType());this.option=n;r.superApply(this,"init",arguments);this.updateSelectedMap(n.data)},getInitialData:function(n){var i=h(["value"],n.data||[]),t=new o(i,this);return t.initData(n.data),t},mergeOption:function(n){n.data&&(n=this._fillOption(n,this.getMapType()));r.superCall(this,"mergeOption",n);this.updateSelectedMap(this.option.data)},getHostGeoModel:function(){var n=this.option.geoIndex;return null!=n?this.dependentModels.geo[n]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},_fillOption:function(n,t){return n=u.extend({},n),n.data=a.getFilledRegions(n.data,t),n},getRawValue:function(n){return this.getData().get("value",n)},getRegionModel:function(n){var t=this.getData();return t.getItemModel(t.indexOfName(n))},formatTooltip:function(n){for(var f,o=this.getData(),s=c(this.getRawValue(n)),r=o.getName(n),i=this.seriesGroup,u=[],t=0;t<i.length;t++)f=i[t].originalData.indexOfName(r),isNaN(i[t].originalData.get("value",f))||u.push(e(i[t].name));return u.join(", ")+"<br />"+e(r+" : "+s)},getTooltipPosition:function(n){if(null!=n){var r=this.getData().getName(n),t=this.coordinateSystem,i=t.getRegion(r);return i&&t.dataToPoint(i.center)}},setZoom:function(n){this.option.zoom=n},setCenter:function(n){this.option.center=n},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{normal:{show:!1,textStyle:{color:"#000"}},emphasis:{show:!0,textStyle:{color:"rgb(100,0,0)"}}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{areaColor:"rgba(255,215,0,0.8)"}}}});u.mixin(r,l);n.exports=r},function(n,t,i){var r=i(3),u=i(246);i(2).extendChartView({type:"map",render:function(n,t,i,r){var e,f;r&&"mapToggleSelect"===r.type&&r.from===this.uid||(e=this.group,(e.removeAll(),n.getHostGeoModel())||(r&&"geoRoam"===r.type&&"series"===r.componentType&&r.seriesId===n.id?(f=this._mapDraw,f&&e.add(f.group)):n.needsDrawMap?(f=this._mapDraw||new u(i,!0),e.add(f.group),f.draw(n,t,i,this,r),this._mapDraw=f):(this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null),n.get("showLegendSymbol")&&t.getComponent("legend")&&this._renderSymbols(n,t,i)))},remove:function(){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null;this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null},_renderSymbols:function(n){var t=n.originalData,i=this.group;t.each("value",function(u,f){var e,h,s;if(!isNaN(u)&&(e=t.getItemLayout(f),e&&e.point)){var c=e.point,l=e.offset,o=new r.Circle({style:{fill:n.getData().getVisual("color")},shape:{cx:c[0]+9*l,cy:c[1],r:3},silent:!0,z2:10});if(!l){var a=n.mainSeries.getData(),v=t.getName(f),y=v,g=a.indexOfName(v),p=t.getItemModel(f),w=p.getModel("label.normal"),b=p.getModel("label.emphasis"),k=w.getModel("textStyle"),d=b.getModel("textStyle"),nt=a.getItemGraphicEl(g);o.setStyle({textPosition:"bottom"});h=function(){o.setStyle({text:b.get("show")?y:"",textFill:d.getTextColor(),textFont:d.getFont()})};s=function(){o.setStyle({text:w.get("show")?y:"",textFill:k.getTextColor(),textFont:k.getFont()})};nt.on("mouseover",h).on("mouseout",s).on("emphasis",h).on("normal",s);s()}i.add(o)}})}})},function(n,t,i){var r=i(1);n.exports=function(n){var t=[];r.each(n.series,function(n){"map"===n.type&&t.push(n)});r.each(t,function(n){n.map=n.map||n.mapType;r.defaults(n,n.mapLocation)})}},function(n,t,i){function u(n,t){var i={},u=["value"];return r.each(n,function(n){n.each(u,function(t,r){var u=n.getName(r);i[u]=i[u]||[];isNaN(t)||i[u].push(t)})}),n[0].map(u,function(r,u){for(var l,e=n[0].getName(u),o=0,s=1/0,h=-(1/0),c=i[e].length,f=0;f<c;f++)s=Math.min(s,i[e][f]),h=Math.max(h,i[e][f]),o+=i[e][f];return l="min"===t?s:"max"===t?h:"average"===t?o/c:o,0===c?NaN:l})}var r=i(1);n.exports=function(n){var t={};n.eachSeriesByType("map",function(n){var i=n.getHostGeoModel(),r=i?"o"+i.id:"i"+n.getMapType();(t[r]=t[r]||[]).push(n)});r.each(t,function(n){for(var i=u(r.map(n,function(n){return n.getData()}),n[0].get("mapValueCalculation")),t=0;t<n.length;t++)n[t].originalData=n[t].getData();for(t=0;t<n.length;t++)n[t].seriesGroup=n,n[t].needsDrawMap=0===t&&!n[t].getHostGeoModel(),n[t].setData(i.cloneShallow()),n[t].mainSeries=n[0]})}},function(n,t,i){var r=i(1);n.exports=function(n){var t={};n.eachSeriesByType("map",function(i){var e=i.getMapType(),f,u;i.getHostGeoModel()||t[e]||(f={},r.each(i.seriesGroup,function(t){var r=t.coordinateSystem,i=t.originalData;t.get("showLegendSymbol")&&n.getComponent("legend")&&i.each("value",function(n,t){var u=i.getName(t),o=r.getRegion(u),e,s;o&&!isNaN(n)&&(e=f[u]||0,s=r.dataToPoint(o.center),f[u]=e+1,i.setItemLayout(t,{point:s,offset:e}))})}),u=i.getData(),u.each(function(n){var i=u.getName(n),t=u.getItemLayout(n)||{};t.showLabel=!f[i];u.setItemLayout(n,t)}),t[e]=!0)})}},function(n){n.exports=function(n){n.eachSeriesByType("map",function(n){var t=n.get("color"),i=n.getModel("itemStyle.normal"),r=i.get("areaColor"),u=i.get("color")||t[n.seriesIndex%t.length];n.getData().setVisual({areaColor:r,color:u})})}},function(n,t,i){var r=i(2);i(247);i(322);i(323);r.registerVisual(i(324))},function(n,t,i){function f(n,t,i){var f=n.get("data"),e=u(t);f&&f.length&&r.each(i,function(n){if(n){var t=r.indexOf(f,n[e]);n[e]=t>=0?t:NaN}})}function u(n){return+n.replace("dim","")}function e(n,t){var i=0,f,o,e;for(r.each(n,function(n){var t=u(n);t>i&&(i=t)}),f=t[0],f&&f.length-1>i&&(i=f.length-1),o=[],e=0;e<=i;e++)o.push("dim"+e);return o}var o=i(14),r=i(1),s=i(18),h=i(25);n.exports=s.extend({type:"series.parallel",dependencies:["parallel"],getInitialData:function(n,t){var u=t.getComponent("parallel",this.get("parallelIndex")),l=u.parallelAxisIndex,i=n.data,s=u.dimensions,a=e(s,i),v=r.map(a,function(n,u){var e=r.indexOf(s,n),o=e>=0&&t.getComponent("parallelAxis",l[e]);return o&&"category"===o.get("type")?(f(o,n,i),{name:n,type:"ordinal"}):e<0&&h.guessOrdinal(i,u)?{name:n,type:"ordinal"}:n}),c=new o(v,this);return c.initData(i),this.option.progressive&&(this.option.animation=!1),c},getRawIndicesByActiveState:function(n){var r=this.coordinateSystem,t=this.getData(),i=[];return r.eachActiveState(t,function(r,u){n===r&&i.push(t.getRawIndex(u))}),i},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{normal:{show:!1},emphasis:{show:!1}},inactiveOpacity:.05,activeOpacity:1,lineStyle:{normal:{width:1,opacity:.45,type:"solid"}},progressive:!1,smooth:!1,animationEasing:"linear"}})},function(n,t,i){function f(n,t,i){var e=n.model,u=n.getRect(),f=new r.Rect({shape:{x:u.x,y:u.y,width:u.width,height:u.height}}),o="horizontal"===e.get("layout")?"width":"height";return f.setShape(o,0),r.initProps(f,{shape:{width:u.width,height:u.height}},t,i),f}function u(n,t,i,r){for(var f,o,e=[],u=0;u<i.length;u++)f=i[u],o=n.get(f,t),s(o,r.getAxis(f).type)||e.push(r.dataToPoint(o,f));return e}function e(n,t,i,f,e){var s=u(n,i,f,e),o=new r.Polyline({shape:{points:s},silent:!0,z2:10});t.add(o);n.setItemGraphicEl(i,o)}function o(n,t){var i=n.hostModel.getModel("lineStyle.normal"),r=i.getLineStyle();n.eachItemGraphicEl(function(u,f){if(n.hasItemOption){var e=n.getItemModel(f),o=e.getModel("lineStyle.normal",i);r=o.getLineStyle()}u.useStyle(h.extend(r,{fill:null,stroke:n.getItemVisual(f,"color"),opacity:n.getItemVisual(f,"opacity")}));u.shape.smooth=t})}function s(n,t){return"category"===t?null==n:null==n||isNaN(n)}var r=i(3),h=i(1),c=.3,l=i(29).extend({type:"parallel",init:function(){this._dataGroup=new r.Group;this.group.add(this._dataGroup);this._data},render:function(n){this._renderForNormal(n)},dispose:function(){},_renderForNormal:function(n){function y(n){e(t,i,n,l,s,null,a)}function p(i,f){var e=h.getItemGraphicEl(f),o=u(t,i,l,s);t.setItemGraphicEl(i,e);r.updateProps(e,{shape:{points:o}},n,i)}function w(n){var t=h.getItemGraphicEl(n);i.remove(t)}var i=this._dataGroup,t=n.getData(),h=this._data,s=n.coordinateSystem,l=s.dimensions,b=n.option,a=b.smooth?c:null,v;(t.diff(h).add(y).update(p).remove(w).execute(),o(t,a),this._data)||(v=f(s,n,function(){setTimeout(function(){i.removeClipPath()})}),i.setClipPath(v));this._data=t},remove:function(){this._dataGroup&&this._dataGroup.removeAll();this._data=null}});n.exports=l},function(n){n.exports=function(n){n.eachSeriesByType("parallel",function(t){var u=t.getModel("itemStyle.normal"),f=t.getModel("lineStyle.normal"),r=n.get("color"),e=f.get("color")||u.get("color")||r[t.seriesIndex%r.length],o=t.get("inactiveOpacity"),s=t.get("activeOpacity"),h=t.getModel("lineStyle.normal").getLineStyle(),c=t.coordinateSystem,i=t.getData(),l={normal:h.opacity,active:s,inactive:o};c.eachActiveState(i,function(n,t){i.setItemVisual(t,"opacity",l[n])});i.setVisual("color",e)})}},function(n,t,i){var u=i(1),f,r;i(56);i(264);i(265);f=i(93);r=i(2);r.registerLayout(u.curry(f,"pictorialBar"));r.registerVisual(u.curry(i(50),"pictorialBar","roundRect",null));i(32)},function(n,t,i){var u=i(1),r=i(2);i(369);i(327);i(328);r.registerVisual(u.curry(i(80),"radar"));r.registerVisual(u.curry(i(50),"radar","circle",null));r.registerLayout(i(330));r.registerProcessor(u.curry(i(61),"radar"));r.registerPreprocessor(i(329))},function(n,t,i){"use strict";var f=i(18),e=i(14),o=i(25),s=i(1),r=i(7).encodeHTML,u=f.extend({type:"series.radar",dependencies:["radar"],init:function(){u.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()}},getInitialData:function(n){var t=n.data||[],r=o([],t,{extraPrefix:"indicator_"}),i=new e(r,this);return i.initData(t),i},formatTooltip:function(n){var i=this.getRawValue(n),u=this.coordinateSystem,f=u.getIndicatorAxes(),t=this.getData().getName(n);return r(""===t?this.name:t)+"<br/>"+s.map(f,function(n,t){return r(n.name+" : "+i[t])}).join("<br />")},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{normal:{width:2,type:"solid"}},label:{normal:{position:"top"}},symbol:"emptyCircle",symbolSize:4}});n.exports=u},function(n,t,i){function f(n){return u.isArray(n)||(n=[+n,+n]),n}var r=i(3),u=i(1),e=i(24);n.exports=i(2).extendChartView({type:"radar",render:function(n){function l(n,t){var r=n.getItemVisual(t,"symbol")||"circle",u=n.getItemVisual(t,"color"),i;if("none"!==r)return i=e.createSymbol(r,-.5,-.5,1,1,u),i.attr({style:{strokeNoScale:!0},z2:100,scale:f(n.getItemVisual(t,"symbolSize"))}),i}function o(t,i,u,f,e,o){var s,h;for(u.removeAll(),s=0;s<i.length-1;s++)h=l(f,e),h&&(h.__dimIdx=s,t[s]?(h.attr("position",t[s]),r[o?"initProps":"updateProps"](h,{position:i[s]},n,e)):h.attr("position",i[s]),u.add(h))}function s(n){return u.map(n,function(){return[h.cx,h.cy]})}var h=n.coordinateSystem,c=this.group,t=n.getData(),i=this._data;t.diff(i).add(function(i){var u=t.getItemLayout(i),f,c;if(u){var h=new r.Polygon,e=new r.Polyline,l={shape:{points:u}};h.shape.points=s(u);e.shape.points=s(u);r.initProps(h,l,n,i);r.initProps(e,l,n,i);f=new r.Group;c=new r.Group;f.add(e);f.add(h);f.add(c);o(e.shape.points,u,c,t,i,!0);t.setItemGraphicEl(i,f)}}).update(function(u,f){var e=i.getItemGraphicEl(f),h=e.childAt(0),c=e.childAt(1),l=e.childAt(2),s={shape:{points:t.getItemLayout(u)}};s.shape.points&&(o(h.shape.points,s.shape.points,l,t,u,!1),r.updateProps(h,s,n),r.updateProps(c,s,n),t.setItemGraphicEl(u,e))}).remove(function(n){c.remove(i.getItemGraphicEl(n))}).execute();t.eachItemGraphicEl(function(i,f){function y(){o.attr("ignore",v)}function p(){o.attr("ignore",a)}var e=t.getItemModel(f),w=i.childAt(0),o=i.childAt(1),d=i.childAt(2),s=t.getItemVisual(f,"color");c.add(i);w.useStyle(u.defaults(e.getModel("lineStyle.normal").getLineStyle(),{fill:"none",stroke:s}));w.hoverStyle=e.getModel("lineStyle.emphasis").getLineStyle();var h=e.getModel("areaStyle.normal"),l=e.getModel("areaStyle.emphasis"),a=h.isEmpty()&&h.parentModel.isEmpty(),v=l.isEmpty()&&l.parentModel.isEmpty();v=v&&a;o.ignore=a;o.useStyle(u.defaults(h.getAreaStyle(),{fill:s,opacity:.7}));o.hoverStyle=l.getAreaStyle();var g=e.getModel("itemStyle.normal").getItemStyle(["color"]),nt=e.getModel("itemStyle.emphasis").getItemStyle(),b=e.getModel("label.normal"),k=e.getModel("label.emphasis");d.eachChild(function(i){i.setStyle(g);i.hoverStyle=u.clone(nt);var e=t.get(t.dimensions[i.__dimIdx],f);r.setText(i.style,b,s);i.setStyle({text:b.get("show")?u.retrieve(n.getFormattedLabel(f,"normal",null,i.__dimIdx),e):""});r.setText(i.hoverStyle,k,s);i.hoverStyle.text=k.get("show")?u.retrieve(n.getFormattedLabel(f,"emphasis",null,i.__dimIdx),e):""});i.off("mouseover").off("mouseout").off("normal").off("emphasis");i.on("emphasis",y).on("mouseover",y).on("normal",p).on("mouseout",p);r.setHoverStyle(i)});this._data=t},remove:function(){this.group.removeAll();this._data=null},dispose:function(){}})},function(n,t,i){var r=i(1);n.exports=function(n){var t=n.polar,i;t&&(r.isArray(t)||(t=[t]),i=[],r.each(t,function(t){t.indicator?(t.type&&!t.shape&&(t.shape=t.type),n.radar=n.radar||[],r.isArray(n.radar)||(n.radar=[n.radar]),n.radar.push(t)):i.push(t)}),n.polar=i);r.each(n.series,function(n){"radar"===n.type&&n.polarIndex&&(n.radarIndex=n.polarIndex)})}},function(n){n.exports=function(n){n.eachSeriesByType("radar",function(n){function e(n,r){t[r]=t[r]||[];t[r][i]=u.dataToPoint(n,i)}var r=n.getData(),t=[],u=n.coordinateSystem,i,f;if(u){for(i=0;i<u.getIndicatorAxes().length;i++)f=r.dimensions[i],r.each(f,e);r.each(function(n){t[n][0]&&t[n].push(t[n][0].slice());r.setItemLayout(n,t[n])})}})}},function(n,t,i){var r=i(2);i(332);i(333);r.registerLayout(i(334));r.registerVisual(i(335))},function(n,t,i){var u=i(18),f=i(244),e=i(7).encodeHTML,r=u.extend({type:"series.sankey",layoutInfo:null,getInitialData:function(n){var t=n.edges||n.links,i=n.data||n.nodes,r;if(i&&t)return r=f(i,t,this,!0),r.data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(n,t,i){if("edge"===i){var u=this.getDataParams(n,i),f=u.data,o=f.source+" -- "+f.target;return u.value&&(o+=" : "+u.value),e(o)}return r.superCall(this,"formatTooltip",n,t)},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",nodeWidth:20,nodeGap:8,layoutIterations:32,label:{normal:{show:!0,position:"right",textStyle:{color:"#000",fontSize:12}},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:1,borderColor:"#333"}},lineStyle:{normal:{color:"#314656",opacity:.2,curveness:.5},emphasis:{opacity:.6}},animationEasing:"linear",animationDuration:1e3}});n.exports=r},function(n,t,i){function f(n,t,i){var u=new r.Rect({shape:{x:n.x-10,y:n.y-10,width:0,height:n.height+20}});return r.initProps(u,{shape:{width:n.width+20,height:n.height+20}},t,i),u}var r=i(3),u=i(1),e=r.extendShape({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0},buildPath:function(n,t){var i=t.extent/2;n.moveTo(t.x1,t.y1-i);n.bezierCurveTo(t.cpx1,t.cpy1-i,t.cpx2,t.cpy2-i,t.x2,t.y2-i);n.lineTo(t.x2,t.y2+i);n.bezierCurveTo(t.cpx2,t.cpy2+i,t.cpx1,t.cpy1+i,t.x1,t.y1+i);n.closePath()}});n.exports=i(2).extendChartView({type:"sankey",_model:null,render:function(n){var i=n.getGraph(),t=this.group,o=n.layoutInfo,s=n.getData(),h=n.getData("edge");this._model=n;t.removeAll();t.position=[o.x,o.y];i.eachEdge(function(i){var u=new e;u.dataIndex=i.dataIndex;u.seriesIndex=n.seriesIndex;u.dataType="edge";var a=i.getModel("lineStyle.normal"),o=a.get("curveness"),s=i.node1.getLayout(),v=i.node2.getLayout(),f=i.getLayout();u.shape.extent=Math.max(1,f.dy);var c=s.x+s.dx,y=s.y+f.sy+f.dy/2,l=v.x,p=v.y+f.ty+f.dy/2,w=c*(1-o)+l*o,b=y,k=c*o+l*(1-o),d=p;switch(u.setShape({x1:c,y1:y,x2:l,y2:p,cpx1:w,cpy1:b,cpx2:k,cpy2:d}),u.setStyle(a.getItemStyle()),u.style.fill){case"source":u.style.fill=i.node1.getVisual("color");break;case"target":u.style.fill=i.node2.getVisual("color")}r.setHoverStyle(u,i.getModel("lineStyle.emphasis").getItemStyle());t.add(u);h.setItemGraphicEl(i.dataIndex,u)});i.eachNode(function(i){var c=i.getLayout(),e=i.getModel(),o=e.getModel("label.normal"),l=o.getModel("textStyle"),h=e.getModel("label.emphasis"),a=h.getModel("textStyle"),f=new r.Rect({shape:{x:c.x,y:c.y,width:i.getLayout().dx,height:i.getLayout().dy},style:{text:o.get("show")?n.getFormattedLabel(i.dataIndex,"normal")||i.id:"",textFont:l.getFont(),textFill:l.getTextColor(),textPosition:o.get("position")}});f.setStyle(u.defaults({fill:i.getVisual("color")},e.getModel("itemStyle.normal").getItemStyle()));r.setHoverStyle(f,u.extend(i.getModel("itemStyle.emphasis"),{text:h.get("show")?n.getFormattedLabel(i.dataIndex,"emphasis")||i.id:"",textFont:a.getFont(),textFill:a.getTextColor(),textPosition:h.get("position")}));t.add(f);s.setItemGraphicEl(i.dataIndex,f);f.dataType="node"});!this._data&&n.get("animation")&&t.setClipPath(f(t.getBoundingRect(),n,function(){t.removeClipPath()}));this._data=n.getData()},dispose:function(){}})},function(n,t,i){function s(n,t){return ut.getLayoutRect(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function h(n,t,i,r,u,f,e){l(n,i,u);y(n,t,f,r,e);g(n)}function c(n){r.each(n,function(n){var t=u(n.outEdges,e),i=u(n.inEdges,e),r=Math.max(t,i);n.setLayout({value:r},!0)})}function l(n,t,i){for(var e,c,r,o,l,u=n,s=null,f=0,h=0;u.length;){for(s=[],e=0,c=u.length;e<c;e++)for(r=u[e],r.setLayout({x:f},!0),r.setLayout({dx:t},!0),o=0,l=r.outEdges.length;o<l;o++)s.push(r.outEdges[o].node2);u=s;++f}a(n,f);h=(i-t)/(f-1);v(n,h)}function a(n,t){r.each(n,function(n){n.outEdges.length||n.setLayout({x:t-1},!0)})}function v(n,t){r.each(n,function(n){var i=n.getLayout().x*t;n.setLayout({x:i},!0)})}function y(n,t,i,r,u){var f=ft().key(function(n){return n.getLayout().x}).sortKeys(rt).entries(n).map(function(n){return n.values}),e;for(p(n,f,t,i,r),o(f,r,i),e=1;u>0;u--)e*=.99,w(f,e),o(f,r,i),k(f,e),o(f,r,i)}function p(n,t,i,u,f){var e=[],o;r.each(t,function(n){var o=n.length,t=0,i;r.each(n,function(n){t+=n.getLayout().value});i=(u-(o-1)*f)/t;e.push(i)});e.sort(function(n,t){return n-t});o=e[0];r.each(t,function(n){r.each(n,function(n,t){n.setLayout({y:t},!0);var i=n.getLayout().value*o;n.setLayout({dy:i},!0)})});r.each(i,function(n){var t=+n.getValue()*o;n.setLayout({dy:t},!0)})}function o(n,t,i){r.each(n,function(n){var r,u,f,o=0,s=n.length,e;for(n.sort(it),f=0;f<s;f++)(r=n[f],u=o-r.getLayout().y,u>0)&&(e=r.getLayout().y+u,r.setLayout({y:e},!0)),o=r.getLayout().y+r.getLayout().dy+t;if(u=o-t-i,u>0)for(e=r.getLayout().y-u,r.setLayout({y:e},!0),o=r.getLayout().y,f=s-2;f>=0;--f)r=n[f],u=r.getLayout().y+r.getLayout().dy+t-o,u>0&&(e=r.getLayout().y-u,r.setLayout({y:e},!0)),o=r.getLayout().y})}function w(n,t){r.each(n.slice().reverse(),function(n){r.each(n,function(n){if(n.outEdges.length){var i=u(n.outEdges,b)/u(n.outEdges,e),r=n.getLayout().y+(i-f(n))*t;n.setLayout({y:r},!0)}})})}function b(n){return f(n.node2)*n.getValue()}function k(n,t){r.each(n,function(n){r.each(n,function(n){if(n.inEdges.length){var i=u(n.inEdges,d)/u(n.inEdges,e),r=n.getLayout().y+(i-f(n))*t;n.setLayout({y:r},!0)}})})}function d(n){return f(n.node1)*n.getValue()}function g(n){r.each(n,function(n){n.outEdges.sort(nt);n.inEdges.sort(tt)});r.each(n,function(n){var t=0,i=0;r.each(n.outEdges,function(n){n.setLayout({sy:t},!0);t+=n.getLayout().dy});r.each(n.inEdges,function(n){n.setLayout({ty:i},!0);i+=n.getLayout().dy})})}function nt(n,t){return n.node2.getLayout().y-t.node2.getLayout().y}function tt(n,t){return n.node1.getLayout().y-t.node1.getLayout().y}function u(n,t){for(var r,u=0,f=n.length,i=-1;++i<f;)r=+t.call(n,n[i],i),isNaN(r)||(u+=r);return u}function f(n){return n.getLayout().y+n.getLayout().dy/2}function it(n,t){return n.getLayout().y-t.getLayout().y}function rt(n,t){return n<t?-1:n>t?1:n===t?0:NaN}function e(n){return n.getValue()}var ut=i(12),ft=i(261),r=i(1);n.exports=function(n,t){n.eachSeriesByType("sankey",function(n){var o=n.get("nodeWidth"),l=n.get("nodeGap"),i=s(n,t),f,e;n.layoutInfo=i;var a=i.width,v=i.height,u=n.getGraph(),r=u.nodes,y=u.edges;c(r);f=r.filter(function(n){return 0===n.getLayout().value});e=0!==f.length?0:n.get("layoutIterations");h(r,y,o,l,a,v,e)})}},function(n,t,i){var r=i(79),u=i(1);n.exports=function(n){n.eachSeriesByType("sankey",function(n){var e=n.getGraph(),t=e.nodes,i,f;t.sort(function(n,t){return n.getLayout().value-t.getLayout().value});i=t[0].getLayout().value;f=t[t.length-1].getLayout().value;u.each(t,function(t){var o=new r({type:"color",mappingMethod:"linear",dataExtent:[i,f],visual:n.get("color")}),s=o.mapValueToVisual(t.getLayout().value),e,u;t.setVisual("color",s);e=t.getModel();u=e.get("itemStyle.normal.color");null!=u&&t.setVisual("color",u)})})}},function(n,t,i){var r=i(2),u=i(1);i(248);i(337);i(338);r.registerLayout(i(339));r.registerVisual(i(340));r.registerProcessor(u.curry(i(61),"themeRiver"))},function(n,t,i){"use strict";var o=i(25),s=i(18),h=i(14),r=i(1),c=i(7),l=c.encodeHTML,f=i(261),u=2,e=s.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(){e.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()}},fixData:function(n){for(var l,t,v,o,w,u=n.length,b=f().key(function(n){return n[2]}).entries(n),i=r.map(b,function(n){return{name:n.key,dataList:n.values}}),a=i.length,h=-1,c=-1,e=0;e<a;++e)l=i[e].dataList.length,l>h&&(h=l,c=e);for(t=0;t<a;++t)if(t!==c)for(v=i[t].name,o=0;o<h;++o){for(var y=i[c].dataList[o][0],k=i[t].dataList.length,p=-1,s=0;s<k;++s)if(w=i[t].dataList[s][0],w===y){p=s;break}p===-1&&(n[u]=[],n[u][0]=y,n[u][1]=0,n[u][2]=v,u++)}return n},getInitialData:function(n,t){var e=[],v=t.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0],c=v.get("type"),s;e=[{name:"time",type:"category"===c?"ordinal":"time"===c?"time":"float"},{name:"value",type:"float"},{name:"name",type:"ordinal"}];for(var y=r.filter(n.data,function(n){return void 0!==n[2]}),i=this.fixData(y||[]),l=[],a=this.nameMap={},p=0,f=0;f<i.length;++f)l.push(i[f][u]),a[i[f][u]]||(a[i[f][u]]=p++);return o(e,i),s=new h(e,this),s.initData(i,l),s},coordDimToDataDim:function(){return["time"]},getLayerSeries:function(){function o(t,i){return n.get("time",t)-n.get("time",i)}for(var n=this.getData(),s=n.count(),e=[],t=0;t<s;++t)e[t]=t;for(var h=f().key(function(t){return n.get("name",t)}).entries(e),i=r.map(h,function(n){return{name:n.key,indices:n.values}}),u=0;u<i.length;++u)i[u].indices.sort(o);return i},getAxisTooltipData:function(n,t){var e,o;r.isArray(n)||(n=n?[n]:[]);for(var s,a=this.getData(),u=this.getLayerSeries(),h=[],v=u.length,i=0;i<v;++i){for(var c=Number.MAX_VALUE,l=-1,y=u[i].indices.length,f=0;f<y;++f)e=a.get(n[0],u[i].indices[f]),o=Math.abs(e-t),o<=c&&(s=e,c=o,l=u[i].indices[f]);h.push(l)}return{dataIndices:h,nestestValue:s}},formatTooltip:function(n){var i=this.getData(),r=i.get("name",n),t=i.get("value",n);return(isNaN(t)||null==t)&&(t="-"),l(r+" : "+t)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{normal:{margin:4,textAlign:"right",show:!0,position:"left",textStyle:{color:"#000",fontSize:11}},emphasis:{show:!0}}}});n.exports=e},function(n,t,i){(function(){function u(n,i,r){var u=new t.Rect({shape:{x:n.x-10,y:n.y-10,width:0,height:n.height+20}});return t.initProps(u,{shape:{width:n.width+20,height:n.height+20}},i,r),u}var f=i(88),t=i(3),r=i(1),e=i(48);n.exports=i(2).extendChartView({type:"themeRiver",init:function(){this._layers=[]},render:function(n){function l(n){return n.name}function h(e,h,l){var rt=this._layers,a;if("remove"===e)return void o.remove(rt[h]);for(var ut,g=[],nt=[],p=c[h].indices,w=0;w<p.length;w++){var tt=i.getItemLayout(p[w]),ft=tt.x,et=tt.y0,st=tt.y;g.push([ft,et]);nt.push([ft,et+st]);ut=y.getItemVisual(p[w],"color")}var v,k,b=i.getItemLayout(p[0]),it=i.getItemModel(p[w-1]),d=it.getModel("label.normal"),ot=d.get("margin");"add"===e?(a=s[h]=new t.Group,v=new f.Polygon({shape:{points:g,stackedOnPoints:nt,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),k=new t.Text({style:{x:b.x-ot,y:b.y0+b.y/2}}),a.add(v),a.add(k),o.add(a),v.setClipPath(u(v.getBoundingRect(),n,function(){v.removeClipPath()}))):(a=rt[l],v=a.childAt(0),k=a.childAt(1),o.add(a),s[h]=a,t.updateProps(v,{shape:{points:g,stackedOnPoints:nt}},n),t.updateProps(k,{style:{x:b.x-ot,y:b.y0+b.y/2}},n));var ht=it.getModel("itemStyle.emphasis"),ct=it.getModel("itemStyle.normal"),lt=d.getModel("textStyle");k.setStyle({text:d.get("show")?n.getFormattedLabel(p[w-1],"normal")||i.getName(p[w-1]):"",textFont:lt.getFont(),textAlign:d.get("textAlign"),textVerticalAlign:"middle"});v.setStyle(r.extend({fill:ut},ct.getItemStyle(["color"])));t.setHoverStyle(v,ht.getItemStyle())}var i=n.getData(),y=n.getRawData(),v,s;if(i.count()){var o=this.group,c=n.getLayerSeries(),a=i.getLayout("layoutInfo"),p=a.rect,w=a.boundaryGap;o.attr("position",[0,p.y+w[0]]);v=new e(this._layersSeries||[],c,l,l);s={};v.add(r.bind(r.curry(h,"add"),this)).update(r.bind(r.curry(h,"update"),this)).remove(r.bind(r.curry(h,"remove"),this)).execute();this._layersSeries=c;this._layers=s}},dispose:function(){}})}).call(t,i(185))},function(n,t,i){function u(n,t,i){var u;if(n.count())for(var h,a=t.coordinateSystem,s=t.getLayerSeries(),o=f.map(s,function(t){return f.map(t.indices,function(t){var i=a.dataToPoint(n.get("time",t));return i[1]=n.get("value",t),i})}),l=e(o),v=l.y0,c=i/l.max,y=s.length,p=s[0].indices.length,r=0;r<p;++r)for(h=v[r]*c,n.setItemLayout(s[0].indices[r],{layerIndex:0,x:o[0][r][0],y0:h,y:o[0][r][1]*c}),u=1;u<y;++u)h+=o[u-1][r][1]*c,n.setItemLayout(s[u].indices[r],{layerIndex:u,x:o[u][r][0],y0:h,y:o[u][r][1]*c})}function e(n){for(var f,i,r,u,l,a=n.length,e=n[0].length,o=[],s=[],t=0,h={},c=0;c<e;++c){for(f=0,i=0;f<a;++f)i+=n[f][c][1];i>t&&(t=i);o.push(i)}for(r=0;r<e;++r)s[r]=(t-o[r])/2;for(t=0,u=0;u<e;++u)l=o[u]+s[u],l>t&&(t=l);return h.y0=s,h.max=t,h}var f=i(1),r=i(4);n.exports=function(n){n.eachSeriesByType("themeRiver",function(n){var f=n.getData(),o=n.coordinateSystem,e={},i=o.getRect(),t,s,h,c;e.rect=i;t=n.get("boundaryGap");s=o.getAxis();(e.boundaryGap=t,"horizontal"===s.orient)?(t[0]=r.parsePercent(t[0],i.height),t[1]=r.parsePercent(t[1],i.height),h=i.height-t[0]-t[1],u(f,n,h)):(t[0]=r.parsePercent(t[0],i.width),t[1]=r.parsePercent(t[1],i.width),c=i.width-t[0]-t[1],u(f,n,c));f.setLayout("layoutInfo",e)})}},function(n){n.exports=function(n){n.eachSeriesByType("themeRiver",function(n){var t=n.getData(),r=n.getRawData(),i=n.get("color");t.each(function(u){var f=t.getName(u),e=i[(n.nameMap[f]-1)%i.length];r.setItemVisual(u,"color",e)})})}},function(n,t,i){var r=i(2);i(343);i(344);i(345);r.registerVisual(i(347));r.registerLayout(i(346))},function(n,t,i){function r(n){this.group=new f.Group;n.add(this.group)}function h(n,t,i,r,f,e){var o=[[f?n:n-u,t],[n+i,t],[n+i,t+r],[f?n:n-u,t+r]];return!e&&o.splice(2,0,[n+i+u,t+r/2]),!f&&o.push([n,t+r/2]),o}function c(n,t,i){n.eventData={componentType:"series",componentSubType:"treemap",seriesIndex:t.componentIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:i&&i.dataIndex,name:i&&i.name},treePathInfo:i&&l.wrapTreePathInfo(i,t)}}var f=i(3),e=i(12),o=i(1),l=i(89),a=8,s=8,u=5;r.prototype={constructor:r,render:function(n,t,i,r){var u=n.getModel("breadcrumb"),o=this.group;if(o.removeAll(),u.get("show")&&i){var s=u.getModel("itemStyle.normal"),h=s.getModel("textStyle"),f={pos:{left:u.get("left"),right:u.get("right"),top:u.get("top"),bottom:u.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:u.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(i,f,h);this._renderContent(n,f,s,h,r);e.positionElement(o,f.pos,f.box)}},_prepare:function(n,t,i){for(var r=n;r;r=r.parentNode){var u=r.getModel().get("name"),e=i.getTextRect(u),f=Math.max(e.width+2*a,t.emptyItemWidth);t.totalWidth+=f+s;t.renderList.push({node:r,text:u,width:f})}},_renderContent:function(n,t,i,r,u){for(var p,w=0,b=t.emptyItemWidth,nt=n.get("breadcrumb.height"),tt=e.getAvailableSize(t.pos,t.box),k=t.totalWidth,v=t.renderList,l=v.length-1;l>=0;l--){var y=v[l],d=y.node,a=y.width,g=y.text;k>tt.width&&(k-=a-b,a=b,g="");p=new f.Polygon({shape:{points:h(w,0,a,nt,l===v.length-1,0===l)},style:o.defaults(i.getItemStyle(),{lineJoin:"bevel",text:g,textFill:r.getTextColor(),textFont:r.getFont()}),z:10,onclick:o.curry(u,d)});this.group.add(p);c(p,n,d);w+=a+s}},remove:function(){this.group.removeAll()}};n.exports=r},function(n,t,i){function u(n){var i=0,t;r.each(n.children,function(n){u(n);var t=n.value;r.isArray(t)&&(t=t[0]);i+=t});t=n.value;r.isArray(t)&&(t=t[0]);(null==t||isNaN(t))&&(t=i);t<0&&(t=0);r.isArray(n.value)?n.value[0]=t:n.value=t}function o(n,t){var i=t.get("color"),u,f;if(i)return n=n||[],(r.each(n,function(n){var t=new h(n),i=t.get("color");(t.get("itemStyle.normal.color")||i&&"none"!==i)&&(u=!0)}),u)||(f=n[0]||(n[0]={}),f.color=i.slice()),n}var f=i(18),s=i(414),r=i(1),h=i(10),e=i(7),c=i(89),l=e.encodeHTML,a=e.addCommas;n.exports=f.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],_viewRoot:null,defaultOption:{progressive:0,hoverLayerThreshold:1/0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{normal:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}}},label:{normal:{show:!0,position:"inside",textStyle:{color:"#fff",ellipsis:!0}}},itemStyle:{normal:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(n,t){var r=n.name,f,i;return null==r&&(r=n.name),f={name:r,children:n.data},u(f),i=n.levels||[],i=n.levels=o(i,t),s.createTree(f,this,i).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(n){var i=this.getData(),t=this.getRawValue(n),u=a(r.isArray(t)?t[0]:t),f=i.getName(n);return l(f+": "+u)},getDataParams:function(n){var t=f.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(n);return t.treePathInfo=c.wrapTreePathInfo(i,this),t},setLayoutInfo:function(n){this.layoutInfo=this.layoutInfo||{};r.extend(this.layoutInfo,n)},mapIdToIndex:function(n){var t=this._idIndexMap,i;return t||(t=this._idIndexMap={},this._idIndexMapCount=0),i=t[n],null==i&&(t[n]=i=this._idIndexMapCount++),i},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(n){n?this._viewRoot=n:n=this._viewRoot;var t=this.getData().tree.root;n&&(n===t||t.contains(n))||(this._viewRoot=t)}})},function(n,t,i){function f(){return{nodeGroup:[],background:[],content:[]}}function y(n,t,i,r,f,o,s,h,c,v){function lt(t){var r;w.dataIndex=s.dataIndex;w.seriesIndex=n.seriesIndex;var i=y.borderWidth,u=Math.max(tt-2*i,0),f=Math.max(ut-2*i,0);w.culling=!0;w.setShape({x:i,y:i,width:u,height:f});r=s.getVisual("color",!0);st(w,function(){var n={fill:r},t=s.getModel("itemStyle.emphasis").getItemStyle();at(n,t,r,u,f);w.setStyle(n);e.setHoverStyle(w,t)});t.add(w)}function st(n,t){ct?!n.invisible&&o.push(n):(t(),n.__tmWillVisible||(n.invisible=!1))}function at(t,i,r,u,f){var o=s.getModel(),e=o.get("name"),h;y.isLeafRoot&&(h=n.get("drillDownIcon",!0),e=h?h+" "+e:e);ht(e,t,o,g,r,u,f);ht(e,i,o,nt,r,u,f)}function ht(n,t,i,r,u,f,o){var h=i.getModel(r),s=h.getModel("textStyle"),c;e.setText(t,h,u);t.textAlign=s.get("align");t.textVerticalAlign=s.get("baseline");c=s.getTextRect(n);t.text=!h.getShallow("show")||c.height>o?"":c.width>f?s.get("ellipsis")?s.truncateText(n,f,null,{minChar:2}):"":n}function d(n,r,u,e){var o=null!=et&&i[n][et],s=f[n];return o?(i[n][et]=null,vt(s,o,n)):ct||(o=new r({z:p(u,e)}),o.__tmDepth=u,o.__tmStorageName=n,yt(s,o,n)),t[n][ft]=o}function vt(n,t,i){var r=n[ft]={};r.old="nodeGroup"===i?t.position.slice():u.extend({},t.shape)}function yt(n,t,i){var o=n[ft]={},h=s.parentNode;if(h&&(!r||"drillDown"===r.direction)){var c=0,e=0,u=f.background[h.getRawIndex()];!r&&u&&u.old&&(c=u.old.width,e=u.old.height);o.old="nodeGroup"===i?[0,e]:{x:c,y:e,width:0,height:0}}o.fadein="nodeGroup"!==i}var y,k,ot,w;if(s&&(y=s.getLayout(),y&&y.isInView)){var tt=y.width,ut=y.height,ct=y.invisible,ft=s.getRawIndex(),et=h&&h.getRawIndex(),b=d("nodeGroup",l);if(b)return(c.add(b),b.attr("position",[y.x||0,y.y||0]),b.__tmNodeWidth=tt,b.__tmNodeHeight=ut,y.isAboveViewRoot)?b:(k=d("background",a,v,it),k&&(k.setShape({x:0,y:0,width:tt,height:ut}),st(k,function(){k.setStyle("fill",s.getVisual("borderColor",!0))}),b.add(k)),ot=s.viewChildren,ot&&ot.length||(w=d("content",a,v,rt),w&&lt(b)),b)}}function p(n,t){var i=n*tt+t;return(i-1)/i}var u=i(1),e=i(3),w=i(48),h=i(89),b=i(342),k=i(90),c=i(11),o=i(19),d=i(415),s=u.bind,l=e.Group,a=e.Rect,r=u.each,v=3,g=["label","normal"],nt=["label","emphasis"],tt=10,it=1,rt=2;n.exports=i(2).extendChartView({type:"treemap",init:function(){this._containerGroup;this._storage=f();this._oldTree;this._breadcrumb;this._controller;this._state="ready";this._mayClick},render:function(n,t,i,r){var a=t.findComponents({mainType:"series",subType:"treemap",query:r});if(!(u.indexOf(a,n)<0)){this.seriesModel=n;this.api=i;this.ecModel=t;var e=h.retrieveTargetInfo(r,n),f=r&&r.type,v=n.layoutInfo,y=!this._oldTree,o=this._storage,s="treemapRootToNode"===f&&e&&o?{rootNodeGroup:o.nodeGroup[e.node.getRawIndex()],direction:r.direction}:null,c=this._giveContainerGroup(v),l=this._doRender(c,n,s);y||f&&"treemapZoomToNode"!==f&&"treemapRootToNode"!==f?l.renderFinally():this._doAnimation(c,l,n,s);this._resetController(i);this._renderBreadcrumb(n,i,e)}},_giveContainerGroup:function(n){var t=this._containerGroup;return t||(t=this._containerGroup=new l,this._initEvents(t),this.group.add(t)),t.attr("position",[n.x,n.y]),t},_doRender:function(n,t,i){function h(n,t,i,f,e){function s(n){return n.getId()}function o(r,u){var o=null!=r?n[r]:null,s=null!=u?t[u]:null,c=k(o,s,i,e);c&&h(o&&o.viewChildren||[],s&&s.viewChildren||[],c,f,e+1)}f?(t=n,r(n,function(n,t){n.isRemoved()||o(t,t)})):new w(t,n,s,s).add(o).update(o).remove(u.curry(o,null)).execute()}function p(n){var t=f();return n&&r(n,function(n,i){var u=t[i];r(n,function(n){n&&(u.push(n),n.__tmWillDelete=1)})}),t}function b(){r(s,function(n){r(n,function(n){n.parent&&n.parent.remove(n)})});r(v,function(n){n.invisible=!0;n.dirty()})}var o=t.getData().tree,e=this._oldTree,c=f(),l=f(),a=this._storage,v=[],k=u.curry(y,t,l,a,i,c,v),s;return h(o.root?[o.root]:[],e&&e.root?[e.root]:[],n,o===e||!e,0),s=p(a),this._oldTree=o,this._storage=l,{lastsForAnimation:c,willDeleteEls:s,renderFinally:b}},_doAnimation:function(n,t,i,f){if(i.get("animation")){var o=i.get("animationDurationUpdate"),h=i.get("animationEasing"),e=d.createWrap();r(t.willDeleteEls,function(n,t){r(n,function(n){var r,i,u,s;n.invisible||(i=n.parent,f&&"drillDown"===f.direction?r=i===f.rootNodeGroup?{shape:{x:0,y:0,width:i.__tmNodeWidth,height:i.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}}:(u=0,s=0,i.__tmWillDelete||(u=i.__tmNodeWidth/2,s=i.__tmNodeHeight/2),r="nodeGroup"===t?{position:[u,s],style:{opacity:0}}:{shape:{x:u,y:s,width:0,height:0},style:{opacity:0}}),r&&e.add(n,r,o,h))})});r(this._storage,function(n,i){r(n,function(n,r){var f=t.lastsForAnimation[i][r],s={};f&&("nodeGroup"===i?f.old&&(s.position=n.position.slice(),n.attr("position",f.old)):(f.old&&(s.shape=u.extend({},n.shape),n.setShape(f.old)),f.fadein?(n.setStyle("opacity",0),s.style={opacity:1}):1!==n.style.opacity&&(s.style={opacity:1})),e.add(n,s,o,h))})},this);this._state="animating";e.done(s(function(){this._state="ready";t.renderFinally()},this)).start()}},_resetController:function(n){var t=this._controller,i;t||(t=this._controller=new k(n.getZr()),t.enable(this.seriesModel.get("roam")),t.on("pan",s(this._onPan,this)),t.on("zoom",s(this._onZoom,this)));i=new c(0,0,n.getWidth(),n.getHeight());t.setContainsPoint(function(n,t){return i.contain(n,t)})},_clearController:function(){var n=this._controller;n&&(n.dispose(),n=null)},_onPan:function(n,t){var r,i;if(this._mayClick=!1,"animating"!==this._state&&(Math.abs(n)>v||Math.abs(t)>v)){if(r=this.seriesModel.getData().tree.root,!r)return;if(i=r.getLayout(),!i)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+n,y:i.y+t,width:i.width,height:i.height}})}},_onZoom:function(n,t,i){var e,u,f,s,r;if(this._mayClick=!1,"animating"!==this._state){if(e=this.seriesModel.getData().tree.root,!e)return;if(u=e.getLayout(),!u)return;f=new c(u.x,u.y,u.width,u.height);s=this.seriesModel.layoutInfo;t-=s.x;i-=s.y;r=o.create();o.translate(r,r,[-t,-i]);o.scale(r,r,[n,n]);o.translate(r,r,[t,i]);f.applyTransform(r);this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:f.x,y:f.y,width:f.width,height:f.height}})}},_initEvents:function(n){function t(n){var r=this.seriesModel.get("nodeClick",!0),t,i;if(r&&(t=this.findTarget(n.offsetX,n.offsetY),t))if(i=t.node,i.getLayout().isLeafRoot)this._rootToNode(t);else if("zoomToNode"===r)this._zoomToNode(t);else if("link"===r){var u=i.hostTree.data.getItemModel(i.dataIndex),f=u.get("link",!0),e=u.get("target",!0)||"blank";f&&window.open(f,e)}}n.on("mousedown",function(){"ready"===this._state&&(this._mayClick=!0)},this);n.on("mouseup",function(n){this._mayClick&&(this._mayClick=!1,"ready"===this._state&&t.call(this,n))},this)},_renderBreadcrumb:function(n,t,i){function r(t){"animating"!==this._state&&(h.aboveViewRoot(n.getViewRoot(),t)?this._rootToNode({node:t}):this._zoomToNode({node:t}))}i||(i=null!=n.get("leafDepth",!0)?{node:n.getViewRoot()}:this.findTarget(t.getWidth()/2,t.getHeight()/2),i||(i={node:n.getData().tree.root}));(this._breadcrumb||(this._breadcrumb=new b(this.group))).render(n,t,i.node,s(r,this))},remove:function(){this._clearController();this._containerGroup&&this._containerGroup.removeAll();this._storage=f();this._state="ready";this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(n){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:n.node})},_rootToNode:function(n){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:n.node})},findTarget:function(n,t){var i,r=this.seriesModel.getViewRoot();return r.eachNode({attr:"viewChildren",order:"preorder"},function(r){var e=this._storage.background[r.getRawIndex()],u,f;if(e){if(u=e.transformCoordToLocal(n,t),f=e.shape,!(f.x<=u[0]&&u[0]<=f.x+f.width&&f.y<=u[1]&&u[1]<=f.y+f.height))return!1;i={node:r,offsetX:u[0],offsetY:u[1]}}},this),i}})},function(n,t,i){for(var u=i(2),f=i(89),o=function(){},e=["treemapZoomToNode","treemapRender","treemapMove"],r=0;r<e.length;r++)u.registerAction({type:e[r],update:"updateView"},o);u.registerAction({type:"treemapRootToNode",update:"updateView"},function(n,t){function i(t){var i=f.retrieveTargetInfo(n,t),r;i&&(r=t.getViewRoot(),r&&(n.direction=f.aboveViewRoot(r,i.node)?"rollUp":"drillDown"),t.resetViewRoot(i.node))}t.eachComponent({mainType:"series",subType:"treemap",query:n},i)})},function(n,t,i){function p(n,t,i){var r={mainType:"series",subType:"treemap",query:i};n.eachComponent(r,function(n){var rt=t.getWidth(),ut=t.getHeight(),w=n.option,f=it.getLayoutRect(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),ft=w.size||[],et=v(y(f.width,ft[0]),rt),ot=v(y(f.height,ft[1]),ut),b=i&&i.type,st=o.retrieveTargetInfo(i,n),k="treemapRender"===b||"treemapMove"===b?i.rootRect:null,r=n.getViewRoot(),d=o.getPathToRoot(r),c,e,ht,p,g;"treemapMove"!==b&&(c="treemapZoomToNode"===b?nt(n,st,r,et,ot):k?[k.width,k.height]:[et,ot],e=w.sort,e&&"asc"!==e&&"desc"!==e&&(e="desc"),ht={squareRatio:w.squareRatio,sort:e,leafDepth:w.leafDepth},r.hostTree.clearLayouts(),p={x:0,y:0,width:c[0],height:c[1],area:c[0]*c[1]},r.setLayout(p),h(r,ht,!1,0),p=r.getLayout(),s(d,function(n,t){var i=(d[t+1]||r).getValue();n.setLayout(u.extend({dataExtent:[i,i],borderWidth:0},p))}));g=n.getData().tree.root;g.setLayout(tt(f,k,st),!0);n.setLayoutInfo(f);l(g,new a(-f.x,-f.y,rt,ut),d,r,0)})}function h(n,t,i,u){var s,l,k,nt,a,it,rt,ut,o,v;if(!n.isRemoved()){k=n.getLayout();s=k.width;l=k.height;var ft=n.getModel("itemStyle.normal"),et=ft.get("borderWidth"),d=ft.get("gapWidth")/2,y=et-d,ot=n.getModel();if(n.setLayout({borderWidth:et},!0),s=r(s-2*y,0),l=r(l-2*y,0),nt=s*l,a=w(n,ot,nt,t,i,u),a.length){var p={x:y,y:y,width:s,height:l},b=f(s,l),tt=1/0,e=[];for(e.area=0,o=0,v=a.length;o<v;)it=a[o],e.push(it),e.area+=it.getLayout().area,rt=g(e,b,t.squareRatio),rt<=tt?(o++,tt=rt):(e.area-=e.pop().getLayout().area,c(e,b,p,d,!1),b=f(p.width,p.height),e.length=e.area=0,tt=1/0);for((e.length&&c(e,b,p,d,!0),i)||(ut=ot.get("childrenVisibleMin"),null!=ut&&nt<ut&&(i=!0)),o=0,v=a.length;o<v;o++)h(a[o],t,i,u+1)}}}function w(n,t,i,r,f,e){var o=n.children||[],h=r.sort,l,s,c,a,v;if("asc"!==h&&"desc"!==h&&(h=null),l=null!=r.leafDepth&&r.leafDepth<=e,f&&!l)return n.viewChildren=[];if(o=u.filter(o,function(n){return!n.isRemoved()}),k(o,h),s=d(t,o,h),0===s.sum)return n.viewChildren=[];if(s.sum=b(t,i,s.sum,h,o),0===s.sum)return n.viewChildren=[];for(c=0,a=o.length;c<a;c++)v=o[c].getValue()/s.sum*i,o[c].setLayout({area:v});return l&&(o.length&&n.setLayout({isLeafRoot:!0},!0),o.length=0),n.viewChildren=o,n.setLayout({dataExtent:s.dataExtent},!0),o}function b(n,t,i,r,u){var s;if(!r)return i;for(var h=n.get("visibleMin"),f=u.length,o=f,e=f-1;e>=0;e--)s=u["asc"===r?f-e-1:e].getValue(),s/i*t<h&&(o=e,i-=s);return"asc"===r?u.splice(0,f-o):u.splice(o,f-o),i}function k(n,t){return t&&n.sort(function(n,i){return"asc"===t?n.getValue()-i.getValue():i.getValue()-n.getValue()}),n}function d(n,t,i){for(var f,r,e=0,u=0,o=t.length;u<o;u++)e+=t[u].getValue();return f=n.get("visualDimension"),t&&t.length?"value"===f&&i?(r=[t[t.length-1].getValue(),t[0].getValue()],"asc"===i&&r.reverse()):(r=[1/0,-(1/0)],s(t,function(n){var t=n.getValue(f);t<r[0]&&(r[0]=t);t>r[1]&&(r[1]=t)})):r=[NaN,NaN],{sum:e,dataExtent:r}}function g(n,t,i){for(var f,h,u,e=0,o=1/0,s=0,c=n.length;s<c;s++)u=n[s].getLayout().area,u&&(u<o&&(o=u),u>e&&(e=u));return f=n.area*n.area,h=t*t*i,f?r(h*e/f,f/(h*o)):1/0}function c(n,t,i,u,e){var h=t===i.width?0:1,o=1-h,c=["x","y"],l=["width","height"],y=i[c[h]],s=t?n.area/t:0,a,p;for((e||s>i[l[o]])&&(s=i[l[o]]),a=0,p=n.length;a<p;a++){var w=n[a],v={},b=s?w.getLayout().area/s:0,g=v[l[o]]=r(s-2*u,0),k=i[c[h]]+i[l[h]]-y,d=a===p-1||k<b?k:b,nt=v[l[h]]=r(d-2*u,0);v[c[o]]=i[c[o]]+f(u,g/2);v[c[h]]=y+f(u,nt/2);y+=d;w.setLayout(v,!0)}i[c[o]]+=s;i[l[o]]-=s}function nt(n,t,i,r,u){var o=(t||{}).node,y=[r,u],c,s,f,a,h,v;if(!o||o===i)return y;for(s=r*u,f=s*n.option.zoomToNodeRatio;c=o.parentNode;){for(var p=0,w=c.children,l=0,b=w.length;l<b;l++)p+=w[l].getValue();if(a=o.getValue(),0===a)return y;f*=p/a;h=c.getModel("itemStyle.normal").get("borderWidth");isFinite(h)&&(f+=4*h*h+4*h*Math.pow(f,.5));f>e.MAX_SAFE_INTEGER&&(f=e.MAX_SAFE_INTEGER);o=c}return f<s&&(f=s),v=Math.pow(f/s,.5),[r*v,u*v]}function tt(n,t,i){var s,e,f,r,u,o;if(t)return{x:t.x,y:t.y};if((s={x:0,y:0},!i)||(e=i.node,f=e.getLayout(),!f))return s;for(r=[f.width/2,f.height/2],u=e;u;)o=u.getLayout(),r[0]+=o.x,r[1]+=o.y,u=u.parentNode;return{x:n.width/2-r[0],y:n.height/2-r[1]}}function l(n,t,i,r,u){var f=n.getLayout(),e=i[u],o=e&&e===n,h;e&&!o||u===i.length&&n!==r||(n.setLayout({isInView:!0,invisible:!o&&!t.intersect(f),isAboveViewRoot:o},!0),h=new a(t.x-f.x,t.y-f.y,t.width,t.height),s(n.viewChildren||[],function(n){l(n,h,i,r,u+1)}))}var u=i(1),e=i(4),it=i(12),o=i(89),a=i(11),o=i(89),r=Math.max,f=Math.min,v=e.parsePercent,y=u.retrieve,s=u.each;n.exports=p},function(n,t,i){function s(n,t,i,u,f,e){var d=n.getModel(),p=n.getLayout(),y,tt;if(p&&!p.invisible&&p.isInView){var w,b=n.getModel(o),it=i[n.depth],k=c(b,t,it,u),g=b.get("borderColor"),nt=b.get("borderColorSaturation");null!=nt&&(w=h(k,n),g=l(nt,w));n.setVisual("borderColor",g);y=n.viewChildren;y&&y.length?(tt=a(n,d,p,b,k,y),r.each(y,function(n,t){if(n.depth>=f.length||n===f[n.depth]){var r=v(d,k,n,t,tt,e);s(n,r,i,u,f,e)}})):(w=h(k,n),n.setVisual("color",w))}}function c(n,t,i,u){var f=r.extend({},t);return r.each(["color","colorAlpha","colorSaturation"],function(r){var e=n.get(r,!0);null==e&&i&&(e=i[r]);null==e&&(e=t[r]);null==e&&(e=u.get(r));null!=e&&(f[r]=e)}),f}function h(n){var t=u(n,"color"),i,r;if(t)return i=u(n,"colorAlpha"),r=u(n,"colorSaturation"),r&&(t=e.modifyHSL(t,null,null,r)),i&&(t=e.modifyAlpha(t,i)),t}function l(n,t){return null!=t?e.modifyHSL(t,null,null,n):null}function u(n,t){var i=n[t];if(null!=i&&"none"!==i)return i}function a(n,t,i,r,u,e){var h,c,o,v;if(e&&e.length&&(h=f(t,"color")||null!=u.color&&"none"!==u.color&&(f(t,"colorAlpha")||f(t,"colorSaturation")),h)){var l=t.get("visualMin"),a=t.get("visualMax"),s=i.dataExtent.slice();return null!=l&&l<s[0]&&(s[0]=l),null!=a&&a>s[1]&&(s[1]=a),c=t.get("colorMappingBy"),o={type:h.name,dataExtent:s,visual:h.range},"color"!==o.type||"index"!==c&&"id"!==c?o.mappingMethod="linear":(o.mappingMethod="category",o.loop=!0),v=new y(o),v.__drColorMappingBy=c,v}}function f(n,t){var i=n.get(t);return p(i)&&i.length?{name:t,range:i}:null}function v(n,t,i,u,f,e){var o=r.extend({},t);if(f){var s=f.type,h="color"===s&&f.__drColorMappingBy,c="index"===h?u:"id"===h?e.mapIdToIndex(i.getId()):i.getValue(n.get("visualDimension"));o[s]=f.mapValueToVisual(c)}return o}var y=i(79),e=i(22),r=i(1),p=r.isArray,o="itemStyle.normal";n.exports=function(n,t,i){var u={mainType:"series",subType:"treemap",query:i};n.eachComponent(u,function(n){var t=n.getData().tree,i=t.root,f=n.getModel(o),u;i.isRemoved()||(u=r.map(t.levelModels,function(n){return n?n.get(o):null}),s(i,{},u,f,n.getViewRoot().getAncestors(),n))})}},function(n,t,i){"use strict";i(233);i(349)},function(n,t,i){"use strict";function f(n,t,i,r){var u=n.coordToPoint([t,r]),f=n.coordToPoint([i,r]);return{x1:u[0],y1:u[1],x2:f[0],y2:f[1]}}var u=i(1),r=i(3),e=i(10),o=["axisLine","axisLabel","axisTick","splitLine","splitArea"];i(40).extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(n){if(this.group.removeAll(),n.get("show")){var t=n.axis,i=t.polar,f=i.getRadiusAxis().getExtent(),r=t.getTicksCoords();"category"!==t.type&&r.pop();u.each(o,function(u){!n.get(u+".show")||t.scale.isBlank()&&"axisLine"!==u||this["_"+u](n,i,r,f)},this)}},_axisLine:function(n,t,i,u){var e=n.getModel("axisLine.lineStyle"),f=new r.Circle({shape:{cx:t.cx,cy:t.cy,r:u[1]},style:e.getLineStyle(),z2:1,silent:!0});f.style.fill=null;this.group.add(f)},_axisTick:function(n,t,i,e){var o=n.getModel("axisTick"),s=(o.get("inside")?-1:1)*o.get("length"),h=u.map(i,function(n){return new r.Line({shape:f(t,e[1],e[1]+s,n)})});this.group.add(r.mergePath(h,{style:u.defaults(o.getModel("lineStyle").getLineStyle(),{stroke:n.get("axisLine.lineStyle.color")})}))},_axisLabel:function(n,t,i,u){for(var p=n.axis,s=n.get("data"),l=n.getModel("axisLabel"),a=l.getModel("textStyle"),w=n.getFormattedLabels(),b=l.get("margin"),k=p.getLabelsCoords(),f=0;f<i.length;f++){var h=u[1],o=t.coordToPoint([h+b,k[f]]),v=t.cx,y=t.cy,d=Math.abs(o[0]-v)/h<.3?"center":o[0]>v?"left":"right",g=Math.abs(o[1]-y)/h<.3?"middle":o[1]>y?"top":"bottom",c=a;s&&s[f]&&s[f].textStyle&&(c=new e(s[f].textStyle,a));this.group.add(new r.Text({style:{x:o[0],y:o[1],fill:c.getTextColor()||n.get("axisLine.lineStyle.color"),text:w[f],textAlign:d,textVerticalAlign:g,textFont:c.getFont()},silent:!0}))}},_splitLine:function(n,t,i,e){var a=n.getModel("splitLine"),l=a.getModel("lineStyle"),s=l.get("color"),v=0,h,c,o;for(s=s instanceof Array?s:[s],h=[],o=0;o<i.length;o++)c=v++%s.length,h[c]=h[c]||[],h[c].push(new r.Line({shape:f(t,e[0],e[1],i[o])}));for(o=0;o<h.length;o++)this.group.add(r.mergePath(h[o],{style:u.defaults({stroke:s[o%s.length]},l.getLineStyle()),silent:!0,z:n.get("z")}))},_splitArea:function(n,t,i,f){var v=n.getModel("splitArea"),l=v.getModel("areaStyle"),o=l.get("color"),y=0,h,e;o=o instanceof Array?o:[o];for(var s=[],c=Math.PI/180,a=-i[0]*c,p=Math.min(f[0],f[1]),w=Math.max(f[0],f[1]),b=n.get("clockwise"),e=1;e<i.length;e++)h=y++%o.length,s[h]=s[h]||[],s[h].push(new r.Sector({shape:{cx:t.cx,cy:t.cy,r0:p,r:w,startAngle:a,endAngle:-i[e]*c,clockwise:b},silent:!0})),a=-i[e]*c;for(e=0;e<s.length;e++)this.group.add(r.mergePath(s[e],{style:u.defaults({fill:o[e%o.length]},l.getAreaStyle()),silent:!0}))}})},function(n,t,i){function e(n,t,i){return i&&"axisAreaSelect"===i.type&&t.findComponents({mainType:"parallelAxis",query:i})[0]===n}var r=i(1),o=i(39),s=i(125),u=i(3),h=["axisLine","axisLabel","axisTick","axisName"],f=i(2).extendComponentView({type:"parallelAxis",init:function(n,t){f.superApply(this,"init",arguments);(this._brushController=new s(t.getZr())).on("brush",r.bind(this._onBrush,this))},render:function(n,t,i,f){var a,l,s;if(!e(n,t,f)&&(this.axisModel=n,this.api=i,this.group.removeAll(),a=this._axisGroup,this._axisGroup=new u.Group,this.group.add(this._axisGroup),n.get("show"))){var v,y=t.getComponent("parallel",n.get("parallelIndex")).coordinateSystem,p=n.getAreaSelectStyle(),w=p.width,b=n.axis.dim,k=y.getAxisLayout(b),d=r.indexOf(y.dimensions,b),c=k.axisExpandWindow;c&&(d<=c[0]||d>=c[1])&&(v=!1);l=r.extend({axisLabelShow:v,strokeContainThreshold:w},k);s=new o(n,l);r.each(h,s.add,s);this._axisGroup.add(s.getGroup());this._refreshBrushController(l,p,n,w);u.groupTransition(a,this._axisGroup,n)}},_refreshBrushController:function(n,t,i,f){var e=i.axis,l=r.map(i.activeIntervals,function(n){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(n[0],!0),e.dataToCoord(n[1],!0)]}}),o=e.getExtent(),h=o[1]-o[0],c=Math.min(30,.1*Math.abs(h)),s=u.BoundingRect.create({x:o[0],y:-f/2,width:h,height:f});s.x-=c;s.width+=2*c;this._brushController.mount({enableGlobalPan:!0,rotation:n.rotation,position:n.position}).setPanels([{panelId:"pl",rect:s}]).enableBrush({brushType:"lineX",brushStyle:t,removeOnClick:!0}).updateCovers(l)},_onBrush:function(n,t){var i=this.axisModel,u=i.axis,f=r.map(n,function(n){return[u.coordToData(n.range[0],!0),u.coordToData(n.range[1],!0)]});(!i.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:i.id,intervals:f})},dispose:function(){this._brushController.dispose()}});n.exports=f},function(n,t,i){"use strict";function f(n,t,i){return{position:[n.cx,n.cy],rotation:i/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel("axisLabel").get("rotate"),z2:1}}var r=i(1),u=i(3),e=i(39),o=["axisLine","axisLabel","axisTick","axisName"],s=["splitLine","splitArea"];i(40).extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(n){if(this.group.removeAll(),n.get("show")){var t=n.axis,i=t.polar,c=i.getAngleAxis(),l=t.getTicksCoords(),h=c.getExtent()[0],a=t.getExtent(),v=f(i,n,h),u=new e(n,v);r.each(o,u.add,u);this.group.add(u.getGroup());r.each(s,function(r){n.get(r+".show")&&!t.scale.isBlank()&&this["_"+r](n,i,h,a,l)},this)}},_splitLine:function(n,t,i,f,e){var a=n.getModel("splitLine"),l=a.getModel("lineStyle"),s=l.get("color"),v=0,h,c,o;for(s=s instanceof Array?s:[s],h=[],o=0;o<e.length;o++)c=v++%s.length,h[c]=h[c]||[],h[c].push(new u.Circle({shape:{cx:t.cx,cy:t.cy,r:e[o]},silent:!0}));for(o=0;o<h.length;o++)this.group.add(u.mergePath(h[o],{style:r.defaults({stroke:s[o%s.length],fill:null},l.getLineStyle()),silent:!0}))},_splitArea:function(n,t,i,f,e){var v=n.getModel("splitArea"),l=v.getModel("areaStyle"),s=l.get("color"),y=0,c,o;s=s instanceof Array?s:[s];for(var h=[],a=e[0],o=1;o<e.length;o++)c=y++%s.length,h[c]=h[c]||[],h[c].push(new u.Sector({shape:{cx:t.cx,cy:t.cy,r0:a,r:e[o],startAngle:0,endAngle:2*Math.PI},silent:!0})),a=e[o];for(o=0;o<h.length;o++)this.group.add(u.mergePath(h[o],{style:r.defaults({fill:s[o%s.length]},l.getAreaStyle()),silent:!0}))}})},function(n,t,i){var r=i(39),o=i(1),u=i(3),s=i(245),h=r.getInterval,c=r.ifIgnoreOnTick,l=["axisLine","axisLabel","axisTick","axisName"],f="splitLine",e=i(40).extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(n,t,i,u){var a=this.group,c,h;a.removeAll();c=s.layout(n);h=new r(n,c);o.each(l,h.add,h);a.add(h.getGroup());n.get(f+".show")&&this["_"+f](n,c.labelInterval);e.superCall(this,"render",n,t,i,u)},_splitLine:function(n,t){var s=n.axis,a,v,i;if(!s.scale.isBlank()){var w=n.getModel("splitLine"),y=w.getModel("lineStyle"),p=y.get("width"),r=y.get("color"),k=h(w,t);r=r instanceof Array?r:[r];for(var f=n.coordinateSystem.getRect(),d=s.isHorizontal(),l=[],g=0,b=s.getTicksCoords(),e=[],o=[],i=0;i<b.length;++i)c(s,i,k)||(a=s.toGlobalCoord(b[i]),d?(e[0]=a,e[1]=f.y,o[0]=a,o[1]=f.y+f.height):(e[0]=f.x,e[1]=a,o[0]=f.x+f.width,o[1]=a),v=g++%r.length,l[v]=l[v]||[],l[v].push(new u.Line(u.subPixelOptimizeLine({shape:{x1:e[0],y1:e[1],x2:o[0],y2:o[1]},style:{lineWidth:p},silent:!0}))));for(i=0;i<l.length;++i)this.group.add(u.mergePath(l[i],{style:{stroke:r[i%r.length],lineDash:y.getLineDash(p),lineWidth:p},silent:!0}))}}});n.exports=e},function(n,t,i){var r=i(2);r.registerAction({type:"axisAreaSelect",event:"axisAreaSelected",update:"updateVisual"},function(n,t){t.eachComponent({mainType:"parallelAxis",query:n},function(t){t.axis.model.setActiveIntervals(n.intervals)})});r.registerAction("parallelAxisExpand",function(n,t){t.eachComponent({mainType:"parallel",query:n},function(t){t.setAxisExpand(n)})})},function(n,t,i){"use strict";function e(n,t,i,r,f){var b=t.axis,k=b.dataToCoord(n),s=r.getAngleAxis().getExtent()[0],e,a,v,d,o,g,y,l,p,w;return s=s/180*Math.PI,d=r.getRadiusAxis().getExtent(),"radius"===b.dim?(o=u.create(),u.rotate(o,o,s),u.translate(o,o,[r.cx,r.cy]),e=h.applyTransform([k,-f],o),g=t.getModel("axisLabel").get("rotate")||0,y=c.innerTextLayout(s,g*Math.PI/180,-1),a=y.textAlign,v=y.textVerticalAlign):(l=d[1],e=r.coordToPoint([l+f,k]),p=r.cx,w=r.cy,a=Math.abs(e[0]-p)/l<.3?"center":e[0]>p?"left":"right",v=Math.abs(e[1]-w)/l<.3?"middle":e[1]>w?"top":"bottom"),{position:e,align:a,verticalAlign:v}}var o=i(7),s=i(117),h=i(3),r=i(73),u=i(19),c=i(39),l=i(40),f=s.extend({makeElOption:function(n,t,i,u,f){var s=i.axis,l,h,y,p;"angle"===s.dim&&(this.animationThreshold=Math.PI/18);var v,c=s.polar,w=c.getOtherAxis(s),b=w.getExtent();v=s["dataTo"+o.capitalFirst(s.dim)](t);l=r.buildElStyle(u);h=a[u.get("type")](s,c,v,b,l);h.style=l;n.graphicKey=h.type;n.pointer=h;y=u.get("label.margin");p=e(t,i,u,c,y);r.buildLabelElOption(n,i,u,f,p)}}),a={line:function(n,t,i,u){return"angle"===n.dim?{type:"Line",shape:r.makeLineShape(t.coordToPoint([u[0],i]),t.coordToPoint([u[1],i]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:i}}},shadow:function(n,t,i,u){var f=n.getBandWidth(),e=Math.PI/180;return"angle"===n.dim?{type:"Sector",shape:r.makeSectorShape(t.cx,t.cy,u[0],u[1],(-i-f/2)*e,(-i+f/2)*e)}:{type:"Sector",shape:r.makeSectorShape(t.cx,t.cy,i-f/2,i+f/2,0,2*Math.PI)}}};l.registerAxisPointerClass("PolarAxisPointer",f);n.exports=f},function(n,t,i){"use strict";function u(n){return n.isHorizontal()?0:1}function f(n,t){var i=n.getRect();return[i[o[t]],i[o[t]]+i[a[t]]]}var h=i(3),c=i(117),r=i(73),e=i(245),l=i(40),o=["x","y"],a=["width","height"],s=c.extend({makeElOption:function(n,t,i,o,s){var h=i.axis,l=h.coordinateSystem,p=f(l,1-u(h)),w=l.dataToPoint(t)[0],a=r.buildElStyle(o),c=v[o.get("type")](h,w,p,a),y;c.style=a;n.graphicKey=c.type;n.pointer=c;y=e.layout(i);r.buildCartesianSingleLabelElOption(t,n,y,i,o,s)},getHandleTransform:function(n,t,i){var u=e.layout(t,{labelInside:!1});return u.labelMargin=i.get("handle.margin"),{position:r.getTransformedPosition(t.axis,n,u),rotation:u.rotation+(u.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(n,t,i){var o=i.axis,s=o.coordinateSystem,r=u(o),h=f(s,r),e=n.position;e[r]+=t[r];e[r]=Math.min(h[1],e[r]);e[r]=Math.max(h[0],e[r]);var c=f(s,1-r),l=(c[1]+c[0])/2,a=[l,l];return a[r]=e[r],{position:e,rotation:n.rotation,cursorPoint:a,tooltipOption:{verticalAlign:"middle"}}}}),v={line:function(n,t,i,f){var e=r.makeLineShape([t,i[0]],[t,i[1]],u(n));return h.subPixelOptimizeLine({shape:e,style:f}),{type:"Line",shape:e}},shadow:function(n,t,i){var f=n.getBandWidth(),e=i[1]-i[0];return{type:"Rect",shape:r.makeRectShape([t-f/2,i[0]],[f,e],u(n))}}};l.registerAxisPointerClass("SingleAxisPointer",s);n.exports=s},function(n,t,i){i(2).registerPreprocessor(i(360));i(362);i(357);i(358);i(359);i(381)},function(n,t,i){function r(n,t){return u.merge({brushType:n.brushType,brushMode:n.brushMode,transformable:n.transformable,brushStyle:new o(n.brushStyle).getItemStyle(),removeOnClick:n.removeOnClick},t,!0)}var f=i(2),u=i(1),e=i(184),o=i(10),s=["#ddd"],h=f.extendComponentModel({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)",width:null},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(n,t){var i=this.option;t||e.replaceVisualOption(i,n,["inBrush","outOfBrush"]);i.inBrush=i.inBrush||{};i.outOfBrush=i.outOfBrush||{color:s}},setAreas:function(n){n&&(this.areas=u.map(n,function(n){return r(this.option,n)},this))},setBrushOption:function(n){this.brushOption=r(this.option,n);this.brushType=this.brushOption.brushType}});n.exports=h},function(n,t,i){function r(n,t,i,r){r&&r.$from===n.id||this._brushController.setPanels(n.brushTargetManager.makePanelOpts()).enableBrush(n.brushOption).updateCovers(n.areas.slice())}var u=i(1),f=i(125),e=i(2);n.exports=e.extendComponentView({type:"brush",init:function(n,t){this.ecModel=n;this.api=t;this.model;(this._brushController=new f(t.getZr())).on("brush",u.bind(this._onBrush,this)).mount()},render:function(n){return this.model=n,r.apply(this,arguments)},updateView:r,updateLayout:r,updateVisual:r,dispose:function(){this._brushController.dispose()},_onBrush:function(n,t){var i=this.model.id;this.model.brushTargetManager.setOutputRanges(n,this.ecModel);(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:i,areas:u.clone(n),$from:i})}})},function(n,t,i){var r=i(2);r.registerAction({type:"brush",event:"brush",update:"updateView"},function(n,t){t.eachComponent({mainType:"brush",query:n},function(t){t.setAreas(n.areas)})});r.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},function(){})},function(n,t,i){function u(n){var t={};r.each(n,function(n){t[n]=1});n.length=0;r.each(t,function(t,i){n.push(i)})}var r=i(1),f=["rect","polygon","keep","clear"];n.exports=function(n,t){var e=n&&n.brush,s,i;if(r.isArray(e)||(e=e?[e]:[]),e.length){s=[];r.each(e,function(n){var t=n.hasOwnProperty("toolbox")?n.toolbox:[];t instanceof Array&&(s=s.concat(t))});i=n&&n.toolbox;r.isArray(i)&&(i=i[0]);i||(i={feature:{}},n.toolbox=[i]);var h=i.feature||(i.feature={}),c=h.brush||(h.brush={}),o=c.type||(c.type=[]);o.push.apply(o,s);u(o);t&&!o.length&&o.push.apply(o,f)}}},function(n,t,i){function o(n){var t=["x","y"],i=["width","height"];return{point:function(t,i,u){var f=u.range,e=t[n];return r(e,f)},rect:function(u,f,e){var s=e.range,o=[u[t[n]],u[t[n]]+u[i[n]]];return o[1]<o[0]&&o.reverse(),r(o[0],s)||r(o[1],s)||r(s[0],o)||r(s[1],o)}}}function r(n,t){return t[0]<=n&&n<=t[1]}function f(n,t,i,r,u){for(var o,f=0,e=u[u.length-1];f<u.length;f++){if(o=u[f],s(n,t,i,r,o[0],o[1],e[0],e[1]))return!0;e=o}}function s(n,t,i,r,u,f,o,s){var c=e(i-n,u-o,r-t,f-s),l,a;return h(c)?!1:(l=e(u-n,u-o,f-t,f-s)/c,l<0||l>1)?!1:(a=e(i-n,u-n,r-t,f-t)/c,!(a<0||a>1))}function h(n){return n<=1e-6&&n>=-1e-6}function e(n,t,i,r){return n*r-t*i}var u=i(263).contain,c=i(11),l={lineX:o(0),lineY:o(1),rect:{point:function(n,t,i){return i.boundingRect.contain(n[0],n[1])},rect:function(n,t,i){return i.boundingRect.intersect(n)}},polygon:{point:function(n,t,i){return i.boundingRect.contain(n[0],n[1])&&u(i.range,n[0],n[1])},rect:function(n,t,i){var o=i.range;if(o.length<=1)return!1;var r=n.x,e=n.y,s=n.width,h=n.height,l=o[0];return!!(u(o,r,e)||u(o,r+s,e)||u(o,r,e+h)||u(o,r+s,e+h)||c.create(n).contain(l[0],l[1])||f(r,e,r+s,e,o)||f(r,e,r,e+h,o)||f(r+s,e,r+s,e+h,o)||f(r,e+h,r+s,e+h,o))||void 0}}};n.exports=l},function(n,t,i){function p(n,t,i,r,u){var f,s;u&&(f=n.getZr(),f[o]||(f[e]||(f[e]=w),s=g.createOrUpdate(f,e,i,t),s(n,r)))}function w(n,t){if(!n.isDisposed()){var i=n.getZr();i[o]=!0;n.dispatchAction({type:"brushSelect",batch:t});i[o]=!1}}function s(n,t,i,r){for(var u,e=i.getItemLayout(r),f=0,o=t.length;f<o;f++)if(u=t[f],n[u.brushType](e,u.selectors,u))return!0}function h(n){var t=n.brushSelector,i,u;return r.isString(t)?(i=[],r.each(f,function(n,r){i[r]=n[t]}),i):r.isFunction(t)?(u={},r.each(f,function(n,i){u[i]=t}),u):t}function b(n,t){var i=n.option.seriesIndex;return null!=i&&"all"!==i&&(r.isArray(i)?r.indexOf(i,t)<0:t!==i)}function k(n){var t=n.selectors={};return r.each(f[n.brushType],function(i,r){t[r]=function(r){return i(r,t,n)}}),n}function c(n){return new d(n[0][0],n[1][0],n[0][1]-n[0][0],n[1][1]-n[1][0])}var u=i(2),l=i(184),r=i(1),d=i(11),f=i(361),g=i(43),nt=i(182),a=["inBrush","outOfBrush"],e="__ecBrushSelect",o="__ecInBrushSelectEvent",v=u.PRIORITY.VISUAL.BRUSH,y;u.registerLayout(v,function(n,t,i){n.eachComponent({mainType:"brush"},function(t){i&&"takeGlobalCursor"===i.type&&t.setBrushOption("brush"===i.key?i.brushOption:{brushType:!1});var r=t.brushTargetManager=new nt(t.option,n);r.setInputRanges(t.areas,n)})});u.registerVisual(v,function(n,t,i){var u,f,e=[];n.eachComponent({mainType:"brush"},function(t,i){function o(n){return"all"===p||nt[n]}function c(n){return!!n.length}function ut(n,t){var i=n.coordinateSystem;d|=i.hasAxisbrushed();o(t)&&i.eachActiveState(n.getData(),function(n,t){"active"===n&&(w[t]=1)})}function ft(i,u,f){var e=h(i),l;e&&!b(t,u)&&(r.each(it,function(r){e[r.brushType]&&t.brushTargetManager.controlSeries(r,i,n)&&f.push(r);d|=c(f)}),o(u)&&c(f))&&(l=i.getData(),l.each(function(n){s(e,f,l,n)&&(w[n]=1)}))}var g={brushId:t.id,brushIndex:i,brushName:t.name,areas:r.clone(t.areas),selected:[]},it,rt;e.push(g);var v=t.option,p=v.brushLink,nt=[],w=[],tt=[],d=0;i||(u=v.throttleType,f=v.throttleDelay);it=r.map(t.areas,function(n){return k(r.defaults({boundingRect:y[n.brushType](n)},n))});rt=l.createVisualMappings(t.option,a,function(n){n.mappingMethod="fixed"});r.isArray(p)&&r.each(p,function(n){nt[n]=1});n.eachSeries(function(n,t){var i=tt[t]=[];"parallel"===n.subType?ut(n,t,i):ft(n,t,i)});n.eachSeries(function(n,t){var r={seriesId:n.id,seriesIndex:t,seriesName:n.name,dataIndex:[]};g.selected.push(r);var f=h(n),u=tt[t],i=n.getData(),e=o(t)?function(n){return w[n]?(r.dataIndex.push(i.getRawIndex(n)),"inBrush"):"outOfBrush"}:function(n){return s(f,u,i,n)?(r.dataIndex.push(i.getRawIndex(n)),"inBrush"):"outOfBrush"};(o(t)?d:c(u))&&l.applyVisual(a,rt,i,e)})});p(t,u,f,e,i)});y={lineX:r.noop,lineY:r.noop,rect:function(n){return c(n.range)},polygon:function(n){for(var i,t,u=n.range,r=0,f=u.length;r<f;r++)t=t||[[1/0,-(1/0)],[1/0,-(1/0)]],i=u[r],i[0]<t[0][0]&&(t[0][0]=i[0]),i[0]>t[0][1]&&(t[0][1]=i[0]),i[1]<t[1][0]&&(t[1][0]=i[1]),i[1]>t[1][1]&&(t[1][1]=i[1]);return t&&c(t)}}},function(n,t,i){"use strict";i(389);i(390);i(364)},function(n,t,i){"use strict";var r=i(1),u=i(3),f=i(7),e=i(4),o={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},s={EN:["S","M","T","W","T","F","S"],CN:["日","一","二","三","四","五","六"]};n.exports=i(2).extendComponentView({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(n){var t=this.group;t.removeAll();var u=n.coordinateSystem,i=u.getHandledRangeInfo(),r=u.getOrient();this._renderDayRect(n,i,t);this._renderLines(n,i,r,t);this._renderYearText(n,i,r,t);this._renderMonthText(n,r,t);this._renderWeekText(n,i,r,t)},_renderDayRect:function(n,t,i){for(var e,o,r=n.coordinateSystem,s=n.getModel("itemStyle.normal").getItemStyle(),h=r.getCellWidth(),c=r.getCellHeight(),f=t.start.time;f<=t.end.time;f=r.getNextNDay(f,1).time)e=r.dataToRect([f],!0).tl,o=new u.Rect({shape:{x:e[0],y:e[1],width:h,height:c},style:s}),i.add(o)},_renderLines:function(n,t,i,r){function l(t){u._firstDayOfMonth.push(e.getDateInfo(t));u._firstDayPoints.push(e.dataToRect([t],!0).tl);var f=u._getLinePointsOfOneWeek(n,t,i);u._tlpoints.push(f[0]);u._blpoints.push(f[f.length-1]);h&&u._drawSplitline(f,o,r)}var u=this,e=n.coordinateSystem,o=n.getModel("splitLine.lineStyle").getLineStyle(),h=n.get("splitLine.show"),a=o.lineWidth,f,c,s;for(this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[],f=t.start,c=0;f.time<=t.end.time;c++)l(f.formatedDate),0===c&&(f=e.getDateInfo(t.start.y+"-"+t.start.m)),s=f.date,s.setMonth(s.getMonth()+1),f=e.getDateInfo(s);l(e.getNextNDay(t.end.time,1).formatedDate);h&&this._drawSplitline(u._getEdgesPoints(u._tlpoints,a,i),o,r);h&&this._drawSplitline(u._getEdgesPoints(u._blpoints,a,i),o,r)},_getEdgesPoints:function(n,t,i){var r=[n[0].slice(),n[n.length-1].slice()],u="horizontal"===i?0:1;return r[0][u]=r[0][u]-t/2,r[1][u]=r[1][u]+t/2,r},_drawSplitline:function(n,t,i){var r=new u.Polyline({z2:20,shape:{points:n},style:t});i.add(r)},_getLinePointsOfOneWeek:function(n,t,i){var e=n.coordinateSystem,r,u,f,o;for(t=e.getDateInfo(t),r=[],u=0;u<7;u++)f=e.getNextNDay(t.time,u),o=e.dataToRect([f.time],!0),r[2*f.day]=o.tl,r[2*f.day+1]=o["horizontal"===i?"bl":"tr"];return r},_formatterLabel:function(n,t){return"string"==typeof n&&n?f.formatTplSimple(n,t):"function"==typeof n?n(t):t.nameMap},_yearTextPositionControl:function(n,t,i,r){var u,f;return n=n.slice(),u=["center","bottom"],"top"===i&&(n[1]-=r),"bottom"===i&&(n[1]+=r,u=["center","top"]),"left"===i&&(n[0]-=r),"right"===i&&(n[0]+=r,u=["center","top"]),f=0,"left"!==i&&"right"!==i||(f=Math.PI/2),{rotation:f,origin:n,style:{x:n[0],y:n[1],textAlign:u[0],textVerticalAlign:u[1]}}},_renderYearText:function(n,t,i,f){var o=n.getModel("yearLabel");if(o.get("show")){var l=n.getModel("yearLabel.textStyle"),y=o.get("margin"),s=o.get("position");s||(s="horizontal"!==i?"top":"left");var e=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],a=(e[0][0]+e[1][0])/2,v=(e[0][1]+e[1][1])/2,h="horizontal"===i?0:1,p={top:[a,e[h][1]],bottom:[a,e[1-h][1]],left:[e[1-h][0],v],right:[e[h][0],v]},c=t.start.y;+t.end.y>+t.start.y&&(c=c+"-"+t.end.y);var w=o.get("formatter"),b={start:t.start.y,end:t.end.y,nameMap:c},k=this._formatterLabel(w,b),d=new u.Text(r.merge({z2:30,style:{text:k,font:l.getFont(),fill:l.getTextColor()}},this._yearTextPositionControl(p[s],i,s,y)));f.add(d)}},_monthTextPositionControl:function(n,t,i,r,u){var f="left",e="top",o=n[0],s=n[1];return"horizontal"===i?(s+=u,t&&(f="center"),"start"===r&&(e="bottom")):(o+=u,t&&(e="middle"),"start"===r&&(f="right")),{x:o,y:s,textAlign:f,textVerticalAlign:e}},_renderMonthText:function(n,t,i){var e=n.getModel("monthLabel"),y,l,p,f,w,s,k;if(e.get("show")){var b=n.getModel("monthLabel.textStyle"),h=e.get("nameMap"),c=e.get("margin"),a=e.get("position"),d=e.get("align"),v=[this._tlpoints,this._blpoints];for(r.isString(h)&&(h=o[h.toUpperCase()]||[]),y="start"===a?0:1,l="horizontal"===t?0:1,c="start"===a?-c:c,p="center"===d,f=0;f<v[y].length-1;f++){w=v[y][f].slice();s=this._firstDayOfMonth[f];p&&(k=this._firstDayPoints[f],w[l]=(k[l]+v[0][f+1][l])/2);var g=e.get("formatter"),nt=h[+s.m-1],tt={yyyy:s.y,yy:(s.y+"").slice(2),MM:s.m,M:+s.m,nameMap:nt},it=this._formatterLabel(g,tt),rt=new u.Text({z2:30,style:r.extend({text:it,font:b.getFont(),fill:b.getTextColor()},this._monthTextPositionControl(w,p,t,a,c))});i.add(rt)}}},_weekTextPositionControl:function(n,t,i,r,u){var s="center",h="middle",e=n[0],o=n[1],f="start"===i;return"horizontal"===t?(e=e+r+(f?1:-1)*u[0]/2,s=f?"right":"left"):(o=o+r+(f?1:-1)*u[1]/2,h=f?"bottom":"top"),{x:e,y:o,textAlign:s,textVerticalAlign:h}},_renderWeekText:function(n,t,i,f){var l=n.getModel("dayLabel"),v,y,h,k;if(l.get("show")){var o=n.coordinateSystem,p=n.getModel("dayLabel.textStyle"),w=l.get("position"),a=l.get("nameMap"),c=l.get("margin"),d=o.getFirstDayOfWeek();for(r.isString(a)&&(a=s[a.toUpperCase()]||[]),v=o.getNextNDay(t.end.time,7-t.lweek).time,y=[o.getCellWidth(),o.getCellHeight()],c=e.parsePercent(c,y["horizontal"===i?0:1]),"start"===w&&(v=o.getNextNDay(t.start.time,-(7+t.fweek)).time,c=-c),h=0;h<7;h++){var g=o.getNextNDay(v,h),nt=o.dataToRect([g.time],!0).center,b=h;b=Math.abs((h+d)%7);k=new u.Text({z2:30,style:r.extend({text:a[b],font:p.getFont(),fill:p.getTextColor()},this._weekTextPositionControl(nt,i,w,c,y))});f.add(k)}}}})},function(n,t,i){function r(n,t){t.update="updateView";u.registerAction(t,function(t,i){var r={};return i.eachComponent({mainType:"geo",query:t},function(i){i[n](t.name);var u=i.coordinateSystem;f.each(u.regions,function(n){r[n.name]=i.isSelected(n.name)||!1})}),{selected:r,name:t.name}})}i(392);i(183);i(366);i(237);var u=i(2),f=i(1);r("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"});r("select",{type:"geoSelect",event:"geoselected"});r("unSelect",{type:"geoUnSelect",event:"geounselected"})},function(n,t,i){"use strict";var r=i(246);n.exports=i(2).extendComponentView({type:"geo",init:function(n,t){var i=new r(t,!0);this._mapDraw=i;this.group.add(i.group)},render:function(n,t,i,r){if(!r||"geoToggleSelect"!==r.type||r.from!==this.uid){var u=this._mapDraw;n.get("show")?u.draw(n,t,i,this,r):this._mapDraw.group.removeAll();this.group.silent=n.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}})},function(n,t,i){i(259);i(353);i(350)},function(n,t,i){"use strict";i(233);i(348);i(371);i(55);i(354);i(2).extendComponentView({type:"polar"})},function(n,t,i){i(407);i(408);i(370)},function(n,t,i){var f=i(39),r=i(1),u=i(3),e=["axisLine","axisLabel","axisTick","axisName"];n.exports=i(2).extendComponentView({type:"radar",render:function(n){var t=this.group;t.removeAll();this._buildAxes(n);this._buildSplitLineAndArea(n)},_buildAxes:function(n){var t=n.coordinateSystem,i=t.getIndicatorAxes(),u=r.map(i,function(n){return new f(n.model,{position:[t.cx,t.cy],rotation:n.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})});r.each(u,function(n){r.each(e,n.add,n);this.group.add(n.getGroup())},this)},_buildSplitLineAndArea:function(n){function l(n,t,i){var r=i%t.length;return n[r]=n[r]||[],r}var a=n.coordinateSystem,v=a.getIndicatorAxes(),s,h,o,y,i,ut,ft;if(v.length){var et=n.get("shape"),b=n.getModel("splitLine"),k=n.getModel("splitArea"),d=b.getModel("lineStyle"),g=k.getModel("areaStyle"),nt=b.get("show"),tt=k.get("show"),f=d.get("color"),e=g.get("color");if(f=r.isArray(f)?f:[f],e=r.isArray(e)?e:[e],s=[],h=[],"circle"===et)for(var c=v[0].getTicksCoords(),it=a.cx,rt=a.cy,t=0;t<c.length;t++)nt&&(i=l(s,f,t),s[i].push(new u.Circle({shape:{cx:it,cy:rt,r:c[t]}}))),tt&&t<c.length-1&&(i=l(h,e,t),h[i].push(new u.Ring({shape:{cx:it,cy:rt,r0:c[t],r:c[t+1]}})));else for(var p=-1,ot=r.map(v,function(n,t){var i=n.getTicksCoords();return p=Math.max(i.length-1,p),r.map(i,function(n){return a.coordToPoint(n,t)})}),w=[],t=0;t<=p;t++){for(o=[],y=0;y<v.length;y++)o.push(ot[y][t]);(o[0]&&o.push(o[0].slice()),nt)&&(i=l(s,f,t),s[i].push(new u.Polyline({shape:{points:o}})));tt&&w&&(i=l(h,e,t-1),h[i].push(new u.Polygon({shape:{points:o.concat(w)}})));w=o.slice().reverse()}ut=d.getLineStyle();ft=g.getAreaStyle();r.each(h,function(n,t){this.group.add(u.mergePath(n,{style:r.defaults({stroke:"none",fill:e[t%e.length]},ft),silent:!0}))},this);r.each(s,function(n,t){this.group.add(u.mergePath(n,{style:r.defaults({fill:"none",stroke:f[t%f.length]},ut),silent:!0}))},this)}}})},function(n,t,i){i(233);i(351)},function(n,t,i){var r=i(2);r.registerPreprocessor(i(378));i(380);i(379);i(373);i(374)},function(n,t,i){var u=i(376),f=i(1),e=i(6),r=u.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",normal:{show:!0,interval:"auto",rotate:0,textStyle:{color:"#304654"}},emphasis:{show:!0,textStyle:{color:"#c23531"}}},itemStyle:{normal:{color:"#304654",borderWidth:1},emphasis:{color:"#c23531"}},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",normal:{color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}});f.mixin(r,e.dataFormatMixin);n.exports=r},function(n,t,i){function v(n,t){return p.getLayoutRect(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()},n.get("padding"))}function y(n,t,i,u){return r.makePath(n.get(t).replace(/^path:\/\//,""),f.clone(u||{}),new d(i[0],i[1],i[2],i[3]),"center")}function c(n,t,i,r,u,e){var l=t.get("color"),a,v,s,h,c,y;return u?(u.setColor(l),i.add(u),e&&e.onUpdate(u)):(a=n.get("symbol"),u=k.createSymbol(a,-1,-1,2,2,l),u.setStyle("strokeNoScale",!0),i.add(u),e&&e.onCreate(u)),v=t.getItemStyle(["color","symbol","symbolSize"]),u.setStyle(v),r=f.merge({rectHover:!0,z2:100},r,!0),s=n.get("symbolSize"),s=s instanceof Array?s.slice():[+s,+s],s[0]/=2,s[1]/=2,r.scale=s,h=n.get("symbolOffset"),h&&(c=r.position=r.position||[0,0],c[0]+=o.parsePercent(h[0],s[0]),c[1]+=o.parsePercent(h[1],s[1])),y=n.get("symbolRotate"),r.rotation=(y||0)*Math.PI/180||0,u.attr(r),u.updateTransform(),u}function l(n,t,i,r,u){if(!n.dragging){var f=r.getModel("checkpointStyle"),e=i.dataToCoord(r.getData().get(["value"],t));u||!f.get("animation",!0)?n.attr({position:[e,0]}):(n.stopAnimation(!0),n.animateTo({position:[e,0]},f.get("animationDuration",!0),f.get("animationEasing",!0)))}}var f=i(1),r=i(3),p=i(12),w=i(377),b=i(375),k=i(24),a=i(17),d=i(11),e=i(19),o=i(4),g=i(7),nt=g.encodeHTML,u=f.bind,s=f.each,h=Math.PI;n.exports=w.extend({type:"timeline.slider",init:function(n,t){this.api=t;this._axis;this._viewRect;this._timer;this._currentPointer;this._mainGroup;this._labelGroup},render:function(n,t,i){if(this.model=n,this.api=i,this.ecModel=t,this.group.removeAll(),n.get("show",!0)){var r=this._layout(n,i),f=this._createGroup("mainGroup"),e=this._createGroup("labelGroup"),u=this._axis=this._createAxis(r,n);n.formatTooltip=function(n){return nt(u.scale.getLabel(n))};s(["AxisLine","AxisTick","Control","CurrentPointer"],function(t){this["_render"+t](r,f,u,n)},this);this._renderAxisLabel(r,e,u,n);this._position(r,n)}this._doPlayStop()},remove:function(){this._clearTimer();this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(n,t){var i=n.get("label.normal.position"),u=n.get("orient"),f=v(n,t);null==i||"auto"===i?i="horizontal"===u?f.y+f.height/2<t.getHeight()/2?"-":"+":f.x+f.width/2<t.getWidth()/2?"+":"-":isNaN(i)&&(i={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[u][i]);var rt={horizontal:"center",vertical:i>=0||"+"===i?"left":"right"},ut={horizontal:i>=0||"+"===i?"top":"bottom",vertical:"middle"},ft={horizontal:0,vertical:h/2},k="vertical"===u?f.height:f.width,r=n.getModel("controlStyle"),o=r.get("show"),c=o?r.get("itemSize"):0,d=o?r.get("itemGap"):0,s=c+d,a=n.get("label.normal.rotate")||0;a=a*h/180;var y,p,w,b,g=r.get("position",!0),o=r.get("show",!0),nt=o&&r.get("showPlayBtn",!0),tt=o&&r.get("showPrevBtn",!0),it=o&&r.get("showNextBtn",!0),l=0,e=k;return"left"===g||"bottom"===g?(nt&&(y=[0,0],l+=s),tt&&(p=[l,0],l+=s),it&&(w=[e-c,0],e-=s)):(nt&&(y=[e-c,0],e-=s),tt&&(p=[0,0],l+=s),it&&(w=[e-c,0],e-=s)),b=[l,e],n.get("inverse")&&b.reverse(),{viewRect:f,mainLength:k,orient:u,rotation:ft[u],labelRotation:a,labelPosOpt:i,labelAlign:rt[u],labelBaseline:ut[u],playPosition:y,prevBtnPosition:p,nextBtnPosition:w,axisExtent:b,controlSize:c,controlGap:d}},_position:function(n){function y(n){var t=n.position;n.origin=[r[0][0]-t[0],r[1][0]-t[1]]}function a(n){return[[n.x,n.x+n.width],[n.y,n.y+n.height]]}function v(n,t,i,r,u){n[r]+=i[r][u]-t[r][u]}var f=this._mainGroup,o=this._labelGroup,t=n.viewRect,c,u;if("vertical"===n.orient){var i=e.create(),p=t.x,w=t.y+t.height;e.translate(i,i,[-p,-w]);e.rotate(i,i,-h/2);e.translate(i,i,[p,w]);t=t.clone();t.applyTransform(i)}var r=a(t),b=a(f.getBoundingRect()),k=a(o.getBoundingRect()),s=f.position,l=o.position;l[0]=s[0]=r[0][0];c=n.labelPosOpt;isNaN(c)?(u="+"===c?0:1,v(s,b,r,1,u),v(l,k,r,1,1-u)):(u=c>=0?0:1,v(s,b,r,1,u),l[1]=s[1]+c);f.attr("position",s);o.attr("position",l);f.rotation=o.rotation=n.rotation;y(f);y(o)},_createAxis:function(n,t){var u=t.getData(),f=t.get("axisType"),i=a.createScaleByModel(t,f),e=u.getDataExtent("value"),r;return i.setExtent(e[0],e[1]),this._customizeScale(i,u),i.niceTicks(),r=new b("value",i,n.axisExtent,f),r.model=t,r},_customizeScale:function(n,t){n.getTicks=function(){return t.mapArray(["value"],function(n){return n})};n.getTicksLabels=function(){return f.map(this.getTicks(),n.getLabel,n)}},_createGroup:function(n){var t=this["_"+n]=new r.Group;return this.group.add(t),t},_renderAxisLine:function(n,t,i,u){var e=i.getExtent();u.get("lineStyle.show")&&t.add(new r.Line({shape:{x1:e[0],y1:0,x2:e[1],y2:0},style:f.extend({lineCap:"round"},u.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(n,t,i,f){var e=f.getData(),o=i.scale.getTicks();s(o,function(n,o){var l=i.dataToCoord(n),h=e.getItemModel(o),a=h.getModel("itemStyle.normal"),v=h.getModel("itemStyle.emphasis"),y={position:[l,0],onclick:u(this._changeTimeline,this,o)},s=c(h,a,t,y);r.setHoverStyle(s,v.getItemStyle());h.get("tooltip")?(s.dataIndex=o,s.dataModel=f):s.dataIndex=s.dataModel=null},this)},_renderAxisLabel:function(n,t,i,f){var e=f.getModel("label.normal");if(e.get("show")){var o=f.getData(),h=i.scale.getTicks(),c=a.getFormattedLabels(i,e.get("formatter")),l=i.getLabelInterval();s(h,function(f,e){if(!i.isLabelIgnored(e,l)){var s=o.getItemModel(e),h=s.getModel("label.normal.textStyle"),v=s.getModel("label.emphasis.textStyle"),y=i.dataToCoord(f),a=new r.Text({style:{text:c[e],textAlign:n.labelAlign,textVerticalAlign:n.labelBaseline,textFont:h.getFont(),fill:h.getTextColor()},position:[y,0],rotation:n.labelRotation-n.rotation,onclick:u(this._changeTimeline,this,e),silent:!1});t.add(a);r.setHoverStyle(a,v.getItemStyle())}},this)}},_renderControl:function(n,t,i,f){function o(n,i,u,o){if(n){var h={position:n,origin:[e/2,0],rotation:o?-c:0,rectHover:!0,style:l,onclick:u},s=y(f,i,v,h);t.add(s);r.setHoverStyle(s,a)}}var e=n.controlSize,c=n.rotation,l=f.getModel("controlStyle.normal").getItemStyle(),a=f.getModel("controlStyle.emphasis").getItemStyle(),v=[0,-e/2,e,e],s=f.getPlayState(),h=f.get("inverse",!0);o(n.nextBtnPosition,"controlStyle.nextIcon",u(this._changeTimeline,this,h?"-":"+"));o(n.prevBtnPosition,"controlStyle.prevIcon",u(this._changeTimeline,this,h?"+":"-"));o(n.playPosition,"controlStyle."+(s?"stopIcon":"playIcon"),u(this._handlePlayClick,this,!s),!0)},_renderCurrentPointer:function(n,t,i,r){var s=r.getData(),e=r.getCurrentIndex(),o=s.getItemModel(e).getModel("checkpointStyle"),f=this,h={onCreate:function(n){n.draggable=!0;n.drift=u(f._handlePointerDrag,f);n.ondragend=u(f._handlePointerDragend,f);l(n,e,i,r,!0)},onUpdate:function(n){l(n,e,i,r)}};this._currentPointer=c(o,o,this._mainGroup,{},this._currentPointer,h)},_handlePlayClick:function(n){this._clearTimer();this.api.dispatchAction({type:"timelinePlayChange",playState:n,from:this.uid})},_handlePointerDrag:function(n,t,i){this._clearTimer();this._pointerChangeTimeline([i.offsetX,i.offsetY])},_handlePointerDragend:function(n){this._pointerChangeTimeline([n.offsetX,n.offsetY],!0)},_pointerChangeTimeline:function(n,t){var i=this._toAxisCoord(n)[0],e=this._axis,r=o.asc(e.getExtent().slice()),u,f;i>r[1]&&(i=r[1]);i<r[0]&&(i=r[0]);this._currentPointer.position[0]=i;this._currentPointer.dirty();u=this._findNearestTick(i);f=this.model;(t||u!==f.getCurrentIndex()&&f.get("realtime"))&&this._changeTimeline(u)},_doPlayStop:function(){function n(){var n=this.model;this._changeTimeline(n.getCurrentIndex()+(n.get("rewind",!0)?-1:1))}this._clearTimer();this.model.getPlayState()&&(this._timer=setTimeout(u(n,this),this.model.get("playInterval")))},_toAxisCoord:function(n){var t=this._mainGroup.getLocalTransform();return r.applyTransform(n,t,!0)},_findNearestTick:function(n){var t,r=this.model.getData(),i=1/0,u=this._axis;return r.each(["value"],function(r,f){var o=u.dataToCoord(r),e=Math.abs(o-n);e<i&&(i=e,t=f)}),t},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(n){var t=this.model.getCurrentIndex();"+"===n?n=t+1:"-"===n&&(n=t-1);this.api.dispatchAction({type:"timelineChange",currentIndex:n,from:this.uid})}})},function(n,t,i){var u=i(1),f=i(33),e=i(17),r=function(n,t,i,r){f.call(this,n,t,i);this.type=r||"value";this._autoLabelInterval;this.model=null};r.prototype={constructor:r,getLabelInterval:function(){var i=this.model,t=i.getModel("label.normal"),n=t.get("interval");return null!=n&&"auto"!=n?n:(n=this._autoLabelInterval,n||(n=this._autoLabelInterval=e.getAxisLabelInterval(u.map(this.scale.getTicks(),this.dataToCoord,this),e.getFormattedLabels(this,t.get("formatter")),t.getModel("textStyle").getFont(),"horizontal"===i.get("orient"))),n)},isLabelIgnored:function(n){if("category"===this.type){var t=this.getLabelInterval();return"function"==typeof t&&!t(n,this.scale.getLabel(n))||n%(t+1)}}};u.inherits(r,f);n.exports=r},function(n,t,i){var f=i(13),e=i(14),r=i(1),o=i(6),u=f.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{normal:{},emphasis:{}},label:{normal:{textStyle:{color:"#000"}},emphasis:{}},data:[]},init:function(n,t,i){this._data;this._names;this.mergeDefaultAndTheme(n,i);this._initData()},mergeOption:function(){u.superApply(this,"mergeOption",arguments);this._initData()},setCurrentIndex:function(n){null==n&&(n=this.option.currentIndex);var t=this._data.count();this.option.loop?n=(n%t+t)%t:(n>=t&&(n=t-1),n<0&&(n=0));this.option.currentIndex=n},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(n){this.option.autoPlay=!!n},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var i=this.option,n=i.data||[],u=i.axisType,f=this._names=[],t,s,h;"category"===u&&(t=[],r.each(n,function(n,i){var e,u=o.getDataItemValue(n);r.isObject(n)?(e=r.clone(n),e.value=i):e=i;t.push(e);r.isString(u)||null!=u&&!isNaN(u)||(u="");f.push(u+"")}),n=t);s={category:"ordinal",time:"time"}[u]||"number";h=this._data=new e([{name:"value",type:s}],this);h.initData(n,f)},getData:function(){return this._data},getCategories:function(){if("category"===this.get("axisType"))return this._names.slice()}});n.exports=u},function(n,t,i){var r=i(62);n.exports=r.extend({type:"timeline"})},function(n,t,i){function e(n){var i=n.type,e={number:"value",time:"time"},t;(e[i]&&(n.axisType=e[i],delete n.type),f(n),r(n,"controlPosition"))&&(t=n.controlStyle||(n.controlStyle={}),r(t,"position")||(t.position=n.controlPosition),"none"!==t.position||r(t,"show")||(t.show=!1,delete t.position),delete n.controlPosition);u.each(n.data||[],function(n){u.isObject(n)&&!u.isArray(n)&&(!r(n,"value")&&r(n,"name")&&(n.value=n.name),f(n))})}function f(n){var f=n.itemStyle||(n.itemStyle={}),i=f.emphasis||(f.emphasis={}),t=n.label||n.label||{},e=t.normal||(t.normal={}),o={normal:1,emphasis:1};u.each(t,function(n,t){o[t]||r(e,t)||(e[t]=n)});i.label&&!r(t,"emphasis")&&(t.emphasis=i.label,delete i.label)}function r(n,t){return n.hasOwnProperty(t)}var u=i(1);n.exports=function(n){var t=n&&n.timeline;u.isArray(t)||(t=t?[t]:[]);u.each(t,function(n){n&&e(n)})}},function(n,t,i){var r=i(2),u=i(1);r.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(n,t){var i=t.getComponent("timeline");return i&&null!=n.currentIndex&&(i.setCurrentIndex(n.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.setPlayState(!1)),t.resetOption("timeline"),u.defaults({currentIndex:i.option.currentIndex},n)});r.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(n,t){var i=t.getComponent("timeline");i&&null!=n.playState&&i.setPlayState(n.playState)})},function(n,t,i){i(13).registerSubTypeDefaulter("timeline",function(){return"slider"})},function(n,t,i){"use strict";function u(n,t,i){this.model=n;this.ecModel=t;this.api=i;this._brushType;this._brushMode}var e=i(28),f=i(1),r;u.defaultOption={show:!0,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}};r=u.prototype;r.render=r.updateView=r.updateLayout=function(n,t){var i,r,u;t.eachComponent({mainType:"brush"},function(n){i=n.brushType;r=n.brushOption.brushMode||"single";u|=n.areas.length});this._brushType=i;this._brushMode=r;f.each(n.get("type",!0),function(t){n.setIconStatus(t,("keep"===t?"multiple"===r:"clear"===t?u:t===i)?"emphasis":"normal")})};r.getIcons=function(){var n=this.model,t=n.get("icon",!0),i={};return f.each(n.get("type",!0),function(n){t[n]&&(i[n]=t[n])}),i};r.onclick=function(n,t,i){var t=this.api,r=this._brushType,u=this._brushMode;"clear"===i?t.dispatchAction({type:"brush",areas:[]}):t.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===i?r:r!==i&&i,brushMode:"keep"===i?"multiple"===u?"single":"multiple":u}})};e.register("brush",u);n.exports=u},function(n,t,i){i(387);i(388)},function(n,t,i){function u(n,t,i){if(i[0]===i[1])return i.slice();for(var f=200,o=(i[1]-i[0])/f,r=i[0],u=[],e=0;e<=f&&r<i[1];e++)u.push(r),r+=o;return u.push(i[1]),u}var f=i(249),e=i(1),s=i(4),o=[20,140],r=f.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:!0},optionUpdated:function(){r.superApply(this,"optionUpdated",arguments);this.resetTargetSeries();this.resetExtent();this.resetVisual(function(n){n.mappingMethod="linear";n.dataExtent=this.getExtent()});this._resetRange()},resetItemSize:function(){r.superApply(this,"resetItemSize",arguments);var n=this.itemSize;"horizontal"===this._orient&&n.reverse();(null==n[0]||isNaN(n[0]))&&(n[0]=o[0]);(null==n[1]||isNaN(n[1]))&&(n[1]=o[1])},_resetRange:function(){var t=this.getExtent(),n=this.option.range;!n||n.auto?(t.auto=1,this.option.range=t):e.isArray(n)&&(n[0]>n[1]&&n.reverse(),n[0]=Math.max(n[0],t[0]),n[1]=Math.min(n[1],t[1]))},completeVisualOption:function(){f.prototype.completeVisualOption.apply(this,arguments);e.each(this.stateList,function(n){var t=this.option.controller[n].symbolSize;t&&t[0]!==t[1]&&(t[0]=0)},this)},setSelected:function(n){this.option.range=n.slice();this._resetRange()},getSelected:function(){var t=this.getExtent(),n=s.asc((this.get("range")||[]).slice());return n[0]>t[1]&&(n[0]=t[1]),n[1]>t[1]&&(n[1]=t[1]),n[0]<t[0]&&(n[0]=t[0]),n[1]<t[0]&&(n[1]=t[0]),n},getValueState:function(n){var t=this.option.range,i=this.getExtent();return(t[0]<=i[0]||t[0]<=n)&&(t[1]>=i[1]||n<=t[1])?"inRange":"outOfRange"},findTargetDataIndices:function(n){var t=[];return this.eachTargetSeries(function(i){var r=[],u=i.getData();u.each(this.getDataDimension(u),function(t,i){n[0]<=t&&t<=n[1]&&r.push(i)},!0,this);t.push({seriesId:i.id,dataIndex:r})},this),t},getVisualMeta:function(n){function o(t,r){i.push({value:t,color:n(t,r)})}for(var f,h,e=u(this,"outOfRange",this.getExtent()),t=u(this,"inRange",this.option.range.slice()),i=[],s=0,r=0,l=t.length,c=e.length;r<c&&(!t.length||e[r]<=t[0]);r++)e[r]<t[s]&&o(e[r],"outOfRange");for(f=1;s<l;s++,f=0)f&&i.length&&o(t[s],"outOfRange"),o(t[s],"inRange");for(f=1;r<c;r++)(!t.length||t[t.length-1]<e[r])&&(f&&(i.length&&o(i[i.length-1].value,"outOfRange"),f=0),o(e[r],"outOfRange"));return h=i.length,{stops:i,outerColors:[h?i[0].color:"transparent",h?i[h-1].color:"transparent"]}}});n.exports=r},function(n,t,i){function o(n,t,i,u){return new r.Polygon({shape:{points:n},draggable:!!i,cursor:t,drift:i,onmousemove:function(n){l.stop(n.event)},ondragend:u})}function y(n,t){return 0===n?[[0,0],[t,0],[t,-t]]:[[0,0],[t,0],[t,t]]}function p(n,t,i,r){return n?[[0,-h(t,e(i,0))],[a,0],[0,h(t,e(r-i,0))]]:[[0,0],[5,-5],[5,5]]}function w(n,t,i){var r=it/2,f=n.get("hoverLinkDataSize");return f&&(r=u(f,t,i,!0)/2),r}function c(n){return!n.get("realtime")&&n.get("hoverLinkOnHandle")}var b=i(250),r=i(3),f=i(1),k=i(4),d=i(91),g=i(97),s=i(251),nt=i(6),l=i(21),u=k.linearMap,tt=f.each,h=Math.min,e=Math.max,it=12,a=6,v=b.extend({type:"visualMap.continuous",init:function(){v.superApply(this,"init",arguments);this._shapes={};this._dataInterval=[];this._handleEnds=[];this._orient;this._useHandle;this._hoverLinkDataIndices=[];this._dragging;this._hovering},doRender:function(n,t,i,r){r&&"selectDataRange"===r.type&&r.from===this.uid||this._buildView()},_buildView:function(){var t,n,i;this.group.removeAll();t=this.visualMapModel;n=this.group;this._orient=t.get("orient");this._useHandle=t.get("calculable");this._resetInterval();this._renderBar(n);i=t.get("text");this._renderEndsText(n,i,0);this._renderEndsText(n,i,1);this._updateView(!0);this.renderBackground(n);this._updateView();this._enableHoverLinkToSeries();this._enableHoverLinkFromSeries();this.positionGroup(n)},_renderEndsText:function(n,t,i){var u;if(t){u=t[1-i];u=null!=u?u+"":"";var f=this.visualMapModel,e=f.get("textGap"),o=f.itemSize,s=this._shapes.barGroup,h=this._applyTransform([o[0]/2,0===i?-e:o[1]+e],s),c=this._applyTransform(0===i?"bottom":"top",s),l=this._orient,a=this.visualMapModel.textStyleModel;this.group.add(new r.Text({style:{x:h[0],y:h[1],textVerticalAlign:"horizontal"===l?"middle":c,textAlign:"horizontal"===l?c:"center",text:u,textFont:a.getFont(),fill:a.getTextColor()}}))}},_renderBar:function(n){var h=this.visualMapModel,t=this._shapes,r=h.itemSize,c=this._orient,v=this._useHandle,l=s.getItemAlign(h,this.api,r),i=t.barGroup=this._createBarGroup(l),a,u;i.add(t.outOfRange=o());i.add(t.inRange=o(null,v?"move":null,f.bind(this._dragHandle,this,"all",!1),f.bind(this._dragHandle,this,"all",!0)));a=h.textStyleModel.getTextRect("国");u=e(a.width,a.height);v&&(t.handleThumbs=[],t.handleLabels=[],t.handleLabelPoints=[],this._createHandle(i,0,r,u,c,l),this._createHandle(i,1,r,u,c,l));this._createIndicator(i,r,u,c);n.add(i)},_createHandle:function(n,t,i,u,e){var v=f.bind(this._dragHandle,this,t,!1),p=f.bind(this._dragHandle,this,t,!0),h=o(y(t,u),"move",v,p),c,a,w,s;h.position[0]=i[0];n.add(h);c=this.visualMapModel.textStyleModel;a=new r.Text({draggable:!0,drift:v,onmousemove:function(n){l.stop(n.event)},ondragend:p,style:{x:0,y:0,text:"",textFont:c.getFont(),fill:c.getTextColor()}});this.group.add(a);w=["horizontal"===e?u/2:1.5*u,"horizontal"===e?0===t?-(1.5*u):1.5*u:0===t?-u/2:u/2];s=this._shapes;s.handleThumbs[t]=h;s.handleLabelPoints[t]=w;s.handleLabels[t]=a},_createIndicator:function(n,t,i,u){var f=o([[0,0]],"move"),s,h,c,e;f.position[0]=t[0];f.attr({invisible:!0,silent:!0});n.add(f);s=this.visualMapModel.textStyleModel;h=new r.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:s.getFont(),fill:s.getTextColor()}});this.group.add(h);c=["horizontal"===u?i/2:a+3,0];e=this._shapes;e.indicator=f;e.indicatorLabel=h;e.indicatorLabelPoint=c},_dragHandle:function(n,t,i,r){if(this._useHandle){if(this._dragging=!t,!t){var u=this._applyTransform([i,r],this._shapes.barGroup,!0);this._updateInterval(n,u[1]);this._updateView()}t===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()});t?!this._hovering&&this._clearHoverLinkToSeries():c(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[n],!1)}},_resetInterval:function(){var n=this.visualMapModel,t=this._dataInterval=n.getSelected(),i=n.getExtent(),r=[0,n.itemSize[1]];this._handleEnds=[u(t[0],i,r,!0),u(t[1],i,r,!0)]},_updateInterval:function(n,t){var i,r,f,e;t=t||0;i=this.visualMapModel;r=this._handleEnds;d(t,r,[0,i.itemSize[1]],"all"===n?"rigid":"push",n);f=i.getExtent();e=[0,i.itemSize[1]];this._dataInterval=[u(r[0],e,f,!0),u(r[1],e,f,!0)]},_updateView:function(n){var u=this.visualMapModel,i=u.getExtent(),f=this._shapes,e=[0,u.itemSize[1]],o=n?e:this._handleEnds,t=this._createBarVisual(this._dataInterval,i,o,"inRange"),r=this._createBarVisual(i,i,e,"outOfRange");f.inRange.setStyle({fill:t.barColor,opacity:t.opacity}).setShape("points",t.barPoints);f.outOfRange.setStyle({fill:r.barColor,opacity:r.opacity}).setShape("points",r.barPoints);this._updateHandle(o,t)},_createBarVisual:function(n,t,i,r){var f={forceState:r,convertOpacityToAlpha:!0},u=this._makeColorGradient(n,f),e=[this.getControllerVisual(n[0],"symbolSize",f),this.getControllerVisual(n[1],"symbolSize",f)],o=this._createBarPoints(i,e);return{barColor:new g(0,0,0,1,u),barPoints:o,handlesColor:[u[0].color,u[u.length-1].color]}},_makeColorGradient:function(n,t){var u=100,r=[],e=(n[1]-n[0])/u,i,f;for(r.push({color:this.getControllerVisual(n[0],"color",t),offset:0}),i=1;i<u;i++){if(f=n[0]+e*i,f>n[1])break;r.push({color:this.getControllerVisual(f,"color",t),offset:i/u})}return r.push({color:this.getControllerVisual(n[1],"color",t),offset:1}),r},_createBarPoints:function(n,t){var i=this.visualMapModel.itemSize;return[[i[0]-t[0],n[0]],[i[0],n[0]],[i[0],n[1]],[i[0]-t[1],n[1]]]},_createBarGroup:function(n){var t=this._orient,i=this.visualMapModel.get("inverse");return new r.Group("horizontal"!==t||i?"horizontal"===t&&i?{scale:"bottom"===n?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==t||i?{scale:"left"===n?[1,1]:[-1,1]}:{scale:"left"===n?[1,-1]:[-1,-1]}:{scale:"bottom"===n?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(n,t){if(this._useHandle){var i=this._shapes,u=this.visualMapModel,f=i.handleThumbs,e=i.handleLabels;tt([0,1],function(o){var s=f[o],h;s.setStyle("fill",t.handlesColor[o]);s.position[1]=n[o];h=r.applyTransform(i.handleLabelPoints[o],r.getTransform(s,this.group));e[o].setStyle({x:h[0],y:h[1],text:u.formatValueText(this._dataInterval[o]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===o?"bottom":"top":"left",i.barGroup)})},this)}},_showIndicator:function(n,t,i,f){var s=this.visualMapModel,k=s.getExtent(),v=s.itemSize,d=[0,v[1]],y=u(n,k,d,!0),o=this._shapes,e=o.indicator,w,b,h,c,l,a;e&&(e.position[1]=y,e.attr("invisible",!1),e.setShape("points",p(!!i,f,y,v[1])),w={convertOpacityToAlpha:!0},b=this.getControllerVisual(n,"color",w),e.setStyle("fill",b),h=r.applyTransform(o.indicatorLabelPoint,r.getTransform(e,this.group)),c=o.indicatorLabel,c.attr("invisible",!1),l=this._applyTransform("left",o.barGroup),a=this._orient,c.setStyle({text:(i?i:"")+s.formatValueText(t),textVerticalAlign:"horizontal"===a?l:"middle",textAlign:"horizontal"===a?"center":l,x:h[0],y:h[1]}))},_enableHoverLinkToSeries:function(){var n=this;this._shapes.barGroup.on("mousemove",function(t){if(n._hovering=!0,!n._dragging){var r=n.visualMapModel.itemSize,i=n._applyTransform([t.offsetX,t.offsetY],n._shapes.barGroup,!0,!0);i[1]=h(e(0,i[1]),r[1]);n._doHoverLinkToSeries(i[1],0<=i[0]&&i[0]<=r[0])}}).on("mouseout",function(){n._hovering=!1;n._dragging||n._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var n=this.api.getZr();this.visualMapModel.option.hoverLink?(n.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),n.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(n,t){var f=this.visualMapModel,k=f.itemSize,i,o,b,y,p;if(f.option.hoverLink){i=[0,k[1]];o=f.getExtent();n=h(e(i[0],n),i[1]);var l=w(f,o,i),a=[n-l,n+l],v=u(n,i,o,!0),r=[u(a[0],i,o,!0),u(a[1],i,o,!0)];a[0]<i[0]&&(r[0]=-(1/0));a[1]>i[1]&&(r[1]=1/0);t&&(r[0]===-(1/0)?this._showIndicator(v,r[1],"< ",l):r[1]===1/0?this._showIndicator(v,r[0],"> ",l):this._showIndicator(v,v,"≈ ",l));b=this._hoverLinkDataIndices;y=[];(t||c(f))&&(y=this._hoverLinkDataIndices=f.findTargetDataIndices(r));p=nt.compressBatches(b,y);this._dispatchHighDown("downplay",s.convertDataIndex(p[0]));this._dispatchHighDown("highlight",s.convertDataIndex(p[1]))}},_hoverLinkFromSeriesMouseOver:function(n){var t=n.target,f=this.visualMapModel,i;if(t&&null!=t.dataIndex&&(i=this.ecModel.getSeriesByIndex(t.seriesIndex),f.isTargetSeries(i))){var r=i.getData(t.dataType),e=r.getDimension(f.getDataDimension(r)),u=r.get(e,t.dataIndex,!0);isNaN(u)||this._showIndicator(u,u)}},_hideIndicator:function(){var n=this._shapes;n.indicator&&n.indicator.attr("invisible",!0);n.indicatorLabel&&n.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var n=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",s.convertDataIndex(n));n.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var n=this.api.getZr();n.off("mouseover",this._hoverLinkFromSeriesMouseOver);n.off("mouseout",this._hideIndicator)},_applyTransform:function(n,t,i,u){var e=r.getTransform(t,u?null:this.group);return r[f.isArray(n)?"applyTransform":"transformDirection"](n,e,i)},_dispatchHighDown:function(n,t){t&&t.length&&this.api.dispatchAction({type:n,batch:t})},dispose:function(){this._clearHoverLinkFromSeries();this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries();this._clearHoverLinkToSeries()}});n.exports=v},function(n,t,i){function f(n,t){var i=n.inverse;("vertical"===n.orient?!i:i)&&t.reverse()}var e=i(249),r=i(1),u=i(79),h=i(262),o=i(4).reformIntervals,s=e.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(n,t){var i,u;s.superApply(this,"optionUpdated",arguments);this._pieceList=[];this.resetTargetSeries();this.resetExtent();i=this._mode=this._determineMode();c[this._mode].call(this);this._resetSelected(n,t);u=this.option.categories;this.resetVisual(function(n,t){"categories"===i?(n.mappingMethod="category",n.categories=r.clone(u)):(n.dataExtent=this.getExtent(),n.mappingMethod="piecewise",n.pieceList=r.map(this._pieceList,function(n){var n=r.clone(n);return"inRange"!==t&&(n.visual=null),n}))})},completeVisualOption:function(){function t(n,t,i){return n&&n[t]&&(r.isObject(n[t])?n[t].hasOwnProperty(i):n[t]===i)}var n=this.option,i={},f=u.listVisualTypes(),o=this.isCategory();r.each(n.pieces,function(n){r.each(f,function(t){n.hasOwnProperty(t)&&(i[t]=1)})});r.each(i,function(i,u){var f=0;r.each(this.stateList,function(i){f|=t(n,i,u)||t(n.target,i,u)},this);f||r.each(this.stateList,function(t){(n[t]||(n[t]={}))[u]=h.get(u,"inRange"===t?"active":"inactive",o)})},this);e.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(n,t){var u=this.option,e=this._pieceList,i=(t?u:n).selected||{},f;(u.selected=i,r.each(e,function(n){var t=this.getSelectedMapKey(n);i.hasOwnProperty(t)||(i[t]=!0)},this),"single"===u.selectedMode)&&(f=!1,r.each(e,function(n){var t=this.getSelectedMapKey(n);i[t]&&(f?i[t]=!1:f=!0)},this))},getSelectedMapKey:function(n){return"categories"===this._mode?n.value+"":n.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var n=this.option;return n.pieces&&n.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(n){this.option.selected=r.clone(n)},getValueState:function(n){var t=u.findPieceIndex(n,this._pieceList);return null!=t&&this.option.selected[this.getSelectedMapKey(this._pieceList[t])]?"inRange":"outOfRange"},findTargetDataIndices:function(n){var t=[];return this.eachTargetSeries(function(i){var r=[],f=i.getData();f.each(this.getDataDimension(f),function(t,i){var f=u.findPieceIndex(t,this._pieceList);f===n&&r.push(i)},!0,this);t.push({seriesId:i.id,dataIndex:r})},this),t},getRepresentValue:function(n){var i,t;return this.isCategory()?i=n.value:null!=n.value?i=n.value:(t=n.interval||[],i=t[0]===-(1/0)&&t[1]===1/0?0:(t[0]+t[1])/2),i},getVisualMeta:function(n){function e(t,i){var u=s.getRepresentValue({interval:t}),r;i||(i=s.getValueState(u));r=n(u,i);t[0]===-(1/0)?f[0]=r:t[1]===1/0?f[1]=r:o.push({value:t[0],color:r},{value:t[1],color:r})}var i,u;if(!this.isCategory()){var o=[],f=[],s=this,t=this._pieceList.slice();return t.length?(i=t[0].interval[0],i!==-(1/0)&&t.unshift({interval:[-(1/0),i]}),i=t[t.length-1].interval[1],i!==1/0&&t.push({interval:[i,1/0]})):t.push({interval:[-(1/0),1/0]}),u=-(1/0),r.each(t,function(n){var t=n.interval;t&&(t[0]>u&&e([u,t[0]],"outOfRange"),e(t.slice()),u=t[1])},this),{stops:o,outerColors:f}}}}),c={splitNumber:function(){var i=this.option,e=this._pieceList,s=i.precision,u=this.getExtent(),f=i.splitNumber,n,t,h,c,l;for(f=Math.max(parseInt(f,10),1),i.splitNumber=f,n=(u[1]-u[0])/f;+n.toFixed(s)!==n&&s<5;)s++;for(i.precision=s,n=+n.toFixed(s),t=0,i.minOpen&&e.push({index:t++,interval:[-(1/0),u[0]],close:[0,0]}),h=u[0],c=t+f;t<c;h+=n)l=t===f-1?u[1]:h+n,e.push({index:t++,interval:[h,l],close:[1,1]});i.maxOpen&&e.push({index:t++,interval:[u[1],1/0],close:[0,0]});o(e);r.each(e,function(n){n.text=this.formatValueText(n.interval)},this)},categories:function(){var n=this.option;r.each(n.categories,function(n){this._pieceList.push({text:this.formatValueText(n,!0),value:n})},this);f(n,this._pieceList)},pieces:function(){var t=this.option,n=this._pieceList;r.each(t.pieces,function(t,i){var f,c,a,s;if(r.isObject(t)||(t={value:t}),f={text:"",index:i},null!=t.label&&(f.text=t.label),t.hasOwnProperty("value"))c=f.value=t.value,f.interval=[c,c],f.close=[1,1];else{for(var o=f.interval=[],h=f.close=[0,0],v=[1,0,1],y=[-(1/0),1/0],l=[],e=0;e<2;e++){for(a=[["gte","gt","min"],["lte","lt","max"]][e],s=0;s<3&&null==o[e];s++)o[e]=t[a[s]],h[e]=v[s],l[e]=2===s;null==o[e]&&(o[e]=y[e])}l[0]&&o[1]===1/0&&(h[0]=0);l[1]&&o[0]===-(1/0)&&(h[1]=0);o[0]===o[1]&&h[0]&&h[1]&&(f.value=o[0])}f.visual=u.retrieveVisuals(t);n.push(f)},this);f(t,n);o(n);r.each(n,function(n){var t=n.close,i=[["<","≤"][t[1]],[">","≥"][t[0]]];n.text=n.text||this.formatValueText(null!=n.value?n.value:n.interval,!1,i)},this)}};n.exports=s},function(n,t,i){var e=i(250),r=i(1),u=i(3),o=i(24),s=i(12),f=i(251),h=e.extend({type:"visualMap.piecewise",doRender:function(){function a(f){var c=f.piece,s=new u.Group,l,a;s.onclick=r.bind(this._onItemClick,this,c);this._enableHoverLink(s,f.indexInModelPieceList);l=t.getRepresentValue(c);(this._createItemSymbol(s,l,[0,0,i[0],i[1]]),o)&&(a=this.visualMapModel.getValueState(l),s.add(new u.Text({style:{x:"right"===e?-h:i[0]+h,y:i[1]/2,text:c.text,textVerticalAlign:"middle",textAlign:e,textFont:v,fill:y,opacity:"outOfRange"===a?.5:1}})));n.add(s)}var n=this.group;n.removeAll();var t=this.visualMapModel,h=t.get("textGap"),c=t.textStyleModel,v=c.getFont(),y=c.getTextColor(),e=this._getItemAlign(),i=t.itemSize,l=this._getViewData(),f=l.endsText,o=r.retrieve(t.get("showLabel",!0),!f);f&&this._renderEndsText(n,f[0],i,o,e);r.each(l.viewPieceList,a,this);f&&this._renderEndsText(n,f[1],i,o,e);s.box(t.get("orient"),n,t.get("itemGap"));this.renderBackground(n);this.positionGroup(n)},_enableHoverLink:function(n,t){function i(n){var i=this.visualMapModel;i.option.hoverLink&&this.api.dispatchAction({type:n,batch:f.convertDataIndex(i.findTargetDataIndices(t))})}n.on("mouseover",r.bind(i,this,"highlight")).on("mouseout",r.bind(i,this,"downplay"))},_getItemAlign:function(){var t=this.visualMapModel,i=t.option,n;return"vertical"===i.orient?f.getItemAlign(t,this.api,t.itemSize):(n=i.align,n&&"auto"!==n||(n="left"),n)},_renderEndsText:function(n,t,i,r,f){if(t){var e=new u.Group,o=this.visualMapModel.textStyleModel;e.add(new u.Text({style:{x:r?"right"===f?i[0]:0:i[0]/2,y:i[1]/2,textVerticalAlign:"middle",textAlign:r?f:"center",text:t,textFont:o.getFont(),fill:o.getTextColor()}}));n.add(e)}},_getViewData:function(){var n=this.visualMapModel,i=r.map(n.getPieceList(),function(n,t){return{piece:n,indexInModelPieceList:t}}),t=n.get("text"),f=n.get("orient"),u=n.get("inverse");return("horizontal"===f?u:!u)?i.reverse():t&&(t=t.slice().reverse()),{viewPieceList:i,endsText:t}},_createItemSymbol:function(n,t,i){n.add(o.createSymbol(this.getControllerVisual(t,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(t,"color")))},_onItemClick:function(n){var u=this.visualMapModel,f=u.option,t=r.clone(f.selected),i=u.getSelectedMapKey(n);"single"===f.selectedMode?(t[i]=!0,r.each(t,function(n,r){t[r]=r===i})):t[i]=!t[i];this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:t})}});n.exports=h},function(n,t,i){i(2).registerPreprocessor(i(252));i(253);i(254);i(383);i(384);i(255)},function(n,t,i){i(2).registerPreprocessor(i(252));i(253);i(254);i(385);i(386);i(255)},function(n,t,i){"use strict";function r(n){this._model=n}function e(n,t,i,r){var u=i.calendarModel,f=i.seriesModel,e=u?u.coordinateSystem:f?f.coordinateSystem:null;return e===this?e[n](r):null}var o=i(12),s=i(4),u=i(1),f=864e5;r.prototype={constructor:r,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"}]},getHandledRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(n){var u,t,i,r;return n=s.parseDate(n),u=n.getFullYear(),t=n.getMonth()+1,t=t<10?"0"+t:t,i=n.getDate(),i=i<10?"0"+i:i,r=n.getDay(),r=Math.abs((r+7-this.getFirstDayOfWeek())%7),{y:u,m:t,d:i,day:r,time:n.getTime(),formatedDate:u+"-"+t+"-"+i,date:n}},getNextNDay:function(n,t){if(t=t||0,0===t)return this.getDateInfo(n);var i=this.getDateInfo(n).time;return this.getDateInfo(i+f*t)},update:function(n,t){function r(n,t){return null!=n[t]&&"auto"!==n[t]}var c,l;this._firstDayOfWeek=this._model.getModel("dayLabel").get("firstDay");this._orient=this._model.get("orient");this._lineWidth=this._model.getModel("itemStyle.normal").getItemStyle().lineWidth||0;this._rangeInfo=this._getRangeInfo(this._initRangeOption());var f=this._rangeInfo.weeks||1,e=["width","height"],i=this._model.get("cellSize").slice(),s=this._model.getBoxLayoutParams(),h="horizontal"===this._orient?[f,7]:[7,f];u.each([0,1],function(n){r(i,n)&&(s[e[n]]=i[n]*h[n])});c={width:t.getWidth(),height:t.getHeight()};l=this._rect=o.getLayoutRect(s,c);u.each([0,1],function(n){r(i,n)||(i[n]=l[e[n]]/h[n])});this._sw=i[0];this._sh=i[1]},dataToPoint:function(n,t){var i=this.getDateInfo(n[0]),r=this._rangeInfo,e=i.formatedDate,u,f;return(t||i.time>=r.start.time&&i.time<=r.end.time)?(u=i.day,f=this._getRangeInfo([r.start.time,e]).weeks,"vertical"===this._orient?[this._rect.x+u*this._sw+this._sw/2,this._rect.y+(f-1)*this._sh+this._sh/2]:[this._rect.x+(f-1)*this._sw+this._sw/2,this._rect.y+u*this._sh+this._sh/2]):[NaN,NaN]},pointToData:function(n){var t=this.pointToDate(n);return t&&t.time},dataToRect:function(n,t){var i=this.dataToPoint(n,t);return{contentShape:{x:i[0]-(this._sw-this._lineWidth)/2,y:i[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:i,tl:[i[0]-this._sw/2,i[1]-this._sh/2],tr:[i[0]+this._sw/2,i[1]-this._sh/2],br:[i[0]+this._sw/2,i[1]+this._sh/2],bl:[i[0]-this._sw/2,i[1]+this._sh/2]}},pointToDate:function(n){var t=Math.floor((n[0]-this._rect.x)/this._sw)+1,i=Math.floor((n[1]-this._rect.y)/this._sh)+1,r=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(i,t-1,r):this._getDateByWeeksAndDay(t,i-1,r)},convertToPixel:u.curry(e,"dataToPoint"),convertFromPixel:u.curry(e,"pointToData"),_initRangeOption:function(){var t=this._model.get("range"),n=t,r,i,e,f;return(u.isArray(n)&&1===n.length&&(n=n[0]),/^\d{4}$/.test(n)&&(t=[n+"-01-01",n+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(n))&&(r=this.getDateInfo(n),i=r.date,i.setMonth(i.getMonth()+1),e=this.getNextNDay(i,-1),t=[r.formatedDate,e.formatedDate]),/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(n)&&(t=[n,n]),f=this._getRangeInfo(t),f.start.time>f.end.time&&t.reverse(),t},_getRangeInfo:function(n){var t=this.getDateInfo(n[0]),i=this.getDateInfo(n[1]),r=Math.floor(i.time/f)-Math.floor(t.time/f)+1,u=Math.floor((r+t.day+6)/7);return{range:[t.formatedDate,i.formatedDate],start:t,end:i,allDay:r,weeks:u,fweek:t.day,lweek:i.day}},_getDateByWeeksAndDay:function(n,t,i){var r=this._getRangeInfo(i),u,e;return n>r.weeks||0===n&&t<r.fweek||n===r.weeks&&t>r.lweek?!1:(u=7*(n-1)-r.fweek+t,e=r.start.time+u*f,this.getDateInfo(e))}};r.dimensions=r.prototype.dimensions;r.getDimensionsInfo=r.prototype.getDimensionsInfo;r.create=function(n,t){var i=[];return n.eachComponent("calendar",function(u){var f=new r(u,n,t);i.push(f);u.coordinateSystem=f}),n.eachSeries(function(n){"calendar"===n.get("coordinateSystem")&&(n.coordinateSystem=i[n.get("calendarIndex")||0])}),i};i(26).register("calendar",r);n.exports=r},function(n,t,i){"use strict";function f(n,t){var i=n.cellSize,u;e.isArray(i)?1===i.length&&(i[1]=i[0]):i=n.cellSize=[i,i];u=e.map([0,1],function(n){return r.sizeCalculable(t,n)&&(i[n]="auto"),null!=i[n]&&"auto"!==i[n]});r.mergeLayoutParam(n,t,{type:"box",ignoreSize:u})}var o=i(13),e=i(1),r=i(12),u=o.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{normal:{color:"#fff",borderWidth:1,borderColor:"#ccc"}},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",textStyle:{color:"#000"}},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,textStyle:{color:"#000"}},yearLabel:{show:!0,position:null,margin:30,formatter:null,textStyle:{color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}}},init:function(n){var t=r.getLayoutParams(n);u.superApply(this,"init",arguments);f(n,t)},mergeOption:function(n){u.superApply(this,"mergeOption",arguments);f(this.option,n)}});n.exports=u},function(n,t,i){function r(n,t,i,r,u){f.call(this,n);this.map=t;this._nameCoordMap={};this.loadGeoJson(i,r,u)}function e(n,t,i,r){var f=i.geoModel,u=i.seriesModel,e=f?f.coordinateSystem:u?u.coordinateSystem||(u.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return e===this?e[n](r):null}var s=i(258),u=i(1),o=i(11),f=i(256),h=[i(394),i(395),i(393)];r.prototype={constructor:r,type:"geo",dimensions:["lng","lat"],containCoord:function(n){for(var i=this.regions,t=0;t<i.length;t++)if(i[t].contain(n))return!0;return!1},loadGeoJson:function(n,t,i){var r,o;try{this.regions=n?s(n):[]}catch(l){throw"Invalid geoJson format\n"+l.message;}t=t||{};i=i||{};for(var e=this.regions,c={},f=0;f<e.length;f++)r=e[f].name,r=i[r]||r,e[f].name=r,c[r]=e[f],this.addGeoCoord(r,e[f].center),o=t[r],o&&e[f].transformTo(o.left,o.top,o.width,o.height);this._regionsMap=c;this._rect=null;u.each(h,function(n){n(this)},this)},transformTo:function(n,t,i,r){var u=this.getBoundingRect(),f,e;u=u.clone();u.y=-u.y-u.height;f=this._viewTransform;f.transform=u.calculateTransform(new o(n,t,i,r));f.decomposeTransform();e=f.scale;e[1]=-e[1];f.updateTransform();this._updateTransform()},getRegion:function(n){return this._regionsMap[n]},getRegionByCoord:function(n){for(var i=this.regions,t=0;t<i.length;t++)if(i[t].contain(n))return i[t]},addGeoCoord:function(n,t){this._nameCoordMap[n]=t},getGeoCoord:function(n){return this._nameCoordMap[n]},getBoundingRect:function(){var n,i,t,r;if(this._rect)return this._rect;for(i=this.regions,t=0;t<i.length;t++)r=i[t].getBoundingRect(),n=n||r.clone(),n.union(r);return this._rect=n||new o(0,0,0,0)},dataToPoints:function(n){var t=[];return n.mapArray(["lng","lat"],function(n,i){return t[0]=n,t[1]=i,this.dataToPoint(t)},this)},dataToPoint:function(n){if("string"==typeof n&&(n=this.getGeoCoord(n)),n)return f.prototype.dataToPoint.call(this,n)},convertToPixel:u.curry(e,"dataToPoint"),convertFromPixel:u.curry(e,"pointToData")};u.mixin(r,f);n.exports=r},function(n,t,i){"use strict";var o=i(6),r=i(13),u=i(10),f=i(1),s=i(75),h=i(183),e=r.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(n){r.prototype.init.apply(this,arguments);o.defaultEmphasis(n.label,["position","show","textStyle","distance","formatter"])},optionUpdated:function(){var n=this.option,t=this;n.regions=h.getFilledRegions(n.regions,n.map);this._optionModelMap=f.reduce(n.regions||[],function(n,i){return i.name&&(n[i.name]=new u(i,t)),n},{});this.updateSelectedMap(n.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:.75,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{normal:{show:!1,textStyle:{color:"#000"}},emphasis:{show:!0,textStyle:{color:"rgb(100,0,0)"}}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(n){return this._optionModelMap[n]||new u(null,this,this.ecModel)},getFormattedLabel:function(n,t){var f=this.getRegionModel(n),i=f.get("label."+t+".formatter"),r={name:n},u;return"function"==typeof i?(r.status=t,i(r)):"string"==typeof i?(u=r.seriesName,i.replace("{a}",null!=u?u:"")):void 0},setZoom:function(n){this.option.zoom=n},setCenter:function(n){this.option.center=n}});f.mixin(e,s);n.exports=e},function(n,t,i){var r=i(1),u={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};n.exports=function(n){r.each(n.regions,function(n){var t=u[n.name],i;t&&(i=n.center,i[0]=t[0],i[1]=t[1])})}},function(n,t,i){for(var f,o=i(257),s=i(1),e=[126,25],r=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],u=0;u<r.length;u++)for(f=0;f<r[u].length;f++)r[u][f][0]/=10.5,r[u][f][1]/=-14,r[u][f][0]+=e[0],r[u][f][1]+=e[1];n.exports=function(n){"china"===n.map&&n.regions.push(new o("南海诸岛",s.map(r,function(n){return{type:"polygon",exterior:n}}),e))}},function(n,t,i){var r=i(1),u={"南海诸岛":[32,80],"广东":[0,-10],"香港":[10,5],"澳门":[-10,10],"天津":[5,5]};n.exports=function(n){r.each(n.regions,function(n){var t=u[n.name],i;t&&(i=n.center,i[0]+=t[0]/10.5,i[1]+=-t[1]/14)})}},function(n,t,i){function f(n,t){return t.type||(t.data?"category":"value")}var e=i(13),u=i(1),o=i(31),s=i(57),h=i(4),r=e.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return o([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]]).call(this.getModel("areaSelectStyle"))},setActiveIntervals:function(n){var i=this.activeIntervals=u.clone(n),t;if(i)for(t=i.length-1;t>=0;t--)h.asc(i[t])},getActiveState:function(n){var i=this.activeIntervals,t,r;if(!i.length)return"normal";if(null==n)return"inactive";for(t=0,r=i.length;t<r;t++)if(i[t][0]<=n&&n<=i[t][1])return"active";return"inactive"}});u.merge(r.prototype,i(41));s("parallel",r,f,{type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10});n.exports=r},function(n,t,i){function u(n,t,i){this._axesMap={};this._axesLayout={};this.dimensions=n.dimensions;this._rect;this._model=n;this._init(n,t,i)}var h=i(12),o=i(17),f=i(1),c=i(398),s=i(3),e=i(19),r=f.each,l=Math.PI;u.prototype={type:"parallel",constructor:u,_init:function(n,t){var i=n.dimensions,u=n.parallelAxisIndex;r(i,function(n,i){var e=u[i],r=t.getComponent("parallelAxis",e),f=this._axesMap[n]=new c(n,o.createScaleByModel(r),[0,0],r.get("type"),e),s="category"===f.type;f.onBand=s&&r.get("boundaryGap");f.inverse=r.get("inverse");r.axis=f;f.model=r},this)},update:function(n){this._updateAxesFromSeries(this._model,n)},_updateAxesFromSeries:function(n,t){t.eachSeries(function(i){if(n.contains(i,t)){var u=i.getData();r(this.dimensions,function(n){var t=this._axesMap[n];t.scale.unionExtentFromData(u,n);o.niceScaleExtent(t.scale,t.model)},this)}},this)},resize:function(n,t){this._rect=h.getLayoutRect(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()});this._layoutAxes(n)},getRect:function(){return this._rect},_layoutAxes:function(n){var f=this._rect,o=n.get("layout"),k=this._axesMap,s=this.dimensions,a=[f.width,f.height],v="horizontal"===o?0:1,d=a[v],y=a[1-v],p=[0,y],h,u,b;r(k,function(n){var t=n.inverse?1:0;n.setExtent(p[t],p[1-t])});var t,g=n.get("axisExpandable"),i=n.get("axisExpandWidth"),w=n.get("axisExpandCenter"),c=n.get("axisExpandCount")||0;null!=w&&(h=Math.max(0,Math.floor(w-(c-1)/2)),u=h+c-1,u>=s.length&&(u=s.length-1,h=Math.max(0,Math.floor(u-c+1))),t=[h,u]);b=g&&t&&i?function(n,r,u){var o,e=t[1]-t[0],f=(r-i*e)/(u-1-e);return o=n<t[0]?(n-1)*f:n<=t[1]?t[0]*f+(n-t[0])*i:n===u-1?r:t[0]*f+e*i+(n-t[1])*f,{position:o,axisNameAvailableWidth:t[0]<n&&n<t[1]?i:f}}:function(n,t,i){var r=t/(i-1);return{position:r*n,axisNameAvailableWidth:r}};r(s,function(n,i){var u=b(i,d,s.length),h={horizontal:{x:u.position,y:y},vertical:{x:0,y:u.position}},v={horizontal:l/2,vertical:0},c=[h[o].x+f.x,h[o].y+f.y],a=v[o],r=e.create();e.rotate(r,r,a);e.translate(r,r,c);this._axesLayout[n]={position:c,rotation:a,transform:r,axisNameAvailableWidth:u.axisNameAvailableWidth,tickDirection:1,labelDirection:1,axisExpandWindow:t}},this)},getAxis:function(n){return this._axesMap[n]},dataToPoint:function(n,t){return this.axisCoordToPoint(this._axesMap[t].dataToCoord(n),t)},eachActiveState:function(n,t,i){for(var f,o,r,s,h,c,e=this.dimensions,l=this._axesMap,a=this.hasAxisbrushed(),u=0,v=n.count();u<v;u++){if(o=n.getValues(e,u),a){for(f="active",r=0,s=e.length;r<s;r++)if(h=e[r],c=l[h].model.getActiveState(o[r],r),"inactive"===c){f="inactive";break}}else f="normal";t.call(i,f,u)}},hasAxisbrushed:function(){for(var t=this.dimensions,r=this._axesMap,i=!1,n=0,u=t.length;n<u;n++)"normal"!==r[t[n]].model.getActiveState()&&(i=!0);return i},axisCoordToPoint:function(n,t){var i=this._axesLayout[t];return s.applyTransform([n,0],i.transform)},getAxisLayout:function(n){return f.clone(this._axesLayout[n])},findClosestAxisDim:function(n){var t,i=1/0;return f.each(this._axesLayout,function(r,u){var f=s.applyTransform(n,r.transform,!0),o=this._axesMap[u].getExtent(),e;f[0]<o[0]||f[0]>o[1]||(e=Math.abs(f[1]),e<i&&(i=e,t=u))},this),t}};n.exports=u},function(n,t,i){var f=i(1),u=i(33),r=function(n,t,i,r,f){u.call(this,n,t,i);this.type=r||"value";this.axisIndex=f};r.prototype={constructor:r,model:null};f.inherits(r,u);n.exports=r},function(n,t,i){var r=i(1),u=i(13);i(396);u.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,parallelAxisDefault:null},init:function(){u.prototype.init.apply(this,arguments);this.mergeOption({})},mergeOption:function(n){var t=this.option;n&&r.merge(t,n,!0);this._initDimensions()},contains:function(n,t){var i=n.get("parallelIndex");return null!=i&&t.getComponent("parallel",i)===this},setAxisExpand:function(n){r.each(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth"],function(t){n.hasOwnProperty(t)&&(this.option[t]=n[t])},this)},_initDimensions:function(){var n=this.dimensions=[],t=this.parallelAxisIndex=[],i=r.filter(this.dependentModels.parallelAxis,function(n){return n.get("parallelIndex")===this.componentIndex});r.each(i,function(i){n.push("dim"+i.get("dim"));t.push(i.componentIndex)})}})},function(n,t,i){function f(n){if(!n.parallel){var t=!1;r.each(n.series,function(n){n&&"parallel"===n.type&&(t=!0)});t&&(n.parallel=[{}])}}function e(n){var t=u.normalizeToArray(n.parallelAxis);r.each(t,function(t){if(r.isObject(t)){var f=t.parallelIndex||0,i=u.normalizeToArray(n.parallel)[f];i&&i.parallelAxisDefault&&r.merge(t,i.parallelAxisDefault,!1)}})}var r=i(1),u=i(6);n.exports=function(n){f(n);e(n)}},function(n,t,i){"use strict";function r(n,t){t=t||[0,360];u.call(this,"angle",n,t);this.type="category"}var f=i(1),u=i(33);r.prototype={constructor:r,pointToData:function(n,t){return this.polar.pointToData(n,t)["radius"===this.dim?0:1]},dataToAngle:u.prototype.dataToCoord,angleToData:u.prototype.coordToData};f.inherits(r,u);n.exports=r},function(n,t,i){"use strict";function f(n,t){return t.type||(t.data?"category":"value")}var o=i(1),s=i(13),e=i(57),r=s.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}}),u;o.merge(r.prototype,i(41));u={angle:{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}},radius:{splitNumber:5}};e("angle",r,f,u.angle);e("radius",r,f,u.radius)},function(n,t,i){"use strict";var u=i(405),f=i(401),r=function(n){this.name=n||"";this.cx=0;this.cy=0;this._radiusAxis=new u;this._angleAxis=new f;this._radiusAxis.polar=this._angleAxis.polar=this};r.prototype={type:"polar",axisPointerEnabled:!0,constructor:r,dimensions:["radius","angle"],model:null,containPoint:function(n){var t=this.pointToCoord(n);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},containData:function(n){return this._radiusAxis.containData(n[0])&&this._angleAxis.containData(n[1])},getAxis:function(n){return this["_"+n+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(n){var t=[],i=this._angleAxis,r=this._radiusAxis;return i.scale.type===n&&t.push(i),r.scale.type===n&&t.push(r),t},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(n){var t=this._angleAxis;return n===t?this._radiusAxis:t},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(n){var t=null!=n&&"auto"!==n?this.getAxis(n):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},dataToPoints:function(n){return n.mapArray(this.dimensions,function(n,t){return this.dataToPoint([n,t])},this)},dataToPoint:function(n,t){return this.coordToPoint([this._radiusAxis.dataToRadius(n[0],t),this._angleAxis.dataToAngle(n[1],t)])},pointToData:function(n,t){var i=this.pointToCoord(n);return[this._radiusAxis.radiusToData(i[0],t),this._angleAxis.angleToData(i[1],t)]},pointToCoord:function(n){var i=n[0]-this.cx,r=n[1]-this.cy,s=this.getAngleAxis(),u=s.getExtent(),f=Math.min(u[0],u[1]),o=Math.max(u[0],u[1]),e,t,h;for(s.inverse?f=o-360:o=f+360,e=Math.sqrt(i*i+r*r),i/=e,r/=e,t=Math.atan2(-r,i)/Math.PI*180,h=t<f?1:-1;t<f||t>o;)t+=360*h;return[e,t]},coordToPoint:function(n){var t=n[0],i=n[1]/180*Math.PI,r=Math.cos(i)*t+this.cx,u=-Math.sin(i)*t+this.cy;return[r,u]}};n.exports=r},function(n,t,i){"use strict";i(402);i(2).extendComponentModel({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(n){var t,i=this.ecModel;return i.eachComponent(n,function(n){n.getCoordSysModel()===this&&(t=n)},this),t},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}})},function(n,t,i){"use strict";function r(n,t){u.call(this,"radius",n,t);this.type="category"}var f=i(1),u=i(33);r.prototype={constructor:r,pointToData:function(n,t){return this.polar.pointToData(n,t)["radius"===this.dim?0:1]},dataToRadius:u.prototype.dataToCoord,radiusToData:u.prototype.coordToData};f.inherits(r,u);n.exports=r},function(n,t,i){function r(n,t,i){u.call(this,n,t,i);this.type="value";this.angle=0;this.name="";this.model}var f=i(1),u=i(33);f.inherits(r,u);n.exports=r},function(n,t,i){function r(n,t,i){this._model=n;this.dimensions=[];this._indicatorAxes=u.map(n.getIndicatorModels(),function(n,t){var r="indicator_"+t,i=new o(r,new s);return i.name=n.get("name"),i.model=n,n.axis=i,this.dimensions.push(r),i},this);this.resize(n,i);this.cx;this.cy;this.r;this.startAngle}var u=i(1),o=i(406),s=i(42),f=i(4),e=i(17);r.prototype.getIndicatorAxes=function(){return this._indicatorAxes};r.prototype.dataToPoint=function(n,t){var i=this._indicatorAxes[t];return this.coordToPoint(i.dataToCoord(n),t)};r.prototype.coordToPoint=function(n,t){var r=this._indicatorAxes[t],i=r.angle,u=this.cx+n*Math.cos(i),f=this.cy-n*Math.sin(i);return[u,f]};r.prototype.pointToData=function(n){var t=n[0]-this.cx,i=n[1]-this.cy,u=Math.sqrt(t*t+i*i),e,o;t/=u;i/=u;for(var f,c=Math.atan2(-i,t),s=1/0,h=-1,r=0;r<this._indicatorAxes.length;r++)e=this._indicatorAxes[r],o=Math.abs(c-e.angle),o<s&&(f=e,h=r,s=o);return[h,+(f&&f.coodToData(u))]};r.prototype.resize=function(n,t){var i=n.get("center"),r=t.getWidth(),e=t.getHeight(),o=Math.min(r,e)/2;this.cx=f.parsePercent(i[0],r);this.cy=f.parsePercent(i[1],e);this.startAngle=n.get("startAngle")*Math.PI/180;this.r=f.parsePercent(n.get("radius"),o);u.each(this._indicatorAxes,function(n,t){n.setExtent(0,this.r);var i=this.startAngle+t*Math.PI*2/this._indicatorAxes.length;i=Math.atan2(Math.sin(i),Math.cos(i));n.angle=i},this)};r.prototype.update=function(n){function i(n){var i=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),t=n/i;return 2===t?t=5:t*=2,t*i}var r=this._indicatorAxes,o=this._model,t;u.each(r,function(n){n.scale.setExtent(1/0,-(1/0))});n.eachSeriesByType("radar",function(t){if("radar"===t.get("coordinateSystem")&&n.getComponent("radar",t.get("radarIndex"))===o){var i=t.getData();u.each(r,function(n){n.scale.unionExtentFromData(i,n.dim)})}},this);t=o.get("splitNumber");u.each(r,function(n){var o=e.getScaleExtent(n.scale,n.model),c,l,p,a,v;e.niceScaleExtent(n.scale,n.model);var y=n.model,u=n.scale,s=y.getMin(),h=y.getMax(),r=u.getInterval();if(null!=s&&null!=h)u.setInterval((h-s)/t);else if(null!=s){do c=s+r*t,u.setExtent(+s,c),u.setInterval(r),r=i(r);while(c<o[1]&&isFinite(c)&&isFinite(o[1]))}else if(null!=h){do l=h-r*t,u.setExtent(l,+h),u.setInterval(r),r=i(r);while(l>o[0]&&isFinite(l)&&isFinite(o[0]))}else p=u.getTicks().length-1,p>t&&(r=i(r)),a=Math.round((o[0]+o[1])/2/r)*r,v=Math.round(t/2),u.setExtent(f.round(a-v*r),f.round(a+(t-v)*r)),u.setInterval(r)})};r.dimensions=[];r.create=function(n,t){var i=[];return n.eachComponent("radar",function(u){var f=new r(u,n,t);i.push(f);u.coordinateSystem=f}),n.eachSeriesByType("radar",function(n){"radar"===n.get("coordinateSystem")&&(n.coordinateSystem=i[n.get("radarIndex")||0])}),i};i(26).register("radar",r);n.exports=r},function(n,t,i){function f(n,t){return r.defaults({show:t},n)}var e=i(92),u=e.valueAxis,o=i(10),r=i(1),s=i(41),h=i(2).extendComponentModel({type:"radar",optionUpdated:function(){var t=this.get("boundaryGap"),i=this.get("splitNumber"),u=this.get("scale"),f=this.get("axisLine"),e=this.get("axisTick"),h=this.get("axisLabel"),c=this.get("name.textStyle"),l=this.get("name.show"),n=this.get("name.formatter"),a=this.get("nameGap"),v=this.get("triggerEvent"),y=r.map(this.get("indicator")||[],function(y){var w,p;return(null!=y.max&&y.max>0&&!y.min?y.min=0:null!=y.min&&y.min<0&&!y.max&&(y.max=0),y=r.merge(r.clone(y),{boundaryGap:t,splitNumber:i,scale:u,axisLine:f,axisTick:e,axisLabel:h,name:y.text,nameLocation:"end",nameGap:a,nameTextStyle:c,triggerEvent:v},!1),l||(y.name=""),"string"==typeof n)?(w=y.name,y.name=n.replace("{value}",null!=w?w:"")):"function"==typeof n&&(y.name=n(y.name,y)),p=r.extend(new o(y,null,this.ecModel),s),p.mainType="radar",p.componentIndex=this.componentIndex,p},this);this.getIndicatorModels=function(){return y}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:r.merge({lineStyle:{color:"#bbb"}},u.axisLine),axisLabel:f(u.axisLabel,!1),axisTick:f(u.axisTick,!1),splitLine:f(u.splitLine,!0),splitArea:f(u.splitArea,!0),indicator:[]}});n.exports=h},function(n,t,i){function u(n,t){return t.type||(t.data?"category":"value")}var f=i(13),e=i(57),o=i(1),r=f.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}});o.merge(r.prototype,i(41));e("single",r,u,{left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:2,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:2}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}});n.exports=r},function(n,t,i){function r(n,t,i){this.dimension="single";this.dimensions=["single"];this._axis=null;this._rect;this._init(n,t,i);this.model=n}var f=i(411),u=i(17),e=i(12);r.prototype={type:"singleAxis",axisPointerEnabled:!0,constructor:r,_init:function(n){var i=this.dimension,t=new f(i,u.createScaleByModel(n),[0,0],n.get("type"),n.get("position")),r="category"===t.type;t.onBand=r&&n.get("boundaryGap");t.inverse=n.get("inverse");t.orient=n.get("orient");n.axis=t;t.model=n;t.coordinateSystem=this;this._axis=t},update:function(n){n.eachSeries(function(n){if(n.coordinateSystem===this){var t=n.getData(),i=this.dimension;this._axis.scale.unionExtentFromData(t,n.coordDimToDataDim(i));u.niceScaleExtent(this._axis.scale,this._axis.model)}},this)},resize:function(n,t){this._rect=e.getLayoutRect({left:n.get("left"),top:n.get("top"),right:n.get("right"),bottom:n.get("bottom"),width:n.get("width"),height:n.get("height")},{width:t.getWidth(),height:t.getHeight()});this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var n=this._rect,t=this._axis,i=t.isHorizontal(),r=i?[0,n.width]:[0,n.height],u=t.reverse?1:0;t.setExtent(r[u],r[1-u]);this._updateAxisTransform(t,i?n.x:n.y)},_updateAxisTransform:function(n,t){var i=n.getExtent(),r=i[0]+i[1],u=n.isHorizontal();n.toGlobalCoord=u?function(n){return n+t}:function(n){return r-n+t};n.toLocalCoord=u?function(n){return n-t}:function(n){return r-n+t}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(n){var t=this.getRect(),i=this.getAxis(),r=i.orient;return"horizontal"===r?i.contain(i.toLocalCoord(n[0]))&&n[1]>=t.y&&n[1]<=t.y+t.height:i.contain(i.toLocalCoord(n[1]))&&n[0]>=t.y&&n[0]<=t.y+t.height},pointToData:function(n){var t=this.getAxis();return[t.coordToData(t.toLocalCoord(n["horizontal"===t.orient?0:1]))]},dataToPoint:function(n){var i=this.getAxis(),t=this.getRect(),r=[],u="horizontal"===i.orient?0:1;return n instanceof Array&&(n=n[0]),r[u]=i.toGlobalCoord(i.dataToCoord(+n)),r[1-u]=0===u?t.y+t.height/2:t.x+t.width/2,r}};n.exports=r},function(n,t,i){var u=i(1),f=i(33),e=i(17),r=function(n,t,i,r,u){f.call(this,n,t,i);this.type=r||"value";this.position=u||"bottom";this.orient=null;this._labelInterval=null};r.prototype={constructor:r,model:null,isHorizontal:function(){var n=this.position;return"top"===n||"bottom"===n},getLabelInterval:function(){var n=this._labelInterval;if(!n){var i=this.model,r=i.getModel("axisLabel"),t=r.get("interval");if("category"!==this.type||"auto"!==t)return this._labelInterval="auto"===t?0:t;n=this._labelInterval=e.getAxisLabelInterval(u.map(this.scale.getTicks(),this.dataToCoord,this),i.getFormattedLabels(),r.getModel("textStyle").getFont(),this.isHorizontal())}return n},pointToData:function(n,t){return this.coordinateSystem.pointToData(n,t)[0]},toGlobalCoord:null,toLocalCoord:null};u.inherits(r,f);n.exports=r},function(n,t,i){function u(n,t){var i=[];return n.eachComponent("singleAxis",function(u,f){var e=new r(u,n,t);e.name="single_"+f;e.resize(u,t);u.coordinateSystem=e;i.push(e)}),n.eachSeries(function(t){if("singleAxis"===t.get("coordinateSystem")){var i=n.queryComponents({mainType:"singleAxis",index:t.get("singleAxisIndex"),id:t.get("singleAxisId")})[0];t.coordinateSystem=i&&i.coordinateSystem}}),i}var r=i(410);i(26).register("single",{create:u,dimensions:r.prototype.dimensions})},function(n,t,i){"use strict";function u(n,t){this.id=null==n?"":n;this.inEdges=[];this.outEdges=[];this.edges=[];this.hostGraph;this.dataIndex=null==t?-1:t}function e(n,t,i){this.node1=n;this.node2=t;this.dataIndex=null==i?-1:i}var s=i(1),f=function(n){this._directed=n||!1;this.nodes=[];this.edges=[];this._nodesMap={};this._edgesMap={};this.data;this.edgeData},r=f.prototype,o;r.type="graph";r.isDirected=function(){return this._directed};r.addNode=function(n,t){var r,i;return n=n||""+t,r=this._nodesMap,r[n]?void 0:(i=new u(n,t),i.hostGraph=this,this.nodes.push(i),r[n]=i,i)};r.getNodeByIndex=function(n){var t=this.data.getRawIndex(n);return this.nodes[t]};r.getNodeById=function(n){return this._nodesMap[n]};r.addEdge=function(n,t,i){var o=this._nodesMap,s=this._edgesMap,f,r;if(("number"==typeof n&&(n=this.nodes[n]),"number"==typeof t&&(t=this.nodes[t]),n instanceof u||(n=o[n]),t instanceof u||(t=o[t]),n&&t)&&(f=n.id+"-"+t.id,!s[f]))return r=new e(n,t,i),r.hostGraph=this,this._directed&&(n.outEdges.push(r),t.inEdges.push(r)),n.edges.push(r),n!==t&&t.edges.push(r),this.edges.push(r),s[f]=r,r};r.getEdgeByIndex=function(n){var t=this.edgeData.getRawIndex(n);return this.edges[t]};r.getEdge=function(n,t){n instanceof u&&(n=n.id);t instanceof u&&(t=t.id);var i=this._edgesMap;return this._directed?i[n+"-"+t]:i[n+"-"+t]||i[t+"-"+n]};r.eachNode=function(n,t){for(var r=this.nodes,u=r.length,i=0;i<u;i++)r[i].dataIndex>=0&&n.call(t,r[i],i)};r.eachEdge=function(n,t){for(var r=this.edges,u=r.length,i=0;i<u;i++)r[i].dataIndex>=0&&r[i].node1.dataIndex>=0&&r[i].node2.dataIndex>=0&&n.call(t,r[i],i)};r.breadthFirstTraverse=function(n,t,i,r){var c,f,o,s,e;if(t instanceof u||(t=this._nodesMap[t]),t){for(c="out"===i?"outEdges":"in"===i?"inEdges":"edges",f=0;f<this.nodes.length;f++)this.nodes[f].__visited=!1;if(!n.call(r,t,null))for(o=[t];o.length;)for(var h=o.shift(),l=h[c],f=0;f<l.length;f++)if(s=l[f],e=s.node1===h?s.node2:s.node1,!e.__visited){if(n.call(e,e,h))return;o.push(e);e.__visited=!0}}};r.update=function(){for(var f=this.data,i=this.edgeData,u=this.nodes,r=this.edges,n=0,t=u.length;n<t;n++)u[n].dataIndex=-1;for(n=0,t=f.count();n<t;n++)u[f.getRawIndex(n)].dataIndex=n;for(i.filterSelf(function(n){var t=r[i.getRawIndex(n)];return t.node1.dataIndex>=0&&t.node2.dataIndex>=0}),n=0,t=r.length;n<t;n++)r[n].dataIndex=-1;for(n=0,t=i.count();n<t;n++)r[i.getRawIndex(n)].dataIndex=n};r.clone=function(){for(var t,i=new f(this._directed),r=this.nodes,u=this.edges,n=0;n<r.length;n++)i.addNode(r[n].id,r[n].dataIndex);for(n=0;n<u.length;n++)t=u[n],i.addEdge(t.node1.id,t.node2.id,t.dataIndex);return i};u.prototype={constructor:u,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(n){if(!(this.dataIndex<0)){var t=this.hostGraph,i=t.data.getItemModel(this.dataIndex);return i.getModel(n)}}};e.prototype.getModel=function(n){if(!(this.dataIndex<0)){var t=this.hostGraph,i=t.edgeData.getItemModel(this.dataIndex);return i.getModel(n)}};o=function(n,t){return{getValue:function(i){var r=this[n][t];return r.get(r.getDimension(i||"value"),this.dataIndex)},setVisual:function(i,r){this.dataIndex>=0&&this[n][t].setItemVisual(this.dataIndex,i,r)},getVisual:function(i,r){return this[n][t].getItemVisual(this.dataIndex,i,r)},setLayout:function(i,r){this.dataIndex>=0&&this[n][t].setItemLayout(this.dataIndex,i,r)},getLayout:function(){return this[n][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[n][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[n][t].getRawIndex(this.dataIndex)}}};s.mixin(u,o("hostGraph","data"));s.mixin(e,o("hostGraph","edgeData"));f.Node=u;f.Edge=e;n.exports=f},function(n,t,i){function r(n,t){this.root;this.data;this._nodes=[];this.hostModel=n;this.levelModels=u.map(t||[],function(t){return new o(t,n,n.ecModel)})}function e(n,t){var i=t.children;n.parentNode!==t&&(i.push(n),n.parentNode=t)}var u=i(1),o=i(10),s=i(14),h=i(260),c=i(25),f=function(n,t){this.name=n||"";this.depth=0;this.height=0;this.parentNode=null;this.dataIndex=-1;this.children=[];this.viewChildren=[];this.hostTree=t};f.prototype={constructor:f,isRemoved:function(){return this.dataIndex<0},eachNode:function(n,t,i){var o,f,e,r;for("function"==typeof n&&(i=t,t=n,n=null),n=n||{},u.isString(n)&&(n={order:n}),f=n.order||"preorder",e=this[n.attr||"children"],"preorder"===f&&(o=t.call(i,this)),r=0;!o&&r<e.length;r++)e[r].eachNode(n,t,i);"postorder"===f&&t.call(i,this)},updateDepthAndHeight:function(n){var r=0,t,i;for(this.depth=n,t=0;t<this.children.length;t++)i=this.children[t],i.updateDepthAndHeight(n+1),i.height>r&&(r=i.height);this.height=r+1},getNodeById:function(n){var i;if(this.getId()===n)return this;for(var t=0,r=this.children,u=r.length;t<u;t++)if(i=r[t].getNodeById(n),i)return i},contains:function(n){var i;if(n===this)return!0;for(var t=0,r=this.children,u=r.length;t<u;t++)if(i=r[t].contains(n),i)return i},getAncestors:function(n){for(var i=[],t=n?this:this.parentNode;t;)i.push(t),t=t.parentNode;return i.reverse(),i},getValue:function(n){var t=this.hostTree.data;return t.get(t.getDimension(n||"value"),this.dataIndex)},setLayout:function(n,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,n,t)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(n){if(!(this.dataIndex<0)){var t=this.hostTree,i=t.data.getItemModel(this.dataIndex),r=this.getLevelModel();return i.getModel(n,(r||t.hostModel).getModel(n))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},setVisual:function(n,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,n,t)},getVisual:function(n,t){return this.hostTree.data.getItemVisual(this.dataIndex,n,t)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)}};r.prototype={constructor:r,type:"tree",eachNode:function(n,t,i){this.root.eachNode(n,t,i)},getNodeByDataIndex:function(n){var t=this.data.getRawIndex(n);return this._nodes[t]},getNodeByName:function(n){return this.root.getNodeByName(n)},update:function(){for(var r=this.data,i=this._nodes,n=0,t=i.length;n<t;n++)i[n].dataIndex=-1;for(n=0,t=r.count();n<t;n++)i[r.getRawIndex(n)].dataIndex=n},clearLayouts:function(){this.data.clearItemLayouts()}};r.createTree=function(n,t,i){function y(n,t){var h=n.value,i,r,s;if(a=Math.max(a,u.isArray(h)?h.length:1),l.push(n),i=new f(n.name,o),t?e(i,t):o.root=i,o._nodes.push(i),r=n.children,r)for(s=0;s<r.length;s++)y(r[s],i)}var o=new r(t,i),l=[],a=1,p,v;return y(n),o.root.updateDepthAndHeight(0),p=c([{name:"value"}],l,{dimCount:a}),v=new s(p,t),v.initData(l),h({mainData:v,struct:o,structAttr:"tree"}),o.update(),o};n.exports=r},function(n,t,i){function r(){var t,n=[],i={};return{add:function(t,r,f,e,o){return u.isString(e)&&(o=e,e=0),!i[t.id]&&(i[t.id]=1,n.push({el:t,target:r,time:f,delay:e,easing:o}),!0)},done:function(n){return t=n,this},start:function(){function e(){f--;f||(n.length=0,i={},t&&t())}for(var r,f=n.length,u=0,o=n.length;u<o;u++)r=n[u],r.el.animateTo(r.target,r.time,r.delay,r.easing,e);return this}}}var u=i(1);n.exports={createWrap:r}}])});jQuery.extend({createUploadIframe:function(n,t){var r="jUploadFrame"+n,i='<iframe id="'+r+'" name="'+r+'" style="position:absolute; top:-9999px; left:-9999px"';return window.ActiveXObject&&(typeof t=="boolean"?i+=' src="javascript:false"':typeof t=="string"&&(i+=' src="'+t+'"')),i+=" />",jQuery(i).appendTo(document.body),jQuery("#"+r).get(0)},createUploadForm:function(n,t,i){var e="jUploadForm"+n,s="jUploadFile"+n,r=jQuery('<form  action="" method="POST" name="'+e+'" id="'+e+'" enctype="multipart/form-data"><\/form>'),u,f,o;if(i)for(u in i)jQuery('<input type="hidden" name="'+u+'" value="'+i[u]+'" />').appendTo(r);typeof t=="string"&&(t=[t]);for(u in t)f=jQuery("#"+t[u]),o=jQuery(f).clone(),jQuery(f).attr("id",s),jQuery(f).before(o),jQuery(f).appendTo(r);return jQuery(r).css("position","absolute"),jQuery(r).css("top","-1200px"),jQuery(r).css("left","-1200px"),jQuery(r).appendTo("body"),r},ajaxFileUpload:function(n){var u,h,r,o,t,s,i;if(n=jQuery.extend({},jQuery.ajaxSettings,n),u=$("#"+n.fileElementId).val(),u!=""){if(h=u.substring(u.lastIndexOf(".")+1).toLowerCase(),n.validSuffixes!=undefined&&n.validSuffixes!=null&&n.validSuffixes.indexOf(h)<0){alert("仅支持后缀为【"+n.validSuffixes+"】的文件！");return}if(n.fileSize!=undefined&&n.fileSize&&(r=0,r=$("#"+n.fileElementId)[0].files[0].size,r=r/1048576,r>n.fileSize)){alert("上传文件的大小超过允许的最大值："+n.fileSize+"MB。");return}var f=(new Date).getTime(),i=jQuery.createUploadForm(f,n.fileElementId,typeof n.data=="undefined"?!1:n.data),a=jQuery.createUploadIframe(f,n.secureuri),e="jUploadFrame"+f,c="jUploadForm"+f;n.global&&!jQuery.active++&&jQuery.event.trigger("ajaxStart");o=!1;t={};n.global&&jQuery.event.trigger("ajaxSend",[t,n]);s=function(r){var u=document.getElementById(e),f,h;try{u.contentWindow?(t.responseText=u.contentWindow.document.body?u.contentWindow.document.body.innerHTML:null,t.responseXML=u.contentWindow.document.XMLDocument?u.contentWindow.document.XMLDocument:u.contentWindow.document):u.contentDocument&&(t.responseText=u.contentDocument.document.body?u.contentDocument.document.body.innerHTML:null,t.responseXML=u.contentDocument.document.XMLDocument?u.contentDocument.document.XMLDocument:u.contentDocument.document)}catch(s){jQuery.handleError(n,t,null,s)}if(t||r=="timeout"){o=!0;try{f=r!="timeout"?"success":"error";f!="error"?(h=jQuery.uploadHttpData(t,n.dataType),n.success&&n.success(h,f),n.global&&jQuery.event.trigger("ajaxSuccess",[t,n])):jQuery.handleError(n,t,f)}catch(s){f="error";jQuery.handleError(n,t,f,s)}n.global&&jQuery.event.trigger("ajaxComplete",[t,n]);n.global&&!--jQuery.active&&jQuery.event.trigger("ajaxStop");n.complete&&n.complete(t,f);jQuery(u).unbind();setTimeout(function(){try{jQuery(u).remove();jQuery(i).remove()}catch(r){jQuery.handleError(n,t,null,r)}},100);t=null}};n.timeout>0&&setTimeout(function(){o||s("timeout")},n.timeout);try{i=jQuery("#"+c);jQuery(i).attr("action",n.url);jQuery(i).attr("method","POST");jQuery(i).attr("target",e);i.encoding?jQuery(i).attr("encoding","multipart/form-data"):jQuery(i).attr("enctype","multipart/form-data");jQuery(i).submit()}catch(l){jQuery.handleError(n,t,null,l)}return jQuery("#"+e).load(s),{abort:function(){}}}},handleError:function(n,t,i,r){n.error&&n.error.call(n.context||n,t,i,r);n.global&&(n.context?jQuery(n.context):jQuery.event).trigger("ajaxError",[t,n,r])},uploadHttpData:function(r,type){var data=!type;return data=type=="xml"||data?r.responseXML:r.responseText,type=="script"&&jQuery.globalEval(data),type=="json"&&eval("data = "+data),type=="html"&&jQuery("<div>").html(data).evalScripts(),data}}),function(n){n.fn.extend({shutter:function(t){var r=n.fn.extend({},{displayLineCount:3,expanded:!1},t),s=n(this).children(".switch"),e=s.children("i"),i=n(this),a=43,c=70,l=i.children("ul.c-btn-list"),v=l.children("li").length,u=Math.ceil(v/8),k=u*c,o=!1,h=l.children("li:gt("+(r.displayLineCount*8-1)+")"),f=function(n,t){t==undefined&&(t=a+10);i.css("height",t+n*c)},y=function(){s.css("display","block")},p=function(){u>r.displayLineCount?(y(),r.expanded?(o=!0,f(u)):f(r.displayLineCount)):f(u,5);var n=setTimeout(function(){h.css("display","none");i.css("overflow","visible");clearTimeout(n)},1e3)},w=function(){o=!0;f(u);e.removeClass("fa-angle-down");e.addClass("fa-angle-up");i.css("overflow","hidden");h.css("display","block");var n=setTimeout(function(){i.css("overflow","visible");clearTimeout(n)},1e3)},b=function(){o=!1;f(r.displayLineCount);e.removeClass("fa-angle-up");e.addClass("fa-angle-down");i.css("overflow","hidden");var n=setTimeout(function(){h.css("display","none");i.css("overflow","visible");clearTimeout(n)},1e3)};s.click(function(){o?b():w()});p()}})}(window.jQuery)